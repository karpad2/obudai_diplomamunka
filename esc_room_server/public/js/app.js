/*! For license information please see app.js.LICENSE.txt */
(()=>{var t,e={9038:(t,e,o)=>{var n=o(8191),r=o(9680);function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t}).apply(this,arguments)}function s(t){void 0===t&&(t={});var e=JSON.parse(JSON.stringify(t)),o=null,n=function(t){return t};return i({},e,{errors:{},hasErrors:!1,processing:!1,progress:null,wasSuccessful:!1,recentlySuccessful:!1,data:function(){var e=this;return Object.keys(t).reduce((function(t,o){return t[o]=e[o],t}),{})},transform:function(t){return n=t,this},reset:function(){var t=[].slice.call(arguments);return Object.assign(this,0===t.length?e:Object.keys(e).filter((function(e){return t.includes(e)})).reduce((function(t,o){return t[o]=e[o],t}),{})),this},clearErrors:function(){var t=this,e=[].slice.call(arguments);return this.errors=Object.keys(this.errors).reduce((function(o,n){var r;return i({},o,e.length>0&&!e.includes(n)?((r={})[n]=t.errors[n],r):{})}),{}),this.hasErrors=Object.keys(this.errors).length>0,this},serialize:function(){return i({errors:i({},this.errors)},this.data())},unserialize:function(t){return Object.assign(this,t),this.hasErrors=Object.keys(this.errors).length>0,this},submit:function(t,e,s){var a=this;void 0===s&&(s={});var l=n(this.data()),c=i({},s,{onBefore:function(t){if(a.wasSuccessful=!1,a.recentlySuccessful=!1,clearTimeout(o),s.onBefore)return s.onBefore(t)},onStart:function(t){if(a.processing=!0,s.onStart)return s.onStart(t)},onProgress:function(t){if(a.progress=t,s.onProgress)return s.onProgress(t)},onSuccess:function(t){if(a.clearErrors(),a.wasSuccessful=!0,a.recentlySuccessful=!0,o=setTimeout((function(){return a.recentlySuccessful=!1}),2e3),s.onSuccess)return s.onSuccess(t)},onError:function(t){if(a.errors=t,a.hasErrors=!0,s.onError)return s.onError(t)},onFinish:function(){if(a.processing=!1,a.progress=null,s.onFinish)return s.onFinish()}});"delete"===t?r.Inertia.delete(e,i({},c,{data:l})):r.Inertia[t](e,l,c)},get:function(t,e){this.submit("get",t,e)},post:function(t,e){this.submit("post",t,e)},put:function(t,e){this.submit("put",t,e)},patch:function(t,e){this.submit("patch",t,e)},delete:function(t,e){this.submit("delete",t,e)}})}var a={props:{as:{type:String,default:"a"},data:{type:Object,default:function(){return{}}},href:{type:String,required:!0},method:{type:String,default:"get"},replace:{type:Boolean,default:!1},preserveScroll:{type:Boolean,default:!1},preserveState:{type:Boolean,default:null},only:{type:Array,default:function(){return[]}},headers:{type:Object,default:function(){return{}}}},setup:function(t,e){var o=e.slots,s=e.attrs;return function(t){var e=t.as.toLowerCase(),a=t.method.toLowerCase(),l=r.mergeDataIntoQueryString(a,r.hrefToUrl(t.href),t.data),c=l[0],u=l[1];return"a"===e&&"get"!==a&&console.warn('Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes "Open Link in New Tab/Window" accessibility issues.\n\nPlease specify a more appropriate element using the "as" attribute. For example:\n\n<inertia-link href="'+c.href+'" method="'+a+'" as="button">...</inertia-link>'),n.h(t.as,i({},s,"a"===e?{href:c.href}:{},{onClick:function(e){var o;r.shouldIntercept(e)&&(e.preventDefault(),r.Inertia.visit(c.href,{data:u,method:a,replace:t.replace,preserveScroll:t.preserveScroll,preserveState:null!=(o=t.preserveState)?o:"get"!==a,only:t.only,headers:t.headers,onCancelToken:s.onCancelToken||function(){return{}},onBefore:s.onBefore||function(){return{}},onStart:s.onStart||function(){return{}},onProgress:s.onProgress||function(){return{}},onFinish:s.onFinish||function(){return{}},onCancel:s.onCancel||function(){return{}},onSuccess:s.onSuccess||function(){return{}},onError:s.onError||function(){return{}}}))}}),o.default())}}},l={created:function(){var t=this;if(this.$options.remember){Array.isArray(this.$options.remember)&&(this.$options.remember={data:this.$options.remember}),"string"==typeof this.$options.remember&&(this.$options.remember={data:[this.$options.remember]}),"string"==typeof this.$options.remember.data&&(this.$options.remember={data:[this.$options.remember.data]});var e=this.$options.remember.key instanceof Function?this.$options.remember.key.call(this):this.$options.remember.key,o=r.Inertia.restore(e);this.$options.remember.data.forEach((function(s){void 0!==t[s]&&void 0!==o&&void 0!==o[s]&&("function"==typeof t[s].serialize&&"function"==typeof t[s].unserialize?t[s].unserialize(o[s]):t[s]=o[s]),t.$watch(s,(function(){r.Inertia.remember(t.$options.remember.data.reduce((function(e,o){var r;return i({},e,((r={})[o]="function"==typeof t[o].serialize&&"function"==typeof t[o].unserialize?t[o].serialize():n.toRaw(t[o]),r))}),{}),e)}),{immediate:!0,deep:!0})}))}}},c=n.ref(null),u=n.ref({}),p=n.ref(null),h={name:"Inertia",props:{initialPage:{type:Object,required:!0},resolveComponent:{type:Function,required:!0},resolveErrors:{type:Function,required:!1},transformProps:{type:Function,required:!1}},setup:function(t){return r.Inertia.init({initialPage:t.initialPage,resolveComponent:t.resolveComponent,resolveErrors:t.resolveErrors,transformProps:t.transformProps,swapComponent:function(t){try{return c.value=n.markRaw(t.component),u.value=t.page,p.value=t.preserveState?p.value:Date.now(),Promise.resolve()}catch(t){return Promise.reject(t)}}}),function(){if(c.value){var t=n.h(c.value,i({},u.value.props,{key:p.value}));return c.value.layout?"function"==typeof c.value.layout?c.value.layout(n.h,t):Array.isArray(c.value.layout)?c.value.layout.concat(t).reverse().reduce((function(t,e){return n.h(e,[t])})):n.h(c.value.layout,(function(){return t})):t}}}},d={install:function(t){r.Inertia.form=s,Object.defineProperty(t.config.globalProperties,"$inertia",{get:function(){return r.Inertia}}),Object.defineProperty(t.config.globalProperties,"$page",{get:function(){return u.value}}),t.mixin(l),t.component("InertiaLink",a)}};e.gV=h,e.BA=d},9680:(t,e,o)=>{function n(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var r=n(o(9669)),i=n(o(129)),s=n(o(9996));function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t}).apply(this,arguments)}var l={modal:null,listener:null,show:function(t){var e=this;"object"==typeof t&&(t="All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>"+JSON.stringify(t));var o=document.createElement("html");o.innerHTML=t,o.querySelectorAll("a").forEach((function(t){return t.setAttribute("target","_top")})),this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",(function(){return e.hide()}));var n=document.createElement("iframe");n.style.backgroundColor="white",n.style.borderRadius="5px",n.style.width="100%",n.style.height="100%",this.modal.appendChild(n),document.body.prepend(this.modal),document.body.style.overflow="hidden",n.contentWindow.document.open(),n.contentWindow.document.write(o.outerHTML),n.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide:function(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape:function(t){27===t.keyCode&&this.hide()}};function c(t,e){return document.dispatchEvent(new CustomEvent("inertia:"+t,e))}function u(t){return c("finish",{detail:{visit:t}})}function p(t){return c("navigate",{detail:{page:t}})}function h(t){return new URL(t,window.location)}function d(t,e,o){return"get"===t&&Object.keys(o).length&&(e.search=i.stringify(s(i.parse(e.search,{ignoreQueryPrefix:!0}),o),{encodeValuesOnly:!0,arrayFormat:"brackets"}),o={}),[e,o]}function g(t){return(t=new URL(t.href)).hash="",t}function _(t,e,o){if(void 0===e&&(e=new FormData),void 0===o&&(o=null),null===t||"undefined"===t||0===t.length)return e.append(o,t);for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&m(e,f(o,n),t[n]);return e}function f(t,e){return t?t+"["+e+"]":e}function m(t,e,o){return o instanceof Date?t.append(e,o.toISOString()):o instanceof File?t.append(e,o,o.name):o instanceof Blob?t.append(e,o):"boolean"==typeof o?t.append(e,o?"1":"0"):null===o?t.append(e,""):"object"!=typeof o?t.append(e,o):void _(o,t,e)}e.Inertia={resolveComponent:null,resolveErrors:function(t){return t.props.errors||{}},swapComponent:null,transformProps:function(t){return t},activeVisit:null,visitId:null,page:null,init:function(t){var e=t.initialPage,o=t.resolveErrors,n=t.swapComponent,r=t.transformProps;this.resolveComponent=t.resolveComponent,this.resolveErrors=o||this.resolveErrors,this.swapComponent=n,this.transformProps=r||this.transformProps,this.handleInitialPageVisit(e),this.setupEventListeners()},handleInitialPageVisit:function(t){this.isBackForwardVisit()?this.handleBackForwardVisit(t):this.isLocationVisit()?this.handleLocationVisit(t):(t.url+=window.location.hash,this.setPage(t)),p(t)},setupEventListeners:function(){var t,e;window.addEventListener("popstate",this.handlePopstateEvent.bind(this)),document.addEventListener("scroll",(t=this.handleScrollEvent.bind(this),e=null,function(){var o=arguments,n=this;clearTimeout(e),e=setTimeout((function(){return t.apply(n,o)}),100)}),!0)},scrollRegions:function(){return document.querySelectorAll("[scroll-region]")},handleScrollEvent:function(t){"function"==typeof t.target.hasAttribute&&t.target.hasAttribute("scroll-region")&&this.saveScrollPositions()},saveScrollPositions:function(){this.replaceState(a({},this.page,{scrollRegions:Array.prototype.slice.call(this.scrollRegions()).map((function(t){return{top:t.scrollTop,left:t.scrollLeft}}))}))},resetScrollPositions:function(){var t;document.documentElement.scrollTop=0,document.documentElement.scrollLeft=0,this.scrollRegions().forEach((function(t){t.scrollTop=0,t.scrollLeft=0})),this.saveScrollPositions(),window.location.hash&&(null==(t=document.getElementById(window.location.hash.slice(1)))||t.scrollIntoView())},restoreScrollPositions:function(){var t=this;this.page.scrollRegions&&this.scrollRegions().forEach((function(e,o){e.scrollTop=t.page.scrollRegions[o].top,e.scrollLeft=t.page.scrollRegions[o].left}))},isBackForwardVisit:function(){return window.history.state&&window.performance&&window.performance.getEntriesByType("navigation").length&&"back_forward"===window.performance.getEntriesByType("navigation")[0].type},handleBackForwardVisit:function(t){var e=this;window.history.state.version=t.version,this.setPage(window.history.state,{preserveScroll:!0}).then((function(){e.restoreScrollPositions()}))},locationVisit:function(t,e){try{window.sessionStorage.setItem("inertiaLocationVisit",JSON.stringify({preserveScroll:e})),window.location.href=t.href,g(window.location).href===g(t).href&&window.location.reload()}catch(t){return!1}},isLocationVisit:function(){try{return null!==window.sessionStorage.getItem("inertiaLocationVisit")}catch(t){return!1}},handleLocationVisit:function(t){var e,o,n,r,i=this,s=JSON.parse(window.sessionStorage.getItem("inertiaLocationVisit"));window.sessionStorage.removeItem("inertiaLocationVisit"),t.url+=window.location.hash,t.rememberedState=null!=(e=null==(o=window.history.state)?void 0:o.rememberedState)?e:{},t.scrollRegions=null!=(n=null==(r=window.history.state)?void 0:r.scrollRegions)?n:[],this.setPage(t,{preserveScroll:s.preserveScroll}).then((function(){s.preserveScroll&&i.restoreScrollPositions()}))},isLocationVisitResponse:function(t){return t&&409===t.status&&t.headers["x-inertia-location"]},isInertiaResponse:function(t){return null==t?void 0:t.headers["x-inertia"]},createVisitId:function(){return this.visitId={},this.visitId},cancelVisit:function(t,e){var o=e.cancelled,n=void 0!==o&&o,r=e.interrupted,i=void 0!==r&&r;!t||t.completed||t.cancelled||t.interrupted||(t.cancelToken.cancel(),t.onCancel(),t.completed=!1,t.cancelled=n,t.interrupted=i,u(t),t.onFinish(t))},finishVisit:function(t){t.cancelled||t.interrupted||(t.completed=!0,t.cancelled=!1,t.interrupted=!1,u(t),t.onFinish(t))},visit:function(t,e){var o=this,n=void 0===e?{}:e,i=n.method,s=void 0===i?"get":i,u=n.data,p=void 0===u?{}:u,f=n.replace,m=void 0!==f&&f,v=n.preserveScroll,y=void 0!==v&&v,T=n.preserveState,b=void 0!==T&&T,E=n.only,S=void 0===E?[]:E,C=n.headers,k=void 0===C?{}:C,R=n.errorBag,I=void 0===R?null:R,w=n.forceFormData,N=void 0!==w&&w,O=n.onCancelToken,x=void 0===O?function(){return{}}:O,A=n.onBefore,D=void 0===A?function(){return{}}:A,M=n.onStart,L=void 0===M?function(){return{}}:M,B=n.onProgress,P=void 0===B?function(){return{}}:B,V=n.onFinish,F=void 0===V?function(){return{}}:V,U=n.onCancel,H=void 0===U?function(){return{}}:U,G=n.onSuccess,W=void 0===G?function(){return{}}:G,j=n.onError,X=void 0===j?function(){return{}}:j,J=d(s=s.toLowerCase(),h(t),p);t=J[0];var Y=function t(e){return e instanceof File||e instanceof Blob||e instanceof FileList||"object"==typeof e&&null!==e&&void 0!==Object.values(e).find((function(e){return t(e)}))}(p=J[1]);"get"!==s&&(Y||N)&&(p=_(p));var K={url:t,method:s,data:p,replace:m,preserveScroll:y,preserveState:b,only:S,headers:k,errorBag:I,forceFormData:N,onCancelToken:x,onBefore:D,onStart:L,onProgress:P,onFinish:F,onCancel:H,onSuccess:W,onError:X};if(!1!==D(K)&&function(t){return c("before",{cancelable:!0,detail:{visit:t}})}(K)){this.cancelVisit(this.activeVisit,{interrupted:!0}),this.saveScrollPositions();var z=this.createVisitId();return this.activeVisit=K,this.activeVisit.cancelToken=r.CancelToken.source(),x({cancel:function(){return o.cancelVisit(o.activeVisit,{cancelled:!0})}}),function(t){c("start",{detail:{visit:t}})}(K),L(K),new Proxy(r({method:s,url:g(t).href,data:"get"===s?{}:p,params:"get"===s?p:{},cancelToken:this.activeVisit.cancelToken.token,headers:a({},k,{Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0},S.length?{"X-Inertia-Partial-Component":this.page.component,"X-Inertia-Partial-Data":S.join(",")}:{},I?{"X-Inertia-Error-Bag":I}:{},this.page.version?{"X-Inertia-Version":this.page.version}:{}),onUploadProgress:function(t){Y&&(t.percentage=Math.round(t.loaded/t.total*100),function(t){c("progress",{detail:{progress:t}})}(t),P(t))}}).then((function(e){var n;if(!o.isInertiaResponse(e))return Promise.reject({response:e});S.length&&e.data.component===o.page.component&&(e.data.props=a({},o.page.props,e.data.props)),b&&null!=(n=window.history.state)&&n.rememberedState&&e.data.component===o.page.component&&(e.data.rememberedState=window.history.state.rememberedState);var r=h(e.data.url);return t.hash&&!r.hash&&g(t).href===r.href&&(r.hash=t.hash,e.data.url=r.href),o.setPage(e.data,{visitId:z,replace:m,preserveScroll:y,preserveState:b})})).then((function(){var t=o.resolveErrors(o.page);return Object.keys(t).length>0?(function(t){c("error",{detail:{errors:t}})}(t[I]||t),X(t[I]||t)):(c("success",{detail:{page:o.page}}),W(o.page))})).catch((function(e){if(o.isInertiaResponse(e.response))return o.setPage(e.response.data,{visitId:z});if(o.isLocationVisitResponse(e.response)){var n=h(e.response.headers["x-inertia-location"]);t.hash&&!n.hash&&g(t).href===n.href&&(n.hash=t.hash),o.locationVisit(n,y)}else{if(!e.response)return Promise.reject(e);c("invalid",{cancelable:!0,detail:{response:e.response}})&&l.show(e.response.data)}})).then((function(){o.finishVisit(K)})).catch((function(t){if(!r.isCancel(t)){var e=c("exception",{cancelable:!0,detail:{exception:t}});if(o.finishVisit(K),e)return Promise.reject(t)}})),{get:function(t,e){return["then","catch","finally"].includes(e)&&console.warn("Inertia.js visit promises have been deprecated and will be removed in a future release. Please use the new visit event callbacks instead.\n\nLearn more at https://inertiajs.com/manual-visits#promise-deprecation"),"function"==typeof t[e]?t[e].bind(t):t[e]}})}},setPage:function(t,e){var o=this,n=void 0===e?{}:e,r=n.visitId,i=void 0===r?this.createVisitId():r,s=n.replace,a=void 0!==s&&s,l=n.preserveScroll,c=void 0!==l&&l,u=n.preserveState,d=void 0!==u&&u;return Promise.resolve(this.resolveComponent(t.component)).then((function(e){if(i===o.visitId){t.scrollRegions=t.scrollRegions||[],t.rememberedState=t.rememberedState||{},d="function"==typeof d?d(t):d,c="function"==typeof c?c(t):c,(a=a||h(t.url).href===window.location.href)?o.replaceState(t):o.pushState(t);var n=JSON.parse(JSON.stringify(t));n.props=o.transformProps(n.props),o.swapComponent({component:e,page:n,preserveState:d}).then((function(){c||o.resetScrollPositions(),a||p(t)}))}}))},pushState:function(t){this.page=t,window.history.pushState(t,"",t.url)},replaceState:function(t){this.page=t,window.history.replaceState(t,"",t.url)},handlePopstateEvent:function(t){var e=this;if(null!==t.state){var o=t.state,n=this.createVisitId();return Promise.resolve(this.resolveComponent(o.component)).then((function(t){n===e.visitId&&(e.page=o,e.swapComponent({component:t,page:o,preserveState:!1}).then((function(){e.restoreScrollPositions(),p(o)})))}))}var r=h(this.page.url);r.hash=window.location.hash,this.replaceState(a({},this.page,{url:r.href})),this.resetScrollPositions()},get:function(t,e,o){return void 0===e&&(e={}),void 0===o&&(o={}),this.visit(t,a({},o,{method:"get",data:e}))},reload:function(t){return void 0===t&&(t={}),this.visit(window.location.href,a({},t,{preserveScroll:!0,preserveState:!0}))},replace:function(t,e){var o;return void 0===e&&(e={}),console.warn("Inertia.replace() has been deprecated and will be removed in a future release. Please use Inertia."+(null!=(o=e.method)?o:"get")+"() instead."),this.visit(t,a({preserveState:!0},e,{replace:!0}))},post:function(t,e,o){return void 0===e&&(e={}),void 0===o&&(o={}),this.visit(t,a({preserveState:!0},o,{method:"post",data:e}))},put:function(t,e,o){return void 0===e&&(e={}),void 0===o&&(o={}),this.visit(t,a({preserveState:!0},o,{method:"put",data:e}))},patch:function(t,e,o){return void 0===e&&(e={}),void 0===o&&(o={}),this.visit(t,a({preserveState:!0},o,{method:"patch",data:e}))},delete:function(t,e){return void 0===e&&(e={}),this.visit(t,a({preserveState:!0},e,{method:"delete"}))},remember:function(t,e){var o;void 0===e&&(e="default"),this.replaceState(a({},this.page,{rememberedState:a({},this.page.rememberedState,(o={},o[e]=t,o))}))},restore:function(t){var e,o;return void 0===t&&(t="default"),null==(e=window.history.state)||null==(o=e.rememberedState)?void 0:o[t]},on:function(t,e){var o=function(t){var o=e(t);t.cancelable&&!t.defaultPrevented&&!1===o&&t.preventDefault()};return document.addEventListener("inertia:"+t,o),function(){return document.removeEventListener("inertia:"+t,o)}}},e.hrefToUrl=h,e.mergeDataIntoQueryString=d,e.shouldIntercept=function(t){var e="a"===t.currentTarget.tagName.toLowerCase();return!(t.target&&t.target.isContentEditable||t.defaultPrevented||e&&t.which>1||e&&t.altKey||e&&t.ctrlKey||e&&t.metaKey||e&&t.shiftKey)},e.urlWithoutHash=g},1966:(t,e,o)=>{var n,r=(n=o(4865))&&"object"==typeof n&&"default"in n?n.default:n,i=null;function s(t){document.addEventListener("inertia:start",a.bind(null,t)),document.addEventListener("inertia:progress",l),document.addEventListener("inertia:finish",c)}function a(t){i=setTimeout((function(){return r.start()}),t)}function l(t){r.isStarted()&&t.detail.progress.percentage&&r.set(Math.max(r.status,t.detail.progress.percentage/100*.9))}function c(t){clearTimeout(i),r.isStarted()&&(t.detail.visit.completed?r.done():t.detail.visit.interrupted?r.set(0):t.detail.visit.cancelled&&(r.done(),r.remove()))}e.I={init:function(t){var e=void 0===t?{}:t,o=e.delay,n=e.color,i=void 0===n?"#29d":n,a=e.includeCSS,l=void 0===a||a,c=e.showSpinner,u=void 0!==c&&c;s(void 0===o?250:o),r.configure({showSpinner:u}),l&&function(t){var e=document.createElement("style");e.type="text/css",e.textContent="\n    #nprogress {\n      pointer-events: none;\n    }\n\n    #nprogress .bar {\n      background: "+t+";\n\n      position: fixed;\n      z-index: 1031;\n      top: 0;\n      left: 0;\n\n      width: 100%;\n      height: 2px;\n    }\n\n    #nprogress .peg {\n      display: block;\n      position: absolute;\n      right: 0px;\n      width: 100px;\n      height: 100%;\n      box-shadow: 0 0 10px "+t+", 0 0 5px "+t+";\n      opacity: 1.0;\n\n      -webkit-transform: rotate(3deg) translate(0px, -4px);\n          -ms-transform: rotate(3deg) translate(0px, -4px);\n              transform: rotate(3deg) translate(0px, -4px);\n    }\n\n    #nprogress .spinner {\n      display: block;\n      position: fixed;\n      z-index: 1031;\n      top: 15px;\n      right: 15px;\n    }\n\n    #nprogress .spinner-icon {\n      width: 18px;\n      height: 18px;\n      box-sizing: border-box;\n\n      border: solid 2px transparent;\n      border-top-color: "+t+";\n      border-left-color: "+t+";\n      border-radius: 50%;\n\n      -webkit-animation: nprogress-spinner 400ms linear infinite;\n              animation: nprogress-spinner 400ms linear infinite;\n    }\n\n    .nprogress-custom-parent {\n      overflow: hidden;\n      position: relative;\n    }\n\n    .nprogress-custom-parent #nprogress .spinner,\n    .nprogress-custom-parent #nprogress .bar {\n      position: absolute;\n    }\n\n    @-webkit-keyframes nprogress-spinner {\n      0%   { -webkit-transform: rotate(0deg); }\n      100% { -webkit-transform: rotate(360deg); }\n    }\n    @keyframes nprogress-spinner {\n      0%   { transform: rotate(0deg); }\n      100% { transform: rotate(360deg); }\n    }\n  ",document.head.appendChild(e)}(i)}}},9669:(t,e,o)=>{t.exports=o(1609)},5448:(t,e,o)=>{"use strict";var n=o(4867),r=o(6026),i=o(4372),s=o(5327),a=o(4097),l=o(4109),c=o(7985),u=o(5061);t.exports=function(t){return new Promise((function(e,o){var p=t.data,h=t.headers;n.isFormData(p)&&delete h["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var g=t.auth.username||"",_=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";h.Authorization="Basic "+btoa(g+":"+_)}var f=a(t.baseURL,t.url);if(d.open(t.method.toUpperCase(),s(f,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?l(d.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:t,request:d};r(e,o,i),d=null}},d.onabort=function(){d&&(o(u("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){o(u("Network Error",t,null,d)),d=null},d.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),o(u(e,t,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var m=(t.withCredentials||c(f))&&t.xsrfCookieName?i.read(t.xsrfCookieName):void 0;m&&(h[t.xsrfHeaderName]=m)}if("setRequestHeader"in d&&n.forEach(h,(function(t,e){void 0===p&&"content-type"===e.toLowerCase()?delete h[e]:d.setRequestHeader(e,t)})),n.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){d&&(d.abort(),o(t),d=null)})),p||(p=null),d.send(p)}))}},1609:(t,e,o)=>{"use strict";var n=o(4867),r=o(1849),i=o(321),s=o(7185);function a(t){var e=new i(t),o=r(i.prototype.request,e);return n.extend(o,i.prototype,e),n.extend(o,e),o}var l=a(o(5655));l.Axios=i,l.create=function(t){return a(s(l.defaults,t))},l.Cancel=o(5263),l.CancelToken=o(4972),l.isCancel=o(6502),l.all=function(t){return Promise.all(t)},l.spread=o(8713),l.isAxiosError=o(6268),t.exports=l,t.exports.default=l},5263:t=>{"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},4972:(t,e,o)=>{"use strict";var n=o(5263);function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var o=this;t((function(t){o.reason||(o.reason=new n(t),e(o.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r((function(e){t=e})),cancel:t}},t.exports=r},6502:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},321:(t,e,o)=>{"use strict";var n=o(4867),r=o(5327),i=o(782),s=o(3572),a=o(7185);function l(t){this.defaults=t,this.interceptors={request:new i,response:new i}}l.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[s,void 0],o=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)o=o.then(e.shift(),e.shift());return o},l.prototype.getUri=function(t){return t=a(this.defaults,t),r(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(t){l.prototype[t]=function(e,o){return this.request(a(o||{},{method:t,url:e,data:(o||{}).data}))}})),n.forEach(["post","put","patch"],(function(t){l.prototype[t]=function(e,o,n){return this.request(a(n||{},{method:t,url:e,data:o}))}})),t.exports=l},782:(t,e,o)=>{"use strict";var n=o(4867);function r(){this.handlers=[]}r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){n.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=r},4097:(t,e,o)=>{"use strict";var n=o(1793),r=o(7303);t.exports=function(t,e){return t&&!n(e)?r(t,e):e}},5061:(t,e,o)=>{"use strict";var n=o(481);t.exports=function(t,e,o,r,i){var s=new Error(t);return n(s,e,o,r,i)}},3572:(t,e,o)=>{"use strict";var n=o(4867),r=o(8527),i=o(6502),s=o(5655);function a(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return a(t),t.headers=t.headers||{},t.data=r(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||s.adapter)(t).then((function(e){return a(t),e.data=r(e.data,e.headers,t.transformResponse),e}),(function(e){return i(e)||(a(t),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},481:t=>{"use strict";t.exports=function(t,e,o,n,r){return t.config=e,o&&(t.code=o),t.request=n,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},7185:(t,e,o)=>{"use strict";var n=o(4867);t.exports=function(t,e){e=e||{};var o={},r=["url","method","data"],i=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function l(t,e){return n.isPlainObject(t)&&n.isPlainObject(e)?n.merge(t,e):n.isPlainObject(e)?n.merge({},e):n.isArray(e)?e.slice():e}function c(r){n.isUndefined(e[r])?n.isUndefined(t[r])||(o[r]=l(void 0,t[r])):o[r]=l(t[r],e[r])}n.forEach(r,(function(t){n.isUndefined(e[t])||(o[t]=l(void 0,e[t]))})),n.forEach(i,c),n.forEach(s,(function(r){n.isUndefined(e[r])?n.isUndefined(t[r])||(o[r]=l(void 0,t[r])):o[r]=l(void 0,e[r])})),n.forEach(a,(function(n){n in e?o[n]=l(t[n],e[n]):n in t&&(o[n]=l(void 0,t[n]))}));var u=r.concat(i).concat(s).concat(a),p=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===u.indexOf(t)}));return n.forEach(p,c),o}},6026:(t,e,o)=>{"use strict";var n=o(5061);t.exports=function(t,e,o){var r=o.config.validateStatus;o.status&&r&&!r(o.status)?e(n("Request failed with status code "+o.status,o.config,null,o.request,o)):t(o)}},8527:(t,e,o)=>{"use strict";var n=o(4867);t.exports=function(t,e,o){return n.forEach(o,(function(o){t=o(t,e)})),t}},5655:(t,e,o)=>{"use strict";var n=o(4155),r=o(4867),i=o(6016),s={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var l,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==n&&"[object process]"===Object.prototype.toString.call(n))&&(l=o(5448)),l),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){c.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){c.headers[t]=r.merge(s)})),t.exports=c},1849:t=>{"use strict";t.exports=function(t,e){return function(){for(var o=new Array(arguments.length),n=0;n<o.length;n++)o[n]=arguments[n];return t.apply(e,o)}}},5327:(t,e,o)=>{"use strict";var n=o(4867);function r(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,o){if(!e)return t;var i;if(o)i=o(e);else if(n.isURLSearchParams(e))i=e.toString();else{var s=[];n.forEach(e,(function(t,e){null!=t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,(function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),s.push(r(e)+"="+r(t))})))})),i=s.join("&")}if(i){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}},7303:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},4372:(t,e,o)=>{"use strict";var n=o(4867);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,o,r,i,s){var a=[];a.push(t+"="+encodeURIComponent(e)),n.isNumber(o)&&a.push("expires="+new Date(o).toGMTString()),n.isString(r)&&a.push("path="+r),n.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},6268:t=>{"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},7985:(t,e,o)=>{"use strict";var n=o(4867);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");function r(t){var n=t;return e&&(o.setAttribute("href",n),n=o.href),o.setAttribute("href",n),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}return t=r(window.location.href),function(e){var o=n.isString(e)?r(e):e;return o.protocol===t.protocol&&o.host===t.host}}():function(){return!0}},6016:(t,e,o)=>{"use strict";var n=o(4867);t.exports=function(t,e){n.forEach(t,(function(o,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=o,delete t[n])}))}},4109:(t,e,o)=>{"use strict";var n=o(4867),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,o,i,s={};return t?(n.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=n.trim(t.substr(0,i)).toLowerCase(),o=n.trim(t.substr(i+1)),e){if(s[e]&&r.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([o]):s[e]?s[e]+", "+o:o}})),s):s}},8713:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},4867:(t,e,o)=>{"use strict";var n=o(1849),r=Object.prototype.toString;function i(t){return"[object Array]"===r.call(t)}function s(t){return void 0===t}function a(t){return null!==t&&"object"==typeof t}function l(t){if("[object Object]"!==r.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function c(t){return"[object Function]"===r.call(t)}function u(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),i(t))for(var o=0,n=t.length;o<n;o++)e.call(null,t[o],o,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}t.exports={isArray:i,isArrayBuffer:function(t){return"[object ArrayBuffer]"===r.call(t)},isBuffer:function(t){return null!==t&&!s(t)&&null!==t.constructor&&!s(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isPlainObject:l,isUndefined:s,isDate:function(t){return"[object Date]"===r.call(t)},isFile:function(t){return"[object File]"===r.call(t)},isBlob:function(t){return"[object Blob]"===r.call(t)},isFunction:c,isStream:function(t){return a(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function t(){var e={};function o(o,n){l(e[n])&&l(o)?e[n]=t(e[n],o):l(o)?e[n]=t({},o):i(o)?e[n]=o.slice():e[n]=o}for(var n=0,r=arguments.length;n<r;n++)u(arguments[n],o);return e},extend:function(t,e,o){return u(e,(function(e,r){t[r]=o&&"function"==typeof e?n(e,o):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},7745:(t,e,o)=>{"use strict";var n=o(8191),r=o(9038),i=o(1966);o(7333);var s=document.getElementById("app");(0,n.createApp)({render:function(){return(0,n.h)(r.gV,{initialPage:JSON.parse(s.dataset.page),resolveComponent:function(t){return o(3218)("./".concat(t)).default}})}}).mixin({methods:{route}}).use(r.BA).mount(s),i.I.init({color:"#043343"})},7333:(t,e,o)=>{window._=o(6486),window.axios=o(9669),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"},8013:function(t,e,o){var n,r,i;r=[o(1334)],void 0===(i="function"==typeof(n=function(t){"use strict";return t})?n.apply(e,r):n)||(t.exports=i)},1334:function(t,e,o){var n,r,i;r=[],void 0===(i="function"==typeof(n=function(){"use strict";var t={connectionTypes:{INPUT_VALUE:1,OUTPUT_VALUE:2,NEXT_STATEMENT:3,PREVIOUS_STATEMENT:4},constants:{},LINE_MODE_MULTIPLIER:40,PAGE_MODE_MULTIPLIER:125,DRAG_RADIUS:5,FLYOUT_DRAG_RADIUS:10,SNAP_RADIUS:28};return t.CONNECTING_SNAP_RADIUS=t.SNAP_RADIUS,t.CURRENT_CONNECTION_PREFERENCE=8,t.BUMP_DELAY=250,t.BUMP_RANDOMNESS=10,t.COLLAPSE_CHARS=30,t.LONGPRESS=750,t.SOUND_LIMIT=100,t.DRAG_STACK=!0,t.HSV_SATURATION=.45,t.HSV_VALUE=.65,t.SPRITE={width:96,height:124,url:"sprites.png"},t.constants.ALIGN={LEFT:-1,CENTRE:0,RIGHT:1},t.DRAG_NONE=0,t.DRAG_STICKY=1,t.DRAG_BEGIN=1,t.DRAG_FREE=2,t.OPPOSITE_TYPE=[],t.OPPOSITE_TYPE[t.connectionTypes.INPUT_VALUE]=t.connectionTypes.OUTPUT_VALUE,t.OPPOSITE_TYPE[t.connectionTypes.OUTPUT_VALUE]=t.connectionTypes.INPUT_VALUE,t.OPPOSITE_TYPE[t.connectionTypes.NEXT_STATEMENT]=t.connectionTypes.PREVIOUS_STATEMENT,t.OPPOSITE_TYPE[t.connectionTypes.PREVIOUS_STATEMENT]=t.connectionTypes.NEXT_STATEMENT,t.DELETE_AREA_NONE=null,t.DELETE_AREA_TRASH=1,t.DELETE_AREA_TOOLBOX=2,t.VARIABLE_CATEGORY_NAME="VARIABLE",t.VARIABLE_DYNAMIC_CATEGORY_NAME="VARIABLE_DYNAMIC",t.PROCEDURE_CATEGORY_NAME="PROCEDURE",t.RENAME_VARIABLE_ID="RENAME_VARIABLE_ID",t.DELETE_VARIABLE_ID="DELETE_VARIABLE_ID",t.constants.COLLAPSED_INPUT_NAME="_TEMP_COLLAPSED_INPUT",t.constants.COLLAPSED_FIELD_NAME="_TEMP_COLLAPSED_FIELD",t.utils={},t.utils.global=function(){return"object"==typeof self?self:"object"==typeof window?window:"object"==typeof o.g?o.g:this}(),t.Msg={},t.utils.global.Blockly||(t.utils.global.Blockly={}),t.utils.global.Blockly.Msg||(t.utils.global.Blockly.Msg=t.Msg),t.utils.colour={},t.utils.colour.parse=function(e){e=String(e).toLowerCase().trim();var o=t.utils.colour.names[e];if(o)return o;if(o="#"==(o="0x"==e.substring(0,2)?"#"+e.substring(2):e)[0]?o:"#"+o,/^#[0-9a-f]{6}$/.test(o))return o;if(/^#[0-9a-f]{3}$/.test(o))return["#",o[1],o[1],o[2],o[2],o[3],o[3]].join("");var n=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return n&&(e=Number(n[1]),o=Number(n[2]),n=Number(n[3]),0<=e&&256>e&&0<=o&&256>o&&0<=n&&256>n)?t.utils.colour.rgbToHex(e,o,n):null},t.utils.colour.rgbToHex=function(t,e,o){return e=t<<16|e<<8|o,16>t?"#"+(16777216|e).toString(16).substr(1):"#"+e.toString(16)},t.utils.colour.hexToRgb=function(e){return(e=t.utils.colour.parse(e))?[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e]:[0,0,0]},t.utils.colour.hsvToHex=function(e,o,n){var r=0,i=0,s=0;if(0==o)s=i=r=n;else{var a=Math.floor(e/60),l=e/60-a;e=n*(1-o);var c=n*(1-o*l);switch(o=n*(1-o*(1-l)),a){case 1:r=c,i=n,s=e;break;case 2:r=e,i=n,s=o;break;case 3:r=e,i=c,s=n;break;case 4:r=o,i=e,s=n;break;case 5:r=n,i=e,s=c;break;case 6:case 0:r=n,i=o,s=e}}return t.utils.colour.rgbToHex(Math.floor(r),Math.floor(i),Math.floor(s))},t.utils.colour.blend=function(e,o,n){return(e=t.utils.colour.parse(e))&&(o=t.utils.colour.parse(o))?(e=t.utils.colour.hexToRgb(e),o=t.utils.colour.hexToRgb(o),t.utils.colour.rgbToHex(Math.round(o[0]+n*(e[0]-o[0])),Math.round(o[1]+n*(e[1]-o[1])),Math.round(o[2]+n*(e[2]-o[2])))):null},t.utils.colour.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},t.utils.Coordinate=function(t,e){this.x=t,this.y=e},t.utils.Coordinate.equals=function(t,e){return t==e||!(!t||!e)&&t.x==e.x&&t.y==e.y},t.utils.Coordinate.distance=function(t,e){var o=t.x-e.x;return t=t.y-e.y,Math.sqrt(o*o+t*t)},t.utils.Coordinate.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.utils.Coordinate.difference=function(e,o){return new t.utils.Coordinate(e.x-o.x,e.y-o.y)},t.utils.Coordinate.sum=function(e,o){return new t.utils.Coordinate(e.x+o.x,e.y+o.y)},t.utils.Coordinate.prototype.scale=function(t){return this.x*=t,this.y*=t,this},t.utils.Coordinate.prototype.translate=function(t,e){return this.x+=t,this.y+=e,this},t.utils.Rect=function(t,e,o,n){this.top=t,this.bottom=e,this.left=o,this.right=n},t.utils.Rect.prototype.contains=function(t,e){return t>=this.left&&t<=this.right&&e>=this.top&&e<=this.bottom},t.utils.Rect.prototype.intersects=function(t){return!(this.left>t.right||this.right<t.left||this.top>t.bottom||this.bottom<t.top)},t.utils.string={},t.utils.string.startsWith=function(t,e){return 0==t.lastIndexOf(e,0)},t.utils.string.shortestStringLength=function(t){return t.length?t.reduce((function(t,e){return t.length<e.length?t:e})).length:0},t.utils.string.commonWordPrefix=function(e,o){if(!e.length)return 0;if(1==e.length)return e[0].length;var n=0;o=o||t.utils.string.shortestStringLength(e);for(var r=0;r<o;r++){for(var i=e[0][r],s=1;s<e.length;s++)if(i!=e[s][r])return n;" "==i&&(n=r+1)}for(s=1;s<e.length;s++)if((i=e[s][r])&&" "!=i)return n;return o},t.utils.string.commonWordSuffix=function(e,o){if(!e.length)return 0;if(1==e.length)return e[0].length;var n=0;o=o||t.utils.string.shortestStringLength(e);for(var r=0;r<o;r++){for(var i=e[0].substr(-r-1,1),s=1;s<e.length;s++)if(i!=e[s].substr(-r-1,1))return n;" "==i&&(n=r+1)}for(s=1;s<e.length;s++)if((i=e[s].charAt(e[s].length-r-1))&&" "!=i)return n;return o},t.utils.string.wrap=function(e,o){e=e.split("\n");for(var n=0;n<e.length;n++)e[n]=t.utils.string.wrapLine_(e[n],o);return e.join("\n")},t.utils.string.wrapLine_=function(e,o){if(e.length<=o)return e;for(var n=e.trim().split(/\s+/),r=0;r<n.length;r++)n[r].length>o&&(o=n[r].length);r=-1/0;var i=1;do{var s=r,a=e;e=[];var l=n.length/i,c=1;for(r=0;r<n.length-1;r++)c<(r+1.5)/l?(c++,e[r]=!0):e[r]=!1;e=t.utils.string.wrapMutate_(n,e,o),r=t.utils.string.wrapScore_(n,e,o),e=t.utils.string.wrapToText_(n,e),i++}while(r>s);return a},t.utils.string.wrapScore_=function(t,e,o){for(var n=[0],r=[],i=0;i<t.length;i++)n[n.length-1]+=t[i].length,!0===e[i]?(n.push(0),r.push(t[i].charAt(t[i].length-1))):!1===e[i]&&n[n.length-1]++;for(t=Math.max.apply(Math,n),i=e=0;i<n.length;i++)e-=2*Math.pow(Math.abs(o-n[i]),1.5),e-=Math.pow(t-n[i],1.5),-1!=".?!".indexOf(r[i])?e+=o/3:-1!=",;)]}".indexOf(r[i])&&(e+=o/4);return 1<n.length&&n[n.length-1]<=n[n.length-2]&&(e+=.5),e},t.utils.string.wrapMutate_=function(e,o,n){for(var r,i=t.utils.string.wrapScore_(e,o,n),s=0;s<o.length-1;s++)if(o[s]!=o[s+1]){var a=[].concat(o);a[s]=!a[s],a[s+1]=!a[s+1];var l=t.utils.string.wrapScore_(e,a,n);l>i&&(i=l,r=a)}return r?t.utils.string.wrapMutate_(e,r,n):o},t.utils.string.wrapToText_=function(t,e){for(var o=[],n=0;n<t.length;n++)o.push(t[n]),void 0!==e[n]&&o.push(e[n]?"\n":" ");return o.join("")},t.utils.Size=function(t,e){this.width=t,this.height=e},t.utils.Size.equals=function(t,e){return t==e||!(!t||!e)&&t.width==e.width&&t.height==e.height},t.utils.style={},t.utils.style.getSize=function(e){if("none"!=t.utils.style.getStyle_(e,"display"))return t.utils.style.getSizeWithDisplay_(e);var o=e.style,n=o.display,r=o.visibility,i=o.position;o.visibility="hidden",o.position="absolute",o.display="inline";var s=e.offsetWidth;return e=e.offsetHeight,o.display=n,o.position=i,o.visibility=r,new t.utils.Size(s,e)},t.utils.style.getSizeWithDisplay_=function(e){return new t.utils.Size(e.offsetWidth,e.offsetHeight)},t.utils.style.getStyle_=function(e,o){return t.utils.style.getComputedStyle(e,o)||t.utils.style.getCascadedStyle(e,o)||e.style&&e.style[o]},t.utils.style.getComputedStyle=function(t,e){return document.defaultView&&document.defaultView.getComputedStyle&&(t=document.defaultView.getComputedStyle(t,null))&&(t[e]||t.getPropertyValue(e))||""},t.utils.style.getCascadedStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:null},t.utils.style.getPageOffset=function(e){var o=new t.utils.Coordinate(0,0);e=e.getBoundingClientRect();var n=document.documentElement;return n=new t.utils.Coordinate(window.pageXOffset||n.scrollLeft,window.pageYOffset||n.scrollTop),o.x=e.left+n.x,o.y=e.top+n.y,o},t.utils.style.getViewportPageOffset=function(){var e=document.body,o=document.documentElement;return new t.utils.Coordinate(e.scrollLeft||o.scrollLeft,e.scrollTop||o.scrollTop)},t.utils.style.setElementShown=function(t,e){t.style.display=e?"":"none"},t.utils.style.isRightToLeft=function(e){return"rtl"==t.utils.style.getStyle_(e,"direction")},t.utils.style.getBorderBox=function(e){var o=t.utils.style.getComputedStyle(e,"borderLeftWidth"),n=t.utils.style.getComputedStyle(e,"borderRightWidth"),r=t.utils.style.getComputedStyle(e,"borderTopWidth");return e=t.utils.style.getComputedStyle(e,"borderBottomWidth"),{top:parseFloat(r),right:parseFloat(n),bottom:parseFloat(e),left:parseFloat(o)}},t.utils.style.scrollIntoContainerView=function(e,o,n){e=t.utils.style.getContainerOffsetToScrollInto(e,o,n),o.scrollLeft=e.x,o.scrollTop=e.y},t.utils.style.getContainerOffsetToScrollInto=function(e,o,n){var r=t.utils.style.getPageOffset(e),i=t.utils.style.getPageOffset(o),s=t.utils.style.getBorderBox(o),a=r.x-i.x-s.left;return r=r.y-i.y-s.top,i=t.utils.style.getSizeWithDisplay_(e),e=o.clientWidth-i.width,i=o.clientHeight-i.height,s=o.scrollLeft,o=o.scrollTop,n?(s+=a-e/2,o+=r-i/2):(s+=Math.min(a,Math.max(a-e,0)),o+=Math.min(r,Math.max(r-i,0))),new t.utils.Coordinate(s,o)},t.utils.userAgent={},function(e){function o(t){return-1!=n.indexOf(t.toUpperCase())}t.utils.userAgent.raw=e;var n=t.utils.userAgent.raw.toUpperCase();t.utils.userAgent.IE=o("Trident")||o("MSIE"),t.utils.userAgent.EDGE=o("Edge"),t.utils.userAgent.JAVA_FX=o("JavaFX"),t.utils.userAgent.CHROME=(o("Chrome")||o("CriOS"))&&!t.utils.userAgent.EDGE,t.utils.userAgent.WEBKIT=o("WebKit")&&!t.utils.userAgent.EDGE,t.utils.userAgent.GECKO=o("Gecko")&&!t.utils.userAgent.WEBKIT&&!t.utils.userAgent.IE&&!t.utils.userAgent.EDGE,t.utils.userAgent.ANDROID=o("Android"),t.utils.userAgent.IPAD=o("iPad"),t.utils.userAgent.IPOD=o("iPod"),t.utils.userAgent.IPHONE=o("iPhone")&&!t.utils.userAgent.IPAD&&!t.utils.userAgent.IPOD,t.utils.userAgent.MAC=o("Macintosh"),t.utils.userAgent.TABLET=t.utils.userAgent.IPAD||t.utils.userAgent.ANDROID&&!o("Mobile")||o("Silk"),t.utils.userAgent.MOBILE=!t.utils.userAgent.TABLET&&(t.utils.userAgent.IPOD||t.utils.userAgent.IPHONE||t.utils.userAgent.ANDROID||o("IEMobile"))}(t.utils.global.navigator&&t.utils.global.navigator.userAgent||""),t.utils.noEvent=function(t){t.preventDefault(),t.stopPropagation()},t.utils.isTargetInput=function(t){return"textarea"==t.target.type||"text"==t.target.type||"number"==t.target.type||"email"==t.target.type||"password"==t.target.type||"search"==t.target.type||"tel"==t.target.type||"url"==t.target.type||t.target.isContentEditable||t.target.dataset&&"true"==t.target.dataset.isTextInput},t.utils.getRelativeXY=function(e){var o=new t.utils.Coordinate(0,0),n=e.getAttribute("x");return n&&(o.x=parseInt(n,10)),(n=e.getAttribute("y"))&&(o.y=parseInt(n,10)),(n=(n=e.getAttribute("transform"))&&n.match(t.utils.getRelativeXY.XY_REGEX_))&&(o.x+=Number(n[1]),n[3]&&(o.y+=Number(n[3]))),(e=e.getAttribute("style"))&&-1<e.indexOf("translate")&&(e=e.match(t.utils.getRelativeXY.XY_STYLE_REGEX_))&&(o.x+=Number(e[1]),e[3]&&(o.y+=Number(e[3]))),o},t.utils.getInjectionDivXY_=function(e){for(var o=0,n=0;e;){var r=t.utils.getRelativeXY(e);if(o+=r.x,n+=r.y,-1!=(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;e=e.parentNode}return new t.utils.Coordinate(o,n)},t.utils.getRelativeXY.XY_REGEX_=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,t.utils.getRelativeXY.XY_STYLE_REGEX_=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,t.utils.isRightButton=function(e){return!(!e.ctrlKey||!t.utils.userAgent.MAC)||2==e.button},t.utils.mouseToSvg=function(t,e,o){var n=e.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,o||(o=e.getScreenCTM().inverse()),n.matrixTransform(o)},t.utils.getScrollDeltaPixels=function(e){switch(e.deltaMode){default:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*t.LINE_MODE_MULTIPLIER,y:e.deltaY*t.LINE_MODE_MULTIPLIER};case 2:return{x:e.deltaX*t.PAGE_MODE_MULTIPLIER,y:e.deltaY*t.PAGE_MODE_MULTIPLIER}}},t.utils.tokenizeInterpolation=function(e){return t.utils.tokenizeInterpolation_(e,!0)},t.utils.replaceMessageReferences=function(e){return"string"!=typeof e?e:(e=t.utils.tokenizeInterpolation_(e,!1)).length?String(e[0]):""},t.utils.checkMessageReferences=function(e){for(var o=!0,n=t.Msg,r=e.match(/%{BKY_[A-Z]\w*}/gi),i=0;i<r.length;i++)null==n[r[i].toUpperCase().slice(6,-1)]&&(console.warn("No message string for "+r[i]+" in "+e),o=!1);return o},t.utils.tokenizeInterpolation_=function(e,o){var n=[],r=e.split("");r.push("");var i=0;e=[];for(var s=null,a=0;a<r.length;a++){var l=r[a];0==i?"%"==l?((l=e.join(""))&&n.push(l),e.length=0,i=1):e.push(l):1==i?"%"==l?(e.push(l),i=0):o&&"0"<=l&&"9">=l?(i=2,s=l,(l=e.join(""))&&n.push(l),e.length=0):"{"==l?i=3:(e.push("%",l),i=0):2==i?"0"<=l&&"9">=l?s+=l:(n.push(parseInt(s,10)),a--,i=0):3==i&&(""==l?(e.splice(0,0,"%{"),a--,i=0):"}"!=l?e.push(l):(i=e.join(""),/[A-Z]\w*/i.test(i)?(l=i.toUpperCase(),(l=t.utils.string.startsWith(l,"BKY_")?l.substring(4):null)&&l in t.Msg?"string"==typeof(i=t.Msg[l])?Array.prototype.push.apply(n,t.utils.tokenizeInterpolation_(i,o)):o?n.push(String(i)):n.push(i):n.push("%{"+i+"}")):n.push("%{"+i+"}"),i=e.length=0))}for((l=e.join(""))&&n.push(l),o=[],a=e.length=0;a<n.length;++a)"string"==typeof n[a]?e.push(n[a]):((l=e.join(""))&&o.push(l),e.length=0,o.push(n[a]));return(l=e.join(""))&&o.push(l),e.length=0,o},t.utils.genUid=function(){for(var e=t.utils.genUid.soup_.length,o=[],n=0;20>n;n++)o[n]=t.utils.genUid.soup_.charAt(Math.random()*e);return o.join("")},t.utils.genUid.soup_="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t.utils.is3dSupported=function(){if(void 0!==t.utils.is3dSupported.cached_)return t.utils.is3dSupported.cached_;if(!t.utils.global.getComputedStyle)return!1;var e=document.createElement("p"),o="none",n={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var r in document.body.insertBefore(e,null),n)if(void 0!==e.style[r]){if(e.style[r]="translate3d(1px,1px,1px)",!(o=t.utils.global.getComputedStyle(e)))return document.body.removeChild(e),!1;o=o.getPropertyValue(n[r])}return document.body.removeChild(e),t.utils.is3dSupported.cached_="none"!==o,t.utils.is3dSupported.cached_},t.utils.runAfterPageLoad=function(t){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)t();else var e=setInterval((function(){"complete"==document.readyState&&(clearInterval(e),t())}),10)},t.utils.getViewportBBox=function(){var e=t.utils.style.getViewportPageOffset();return new t.utils.Rect(e.y,document.documentElement.clientHeight+e.y,e.x,document.documentElement.clientWidth+e.x)},t.utils.arrayRemove=function(t,e){return-1!=(e=t.indexOf(e))&&(t.splice(e,1),!0)},t.utils.getDocumentScroll=function(){var e=document.documentElement,o=window;return t.utils.userAgent.IE&&o.pageYOffset!=e.scrollTop?new t.utils.Coordinate(e.scrollLeft,e.scrollTop):new t.utils.Coordinate(o.pageXOffset||e.scrollLeft,o.pageYOffset||e.scrollTop)},t.utils.getBlockTypeCounts=function(t,e){var o=Object.create(null),n=t.getDescendants(!0);for(e&&(t=t.getNextBlock())&&(t=n.indexOf(t),n.splice(t,n.length-t)),t=0;e=n[t];t++)o[e.type]?o[e.type]++:o[e.type]=1;return o},t.utils.screenToWsCoordinates=function(e,o){var n=o.x;o=o.y;var r=e.getInjectionDiv().getBoundingClientRect();return n=new t.utils.Coordinate(n-r.left,o-r.top),o=e.getOriginOffsetInPixels(),t.utils.Coordinate.difference(n,o).scale(1/e.scale)},t.utils.parseBlockColour=function(e){var o="string"==typeof e?t.utils.replaceMessageReferences(e):e,n=Number(o);if(!isNaN(n)&&0<=n&&360>=n)return{hue:n,hex:t.utils.colour.hsvToHex(n,t.HSV_SATURATION,255*t.HSV_VALUE)};if(n=t.utils.colour.parse(o))return{hue:null,hex:n};throw n='Invalid colour: "'+o+'"',e!=o&&(n+=' (from "'+e+'")'),Error(n)},t.Touch={},t.Touch.TOUCH_ENABLED="ontouchstart"in t.utils.global||!!(t.utils.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!t.utils.global.navigator||!t.utils.global.navigator.maxTouchPoints&&!t.utils.global.navigator.msMaxTouchPoints),t.Touch.touchIdentifier_=null,t.Touch.TOUCH_MAP={},t.utils.global.PointerEvent?t.Touch.TOUCH_MAP={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:t.Touch.TOUCH_ENABLED&&(t.Touch.TOUCH_MAP={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]}),t.longPid_=0,t.longStart=function(e,o){t.longStop_(),e.changedTouches&&1!=e.changedTouches.length||(t.longPid_=setTimeout((function(){e.changedTouches&&(e.button=2,e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),o&&o.handleRightClick(e)}),t.LONGPRESS))},t.longStop_=function(){t.longPid_&&(clearTimeout(t.longPid_),t.longPid_=0)},t.Touch.clearTouchIdentifier=function(){t.Touch.touchIdentifier_=null},t.Touch.shouldHandleEvent=function(e){return!t.Touch.isMouseOrTouchEvent(e)||t.Touch.checkTouchIdentifier(e)},t.Touch.getTouchIdentifierFromEvent=function(t){return null!=t.pointerId?t.pointerId:t.changedTouches&&t.changedTouches[0]&&void 0!==t.changedTouches[0].identifier&&null!==t.changedTouches[0].identifier?t.changedTouches[0].identifier:"mouse"},t.Touch.checkTouchIdentifier=function(e){var o=t.Touch.getTouchIdentifierFromEvent(e);return void 0!==t.Touch.touchIdentifier_&&null!==t.Touch.touchIdentifier_?t.Touch.touchIdentifier_==o:("mousedown"==e.type||"touchstart"==e.type||"pointerdown"==e.type)&&(t.Touch.touchIdentifier_=o,!0)},t.Touch.setClientFromTouch=function(e){if(t.utils.string.startsWith(e.type,"touch")){var o=e.changedTouches[0];e.clientX=o.clientX,e.clientY=o.clientY}},t.Touch.isMouseOrTouchEvent=function(e){return t.utils.string.startsWith(e.type,"touch")||t.utils.string.startsWith(e.type,"mouse")||t.utils.string.startsWith(e.type,"pointer")},t.Touch.isTouchEvent=function(e){return t.utils.string.startsWith(e.type,"touch")||t.utils.string.startsWith(e.type,"pointer")},t.Touch.splitEventByTouches=function(t){var e=[];if(t.changedTouches)for(var o=0;o<t.changedTouches.length;o++)e[o]={type:t.type,changedTouches:[t.changedTouches[o]],target:t.target,stopPropagation:function(){t.stopPropagation()},preventDefault:function(){t.preventDefault()}};else e.push(t);return e},t.browserEvents={},t.browserEvents.conditionalBind=function(e,o,n,r,i,s){var a=!1,l=function(e){var o=!i;e=t.Touch.splitEventByTouches(e);for(var s,l=0;s=e[l];l++)o&&!t.Touch.shouldHandleEvent(s)||(t.Touch.setClientFromTouch(s),n?r.call(n,s):r(s),a=!0)},c=[];if(t.utils.global.PointerEvent&&o in t.Touch.TOUCH_MAP)for(var u,p=0;u=t.Touch.TOUCH_MAP[o][p];p++)e.addEventListener(u,l,!1),c.push([e,u,l]);else if(e.addEventListener(o,l,!1),c.push([e,o,l]),o in t.Touch.TOUCH_MAP){var h=function(t){l(t),a&&!s&&t.preventDefault()};for(p=0;u=t.Touch.TOUCH_MAP[o][p];p++)e.addEventListener(u,h,!1),c.push([e,u,h])}return c},t.browserEvents.bind=function(e,o,n,r){var i=function(t){n?r.call(n,t):r(t)},s=[];if(t.utils.global.PointerEvent&&o in t.Touch.TOUCH_MAP)for(var a,l=0;a=t.Touch.TOUCH_MAP[o][l];l++)e.addEventListener(a,i,!1),s.push([e,a,i]);else if(e.addEventListener(o,i,!1),s.push([e,o,i]),o in t.Touch.TOUCH_MAP){var c=function(t){if(t.changedTouches&&1==t.changedTouches.length){var e=t.changedTouches[0];t.clientX=e.clientX,t.clientY=e.clientY}i(t),t.preventDefault()};for(l=0;a=t.Touch.TOUCH_MAP[o][l];l++)e.addEventListener(a,c,!1),s.push([e,a,c])}return s},t.browserEvents.unbind=function(t){for(;t.length;){var e=t.pop(),o=e[2];e[0].removeEventListener(e[1],o,!1)}return o},t.registry={},t.registry.typeMap_={},t.registry.DEFAULT="default",t.registry.Type=function(t){this.name_=t},t.registry.Type.prototype.toString=function(){return this.name_},t.registry.Type.CONNECTION_CHECKER=new t.registry.Type("connectionChecker"),t.registry.Type.CURSOR=new t.registry.Type("cursor"),t.registry.Type.EVENT=new t.registry.Type("event"),t.registry.Type.FIELD=new t.registry.Type("field"),t.registry.Type.RENDERER=new t.registry.Type("renderer"),t.registry.Type.TOOLBOX=new t.registry.Type("toolbox"),t.registry.Type.THEME=new t.registry.Type("theme"),t.registry.Type.TOOLBOX_ITEM=new t.registry.Type("toolboxItem"),t.registry.Type.FLYOUTS_VERTICAL_TOOLBOX=new t.registry.Type("flyoutsVerticalToolbox"),t.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX=new t.registry.Type("flyoutsHorizontalToolbox"),t.registry.Type.METRICS_MANAGER=new t.registry.Type("metricsManager"),t.registry.register=function(e,o,n,r){if(!(e instanceof t.registry.Type)&&"string"!=typeof e||""==String(e).trim())throw Error('Invalid type "'+e+'". The type must be a non-empty string or a Blockly.registry.Type.');if(e=String(e).toLowerCase(),"string"!=typeof o||""==o.trim())throw Error('Invalid name "'+o+'". The name must be a non-empty string.');if(o=o.toLowerCase(),!n)throw Error("Can not register a null value");var i=t.registry.typeMap_[e];if(i||(i=t.registry.typeMap_[e]={}),t.registry.validate_(e,n),!r&&i[o])throw Error('Name "'+o+'" with type "'+e+'" already registered.');i[o]=n},t.registry.validate_=function(e,o){switch(e){case String(t.registry.Type.FIELD):if("function"!=typeof o.fromJson)throw Error('Type "'+e+'" must have a fromJson function')}},t.registry.unregister=function(e,o){e=String(e).toLowerCase(),o=o.toLowerCase();var n=t.registry.typeMap_[e];n&&n[o]?delete t.registry.typeMap_[e][o]:console.warn("Unable to unregister ["+o+"]["+e+"] from the registry.")},t.registry.getItem_=function(e,o,n){e=String(e).toLowerCase(),o=o.toLowerCase();var r=t.registry.typeMap_[e];if(!r||!r[o]){if(o="Unable to find ["+o+"]["+e+"] in the registry.",n)throw Error(o+" You must require or register a "+e+" plugin.");return console.warn(o),null}return r[o]},t.registry.hasItem=function(e,o){return e=String(e).toLowerCase(),o=o.toLowerCase(),!!(e=t.registry.typeMap_[e])&&!!e[o]},t.registry.getClass=function(e,o,n){return t.registry.getItem_(e,o,n)},t.registry.getObject=function(e,o,n){return t.registry.getItem_(e,o,n)},t.registry.getClassFromOptions=function(e,o,n){return"function"==typeof(o=o.plugins[e.toString()]||t.registry.DEFAULT)?o:t.registry.getClass(e,o,n)},t.Events={},t.Events.group_="",t.Events.recordUndo=!0,t.Events.disabled_=0,t.Events.CREATE="create",t.Events.BLOCK_CREATE=t.Events.CREATE,t.Events.DELETE="delete",t.Events.BLOCK_DELETE=t.Events.DELETE,t.Events.CHANGE="change",t.Events.BLOCK_CHANGE=t.Events.CHANGE,t.Events.MOVE="move",t.Events.BLOCK_MOVE=t.Events.MOVE,t.Events.VAR_CREATE="var_create",t.Events.VAR_DELETE="var_delete",t.Events.VAR_RENAME="var_rename",t.Events.UI="ui",t.Events.BLOCK_DRAG="drag",t.Events.SELECTED="selected",t.Events.CLICK="click",t.Events.MARKER_MOVE="marker_move",t.Events.BUBBLE_OPEN="bubble_open",t.Events.TRASHCAN_OPEN="trashcan_open",t.Events.TOOLBOX_ITEM_SELECT="toolbox_item_select",t.Events.THEME_CHANGE="theme_change",t.Events.VIEWPORT_CHANGE="viewport_change",t.Events.COMMENT_CREATE="comment_create",t.Events.COMMENT_DELETE="comment_delete",t.Events.COMMENT_CHANGE="comment_change",t.Events.COMMENT_MOVE="comment_move",t.Events.FINISHED_LOADING="finished_loading",t.Events.BUMP_EVENTS=[t.Events.BLOCK_CREATE,t.Events.BLOCK_MOVE,t.Events.COMMENT_CREATE,t.Events.COMMENT_MOVE],t.Events.FIRE_QUEUE_=[],t.Events.fire=function(e){t.Events.isEnabled()&&(t.Events.FIRE_QUEUE_.length||setTimeout(t.Events.fireNow_,0),t.Events.FIRE_QUEUE_.push(e))},t.Events.fireNow_=function(){for(var e,o=t.Events.filter(t.Events.FIRE_QUEUE_,!0),n=t.Events.FIRE_QUEUE_.length=0;e=o[n];n++)if(e.workspaceId){var r=t.Workspace.getById(e.workspaceId);r&&r.fireChangeListener(e)}},t.Events.filter=function(e,o){e=e.slice(),o||e.reverse();for(var n,r=[],i=Object.create(null),s=0;n=e[s];s++)if(!n.isNull()){var a=[n.isUiEvent?t.Events.UI:n.type,n.blockId,n.workspaceId].join(" "),l=i[a],c=l?l.event:null;l?n.type==t.Events.MOVE&&l.index==s-1?(c.newParentId=n.newParentId,c.newInputName=n.newInputName,c.newCoordinate=n.newCoordinate,l.index=s):n.type==t.Events.CHANGE&&n.element==c.element&&n.name==c.name?c.newValue=n.newValue:n.type==t.Events.CLICK&&c.type==t.Events.BUBBLE_OPEN||(i[a]={event:n,index:s},r.push(n)):(i[a]={event:n,index:s},r.push(n))}for(e=r.filter((function(t){return!t.isNull()})),o||e.reverse(),s=1;n=e[s];s++)n.type==t.Events.CHANGE&&"mutation"==n.element&&e.unshift(e.splice(s,1)[0]);return e},t.Events.clearPendingUndo=function(){for(var e,o=0;e=t.Events.FIRE_QUEUE_[o];o++)e.recordUndo=!1},t.Events.disable=function(){t.Events.disabled_++},t.Events.enable=function(){t.Events.disabled_--},t.Events.isEnabled=function(){return 0==t.Events.disabled_},t.Events.getGroup=function(){return t.Events.group_},t.Events.setGroup=function(e){t.Events.group_="boolean"==typeof e?e?t.utils.genUid():"":e},t.Events.getDescendantIds=function(t){var e=[];t=t.getDescendants(!1);for(var o,n=0;o=t[n];n++)e[n]=o.id;return e},t.Events.fromJson=function(e,o){var n=t.Events.get(e.type);if(!n)throw Error("Unknown event type.");return(n=new n).fromJson(e),n.workspaceId=o.id,n},t.Events.get=function(e){return t.registry.getClass(t.registry.Type.EVENT,e)},t.Events.disableOrphans=function(e){if((e.type==t.Events.MOVE||e.type==t.Events.CREATE)&&e.workspaceId){var o=t.Workspace.getById(e.workspaceId),n=o.getBlockById(e.blockId);if(n){e=t.Events.recordUndo;try{t.Events.recordUndo=!1;var r=n.getParent();if(r&&r.isEnabled()){var i,s=n.getDescendants(!1);for(o=0;i=s[o];o++)i.setEnabled(!0)}else if((n.outputConnection||n.previousConnection)&&!o.isDragging())do{n.setEnabled(!1),n=n.getNextBlock()}while(n)}finally{t.Events.recordUndo=e}}}},t.Events.Abstract=function(){this.isBlank=null,this.workspaceId=void 0,this.group=t.Events.getGroup(),this.recordUndo=t.Events.recordUndo},t.Events.Abstract.prototype.isUiEvent=!1,t.Events.Abstract.prototype.toJson=function(){var t={type:this.type};return this.group&&(t.group=this.group),t},t.Events.Abstract.prototype.fromJson=function(t){this.isBlank=!1,this.group=t.group},t.Events.Abstract.prototype.isNull=function(){return!1},t.Events.Abstract.prototype.run=function(t){},t.Events.Abstract.prototype.getEventWorkspace_=function(){if(this.workspaceId)var e=t.Workspace.getById(this.workspaceId);if(!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e},t.utils.object={},t.utils.object.inherits=function(t,e){t.superClass_=e.prototype,t.prototype=Object.create(e.prototype),t.prototype.constructor=t},t.utils.object.mixin=function(t,e){for(var o in e)t[o]=e[o]},t.utils.object.deepMerge=function(e,o){for(var n in o)e[n]=null!=o[n]&&"object"==typeof o[n]?t.utils.object.deepMerge(e[n]||Object.create(null),o[n]):o[n];return e},t.utils.object.values=function(t){return Object.values?Object.values(t):Object.keys(t).map((function(e){return t[e]}))},t.utils.xml={},t.utils.xml.NAME_SPACE="https://developers.google.com/blockly/xml",t.utils.xml.document=function(){return document},t.utils.xml.createElement=function(e){return t.utils.xml.document().createElementNS(t.utils.xml.NAME_SPACE,e)},t.utils.xml.createTextNode=function(e){return t.utils.xml.document().createTextNode(e)},t.utils.xml.textToDomDocument=function(t){return(new DOMParser).parseFromString(t,"text/xml")},t.utils.xml.domToText=function(t){return(new XMLSerializer).serializeToString(t)},t.inputTypes={VALUE:t.connectionTypes.INPUT_VALUE,STATEMENT:t.connectionTypes.NEXT_STATEMENT,DUMMY:5},t.utils.Svg=function(t){this.tagName_=t},t.utils.Svg.prototype.toString=function(){return this.tagName_},t.utils.Svg.ANIMATE=new t.utils.Svg("animate"),t.utils.Svg.CIRCLE=new t.utils.Svg("circle"),t.utils.Svg.CLIPPATH=new t.utils.Svg("clipPath"),t.utils.Svg.DEFS=new t.utils.Svg("defs"),t.utils.Svg.FECOMPOSITE=new t.utils.Svg("feComposite"),t.utils.Svg.FECOMPONENTTRANSFER=new t.utils.Svg("feComponentTransfer"),t.utils.Svg.FEFLOOD=new t.utils.Svg("feFlood"),t.utils.Svg.FEFUNCA=new t.utils.Svg("feFuncA"),t.utils.Svg.FEGAUSSIANBLUR=new t.utils.Svg("feGaussianBlur"),t.utils.Svg.FEPOINTLIGHT=new t.utils.Svg("fePointLight"),t.utils.Svg.FESPECULARLIGHTING=new t.utils.Svg("feSpecularLighting"),t.utils.Svg.FILTER=new t.utils.Svg("filter"),t.utils.Svg.FOREIGNOBJECT=new t.utils.Svg("foreignObject"),t.utils.Svg.G=new t.utils.Svg("g"),t.utils.Svg.IMAGE=new t.utils.Svg("image"),t.utils.Svg.LINE=new t.utils.Svg("line"),t.utils.Svg.PATH=new t.utils.Svg("path"),t.utils.Svg.PATTERN=new t.utils.Svg("pattern"),t.utils.Svg.POLYGON=new t.utils.Svg("polygon"),t.utils.Svg.RECT=new t.utils.Svg("rect"),t.utils.Svg.SVG=new t.utils.Svg("svg"),t.utils.Svg.TEXT=new t.utils.Svg("text"),t.utils.Svg.TSPAN=new t.utils.Svg("tspan"),t.utils.dom={},t.utils.dom.SVG_NS="http://www.w3.org/2000/svg",t.utils.dom.HTML_NS="http://www.w3.org/1999/xhtml",t.utils.dom.XLINK_NS="http://www.w3.org/1999/xlink",t.utils.dom.NodeType={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16},t.utils.dom.cacheWidths_=null,t.utils.dom.cacheReference_=0,t.utils.dom.canvasContext_=null,t.utils.dom.createSvgElement=function(e,o,n){for(var r in e=document.createElementNS(t.utils.dom.SVG_NS,String(e)),o)e.setAttribute(r,o[r]);return document.body.runtimeStyle&&(e.runtimeStyle=e.currentStyle=e.style),n&&n.appendChild(e),e},t.utils.dom.addClass=function(t,e){var o=t.getAttribute("class")||"";return-1==(" "+o+" ").indexOf(" "+e+" ")&&(o&&(o+=" "),t.setAttribute("class",o+e),!0)},t.utils.dom.removeClasses=function(e,o){o=o.split(" ");for(var n=0;n<o.length;n++)t.utils.dom.removeClass(e,o[n])},t.utils.dom.removeClass=function(t,e){var o=t.getAttribute("class");if(-1==(" "+o+" ").indexOf(" "+e+" "))return!1;o=o.split(/\s+/);for(var n=0;n<o.length;n++)o[n]&&o[n]!=e||(o.splice(n,1),n--);return o.length?t.setAttribute("class",o.join(" ")):t.removeAttribute("class"),!0},t.utils.dom.hasClass=function(t,e){return-1!=(" "+t.getAttribute("class")+" ").indexOf(" "+e+" ")},t.utils.dom.removeNode=function(t){return t&&t.parentNode?t.parentNode.removeChild(t):null},t.utils.dom.insertAfter=function(t,e){var o=e.nextSibling;if(!(e=e.parentNode))throw Error("Reference node has no parent.");o?e.insertBefore(t,o):e.appendChild(t)},t.utils.dom.containsNode=function(e,o){return!!(e.compareDocumentPosition(o)&t.utils.dom.NodeType.DOCUMENT_POSITION_CONTAINED_BY)},t.utils.dom.setCssTransform=function(t,e){t.style.transform=e,t.style["-webkit-transform"]=e},t.utils.dom.startTextWidthCache=function(){t.utils.dom.cacheReference_++,t.utils.dom.cacheWidths_||(t.utils.dom.cacheWidths_={})},t.utils.dom.stopTextWidthCache=function(){t.utils.dom.cacheReference_--,t.utils.dom.cacheReference_||(t.utils.dom.cacheWidths_=null)},t.utils.dom.getTextWidth=function(e){var o,n=e.textContent+"\n"+e.className.baseVal;if(t.utils.dom.cacheWidths_&&(o=t.utils.dom.cacheWidths_[n]))return o;try{o=t.utils.userAgent.IE||t.utils.userAgent.EDGE?e.getBBox().width:e.getComputedTextLength()}catch(t){return 8*e.textContent.length}return t.utils.dom.cacheWidths_&&(t.utils.dom.cacheWidths_[n]=o),o},t.utils.dom.getFastTextWidth=function(e,o,n,r){return t.utils.dom.getFastTextWidthWithSizeString(e,o+"pt",n,r)},t.utils.dom.getFastTextWidthWithSizeString=function(e,o,n,r){var i,s=e.textContent;return e=s+"\n"+e.className.baseVal,t.utils.dom.cacheWidths_&&(i=t.utils.dom.cacheWidths_[e])||(t.utils.dom.canvasContext_||((i=document.createElement("canvas")).className="blocklyComputeCanvas",document.body.appendChild(i),t.utils.dom.canvasContext_=i.getContext("2d")),t.utils.dom.canvasContext_.font=n+" "+o+" "+r,i=t.utils.dom.canvasContext_.measureText(s).width,t.utils.dom.cacheWidths_&&(t.utils.dom.cacheWidths_[e]=i)),i},t.utils.dom.measureFontMetrics=function(t,e,o,n){var r=document.createElement("span");r.style.font=o+" "+e+" "+n,r.textContent=t,(t=document.createElement("div")).style.width="1px",t.style.height="0px",(e=document.createElement("div")).setAttribute("style","position: fixed; top: 0; left: 0; display: flex;"),e.appendChild(r),e.appendChild(t),document.body.appendChild(e);try{o={},e.style.alignItems="baseline",o.baseline=t.offsetTop-r.offsetTop,e.style.alignItems="flex-end",o.height=t.offsetTop-r.offsetTop}finally{document.body.removeChild(e)}return o},t.Xml={},t.Xml.workspaceToDom=function(e,o){var n=t.utils.xml.createElement("xml"),r=t.Xml.variablesToDom(t.Variables.allUsedVarModels(e));r.hasChildNodes()&&n.appendChild(r);var i,s=e.getTopComments(!0);for(r=0;i=s[r];r++)n.appendChild(i.toXmlWithXY(o));for(e=e.getTopBlocks(!0),r=0;s=e[r];r++)n.appendChild(t.Xml.blockToDomWithXY(s,o));return n},t.Xml.variablesToDom=function(e){for(var o,n=t.utils.xml.createElement("variables"),r=0;o=e[r];r++){var i=t.utils.xml.createElement("variable");i.appendChild(t.utils.xml.createTextNode(o.name)),o.type&&i.setAttribute("type",o.type),i.id=o.getId(),n.appendChild(i)}return n},t.Xml.blockToDomWithXY=function(e,o){if(e.isInsertionMarker()&&!(e=e.getChildren(!1)[0]))return new DocumentFragment;var n;e.workspace.RTL&&(n=e.workspace.getWidth()),o=t.Xml.blockToDom(e,o);var r=e.getRelativeToSurfaceXY();return o.setAttribute("x",Math.round(e.workspace.RTL?n-r.x:r.x)),o.setAttribute("y",Math.round(r.y)),o},t.Xml.fieldToDom_=function(e){if(e.isSerializable()){var o=t.utils.xml.createElement("field");return o.setAttribute("name",e.name||""),e.toXml(o)}return null},t.Xml.allFieldsToDom_=function(e,o){for(var n,r=0;n=e.inputList[r];r++)for(var i,s=0;i=n.fieldRow[s];s++)(i=t.Xml.fieldToDom_(i))&&o.appendChild(i)},t.Xml.blockToDom=function(e,o){if(e.isInsertionMarker())return(e=e.getChildren(!1)[0])?t.Xml.blockToDom(e):new DocumentFragment;var n=t.utils.xml.createElement(e.isShadow()?"shadow":"block");if(n.setAttribute("type",e.type),o||n.setAttribute("id",e.id),e.mutationToDom){var r=e.mutationToDom();r&&(r.hasChildNodes()||r.hasAttributes())&&n.appendChild(r)}if(t.Xml.allFieldsToDom_(e,n),r=e.getCommentText()){var i=e.commentModel.size,s=e.commentModel.pinned,a=t.utils.xml.createElement("comment");a.appendChild(t.utils.xml.createTextNode(r)),a.setAttribute("pinned",s),a.setAttribute("h",i.height),a.setAttribute("w",i.width),n.appendChild(a)}for(e.data&&((r=t.utils.xml.createElement("data")).appendChild(t.utils.xml.createTextNode(e.data)),n.appendChild(r)),r=0;i=e.inputList[r];r++){var l;if(s=!0,i.type!=t.inputTypes.DUMMY){var c=i.connection.targetBlock();i.type==t.inputTypes.VALUE?l=t.utils.xml.createElement("value"):i.type==t.inputTypes.STATEMENT&&(l=t.utils.xml.createElement("statement")),!(a=i.connection.getShadowDom())||c&&c.isShadow()||l.appendChild(t.Xml.cloneShadow_(a,o)),c&&(a=t.Xml.blockToDom(c,o)).nodeType==t.utils.dom.NodeType.ELEMENT_NODE&&(l.appendChild(a),s=!1),l.setAttribute("name",i.name),s||n.appendChild(l)}}return null!=e.inputsInline&&e.inputsInline!=e.inputsInlineDefault&&n.setAttribute("inline",e.inputsInline),e.isCollapsed()&&n.setAttribute("collapsed",!0),e.isEnabled()||n.setAttribute("disabled",!0),e.isDeletable()||e.isShadow()||n.setAttribute("deletable",!1),e.isMovable()||e.isShadow()||n.setAttribute("movable",!1),e.isEditable()||n.setAttribute("editable",!1),(r=e.getNextBlock())&&(a=t.Xml.blockToDom(r,o)).nodeType==t.utils.dom.NodeType.ELEMENT_NODE&&((l=t.utils.xml.createElement("next")).appendChild(a),n.appendChild(l)),!(a=e.nextConnection&&e.nextConnection.getShadowDom())||r&&r.isShadow()||l.appendChild(t.Xml.cloneShadow_(a,o)),n},t.Xml.cloneShadow_=function(e,o){for(var n,r=e=e.cloneNode(!0);r;)if(o&&"shadow"==r.nodeName&&r.removeAttribute("id"),r.firstChild)r=r.firstChild;else{for(;r&&!r.nextSibling;)n=r,r=r.parentNode,n.nodeType==t.utils.dom.NodeType.TEXT_NODE&&""==n.data.trim()&&r.firstChild!=n&&t.utils.dom.removeNode(n);r&&(n=r,r=r.nextSibling,n.nodeType==t.utils.dom.NodeType.TEXT_NODE&&""==n.data.trim()&&t.utils.dom.removeNode(n))}return e},t.Xml.domToText=function(e){return t.utils.xml.domToText(e).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},t.Xml.domToPrettyText=function(e){e=t.Xml.domToText(e).split("<");for(var o="",n=1;n<e.length;n++){var r=e[n];"/"==r[0]&&(o=o.substring(2)),e[n]=o+"<"+r,"/"!=r[0]&&"/>"!=r.slice(-2)&&(o+="  ")}return(e=(e=e.join("\n")).replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>")).replace(/^\n/,"")},t.Xml.textToDom=function(e){var o=t.utils.xml.textToDomDocument(e);if(!o||!o.documentElement||o.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+e);return o.documentElement},t.Xml.clearWorkspaceAndLoadFromXml=function(e,o){return o.setResizesEnabled(!1),o.clear(),e=t.Xml.domToWorkspace(e,o),o.setResizesEnabled(!0),e},t.Xml.domToWorkspace=function(e,o){if(e instanceof t.Workspace){var n=e;e=o,o=n,console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var r;o.RTL&&(r=o.getWidth()),n=[],t.utils.dom.startTextWidthCache();var i=t.Events.getGroup();i||t.Events.setGroup(!0),o.setResizesEnabled&&o.setResizesEnabled(!1);var s=!0;try{for(var a,l=0;a=e.childNodes[l];l++){var c=a.nodeName.toLowerCase(),u=a;if("block"==c||"shadow"==c&&!t.Events.recordUndo){var p=t.Xml.domToBlock(u,o);n.push(p.id);var h=u.hasAttribute("x")?parseInt(u.getAttribute("x"),10):10,d=u.hasAttribute("y")?parseInt(u.getAttribute("y"),10):10;isNaN(h)||isNaN(d)||p.moveBy(o.RTL?r-h:h,d),s=!1}else{if("shadow"==c)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==c)o.rendered?t.WorkspaceCommentSvg?t.WorkspaceCommentSvg.fromXml(u,o,r):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):t.WorkspaceComment?t.WorkspaceComment.fromXml(u,o):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==c){if(!s)throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");t.Xml.domToVariables(u,o),s=!1}}}}finally{i||t.Events.setGroup(!1),t.utils.dom.stopTextWidthCache()}return o.setResizesEnabled&&o.setResizesEnabled(!0),t.Events.fire(new(t.Events.get(t.Events.FINISHED_LOADING))(o)),n},t.Xml.appendDomToWorkspace=function(e,o){var n;if(Object.prototype.hasOwnProperty.call(o,"scale")&&(n=o.getBlocksBoundingBox()),e=t.Xml.domToWorkspace(e,o),n&&n.top!=n.bottom){var r=n.bottom,i=o.RTL?n.right:n.left,s=1/0,a=-1/0,l=1/0;for(n=0;n<e.length;n++){var c=o.getBlockById(e[n]).getRelativeToSurfaceXY();c.y<l&&(l=c.y),c.x<s&&(s=c.x),c.x>a&&(a=c.x)}for(r=r-l+10,i=o.RTL?i-a:i-s,n=0;n<e.length;n++)o.getBlockById(e[n]).moveBy(i,r)}return e},t.Xml.domToBlock=function(e,o){if(e instanceof t.Workspace){var n=e;e=o,o=n,console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}t.Events.disable(),n=o.getAllVariables();try{var r=t.Xml.domToBlockHeadless_(e,o),i=r.getDescendants(!1);if(o.rendered){r.setConnectionTracking(!1);for(var s=i.length-1;0<=s;s--)i[s].initSvg();for(s=i.length-1;0<=s;s--)i[s].render(!1);setTimeout((function(){r.disposed||r.setConnectionTracking(!0)}),1),r.updateDisabled(),o.resizeContents()}else for(s=i.length-1;0<=s;s--)i[s].initModel()}finally{t.Events.enable()}if(t.Events.isEnabled()){for(e=t.Variables.getAddedVariables(o,n),s=0;s<e.length;s++)o=e[s],t.Events.fire(new(t.Events.get(t.Events.VAR_CREATE))(o));t.Events.fire(new(t.Events.get(t.Events.CREATE))(r))}return r},t.Xml.domToVariables=function(e,o){for(var n,r=0;n=e.childNodes[r];r++)if(n.nodeType==t.utils.dom.NodeType.ELEMENT_NODE){var i=n.getAttribute("type"),s=n.getAttribute("id");o.createVariable(n.textContent,i,s)}},t.Xml.mapSupportedXmlTags_=function(e){for(var o,n={mutation:[],comment:[],data:[],field:[],input:[],next:[]},r=0;o=e.childNodes[r];r++)if(o.nodeType!=t.utils.dom.NodeType.TEXT_NODE)switch(o.nodeName.toLowerCase()){case"mutation":n.mutation.push(o);break;case"comment":if(!t.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}n.comment.push(o);break;case"data":n.data.push(o);break;case"title":case"field":n.field.push(o);break;case"value":case"statement":n.input.push(o);break;case"next":n.next.push(o);break;default:console.warn("Ignoring unknown tag: "+o.nodeName)}return n},t.Xml.applyMutationTagNodes_=function(t,e){for(var o,n=!1,r=0;o=t[r];r++)e.domToMutation&&(e.domToMutation(o),e.initSvg&&(n=!0));return n},t.Xml.applyCommentTagNodes_=function(e,o){for(var n,r=0;n=e[r];r++){var i=n.textContent,s="true"==n.getAttribute("pinned"),a=parseInt(n.getAttribute("w"),10);n=parseInt(n.getAttribute("h"),10),o.setCommentText(i),o.commentModel.pinned=s,isNaN(a)||isNaN(n)||(o.commentModel.size=new t.utils.Size(a,n)),s&&o.getCommentIcon&&!o.isInFlyout&&setTimeout((function(){o.getCommentIcon().setVisible(!0)}),1)}},t.Xml.applyDataTagNodes_=function(t,e){for(var o,n=0;o=t[n];n++)e.data=o.textContent},t.Xml.applyFieldTagNodes_=function(e,o){for(var n,r=0;n=e[r];r++){var i=n.getAttribute("name");t.Xml.domToField_(o,i,n)}},t.Xml.findChildBlocks_=function(e){for(var o,n={childBlockElement:null,childShadowElement:null},r=0;o=e.childNodes[r];r++)o.nodeType==t.utils.dom.NodeType.ELEMENT_NODE&&("block"==o.nodeName.toLowerCase()?n.childBlockElement=o:"shadow"==o.nodeName.toLowerCase()&&(n.childShadowElement=o));return n},t.Xml.applyInputTagNodes_=function(e,o,n,r){for(var i,s=0;i=e[s];s++){var a=i.getAttribute("name"),l=n.getInput(a);if(!l){console.warn("Ignoring non-existent input "+a+" in block "+r);break}if((i=t.Xml.findChildBlocks_(i)).childBlockElement){if(!l.connection)throw TypeError("Input connection does not exist.");t.Xml.domToBlockHeadless_(i.childBlockElement,o,l.connection,!1)}i.childShadowElement&&l.connection.setShadowDom(i.childShadowElement)}},t.Xml.applyNextTagNodes_=function(e,o,n){for(var r,i=0;r=e[i];i++){if((r=t.Xml.findChildBlocks_(r)).childBlockElement){if(!n.nextConnection)throw TypeError("Next statement does not exist.");if(n.nextConnection.isConnected())throw TypeError("Next statement is already connected.");t.Xml.domToBlockHeadless_(r.childBlockElement,o,n.nextConnection,!0)}r.childShadowElement&&n.nextConnection&&n.nextConnection.setShadowDom(r.childShadowElement)}},t.Xml.domToBlockHeadless_=function(e,o,n,r){var i=e.getAttribute("type");if(!i)throw TypeError("Block type unspecified: "+e.outerHTML);var s=e.getAttribute("id");s=o.newBlock(i,s);var a=t.Xml.mapSupportedXmlTags_(e),l=t.Xml.applyMutationTagNodes_(a.mutation,s);if(t.Xml.applyCommentTagNodes_(a.comment,s),t.Xml.applyDataTagNodes_(a.data,s),n)if(r){if(!s.previousConnection)throw TypeError("Next block does not have previous statement.");n.connect(s.previousConnection)}else if(s.outputConnection)n.connect(s.outputConnection);else{if(!s.previousConnection)throw TypeError("Child block does not have output or previous statement.");n.connect(s.previousConnection)}if(t.Xml.applyFieldTagNodes_(a.field,s),t.Xml.applyInputTagNodes_(a.input,o,s,i),t.Xml.applyNextTagNodes_(a.next,o,s),l&&s.initSvg(),(o=e.getAttribute("inline"))&&s.setInputsInline("true"==o),(o=e.getAttribute("disabled"))&&s.setEnabled("true"!=o&&"disabled"!=o),(o=e.getAttribute("deletable"))&&s.setDeletable("true"==o),(o=e.getAttribute("movable"))&&s.setMovable("true"==o),(o=e.getAttribute("editable"))&&s.setEditable("true"==o),(o=e.getAttribute("collapsed"))&&s.setCollapsed("true"==o),"shadow"==e.nodeName.toLowerCase()){for(e=s.getChildren(!1),o=0;n=e[o];o++)if(!n.isShadow())throw TypeError("Shadow block not allowed non-shadow child.");if(s.getVarModels().length)throw TypeError("Shadow blocks cannot have variable references.");s.setShadow(!0)}return s},t.Xml.domToField_=function(t,e,o){var n=t.getField(e);n?n.fromXml(o):console.warn("Ignoring non-existent field "+e+" in block "+t.type)},t.Xml.deleteNext=function(t){for(var e,o=0;e=t.childNodes[o];o++)if("next"==e.nodeName.toLowerCase()){t.removeChild(e);break}},t.Events.BlockBase=function(e){t.Events.BlockBase.superClass_.constructor.call(this),this.blockId=(this.isBlank=void 0===e)?"":e.id,this.workspaceId=this.isBlank?"":e.workspace.id},t.utils.object.inherits(t.Events.BlockBase,t.Events.Abstract),t.Events.BlockBase.prototype.toJson=function(){var e=t.Events.BlockBase.superClass_.toJson.call(this);return e.blockId=this.blockId,e},t.Events.BlockBase.prototype.fromJson=function(e){t.Events.BlockBase.superClass_.fromJson.call(this,e),this.blockId=e.blockId},t.Events.Change=function(e,o,n,r,i){t.Events.Change.superClass_.constructor.call(this,e),e&&(this.element=void 0===o?"":o,this.name=void 0===n?"":n,this.oldValue=void 0===r?"":r,this.newValue=void 0===i?"":i)},t.utils.object.inherits(t.Events.Change,t.Events.BlockBase),t.Events.BlockChange=t.Events.Change,t.Events.Change.prototype.type=t.Events.CHANGE,t.Events.Change.prototype.toJson=function(){var e=t.Events.Change.superClass_.toJson.call(this);return e.element=this.element,this.name&&(e.name=this.name),e.oldValue=this.oldValue,e.newValue=this.newValue,e},t.Events.Change.prototype.fromJson=function(e){t.Events.Change.superClass_.fromJson.call(this,e),this.element=e.element,this.name=e.name,this.oldValue=e.oldValue,this.newValue=e.newValue},t.Events.Change.prototype.isNull=function(){return this.oldValue==this.newValue},t.Events.Change.prototype.run=function(e){var o=this.getEventWorkspace_().getBlockById(this.blockId);if(o)switch(o.mutator&&o.mutator.setVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(o=o.getField(this.name))?o.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":o.setCommentText(e||null);break;case"collapsed":o.setCollapsed(!!e);break;case"disabled":o.setEnabled(!e);break;case"inline":o.setInputsInline(!!e);break;case"mutation":var n="";if(o.mutationToDom&&(n=(n=o.mutationToDom())&&t.Xml.domToText(n)),o.domToMutation){var r=t.Xml.textToDom(e||"<mutation/>");o.domToMutation(r)}t.Events.fire(new(t.Events.get(t.Events.CHANGE))(o,"mutation",null,n,e));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.blockId)},t.Events.Create=function(e){t.Events.Create.superClass_.constructor.call(this,e),e&&(e.isShadow()&&(this.recordUndo=!1),this.xml=e.workspace.rendered?t.Xml.blockToDomWithXY(e):t.Xml.blockToDom(e),this.ids=t.Events.getDescendantIds(e))},t.utils.object.inherits(t.Events.Create,t.Events.BlockBase),t.Events.BlockCreate=t.Events.Create,t.Events.Create.prototype.type=t.Events.CREATE,t.Events.Create.prototype.toJson=function(){var e=t.Events.Create.superClass_.toJson.call(this);return e.xml=t.Xml.domToText(this.xml),e.ids=this.ids,this.recordUndo||(e.recordUndo=this.recordUndo),e},t.Events.Create.prototype.fromJson=function(e){t.Events.Create.superClass_.fromJson.call(this,e),this.xml=t.Xml.textToDom(e.xml),this.ids=e.ids,void 0!==e.recordUndo&&(this.recordUndo=e.recordUndo)},t.Events.Create.prototype.run=function(e){var o=this.getEventWorkspace_();if(e)(e=t.utils.xml.createElement("xml")).appendChild(this.xml),t.Xml.domToWorkspace(e,o);else{e=0;for(var n;n=this.ids[e];e++){var r=o.getBlockById(n);r?r.dispose(!1):n==this.blockId&&console.warn("Can't uncreate non-existent block: "+n)}}},t.Events.Delete=function(e){if(t.Events.Delete.superClass_.constructor.call(this,e),e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");e.isShadow()&&(this.recordUndo=!1),this.oldXml=e.workspace.rendered?t.Xml.blockToDomWithXY(e):t.Xml.blockToDom(e),this.ids=t.Events.getDescendantIds(e)}},t.utils.object.inherits(t.Events.Delete,t.Events.BlockBase),t.Events.BlockDelete=t.Events.Delete,t.Events.Delete.prototype.type=t.Events.DELETE,t.Events.Delete.prototype.toJson=function(){var e=t.Events.Delete.superClass_.toJson.call(this);return e.oldXml=t.Xml.domToText(this.oldXml),e.ids=this.ids,this.recordUndo||(e.recordUndo=this.recordUndo),e},t.Events.Delete.prototype.fromJson=function(e){t.Events.Delete.superClass_.fromJson.call(this,e),this.oldXml=t.Xml.textToDom(e.oldXml),this.ids=e.ids,void 0!==e.recordUndo&&(this.recordUndo=e.recordUndo)},t.Events.Delete.prototype.run=function(e){var o=this.getEventWorkspace_();if(e){e=0;for(var n;n=this.ids[e];e++){var r=o.getBlockById(n);r?r.dispose(!1):n==this.blockId&&console.warn("Can't delete non-existent block: "+n)}}else(e=t.utils.xml.createElement("xml")).appendChild(this.oldXml),t.Xml.domToWorkspace(e,o)},t.Events.Move=function(e){t.Events.Move.superClass_.constructor.call(this,e),e&&(e.isShadow()&&(this.recordUndo=!1),e=this.currentLocation_(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)},t.utils.object.inherits(t.Events.Move,t.Events.BlockBase),t.Events.BlockMove=t.Events.Move,t.Events.Move.prototype.type=t.Events.MOVE,t.Events.Move.prototype.toJson=function(){var e=t.Events.Move.superClass_.toJson.call(this);return this.newParentId&&(e.newParentId=this.newParentId),this.newInputName&&(e.newInputName=this.newInputName),this.newCoordinate&&(e.newCoordinate=Math.round(this.newCoordinate.x)+","+Math.round(this.newCoordinate.y)),this.recordUndo||(e.recordUndo=this.recordUndo),e},t.Events.Move.prototype.fromJson=function(e){if(t.Events.Move.superClass_.fromJson.call(this,e),this.newParentId=e.newParentId,this.newInputName=e.newInputName,e.newCoordinate){var o=e.newCoordinate.split(",");this.newCoordinate=new t.utils.Coordinate(Number(o[0]),Number(o[1]))}void 0!==e.recordUndo&&(this.recordUndo=e.recordUndo)},t.Events.Move.prototype.recordNew=function(){var t=this.currentLocation_();this.newParentId=t.parentId,this.newInputName=t.inputName,this.newCoordinate=t.coordinate},t.Events.Move.prototype.currentLocation_=function(){var t=this.getEventWorkspace_().getBlockById(this.blockId),e={},o=t.getParent();return o?(e.parentId=o.id,(t=o.getInputWithBlock(t))&&(e.inputName=t.name)):e.coordinate=t.getRelativeToSurfaceXY(),e},t.Events.Move.prototype.isNull=function(){return this.oldParentId==this.newParentId&&this.oldInputName==this.newInputName&&t.utils.Coordinate.equals(this.oldCoordinate,this.newCoordinate)},t.Events.Move.prototype.run=function(e){var o=this.getEventWorkspace_(),n=o.getBlockById(this.blockId);if(n){var r=e?this.newParentId:this.oldParentId,i=e?this.newInputName:this.oldInputName,s=e?this.newCoordinate:this.oldCoordinate;if(e=null,r&&!(e=o.getBlockById(r)))return void console.warn("Can't connect to non-existent block: "+r);if(n.getParent()&&n.unplug(),s)i=n.getRelativeToSurfaceXY(),n.moveBy(s.x-i.x,s.y-i.y);else{if(o=(n=n.outputConnection||n.previousConnection).type,i){if(e=e.getInput(i))var a=e.connection}else o==t.connectionTypes.PREVIOUS_STATEMENT&&(a=e.nextConnection);a?n.connect(a):console.warn("Can't connect to non-existent input: "+i)}}else console.warn("Can't move non-existent block: "+this.blockId)},t.registry.register(t.registry.Type.EVENT,t.Events.CREATE,t.Events.Create),t.registry.register(t.registry.Type.EVENT,t.Events.DELETE,t.Events.Delete),t.registry.register(t.registry.Type.EVENT,t.Events.CHANGE,t.Events.Change),t.registry.register(t.registry.Type.EVENT,t.Events.MOVE,t.Events.Move),t.Events.FinishedLoading=function(e){this.isBlank=void 0===e,this.workspaceId=e?e.id:"",this.group=t.Events.getGroup(),this.recordUndo=!1},t.utils.object.inherits(t.Events.FinishedLoading,t.Events.Abstract),t.Events.FinishedLoading.prototype.type=t.Events.FINISHED_LOADING,t.Events.FinishedLoading.prototype.toJson=function(){var t={type:this.type};return this.group&&(t.group=this.group),this.workspaceId&&(t.workspaceId=this.workspaceId),t},t.Events.FinishedLoading.prototype.fromJson=function(t){this.isBlank=!1,this.workspaceId=t.workspaceId,this.group=t.group},t.registry.register(t.registry.Type.EVENT,t.Events.FINISHED_LOADING,t.Events.FinishedLoading),t.Events.UiBase=function(e){t.Events.UiBase.superClass_.constructor.call(this),this.isBlank=void 0===e,this.workspaceId=e||"",this.recordUndo=!1},t.utils.object.inherits(t.Events.UiBase,t.Events.Abstract),t.Events.UiBase.prototype.isUiEvent=!0,t.Events.Ui=function(e,o,n,r){t.Events.Ui.superClass_.constructor.call(this,e?e.workspace.id:void 0),this.blockId=e?e.id:null,this.element=void 0===o?"":o,this.oldValue=void 0===n?"":n,this.newValue=void 0===r?"":r},t.utils.object.inherits(t.Events.Ui,t.Events.UiBase),t.Events.Ui.prototype.type=t.Events.UI,t.Events.Ui.prototype.toJson=function(){var e=t.Events.Ui.superClass_.toJson.call(this);return e.element=this.element,void 0!==this.newValue&&(e.newValue=this.newValue),this.blockId&&(e.blockId=this.blockId),e},t.Events.Ui.prototype.fromJson=function(e){t.Events.Ui.superClass_.fromJson.call(this,e),this.element=e.element,this.newValue=e.newValue,this.blockId=e.blockId},t.registry.register(t.registry.Type.EVENT,t.Events.UI,t.Events.Ui),t.Events.VarBase=function(e){t.Events.VarBase.superClass_.constructor.call(this),this.varId=(this.isBlank=void 0===e)?"":e.getId(),this.workspaceId=this.isBlank?"":e.workspace.id},t.utils.object.inherits(t.Events.VarBase,t.Events.Abstract),t.Events.VarBase.prototype.toJson=function(){var e=t.Events.VarBase.superClass_.toJson.call(this);return e.varId=this.varId,e},t.Events.VarBase.prototype.fromJson=function(e){t.Events.VarBase.superClass_.toJson.call(this),this.varId=e.varId},t.Events.VarCreate=function(e){t.Events.VarCreate.superClass_.constructor.call(this,e),e&&(this.varType=e.type,this.varName=e.name)},t.utils.object.inherits(t.Events.VarCreate,t.Events.VarBase),t.Events.VarCreate.prototype.type=t.Events.VAR_CREATE,t.Events.VarCreate.prototype.toJson=function(){var e=t.Events.VarCreate.superClass_.toJson.call(this);return e.varType=this.varType,e.varName=this.varName,e},t.Events.VarCreate.prototype.fromJson=function(e){t.Events.VarCreate.superClass_.fromJson.call(this,e),this.varType=e.varType,this.varName=e.varName},t.Events.VarCreate.prototype.run=function(t){var e=this.getEventWorkspace_();t?e.createVariable(this.varName,this.varType,this.varId):e.deleteVariableById(this.varId)},t.Events.VarDelete=function(e){t.Events.VarDelete.superClass_.constructor.call(this,e),e&&(this.varType=e.type,this.varName=e.name)},t.utils.object.inherits(t.Events.VarDelete,t.Events.VarBase),t.Events.VarDelete.prototype.type=t.Events.VAR_DELETE,t.Events.VarDelete.prototype.toJson=function(){var e=t.Events.VarDelete.superClass_.toJson.call(this);return e.varType=this.varType,e.varName=this.varName,e},t.Events.VarDelete.prototype.fromJson=function(e){t.Events.VarDelete.superClass_.fromJson.call(this,e),this.varType=e.varType,this.varName=e.varName},t.Events.VarDelete.prototype.run=function(t){var e=this.getEventWorkspace_();t?e.deleteVariableById(this.varId):e.createVariable(this.varName,this.varType,this.varId)},t.Events.VarRename=function(e,o){t.Events.VarRename.superClass_.constructor.call(this,e),e&&(this.oldName=e.name,this.newName=void 0===o?"":o)},t.utils.object.inherits(t.Events.VarRename,t.Events.VarBase),t.Events.VarRename.prototype.type=t.Events.VAR_RENAME,t.Events.VarRename.prototype.toJson=function(){var e=t.Events.VarRename.superClass_.toJson.call(this);return e.oldName=this.oldName,e.newName=this.newName,e},t.Events.VarRename.prototype.fromJson=function(e){t.Events.VarRename.superClass_.fromJson.call(this,e),this.oldName=e.oldName,this.newName=e.newName},t.Events.VarRename.prototype.run=function(t){var e=this.getEventWorkspace_();t?e.renameVariableById(this.varId,this.newName):e.renameVariableById(this.varId,this.oldName)},t.registry.register(t.registry.Type.EVENT,t.Events.VAR_CREATE,t.Events.VarCreate),t.registry.register(t.registry.Type.EVENT,t.Events.VAR_DELETE,t.Events.VarDelete),t.registry.register(t.registry.Type.EVENT,t.Events.VAR_RENAME,t.Events.VarRename),t.BlockDragSurfaceSvg=function(t){this.container_=t,this.createDom()},t.BlockDragSurfaceSvg.prototype.SVG_=null,t.BlockDragSurfaceSvg.prototype.dragGroup_=null,t.BlockDragSurfaceSvg.prototype.container_=null,t.BlockDragSurfaceSvg.prototype.scale_=1,t.BlockDragSurfaceSvg.prototype.surfaceXY_=null,t.BlockDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",class:"blocklyBlockDragSurface"},this.container_),this.dragGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},this.SVG_))},t.BlockDragSurfaceSvg.prototype.setBlocksAndShow=function(e){if(this.dragGroup_.childNodes.length)throw Error("Already dragging a block.");this.dragGroup_.appendChild(e),this.SVG_.style.display="block",this.surfaceXY_=new t.utils.Coordinate(0,0)},t.BlockDragSurfaceSvg.prototype.translateAndScaleGroup=function(t,e,o){this.scale_=o,t=t.toFixed(0),e=e.toFixed(0),this.dragGroup_.setAttribute("transform","translate("+t+","+e+") scale("+o+")")},t.BlockDragSurfaceSvg.prototype.translateSurfaceInternal_=function(){var e=this.surfaceXY_.x,o=this.surfaceXY_.y;e=e.toFixed(0),o=o.toFixed(0),this.SVG_.style.display="block",t.utils.dom.setCssTransform(this.SVG_,"translate3d("+e+"px, "+o+"px, 0px)")},t.BlockDragSurfaceSvg.prototype.translateSurface=function(e,o){this.surfaceXY_=new t.utils.Coordinate(e*this.scale_,o*this.scale_),this.translateSurfaceInternal_()},t.BlockDragSurfaceSvg.prototype.getSurfaceTranslation=function(){var e=t.utils.getRelativeXY(this.SVG_);return new t.utils.Coordinate(e.x/this.scale_,e.y/this.scale_)},t.BlockDragSurfaceSvg.prototype.getGroup=function(){return this.dragGroup_},t.BlockDragSurfaceSvg.prototype.getCurrentBlock=function(){return this.dragGroup_.firstChild},t.BlockDragSurfaceSvg.prototype.clearAndHide=function(t){if(t?t.appendChild(this.getCurrentBlock()):this.dragGroup_.removeChild(this.getCurrentBlock()),this.SVG_.style.display="none",this.dragGroup_.childNodes.length)throw Error("Drag group was not cleared.");this.surfaceXY_=null},t.Css={},t.Css.injected_=!1,t.Css.register=function(e){if(t.Css.injected_)throw Error("CSS already injected");Array.prototype.push.apply(t.Css.CONTENT,e),e.length=0},t.Css.inject=function(e,o){if(!t.Css.injected_){t.Css.injected_=!0;var n=t.Css.CONTENT.join("\n");t.Css.CONTENT.length=0,e&&(e=o.replace(/[\\/]$/,""),n=n.replace(/<<<PATH>>>/g,e),(e=document.createElement("style")).id="blockly-common-style",n=document.createTextNode(n),e.appendChild(n),document.head.insertBefore(e,document.head.firstChild))}},t.Css.CONTENT=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);","color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {","max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;","border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","background: inherit;","border: inherit;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","position: relative;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {","background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"],t.utils.math={},t.utils.math.toRadians=function(t){return t*Math.PI/180},t.utils.math.toDegrees=function(t){return 180*t/Math.PI},t.utils.math.clamp=function(t,e,o){if(o<t){var n=o;o=t,t=n}return Math.max(t,Math.min(e,o))},t.DropDownDiv=function(){},t.DropDownDiv.boundsElement_=null,t.DropDownDiv.owner_=null,t.DropDownDiv.positionToField_=null,t.DropDownDiv.ARROW_SIZE=16,t.DropDownDiv.BORDER_SIZE=1,t.DropDownDiv.ARROW_HORIZONTAL_PADDING=12,t.DropDownDiv.PADDING_Y=16,t.DropDownDiv.ANIMATION_TIME=.25,t.DropDownDiv.animateOutTimer_=null,t.DropDownDiv.onHide_=null,t.DropDownDiv.rendererClassName_="",t.DropDownDiv.themeClassName_="",t.DropDownDiv.createDom=function(){if(!t.DropDownDiv.DIV_){var e=document.createElement("div");e.className="blocklyDropDownDiv",(t.parentContainer||document.body).appendChild(e),t.DropDownDiv.DIV_=e;var o=document.createElement("div");o.className="blocklyDropDownContent",e.appendChild(o),t.DropDownDiv.content_=o,(o=document.createElement("div")).className="blocklyDropDownArrow",e.appendChild(o),t.DropDownDiv.arrow_=o,t.DropDownDiv.DIV_.style.opacity=0,t.DropDownDiv.DIV_.style.transition="transform "+t.DropDownDiv.ANIMATION_TIME+"s, opacity "+t.DropDownDiv.ANIMATION_TIME+"s",e.addEventListener("focusin",(function(){t.utils.dom.addClass(e,"blocklyFocused")})),e.addEventListener("focusout",(function(){t.utils.dom.removeClass(e,"blocklyFocused")}))}},t.DropDownDiv.setBoundsElement=function(e){t.DropDownDiv.boundsElement_=e},t.DropDownDiv.getContentDiv=function(){return t.DropDownDiv.content_},t.DropDownDiv.clearContent=function(){t.DropDownDiv.content_.textContent="",t.DropDownDiv.content_.style.width=""},t.DropDownDiv.setColour=function(e,o){t.DropDownDiv.DIV_.style.backgroundColor=e,t.DropDownDiv.DIV_.style.borderColor=o},t.DropDownDiv.showPositionedByBlock=function(e,o,n,r){return t.DropDownDiv.showPositionedByRect_(t.DropDownDiv.getScaledBboxOfBlock_(o),e,n,r)},t.DropDownDiv.showPositionedByField=function(e,o,n){return t.DropDownDiv.positionToField_=!0,t.DropDownDiv.showPositionedByRect_(t.DropDownDiv.getScaledBboxOfField_(e),e,o,n)},t.DropDownDiv.getScaledBboxOfBlock_=function(e){var o=e.getSvgRoot(),n=o.getBBox(),r=e.workspace.scale;return e=n.height*r,n=n.width*r,o=t.utils.style.getPageOffset(o),new t.utils.Rect(o.y,o.y+e,o.x,o.x+n)},t.DropDownDiv.getScaledBboxOfField_=function(e){return e=e.getScaledBBox(),new t.utils.Rect(e.top,e.bottom,e.left,e.right)},t.DropDownDiv.showPositionedByRect_=function(e,o,n,r){var i=e.left+(e.right-e.left)/2,s=e.bottom;e=e.top,r&&(e+=r);for(var a=(r=o.getSourceBlock()).workspace;a.options.parentWorkspace;)a=a.options.parentWorkspace;return t.DropDownDiv.setBoundsElement(a.getParentSvg().parentNode),t.DropDownDiv.show(o,r.RTL,i,s,i,e,n)},t.DropDownDiv.show=function(e,o,n,r,i,s,a){return t.DropDownDiv.owner_=e,t.DropDownDiv.onHide_=a||null,(e=t.DropDownDiv.DIV_).style.direction=o?"rtl":"ltr",o=t.getMainWorkspace(),t.DropDownDiv.rendererClassName_=o.getRenderer().getClassName(),t.DropDownDiv.themeClassName_=o.getTheme().getClassName(),t.utils.dom.addClass(e,t.DropDownDiv.rendererClassName_),t.utils.dom.addClass(e,t.DropDownDiv.themeClassName_),t.DropDownDiv.positionInternal_(n,r,i,s)},t.DropDownDiv.getBoundsInfo_=function(){var e=t.utils.style.getPageOffset(t.DropDownDiv.boundsElement_),o=t.utils.style.getSize(t.DropDownDiv.boundsElement_);return{left:e.x,right:e.x+o.width,top:e.y,bottom:e.y+o.height,width:o.width,height:o.height}},t.DropDownDiv.getPositionMetrics_=function(e,o,n,r){var i=t.DropDownDiv.getBoundsInfo_(),s=t.utils.style.getSize(t.DropDownDiv.DIV_);return o+s.height<i.bottom?t.DropDownDiv.getPositionBelowMetrics_(e,o,i,s):r-s.height>i.top?t.DropDownDiv.getPositionAboveMetrics_(n,r,i,s):o+s.height<document.documentElement.clientHeight?t.DropDownDiv.getPositionBelowMetrics_(e,o,i,s):r-s.height>document.documentElement.clientTop?t.DropDownDiv.getPositionAboveMetrics_(n,r,i,s):t.DropDownDiv.getPositionTopOfPageMetrics_(e,i,s)},t.DropDownDiv.getPositionBelowMetrics_=function(e,o,n,r){return{initialX:(e=t.DropDownDiv.getPositionX(e,n.left,n.right,r.width)).divX,initialY:o,finalX:e.divX,finalY:o+t.DropDownDiv.PADDING_Y,arrowX:e.arrowX,arrowY:-(t.DropDownDiv.ARROW_SIZE/2+t.DropDownDiv.BORDER_SIZE),arrowAtTop:!0,arrowVisible:!0}},t.DropDownDiv.getPositionAboveMetrics_=function(e,o,n,r){return{initialX:(e=t.DropDownDiv.getPositionX(e,n.left,n.right,r.width)).divX,initialY:o-r.height,finalX:e.divX,finalY:o-r.height-t.DropDownDiv.PADDING_Y,arrowX:e.arrowX,arrowY:r.height-2*t.DropDownDiv.BORDER_SIZE-t.DropDownDiv.ARROW_SIZE/2,arrowAtTop:!1,arrowVisible:!0}},t.DropDownDiv.getPositionTopOfPageMetrics_=function(e,o,n){return{initialX:(e=t.DropDownDiv.getPositionX(e,o.left,o.right,n.width)).divX,initialY:0,finalX:e.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},t.DropDownDiv.getPositionX=function(e,o,n,r){var i=e;return e=t.utils.math.clamp(o,e-r/2,n-r),i-=t.DropDownDiv.ARROW_SIZE/2,o=t.DropDownDiv.ARROW_HORIZONTAL_PADDING,{arrowX:r=t.utils.math.clamp(o,i-e,r-o-t.DropDownDiv.ARROW_SIZE),divX:e}},t.DropDownDiv.isVisible=function(){return!!t.DropDownDiv.owner_},t.DropDownDiv.hideIfOwner=function(e,o){return t.DropDownDiv.owner_===e&&(o?t.DropDownDiv.hideWithoutAnimation():t.DropDownDiv.hide(),!0)},t.DropDownDiv.hide=function(){var e=t.DropDownDiv.DIV_;e.style.transform="translate(0, 0)",e.style.opacity=0,t.DropDownDiv.animateOutTimer_=setTimeout((function(){t.DropDownDiv.hideWithoutAnimation()}),1e3*t.DropDownDiv.ANIMATION_TIME),t.DropDownDiv.onHide_&&(t.DropDownDiv.onHide_(),t.DropDownDiv.onHide_=null)},t.DropDownDiv.hideWithoutAnimation=function(){if(t.DropDownDiv.isVisible()){t.DropDownDiv.animateOutTimer_&&clearTimeout(t.DropDownDiv.animateOutTimer_);var e=t.DropDownDiv.DIV_;e.style.transform="",e.style.left="",e.style.top="",e.style.opacity=0,e.style.display="none",e.style.backgroundColor="",e.style.borderColor="",t.DropDownDiv.onHide_&&(t.DropDownDiv.onHide_(),t.DropDownDiv.onHide_=null),t.DropDownDiv.clearContent(),t.DropDownDiv.owner_=null,t.DropDownDiv.rendererClassName_&&(t.utils.dom.removeClass(e,t.DropDownDiv.rendererClassName_),t.DropDownDiv.rendererClassName_=""),t.DropDownDiv.themeClassName_&&(t.utils.dom.removeClass(e,t.DropDownDiv.themeClassName_),t.DropDownDiv.themeClassName_=""),t.getMainWorkspace().markFocused()}},t.DropDownDiv.positionInternal_=function(e,o,n,r){(e=t.DropDownDiv.getPositionMetrics_(e,o,n,r)).arrowVisible?(t.DropDownDiv.arrow_.style.display="",t.DropDownDiv.arrow_.style.transform="translate("+e.arrowX+"px,"+e.arrowY+"px) rotate(45deg)",t.DropDownDiv.arrow_.setAttribute("class",e.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):t.DropDownDiv.arrow_.style.display="none",o=Math.floor(e.initialX),n=Math.floor(e.initialY),r=Math.floor(e.finalX);var i=Math.floor(e.finalY),s=t.DropDownDiv.DIV_;return s.style.left=o+"px",s.style.top=n+"px",s.style.display="block",s.style.opacity=1,s.style.transform="translate("+(r-o)+"px,"+(i-n)+"px)",!!e.arrowAtTop},t.DropDownDiv.repositionForWindowResize=function(){if(t.DropDownDiv.owner_){var e=t.DropDownDiv.owner_,o=e.getSourceBlock();o=(e=t.DropDownDiv.positionToField_?t.DropDownDiv.getScaledBboxOfField_(e):t.DropDownDiv.getScaledBboxOfBlock_(o)).left+(e.right-e.left)/2,t.DropDownDiv.positionInternal_(o,e.bottom,o,e.top)}else t.DropDownDiv.hide()},t.Grid=function(t,e){this.gridPattern_=t,this.spacing_=e.spacing,this.length_=e.length,this.line2_=(this.line1_=t.firstChild)&&this.line1_.nextSibling,this.snapToGrid_=e.snap},t.Grid.prototype.scale_=1,t.Grid.prototype.dispose=function(){this.gridPattern_=null},t.Grid.prototype.shouldSnap=function(){return this.snapToGrid_},t.Grid.prototype.getSpacing=function(){return this.spacing_},t.Grid.prototype.getPatternId=function(){return this.gridPattern_.id},t.Grid.prototype.update=function(t){this.scale_=t;var e=this.spacing_*t||100;this.gridPattern_.setAttribute("width",e),this.gridPattern_.setAttribute("height",e);var o=(e=Math.floor(this.spacing_/2)+.5)-this.length_/2,n=e+this.length_/2;e*=t,o*=t,n*=t,this.setLineAttributes_(this.line1_,t,o,n,e,e),this.setLineAttributes_(this.line2_,t,e,e,o,n)},t.Grid.prototype.setLineAttributes_=function(t,e,o,n,r,i){t&&(t.setAttribute("stroke-width",e),t.setAttribute("x1",o),t.setAttribute("y1",r),t.setAttribute("x2",n),t.setAttribute("y2",i))},t.Grid.prototype.moveTo=function(e,o){this.gridPattern_.setAttribute("x",e),this.gridPattern_.setAttribute("y",o),(t.utils.userAgent.IE||t.utils.userAgent.EDGE)&&this.update(this.scale_)},t.Grid.createDom=function(e,o,n){return e=t.utils.dom.createSvgElement(t.utils.Svg.PATTERN,{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},n),0<o.length&&0<o.spacing?(t.utils.dom.createSvgElement(t.utils.Svg.LINE,{stroke:o.colour},e),1<o.length&&t.utils.dom.createSvgElement(t.utils.Svg.LINE,{stroke:o.colour},e)):t.utils.dom.createSvgElement(t.utils.Svg.LINE,{},e),e},t.Theme=function(e,o,n,r){this.name=e,this.blockStyles=o||Object.create(null),this.categoryStyles=n||Object.create(null),this.componentStyles=r||Object.create(null),this.fontStyle=Object.create(null),this.startHats=null,t.registry.register(t.registry.Type.THEME,e,this)},t.Theme.prototype.getClassName=function(){return this.name+"-theme"},t.Theme.prototype.setBlockStyle=function(t,e){this.blockStyles[t]=e},t.Theme.prototype.setCategoryStyle=function(t,e){this.categoryStyles[t]=e},t.Theme.prototype.getComponentStyle=function(t){return(t=this.componentStyles[t])&&"string"==typeof t&&this.getComponentStyle(t)?this.getComponentStyle(t):t?String(t):null},t.Theme.prototype.setComponentStyle=function(t,e){this.componentStyles[t]=e},t.Theme.prototype.setFontStyle=function(t){this.fontStyle=t},t.Theme.prototype.setStartHats=function(t){this.startHats=t},t.Theme.defineTheme=function(e,o){var n=new t.Theme(e),r=o.base;return r&&("string"==typeof r&&(r=t.registry.getObject(t.registry.Type.THEME,r)),r instanceof t.Theme&&(t.utils.object.deepMerge(n,r),n.name=e)),t.utils.object.deepMerge(n.blockStyles,o.blockStyles),t.utils.object.deepMerge(n.categoryStyles,o.categoryStyles),t.utils.object.deepMerge(n.componentStyles,o.componentStyles),t.utils.object.deepMerge(n.fontStyle,o.fontStyle),null!=o.startHats&&(n.startHats=o.startHats),n},t.Themes={},t.Themes.Classic={},t.Themes.Classic.defaultBlockStyles={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},t.Themes.Classic.categoryStyles={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},t.Themes.Classic=new t.Theme("classic",t.Themes.Classic.defaultBlockStyles,t.Themes.Classic.categoryStyles),t.utils.IdGenerator={},t.utils.IdGenerator.nextId_=0,t.utils.IdGenerator.getNextUniqueId=function(){return"blockly-"+(t.utils.IdGenerator.nextId_++).toString(36)},t.utils.Metrics=function(){},t.utils.toolbox={},t.utils.toolbox.CATEGORY_TOOLBOX_KIND="categoryToolbox",t.utils.toolbox.FLYOUT_TOOLBOX_KIND="flyoutToolbox",t.utils.toolbox.Position={TOP:0,BOTTOM:1,LEFT:2,RIGHT:3},t.utils.toolbox.convertToolboxDefToJson=function(e){return e?((e instanceof Element||"string"==typeof e)&&(e=t.utils.toolbox.parseToolboxTree(e),e=t.utils.toolbox.convertToToolboxJson_(e)),t.utils.toolbox.validateToolbox_(e),e):null},t.utils.toolbox.validateToolbox_=function(e){var o=e.kind;if(e=e.contents,o&&o!=t.utils.toolbox.FLYOUT_TOOLBOX_KIND&&o!=t.utils.toolbox.CATEGORY_TOOLBOX_KIND)throw Error("Invalid toolbox kind "+o+". Please supply either "+t.utils.toolbox.FLYOUT_TOOLBOX_KIND+" or "+t.utils.toolbox.CATEGORY_TOOLBOX_KIND);if(!e)throw Error("Toolbox must have a contents attribute.")},t.utils.toolbox.convertFlyoutDefToJsonArray=function(e){return e?e.contents?e.contents:Array.isArray(e)&&0<e.length&&!e[0].nodeType?e:t.utils.toolbox.xmlToJsonArray_(e):[]},t.utils.toolbox.hasCategories=function(e){if(!e)return!1;var o=e.kind;return o?o==t.utils.toolbox.CATEGORY_TOOLBOX_KIND:!!e.contents.filter((function(t){return"CATEGORY"==t.kind.toUpperCase()})).length},t.utils.toolbox.isCategoryCollapsible=function(t){return!(!t||!t.contents||!t.contents.filter((function(t){return"CATEGORY"==t.kind.toUpperCase()})).length)},t.utils.toolbox.convertToToolboxJson_=function(e){var o={contents:t.utils.toolbox.xmlToJsonArray_(e)};return e instanceof Node&&t.utils.toolbox.addAttributes_(e,o),o},t.utils.toolbox.xmlToJsonArray_=function(e){var o,n=[],r=e.childNodes;for(r||(r=e),e=0;o=r[e];e++)if(o.tagName){var i={},s=o.tagName.toUpperCase();i.kind=s,"BLOCK"==s?i.blockxml=o:o.childNodes&&0<o.childNodes.length&&(i.contents=t.utils.toolbox.xmlToJsonArray_(o)),t.utils.toolbox.addAttributes_(o,i),n.push(i)}return n},t.utils.toolbox.addAttributes_=function(t,e){for(var o=0;o<t.attributes.length;o++){var n=t.attributes[o];-1<n.nodeName.indexOf("css-")?(e.cssconfig=e.cssconfig||{},e.cssconfig[n.nodeName.replace("css-","")]=n.value):e[n.nodeName]=n.value}},t.utils.toolbox.parseToolboxTree=function(e){if(e){if("string"!=typeof e&&(t.utils.userAgent.IE&&e.outerHTML?e=e.outerHTML:e instanceof Element||(e=null)),"string"==typeof e&&"xml"!=(e=t.Xml.textToDom(e)).nodeName.toLowerCase())throw TypeError("Toolbox should be an <xml> document.")}else e=null;return e},t.Options=function(e){var o=!!e.readOnly;if(o)var n=null,r=!1,i=!1,s=!1,a=!1,l=!1,c=!1;else{n=t.utils.toolbox.convertToolboxDefToJson(e.toolbox),r=t.utils.toolbox.hasCategories(n),void 0===(i=e.trashcan)&&(i=r);var u=e.maxTrashcanContents;i?void 0===u&&(u=32):u=0,void 0===(s=e.collapse)&&(s=r),void 0===(a=e.comments)&&(a=r),void 0===(l=e.disable)&&(l=r),void 0===(c=e.sounds)&&(c=!0)}var p=!!e.rtl,h=e.horizontalLayout;void 0===h&&(h=!1);var d=e.toolboxPosition;d="end"!==d,d=h?d?t.utils.toolbox.Position.TOP:t.utils.toolbox.Position.BOTTOM:d==p?t.utils.toolbox.Position.RIGHT:t.utils.toolbox.Position.LEFT;var g=e.css;void 0===g&&(g=!0);var _="https://blockly-demo.appspot.com/static/media/";e.media?_=e.media:e.path&&(_=e.path+"media/");var f=void 0===e.oneBasedIndex||!!e.oneBasedIndex,m=e.renderer||"geras",v=e.plugins||{};this.RTL=p,this.oneBasedIndex=f,this.collapse=s,this.comments=a,this.disable=l,this.readOnly=o,this.maxBlocks=e.maxBlocks||1/0,this.maxInstances=e.maxInstances,this.pathToMedia=_,this.hasCategories=r,this.moveOptions=t.Options.parseMoveOptions_(e,r),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=i,this.maxTrashcanContents=u,this.hasSounds=c,this.hasCss=g,this.horizontalLayout=h,this.languageTree=n,this.gridOptions=t.Options.parseGridOptions_(e),this.zoomOptions=t.Options.parseZoomOptions_(e),this.toolboxPosition=d,this.theme=t.Options.parseThemeOptions_(e),this.renderer=m,this.rendererOverrides=e.rendererOverrides,this.gridPattern=null,this.parentWorkspace=e.parentWorkspace,this.plugins=v},t.BlocklyOptions=function(){},t.Options.parseMoveOptions_=function(t,e){var o=t.move||{},n={};return void 0===o.scrollbars&&void 0===t.scrollbars?n.scrollbars=e:"object"==typeof o.scrollbars?(n.scrollbars={},n.scrollbars.horizontal=!!o.scrollbars.horizontal,n.scrollbars.vertical=!!o.scrollbars.vertical,n.scrollbars.horizontal&&n.scrollbars.vertical?n.scrollbars=!0:n.scrollbars.horizontal||n.scrollbars.vertical||(n.scrollbars=!1)):n.scrollbars=!!o.scrollbars||!!t.scrollbars,n.wheel=n.scrollbars&&void 0!==o.wheel?!!o.wheel:"object"==typeof n.scrollbars,n.drag=!(!n.scrollbars||void 0!==o.drag&&!o.drag),n},t.Options.parseZoomOptions_=function(t){t=t.zoom||{};var e={};return e.controls=void 0!==t.controls&&!!t.controls,e.wheel=void 0!==t.wheel&&!!t.wheel,e.startScale=void 0===t.startScale?1:Number(t.startScale),e.maxScale=void 0===t.maxScale?3:Number(t.maxScale),e.minScale=void 0===t.minScale?.3:Number(t.minScale),e.scaleSpeed=void 0===t.scaleSpeed?1.2:Number(t.scaleSpeed),e.pinch=void 0===t.pinch?e.wheel||e.controls:!!t.pinch,e},t.Options.parseGridOptions_=function(t){t=t.grid||{};var e={};return e.spacing=Number(t.spacing)||0,e.colour=t.colour||"#888",e.length=void 0===t.length?1:Number(t.length),e.snap=0<e.spacing&&!!t.snap,e},t.Options.parseThemeOptions_=function(e){return"string"==typeof(e=e.theme||t.Themes.Classic)?t.registry.getObject(t.registry.Type.THEME,e):e instanceof t.Theme?e:t.Theme.defineTheme(e.name||"builtin"+t.utils.IdGenerator.getNextUniqueId(),e)},t.Options.parseToolboxTree=function(e){return t.utils.deprecation.warn("Blockly.Options.parseToolboxTree","September 2020","September 2021","Blockly.utils.toolbox.parseToolboxTree"),t.utils.toolbox.parseToolboxTree(e)},t.ScrollbarPair=function(e,o,n,r){this.workspace_=e,n=void 0===n||n;var i=(o=void 0===o||o)&&n;o&&(this.hScroll=new t.Scrollbar(e,!0,i,r)),n&&(this.vScroll=new t.Scrollbar(e,!1,i,r)),i&&(this.corner_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{height:t.Scrollbar.scrollbarThickness,width:t.Scrollbar.scrollbarThickness,class:"blocklyScrollbarBackground"},null),t.utils.dom.insertAfter(this.corner_,e.getBubbleCanvas())),this.oldHostMetrics_=null},t.ScrollbarPair.prototype.dispose=function(){t.utils.dom.removeNode(this.corner_),this.oldHostMetrics_=this.workspace_=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)},t.ScrollbarPair.prototype.resize=function(){var e=this.workspace_.getMetrics();if(e){var o=!1,n=!1;if(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==e.viewWidth&&this.oldHostMetrics_.viewHeight==e.viewHeight&&this.oldHostMetrics_.absoluteTop==e.absoluteTop&&this.oldHostMetrics_.absoluteLeft==e.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.scrollWidth==e.scrollWidth&&this.oldHostMetrics_.viewLeft==e.viewLeft&&this.oldHostMetrics_.scrollLeft==e.scrollLeft||(o=!0),this.oldHostMetrics_&&this.oldHostMetrics_.scrollHeight==e.scrollHeight&&this.oldHostMetrics_.viewTop==e.viewTop&&this.oldHostMetrics_.scrollTop==e.scrollTop||(n=!0)):n=o=!0,o||n){try{t.Events.disable(),this.hScroll&&o&&this.hScroll.resize(e),this.vScroll&&n&&this.vScroll.resize(e)}finally{t.Events.enable()}this.workspace_.maybeFireViewportChangeEvent()}this.hScroll&&this.vScroll&&(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==e.viewWidth&&this.oldHostMetrics_.absoluteLeft==e.absoluteLeft||this.corner_.setAttribute("x",this.vScroll.position.x),this.oldHostMetrics_&&this.oldHostMetrics_.viewHeight==e.viewHeight&&this.oldHostMetrics_.absoluteTop==e.absoluteTop||this.corner_.setAttribute("y",this.hScroll.position.y)),this.oldHostMetrics_=e}},t.ScrollbarPair.prototype.canScrollHorizontally=function(){return!!this.hScroll},t.ScrollbarPair.prototype.canScrollVertically=function(){return!!this.vScroll},t.ScrollbarPair.prototype.setOrigin=function(t,e){this.hScroll&&this.hScroll.setOrigin(t,e),this.vScroll&&this.vScroll.setOrigin(t,e)},t.ScrollbarPair.prototype.set=function(t,e,o){this.hScroll&&this.hScroll.set(t,!1),this.vScroll&&this.vScroll.set(e,!1),(o||void 0===o)&&(t={},this.hScroll&&(t.x=this.hScroll.getRatio_()),this.vScroll&&(t.y=this.vScroll.getRatio_()),this.workspace_.setMetrics(t))},t.ScrollbarPair.prototype.setX=function(t){this.hScroll&&this.hScroll.set(t,!0)},t.ScrollbarPair.prototype.setY=function(t){this.vScroll&&this.vScroll.set(t,!0)},t.ScrollbarPair.prototype.setContainerVisible=function(t){this.hScroll&&this.hScroll.setContainerVisible(t),this.vScroll&&this.vScroll.setContainerVisible(t)},t.ScrollbarPair.prototype.isVisible=function(){var t=!1;return this.hScroll&&(t=this.hScroll.isVisible()),this.vScroll&&(t=t||this.vScroll.isVisible()),t},t.ScrollbarPair.prototype.resizeContent=function(t){this.hScroll&&this.hScroll.resizeContentHorizontal(t),this.vScroll&&this.vScroll.resizeContentVertical(t)},t.ScrollbarPair.prototype.resizeView=function(t){this.hScroll&&this.hScroll.resizeViewHorizontal(t),this.vScroll&&this.vScroll.resizeViewVertical(t)},t.Scrollbar=function(e,o,n,r){this.workspace_=e,this.pair_=n||!1,this.horizontal_=o,this.ratio=this.oldHostMetrics_=null,this.createDom_(r),this.position=new t.utils.Coordinate(0,0),e=t.Scrollbar.scrollbarThickness,o?(this.svgBackground_.setAttribute("height",e),this.outerSvg_.setAttribute("height",e),this.svgHandle_.setAttribute("height",e-5),this.svgHandle_.setAttribute("y",2.5),this.lengthAttribute_="width",this.positionAttribute_="x"):(this.svgBackground_.setAttribute("width",e),this.outerSvg_.setAttribute("width",e),this.svgHandle_.setAttribute("width",e-5),this.svgHandle_.setAttribute("x",2.5),this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=t.browserEvents.conditionalBind(this.svgBackground_,"mousedown",this,this.onMouseDownBar_),this.onMouseDownHandleWrapper_=t.browserEvents.conditionalBind(this.svgHandle_,"mousedown",this,this.onMouseDownHandle_)},t.Scrollbar.prototype.origin_=new t.utils.Coordinate(0,0),t.Scrollbar.prototype.startDragMouse_=0,t.Scrollbar.prototype.scrollbarLength_=0,t.Scrollbar.prototype.handleLength_=0,t.Scrollbar.prototype.handlePosition_=0,t.Scrollbar.prototype.isVisible_=!0,t.Scrollbar.prototype.containerVisible_=!0,t.Scrollbar.scrollbarThickness=15,t.Touch.TOUCH_ENABLED&&(t.Scrollbar.scrollbarThickness=25),t.Scrollbar.SCROLLBAR_MARGIN=.5,t.Scrollbar.metricsAreEquivalent_=function(t,e){return!(!t||!e||t.viewWidth!=e.viewWidth||t.viewHeight!=e.viewHeight||t.viewLeft!=e.viewLeft||t.viewTop!=e.viewTop||t.absoluteTop!=e.absoluteTop||t.absoluteLeft!=e.absoluteLeft||t.scrollWidth!=e.scrollWidth||t.scrollHeight!=e.scrollHeight||t.scrollLeft!=e.scrollLeft||t.scrollTop!=e.scrollTop)},t.Scrollbar.prototype.dispose=function(){this.cleanUp_(),t.browserEvents.unbind(this.onMouseDownBarWrapper_),this.onMouseDownBarWrapper_=null,t.browserEvents.unbind(this.onMouseDownHandleWrapper_),this.onMouseDownHandleWrapper_=null,t.utils.dom.removeNode(this.outerSvg_),this.svgBackground_=this.svgGroup_=this.outerSvg_=null,this.svgHandle_&&(this.workspace_.getThemeManager().unsubscribe(this.svgHandle_),this.svgHandle_=null),this.workspace_=null},t.Scrollbar.prototype.constrainHandleLength_=function(t){return 0>=t||isNaN(t)?0:Math.min(t,this.scrollbarLength_)},t.Scrollbar.prototype.setHandleLength_=function(t){this.handleLength_=t,this.svgHandle_.setAttribute(this.lengthAttribute_,this.handleLength_)},t.Scrollbar.prototype.constrainHandlePosition_=function(t){return 0>=t||isNaN(t)?0:Math.min(t,this.scrollbarLength_-this.handleLength_)},t.Scrollbar.prototype.setHandlePosition=function(t){this.handlePosition_=t,this.svgHandle_.setAttribute(this.positionAttribute_,this.handlePosition_)},t.Scrollbar.prototype.setScrollbarLength_=function(t){this.scrollbarLength_=t,this.outerSvg_.setAttribute(this.lengthAttribute_,this.scrollbarLength_),this.svgBackground_.setAttribute(this.lengthAttribute_,this.scrollbarLength_)},t.Scrollbar.prototype.setPosition=function(e,o){this.position.x=e,this.position.y=o,t.utils.dom.setCssTransform(this.outerSvg_,"translate("+(this.position.x+this.origin_.x)+"px,"+(this.position.y+this.origin_.y)+"px)")},t.Scrollbar.prototype.resize=function(e){(e||(e=this.workspace_.getMetrics()))&&(t.Scrollbar.metricsAreEquivalent_(e,this.oldHostMetrics_)||(this.horizontal_?this.resizeHorizontal_(e):this.resizeVertical_(e),this.oldHostMetrics_=e,this.updateMetrics_()))},t.Scrollbar.prototype.requiresViewResize_=function(t){return!this.oldHostMetrics_||this.oldHostMetrics_.viewWidth!==t.viewWidth||this.oldHostMetrics_.viewHeight!==t.viewHeight||this.oldHostMetrics_.absoluteLeft!==t.absoluteLeft||this.oldHostMetrics_.absoluteTop!==t.absoluteTop},t.Scrollbar.prototype.resizeHorizontal_=function(t){this.requiresViewResize_(t)?this.resizeViewHorizontal(t):this.resizeContentHorizontal(t)},t.Scrollbar.prototype.resizeViewHorizontal=function(e){var o=e.viewWidth-2*t.Scrollbar.SCROLLBAR_MARGIN;this.pair_&&(o-=t.Scrollbar.scrollbarThickness),this.setScrollbarLength_(Math.max(0,o)),o=e.absoluteLeft+t.Scrollbar.SCROLLBAR_MARGIN,this.pair_&&this.workspace_.RTL&&(o+=t.Scrollbar.scrollbarThickness),this.setPosition(o,e.absoluteTop+e.viewHeight-t.Scrollbar.scrollbarThickness-t.Scrollbar.SCROLLBAR_MARGIN),this.resizeContentHorizontal(e)},t.Scrollbar.prototype.resizeContentHorizontal=function(t){if(t.viewWidth>=t.scrollWidth)this.setHandleLength_(this.scrollbarLength_),this.setHandlePosition(0),this.pair_||this.setVisible(!1);else{this.pair_||this.setVisible(!0);var e=this.scrollbarLength_*t.viewWidth/t.scrollWidth;e=this.constrainHandleLength_(e),this.setHandleLength_(e),e=t.scrollWidth-t.viewWidth;var o=this.scrollbarLength_-this.handleLength_;t=(t.viewLeft-t.scrollLeft)/e*o,t=this.constrainHandlePosition_(t),this.setHandlePosition(t),this.ratio=o/e}},t.Scrollbar.prototype.resizeVertical_=function(t){this.requiresViewResize_(t)?this.resizeViewVertical(t):this.resizeContentVertical(t)},t.Scrollbar.prototype.resizeViewVertical=function(e){var o=e.viewHeight-2*t.Scrollbar.SCROLLBAR_MARGIN;this.pair_&&(o-=t.Scrollbar.scrollbarThickness),this.setScrollbarLength_(Math.max(0,o)),this.setPosition(this.workspace_.RTL?e.absoluteLeft+t.Scrollbar.SCROLLBAR_MARGIN:e.absoluteLeft+e.viewWidth-t.Scrollbar.scrollbarThickness-t.Scrollbar.SCROLLBAR_MARGIN,e.absoluteTop+t.Scrollbar.SCROLLBAR_MARGIN),this.resizeContentVertical(e)},t.Scrollbar.prototype.resizeContentVertical=function(t){if(t.viewHeight>=t.scrollHeight)this.setHandleLength_(this.scrollbarLength_),this.setHandlePosition(0),this.pair_||this.setVisible(!1);else{this.pair_||this.setVisible(!0);var e=this.scrollbarLength_*t.viewHeight/t.scrollHeight;e=this.constrainHandleLength_(e),this.setHandleLength_(e),e=t.scrollHeight-t.viewHeight;var o=this.scrollbarLength_-this.handleLength_;t=(t.viewTop-t.scrollTop)/e*o,t=this.constrainHandlePosition_(t),this.setHandlePosition(t),this.ratio=o/e}},t.Scrollbar.prototype.createDom_=function(e){var o="blocklyScrollbar"+(this.horizontal_?"Horizontal":"Vertical");e&&(o+=" "+e),this.outerSvg_=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{class:o},null),this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},this.outerSvg_),this.svgBackground_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyScrollbarBackground"},this.svgGroup_),e=Math.floor((t.Scrollbar.scrollbarThickness-5)/2),this.svgHandle_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyScrollbarHandle",rx:e,ry:e},this.svgGroup_),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarOpacity","fill-opacity"),t.utils.dom.insertAfter(this.outerSvg_,this.workspace_.getParentSvg())},t.Scrollbar.prototype.isVisible=function(){return this.isVisible_},t.Scrollbar.prototype.setContainerVisible=function(t){var e=t!=this.containerVisible_;this.containerVisible_=t,e&&this.updateDisplay_()},t.Scrollbar.prototype.setVisible=function(t){var e=t!=this.isVisible();if(this.pair_)throw Error("Unable to toggle visibility of paired scrollbars.");this.isVisible_=t,e&&this.updateDisplay_()},t.Scrollbar.prototype.updateDisplay_=function(){this.containerVisible_&&this.isVisible()?this.outerSvg_.setAttribute("display","block"):this.outerSvg_.setAttribute("display","none")},t.Scrollbar.prototype.onMouseDownBar_=function(e){if(this.workspace_.markFocused(),t.Touch.clearTouchIdentifier(),this.cleanUp_(),t.utils.isRightButton(e))e.stopPropagation();else{var o=t.utils.mouseToSvg(e,this.workspace_.getParentSvg(),this.workspace_.getInverseScreenCTM());o=this.horizontal_?o.x:o.y;var n=t.utils.getInjectionDivXY_(this.svgHandle_);n=this.horizontal_?n.x:n.y;var r=this.handlePosition_,i=.95*this.handleLength_;o<=n?r-=i:o>=n+this.handleLength_&&(r+=i),this.setHandlePosition(this.constrainHandlePosition_(r)),this.updateMetrics_(),e.stopPropagation(),e.preventDefault()}},t.Scrollbar.prototype.onMouseDownHandle_=function(e){this.workspace_.markFocused(),this.cleanUp_(),t.utils.isRightButton(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition_,this.workspace_.setupDragSurface(),this.startDragMouse_=this.horizontal_?e.clientX:e.clientY,t.Scrollbar.onMouseUpWrapper_=t.browserEvents.conditionalBind(document,"mouseup",this,this.onMouseUpHandle_),t.Scrollbar.onMouseMoveWrapper_=t.browserEvents.conditionalBind(document,"mousemove",this,this.onMouseMoveHandle_),e.stopPropagation(),e.preventDefault())},t.Scrollbar.prototype.onMouseMoveHandle_=function(t){this.setHandlePosition(this.constrainHandlePosition_(this.startDragHandle+((this.horizontal_?t.clientX:t.clientY)-this.startDragMouse_))),this.updateMetrics_()},t.Scrollbar.prototype.onMouseUpHandle_=function(){this.workspace_.resetDragSurface(),t.Touch.clearTouchIdentifier(),this.cleanUp_()},t.Scrollbar.prototype.cleanUp_=function(){t.hideChaff(!0),t.Scrollbar.onMouseUpWrapper_&&(t.browserEvents.unbind(t.Scrollbar.onMouseUpWrapper_),t.Scrollbar.onMouseUpWrapper_=null),t.Scrollbar.onMouseMoveWrapper_&&(t.browserEvents.unbind(t.Scrollbar.onMouseMoveWrapper_),t.Scrollbar.onMouseMoveWrapper_=null)},t.Scrollbar.prototype.getRatio_=function(){var t=this.handlePosition_/(this.scrollbarLength_-this.handleLength_);return isNaN(t)&&(t=0),t},t.Scrollbar.prototype.updateMetrics_=function(){var t=this.getRatio_(),e={};this.horizontal_?e.x=t:e.y=t,this.workspace_.setMetrics(e)},t.Scrollbar.prototype.set=function(t,e){this.setHandlePosition(this.constrainHandlePosition_(t*this.ratio)),(e||void 0===e)&&this.updateMetrics_()},t.Scrollbar.prototype.setOrigin=function(e,o){this.origin_=new t.utils.Coordinate(e,o)},t.Tooltip={},t.Tooltip.visible=!1,t.Tooltip.blocked_=!1,t.Tooltip.LIMIT=50,t.Tooltip.mouseOutPid_=0,t.Tooltip.showPid_=0,t.Tooltip.lastX_=0,t.Tooltip.lastY_=0,t.Tooltip.element_=null,t.Tooltip.poisonedElement_=null,t.Tooltip.OFFSET_X=0,t.Tooltip.OFFSET_Y=10,t.Tooltip.RADIUS_OK=10,t.Tooltip.HOVER_MS=750,t.Tooltip.MARGINS=5,t.Tooltip.DIV=null,t.Tooltip.getTooltipOfObject=function(e){if(e=t.Tooltip.getTargetObject_(e)){for(e=e.tooltip;"function"==typeof e;)e=e();if("string"!=typeof e)throw Error("Tooltip function must return a string.");return e}return""},t.Tooltip.getTargetObject_=function(t){for(;t&&t.tooltip;){if("string"==typeof t.tooltip||"function"==typeof t.tooltip)return t;t=t.tooltip}return null},t.Tooltip.createDom=function(){t.Tooltip.DIV||(t.Tooltip.DIV=document.createElement("div"),t.Tooltip.DIV.className="blocklyTooltipDiv",(t.parentContainer||document.body).appendChild(t.Tooltip.DIV))},t.Tooltip.bindMouseEvents=function(e){e.mouseOverWrapper_=t.browserEvents.bind(e,"mouseover",null,t.Tooltip.onMouseOver_),e.mouseOutWrapper_=t.browserEvents.bind(e,"mouseout",null,t.Tooltip.onMouseOut_),e.addEventListener("mousemove",t.Tooltip.onMouseMove_,!1)},t.Tooltip.unbindMouseEvents=function(e){e&&(t.browserEvents.unbind(e.mouseOverWrapper_),t.browserEvents.unbind(e.mouseOutWrapper_),e.removeEventListener("mousemove",t.Tooltip.onMouseMove_))},t.Tooltip.onMouseOver_=function(e){t.Tooltip.blocked_||(e=t.Tooltip.getTargetObject_(e.currentTarget),t.Tooltip.element_!=e&&(t.Tooltip.hide(),t.Tooltip.poisonedElement_=null,t.Tooltip.element_=e),clearTimeout(t.Tooltip.mouseOutPid_))},t.Tooltip.onMouseOut_=function(e){t.Tooltip.blocked_||(t.Tooltip.mouseOutPid_=setTimeout((function(){t.Tooltip.element_=null,t.Tooltip.poisonedElement_=null,t.Tooltip.hide()}),1),clearTimeout(t.Tooltip.showPid_))},t.Tooltip.onMouseMove_=function(e){if(t.Tooltip.element_&&t.Tooltip.element_.tooltip&&!t.Tooltip.blocked_)if(t.Tooltip.visible){var o=t.Tooltip.lastX_-e.pageX;e=t.Tooltip.lastY_-e.pageY,Math.sqrt(o*o+e*e)>t.Tooltip.RADIUS_OK&&t.Tooltip.hide()}else t.Tooltip.poisonedElement_!=t.Tooltip.element_&&(clearTimeout(t.Tooltip.showPid_),t.Tooltip.lastX_=e.pageX,t.Tooltip.lastY_=e.pageY,t.Tooltip.showPid_=setTimeout(t.Tooltip.show_,t.Tooltip.HOVER_MS))},t.Tooltip.dispose=function(){t.Tooltip.element_=null,t.Tooltip.poisonedElement_=null,t.Tooltip.hide()},t.Tooltip.hide=function(){t.Tooltip.visible&&(t.Tooltip.visible=!1,t.Tooltip.DIV&&(t.Tooltip.DIV.style.display="none")),t.Tooltip.showPid_&&clearTimeout(t.Tooltip.showPid_)},t.Tooltip.block=function(){t.Tooltip.hide(),t.Tooltip.blocked_=!0},t.Tooltip.unblock=function(){t.Tooltip.blocked_=!1},t.Tooltip.show_=function(){if(!t.Tooltip.blocked_&&(t.Tooltip.poisonedElement_=t.Tooltip.element_,t.Tooltip.DIV)){t.Tooltip.DIV.textContent="";var e=t.Tooltip.getTooltipOfObject(t.Tooltip.element_);e=(e=t.utils.string.wrap(e,t.Tooltip.LIMIT)).split("\n");for(var o=0;o<e.length;o++){var n=document.createElement("div");n.appendChild(document.createTextNode(e[o])),t.Tooltip.DIV.appendChild(n)}e=t.Tooltip.element_.RTL,o=document.documentElement.clientWidth,n=document.documentElement.clientHeight,t.Tooltip.DIV.style.direction=e?"rtl":"ltr",t.Tooltip.DIV.style.display="block",t.Tooltip.visible=!0;var r=t.Tooltip.lastX_;r=e?r-(t.Tooltip.OFFSET_X+t.Tooltip.DIV.offsetWidth):r+t.Tooltip.OFFSET_X;var i=t.Tooltip.lastY_+t.Tooltip.OFFSET_Y;i+t.Tooltip.DIV.offsetHeight>n+window.scrollY&&(i-=t.Tooltip.DIV.offsetHeight+2*t.Tooltip.OFFSET_Y),e?r=Math.max(t.Tooltip.MARGINS-window.scrollX,r):r+t.Tooltip.DIV.offsetWidth>o+window.scrollX-2*t.Tooltip.MARGINS&&(r=o-t.Tooltip.DIV.offsetWidth-2*t.Tooltip.MARGINS),t.Tooltip.DIV.style.top=i+"px",t.Tooltip.DIV.style.left=r+"px"}},t.utils.aria={},t.utils.aria.ARIA_PREFIX_="aria-",t.utils.aria.ROLE_ATTRIBUTE_="role",t.utils.aria.Role={GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",LISTBOX:"listbox",MENU:"menu",MENUITEM:"menuitem",MENUITEMCHECKBOX:"menuitemcheckbox",OPTION:"option",PRESENTATION:"presentation",ROW:"row",TREE:"tree",TREEITEM:"treeitem"},t.utils.aria.State={ACTIVEDESCENDANT:"activedescendant",COLCOUNT:"colcount",DISABLED:"disabled",EXPANDED:"expanded",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",ORIENTATION:"orientation",POSINSET:"posinset",ROWCOUNT:"rowcount",SELECTED:"selected",SETSIZE:"setsize",VALUEMAX:"valuemax",VALUEMIN:"valuemin"},t.utils.aria.setRole=function(e,o){e.setAttribute(t.utils.aria.ROLE_ATTRIBUTE_,o)},t.utils.aria.setState=function(e,o,n){Array.isArray(n)&&(n=n.join(" ")),e.setAttribute(t.utils.aria.ARIA_PREFIX_+o,n)},t.WorkspaceDragSurfaceSvg=function(t){this.container_=t,this.createDom()},t.WorkspaceDragSurfaceSvg.prototype.SVG_=null,t.WorkspaceDragSurfaceSvg.prototype.container_=null,t.WorkspaceDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",class:"blocklyWsDragSurface blocklyOverflowVisible"},null),this.container_.appendChild(this.SVG_))},t.WorkspaceDragSurfaceSvg.prototype.translateSurface=function(e,o){e=e.toFixed(0),o=o.toFixed(0),this.SVG_.style.display="block",t.utils.dom.setCssTransform(this.SVG_,"translate3d("+e+"px, "+o+"px, 0px)")},t.WorkspaceDragSurfaceSvg.prototype.getSurfaceTranslation=function(){return t.utils.getRelativeXY(this.SVG_)},t.WorkspaceDragSurfaceSvg.prototype.clearAndHide=function(e){if(!e)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var o=this.SVG_.childNodes[0],n=this.SVG_.childNodes[1];if(!(o&&n&&t.utils.dom.hasClass(o,"blocklyBlockCanvas")&&t.utils.dom.hasClass(n,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");if(null!=this.previousSibling_?t.utils.dom.insertAfter(o,this.previousSibling_):e.insertBefore(o,e.firstChild),t.utils.dom.insertAfter(n,o),this.SVG_.style.display="none",this.SVG_.childNodes.length)throw Error("Drag surface was not cleared.");t.utils.dom.setCssTransform(this.SVG_,""),this.previousSibling_=null},t.WorkspaceDragSurfaceSvg.prototype.setContentsAndShow=function(t,e,o,n,r,i){if(this.SVG_.childNodes.length)throw Error("Already dragging a block.");this.previousSibling_=o,t.setAttribute("transform","translate(0, 0) scale("+i+")"),e.setAttribute("transform","translate(0, 0) scale("+i+")"),this.SVG_.setAttribute("width",n),this.SVG_.setAttribute("height",r),this.SVG_.appendChild(t),this.SVG_.appendChild(e),this.SVG_.style.display="block"},t.blockRendering={},t.blockRendering.useDebugger=!1,t.blockRendering.register=function(e,o){t.registry.register(t.registry.Type.RENDERER,e,o)},t.blockRendering.unregister=function(e){t.registry.unregister(t.registry.Type.RENDERER,e)},t.blockRendering.startDebugger=function(){t.blockRendering.useDebugger=!0},t.blockRendering.stopDebugger=function(){t.blockRendering.useDebugger=!1},t.blockRendering.init=function(e,o,n){return(e=new(t.registry.getClass(t.registry.Type.RENDERER,e))(e)).init(o,n),e},t.ASTNode=function(e,o,n){if(!o)throw Error("Cannot create a node without a location.");this.type_=e,this.isConnection_=t.ASTNode.isConnectionType_(e),this.location_=o,this.wsCoordinate_=null,this.processParams_(n||null)},t.ASTNode.types={FIELD:"field",BLOCK:"block",INPUT:"input",OUTPUT:"output",NEXT:"next",PREVIOUS:"previous",STACK:"stack",WORKSPACE:"workspace"},t.ASTNode.NAVIGATE_ALL_FIELDS=!1,t.ASTNode.DEFAULT_OFFSET_Y=-20,t.ASTNode.isConnectionType_=function(e){switch(e){case t.ASTNode.types.PREVIOUS:case t.ASTNode.types.NEXT:case t.ASTNode.types.INPUT:case t.ASTNode.types.OUTPUT:return!0}return!1},t.ASTNode.createFieldNode=function(e){return e?new t.ASTNode(t.ASTNode.types.FIELD,e):null},t.ASTNode.createConnectionNode=function(e){if(!e)return null;var o=e.type;return o==t.connectionTypes.INPUT_VALUE||o==t.connectionTypes.NEXT_STATEMENT&&e.getParentInput()?t.ASTNode.createInputNode(e.getParentInput()):o==t.connectionTypes.NEXT_STATEMENT?new t.ASTNode(t.ASTNode.types.NEXT,e):o==t.connectionTypes.OUTPUT_VALUE?new t.ASTNode(t.ASTNode.types.OUTPUT,e):o==t.connectionTypes.PREVIOUS_STATEMENT?new t.ASTNode(t.ASTNode.types.PREVIOUS,e):null},t.ASTNode.createInputNode=function(e){return e&&e.connection?new t.ASTNode(t.ASTNode.types.INPUT,e.connection):null},t.ASTNode.createBlockNode=function(e){return e?new t.ASTNode(t.ASTNode.types.BLOCK,e):null},t.ASTNode.createStackNode=function(e){return e?new t.ASTNode(t.ASTNode.types.STACK,e):null},t.ASTNode.createWorkspaceNode=function(e,o){return o&&e?new t.ASTNode(t.ASTNode.types.WORKSPACE,e,{wsCoordinate:o}):null},t.ASTNode.createTopNode=function(e){var o=e.previousConnection||e.outputConnection;return o?t.ASTNode.createConnectionNode(o):t.ASTNode.createBlockNode(e)},t.ASTNode.prototype.processParams_=function(t){t&&t.wsCoordinate&&(this.wsCoordinate_=t.wsCoordinate)},t.ASTNode.prototype.getLocation=function(){return this.location_},t.ASTNode.prototype.getType=function(){return this.type_},t.ASTNode.prototype.getWsCoordinate=function(){return this.wsCoordinate_},t.ASTNode.prototype.isConnection=function(){return this.isConnection_},t.ASTNode.prototype.findNextForInput_=function(){var e,o=this.location_.getParentInput(),n=o.getSourceBlock();for(o=n.inputList.indexOf(o)+1;e=n.inputList[o];o++){for(var r,i=e.fieldRow,s=0;r=i[s];s++)if(r.isClickable()||t.ASTNode.NAVIGATE_ALL_FIELDS)return t.ASTNode.createFieldNode(r);if(e.connection)return t.ASTNode.createInputNode(e)}return null},t.ASTNode.prototype.findNextForField_=function(){var e=this.location_,o=e.getParentInput(),n=e.getSourceBlock(),r=n.inputList.indexOf(o);for(e=o.fieldRow.indexOf(e)+1;o=n.inputList[r];r++){for(var i=o.fieldRow;e<i.length;){if(i[e].isClickable()||t.ASTNode.NAVIGATE_ALL_FIELDS)return t.ASTNode.createFieldNode(i[e]);e++}if(e=0,o.connection)return t.ASTNode.createInputNode(o)}return null},t.ASTNode.prototype.findPrevForInput_=function(){for(var e,o=this.location_.getParentInput(),n=o.getSourceBlock(),r=n.inputList.indexOf(o);e=n.inputList[r];r--){if(e.connection&&e!==o)return t.ASTNode.createInputNode(e);for(var i,s=(e=e.fieldRow).length-1;i=e[s];s--)if(i.isClickable()||t.ASTNode.NAVIGATE_ALL_FIELDS)return t.ASTNode.createFieldNode(i)}return null},t.ASTNode.prototype.findPrevForField_=function(){var e,o=this.location_,n=o.getParentInput(),r=o.getSourceBlock(),i=r.inputList.indexOf(n);for(o=n.fieldRow.indexOf(o)-1;e=r.inputList[i];i--){if(e.connection&&e!==n)return t.ASTNode.createInputNode(e);for(e=e.fieldRow;-1<o;){if(e[o].isClickable()||t.ASTNode.NAVIGATE_ALL_FIELDS)return t.ASTNode.createFieldNode(e[o]);o--}0<=i-1&&(o=r.inputList[i-1].fieldRow.length-1)}return null},t.ASTNode.prototype.navigateBetweenStacks_=function(e){var o=this.getLocation();if(o instanceof t.Block||(o=o.getSourceBlock()),!o||!o.workspace)return null;var n=o.getRootBlock();o=n.workspace.getTopBlocks(!0);for(var r,i=0;r=o[i];i++)if(n.id==r.id)return-1==(e=i+(e?1:-1))||e==o.length?null:t.ASTNode.createStackNode(o[e]);throw Error("Couldn't find "+(e?"next":"previous")+" stack?!")},t.ASTNode.prototype.findTopASTNodeForBlock_=function(e){var o=e.previousConnection||e.outputConnection;return o?t.ASTNode.createConnectionNode(o):t.ASTNode.createBlockNode(e)},t.ASTNode.prototype.getOutAstNodeForBlock_=function(e){if(!e)return null;var o=(e=e.getTopStackBlock()).previousConnection||e.outputConnection;return o&&o.targetConnection&&o.targetConnection.getParentInput()?t.ASTNode.createInputNode(o.targetConnection.getParentInput()):t.ASTNode.createStackNode(e)},t.ASTNode.prototype.findFirstFieldOrInput_=function(e){e=e.inputList;for(var o,n=0;o=e[n];n++){for(var r,i=o.fieldRow,s=0;r=i[s];s++)if(r.isClickable()||t.ASTNode.NAVIGATE_ALL_FIELDS)return t.ASTNode.createFieldNode(r);if(o.connection)return t.ASTNode.createInputNode(o)}return null},t.ASTNode.prototype.getSourceBlock=function(){return this.getType()===t.ASTNode.types.BLOCK||this.getType()===t.ASTNode.types.STACK?this.getLocation():this.getType()===t.ASTNode.types.WORKSPACE?null:this.getLocation().getSourceBlock()},t.ASTNode.prototype.next=function(){switch(this.type_){case t.ASTNode.types.STACK:return this.navigateBetweenStacks_(!0);case t.ASTNode.types.OUTPUT:var e=this.location_;return t.ASTNode.createBlockNode(e.getSourceBlock());case t.ASTNode.types.FIELD:return this.findNextForField_();case t.ASTNode.types.INPUT:return this.findNextForInput_();case t.ASTNode.types.BLOCK:return t.ASTNode.createConnectionNode(this.location_.nextConnection);case t.ASTNode.types.PREVIOUS:return e=this.location_,t.ASTNode.createBlockNode(e.getSourceBlock());case t.ASTNode.types.NEXT:return e=this.location_,t.ASTNode.createConnectionNode(e.targetConnection)}return null},t.ASTNode.prototype.in=function(){switch(this.type_){case t.ASTNode.types.WORKSPACE:var e=this.location_.getTopBlocks(!0);if(0<e.length)return t.ASTNode.createStackNode(e[0]);break;case t.ASTNode.types.STACK:return e=this.location_,this.findTopASTNodeForBlock_(e);case t.ASTNode.types.BLOCK:return e=this.location_,this.findFirstFieldOrInput_(e);case t.ASTNode.types.INPUT:return t.ASTNode.createConnectionNode(this.location_.targetConnection)}return null},t.ASTNode.prototype.prev=function(){switch(this.type_){case t.ASTNode.types.STACK:return this.navigateBetweenStacks_(!1);case t.ASTNode.types.FIELD:return this.findPrevForField_();case t.ASTNode.types.INPUT:return this.findPrevForInput_();case t.ASTNode.types.BLOCK:var e=this.location_;return t.ASTNode.createConnectionNode(e.previousConnection||e.outputConnection);case t.ASTNode.types.PREVIOUS:if((e=(e=this.location_).targetConnection)&&!e.getParentInput())return t.ASTNode.createConnectionNode(e);break;case t.ASTNode.types.NEXT:return e=this.location_,t.ASTNode.createBlockNode(e.getSourceBlock())}return null},t.ASTNode.prototype.out=function(){switch(this.type_){case t.ASTNode.types.STACK:var e=this.location_,o=e.getRelativeToSurfaceXY();return o=new t.utils.Coordinate(o.x,o.y+t.ASTNode.DEFAULT_OFFSET_Y),t.ASTNode.createWorkspaceNode(e.workspace,o);case t.ASTNode.types.OUTPUT:return(o=(e=this.location_).targetConnection)?t.ASTNode.createConnectionNode(o):t.ASTNode.createStackNode(e.getSourceBlock());case t.ASTNode.types.FIELD:return t.ASTNode.createBlockNode(this.location_.getSourceBlock());case t.ASTNode.types.INPUT:return e=this.location_,t.ASTNode.createBlockNode(e.getSourceBlock());case t.ASTNode.types.BLOCK:return e=this.location_,this.getOutAstNodeForBlock_(e);case t.ASTNode.types.PREVIOUS:case t.ASTNode.types.NEXT:return e=this.location_,this.getOutAstNodeForBlock_(e.getSourceBlock())}return null},t.Blocks=Object.create(null),t.utils.deprecation={},t.utils.deprecation.warn=function(t,e,o,n){t=t+" was deprecated on "+e+" and will be deleted on "+o+".",n&&(t+="\nUse "+n+" instead."),console.warn(t)},t.Connection=function(t,e){this.sourceBlock_=t,this.type=e},t.Connection.CAN_CONNECT=0,t.Connection.REASON_SELF_CONNECTION=1,t.Connection.REASON_WRONG_TYPE=2,t.Connection.REASON_TARGET_NULL=3,t.Connection.REASON_CHECKS_FAILED=4,t.Connection.REASON_DIFFERENT_WORKSPACES=5,t.Connection.REASON_SHADOW_PARENT=6,t.Connection.REASON_DRAG_CHECKS_FAILED=7,t.Connection.prototype.targetConnection=null,t.Connection.prototype.disposed=!1,t.Connection.prototype.check_=null,t.Connection.prototype.shadowDom_=null,t.Connection.prototype.x=0,t.Connection.prototype.y=0,t.Connection.prototype.connect_=function(e){var o,n=this,r=n.getSourceBlock(),i=e.getSourceBlock();if(e.isConnected()&&e.disconnect(),n.isConnected()){var s=n.targetBlock(),a=n.getShadowDom();if(n.shadowDom_=null,s.isShadow())a=t.Xml.blockToDom(s),s.dispose(!1),s=null;else if(n.type==t.connectionTypes.INPUT_VALUE){if(!s.outputConnection)throw Error("Orphan block does not have an output connection.");var l=t.Connection.lastConnectionInRow(i,s);l&&(s.outputConnection.connect(l),s=null)}else if(n.type==t.connectionTypes.NEXT_STATEMENT){if(!s.previousConnection)throw Error("Orphan block does not have a previous connection.");for(l=i;l.nextConnection;){var c=l.getNextBlock();if(!c||c.isShadow()){s.workspace.connectionChecker.canConnect(s.previousConnection,l.nextConnection,!1)&&(l.nextConnection.connect(s.previousConnection),s=null);break}l=c}}if(s&&(n.disconnect(),t.Events.recordUndo)){var u=t.Events.getGroup();setTimeout((function(){s.workspace&&!s.getParent()&&(t.Events.setGroup(u),s.outputConnection?s.outputConnection.onFailedConnect(n):s.previousConnection&&s.previousConnection.onFailedConnect(n),t.Events.setGroup(!1))}),t.BUMP_DELAY)}n.shadowDom_=a}t.Events.isEnabled()&&(o=new(t.Events.get(t.Events.BLOCK_MOVE))(i)),t.Connection.connectReciprocally_(n,e),i.setParent(r),o&&(o.recordNew(),t.Events.fire(o))},t.Connection.prototype.dispose=function(){if(this.isConnected()){this.setShadowDom(null);var t=this.targetBlock();t&&t.unplug()}this.disposed=!0},t.Connection.prototype.getSourceBlock=function(){return this.sourceBlock_},t.Connection.prototype.isSuperior=function(){return this.type==t.connectionTypes.INPUT_VALUE||this.type==t.connectionTypes.NEXT_STATEMENT},t.Connection.prototype.isConnected=function(){return!!this.targetConnection},t.Connection.prototype.canConnectWithReason=function(e){return t.utils.deprecation.warn("Connection.prototype.canConnectWithReason","July 2020","July 2021","the workspace's connection checker"),this.getConnectionChecker().canConnectWithReason(this,e,!1)},t.Connection.prototype.checkConnection=function(e){t.utils.deprecation.warn("Connection.prototype.checkConnection","July 2020","July 2021","the workspace's connection checker");var o=this.getConnectionChecker(),n=o.canConnectWithReason(this,e,!1);if(n!=t.Connection.CAN_CONNECT)throw Error(o.getErrorMessage(n,this,e))},t.Connection.prototype.getConnectionChecker=function(){return this.sourceBlock_.workspace.connectionChecker},t.Connection.prototype.isConnectionAllowed=function(e){return t.utils.deprecation.warn("Connection.prototype.isConnectionAllowed","July 2020","July 2021","the workspace's connection checker"),this.getConnectionChecker().canConnect(this,e,!0)},t.Connection.prototype.onFailedConnect=function(t){},t.Connection.prototype.connect=function(e){if(this.targetConnection!=e&&this.getConnectionChecker().canConnect(this,e,!1)){var o=t.Events.getGroup();o||t.Events.setGroup(!0),this.isSuperior()?this.connect_(e):e.connect_(this),o||t.Events.setGroup(!1)}},t.Connection.connectReciprocally_=function(t,e){if(!t||!e)throw Error("Cannot connect null connections.");t.targetConnection=e,e.targetConnection=t},t.Connection.singleConnection_=function(e,o){var n=null;o=o.outputConnection;for(var r=0;r<e.inputList.length;r++){var i=e.inputList[r].connection,s=o.getConnectionChecker();if(i&&i.type==t.connectionTypes.INPUT_VALUE&&s.canConnect(o,i,!1)){if(n)return null;n=i}}return n},t.Connection.lastConnectionInRow=function(e,o){for(var n;n=t.Connection.singleConnection_(e,o);)if(!(e=n.targetBlock())||e.isShadow())return n;return null},t.Connection.prototype.disconnect=function(){var e=this.targetConnection;if(!e)throw Error("Source connection not connected.");if(e.targetConnection!=this)throw Error("Target connection not connected to source connection.");if(this.isSuperior()){var o=this.sourceBlock_,n=e.getSourceBlock();e=this}else o=e.getSourceBlock(),n=this.sourceBlock_;var r=t.Events.getGroup();r||t.Events.setGroup(!0),this.disconnectInternal_(o,n),n.isShadow()||e.respawnShadow_(),r||t.Events.setGroup(!1)},t.Connection.prototype.disconnectInternal_=function(e,o){var n;t.Events.isEnabled()&&(n=new(t.Events.get(t.Events.BLOCK_MOVE))(o)),this.targetConnection=this.targetConnection.targetConnection=null,o.setParent(null),n&&(n.recordNew(),t.Events.fire(n))},t.Connection.prototype.respawnShadow_=function(){var e=this.getSourceBlock(),o=this.getShadowDom();if(e.workspace&&o)if((e=t.Xml.domToBlock(o,e.workspace)).outputConnection)this.connect(e.outputConnection);else{if(!e.previousConnection)throw Error("Child block does not have output or previous statement.");this.connect(e.previousConnection)}},t.Connection.prototype.targetBlock=function(){return this.isConnected()?this.targetConnection.getSourceBlock():null},t.Connection.prototype.checkType=function(e){return t.utils.deprecation.warn("Connection.prototype.checkType","October 2019","January 2021","the workspace's connection checker"),this.getConnectionChecker().canConnect(this,e,!1)},t.Connection.prototype.checkType_=function(e){return t.utils.deprecation.warn("Connection.prototype.checkType_","October 2019","January 2021","the workspace's connection checker"),this.checkType(e)},t.Connection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()},t.Connection.prototype.setCheck=function(t){return t?(Array.isArray(t)||(t=[t]),this.check_=t,this.onCheckChanged_()):this.check_=null,this},t.Connection.prototype.getCheck=function(){return this.check_},t.Connection.prototype.setShadowDom=function(t){this.shadowDom_=t,(t=this.targetBlock())?t.isShadow()&&(t.dispose(!1),this.respawnShadow_()):this.respawnShadow_()},t.Connection.prototype.getShadowDom=function(){return this.shadowDom_},t.Connection.prototype.neighbours=function(t){return[]},t.Connection.prototype.getParentInput=function(){for(var t=null,e=this.sourceBlock_,o=e.inputList,n=0;n<e.inputList.length;n++)if(o[n].connection===this){t=o[n];break}return t},t.Connection.prototype.toString=function(){var t=this.sourceBlock_;if(!t)return"Orphan Connection";if(t.outputConnection==this)var e="Output Connection of ";else if(t.previousConnection==this)e="Previous Connection of ";else if(t.nextConnection==this)e="Next Connection of ";else{e=null;for(var o,n=0;o=t.inputList[n];n++)if(o.connection==this){e=o;break}if(!e)return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection";e='Input "'+e.name+'" connection on '}return e+t.toDevString()},t.Extensions={},t.Extensions.ALL_={},t.Extensions.register=function(e,o){if("string"!=typeof e||""==e.trim())throw Error('Error: Invalid extension name "'+e+'"');if(t.Extensions.ALL_[e])throw Error('Error: Extension "'+e+'" is already registered.');if("function"!=typeof o)throw Error('Error: Extension "'+e+'" must be a function');t.Extensions.ALL_[e]=o},t.Extensions.registerMixin=function(e,o){if(!o||"object"!=typeof o)throw Error('Error: Mixin "'+e+'" must be a object');t.Extensions.register(e,(function(){this.mixin(o)}))},t.Extensions.registerMutator=function(e,o,n,r){var i='Error when registering mutator "'+e+'": ';t.Extensions.checkHasFunction_(i,o.domToMutation,"domToMutation"),t.Extensions.checkHasFunction_(i,o.mutationToDom,"mutationToDom");var s=t.Extensions.checkMutatorDialog_(o,i);if(n&&"function"!=typeof n)throw Error('Extension "'+e+'" is not a function');t.Extensions.register(e,(function(){if(s){if(!t.Mutator)throw Error(i+"Missing require for Blockly.Mutator");this.setMutator(new t.Mutator(r||[]))}this.mixin(o),n&&n.apply(this)}))},t.Extensions.unregister=function(e){t.Extensions.ALL_[e]?delete t.Extensions.ALL_[e]:console.warn('No extension mapping for name "'+e+'" found to unregister')},t.Extensions.apply=function(e,o,n){var r=t.Extensions.ALL_[e];if("function"!=typeof r)throw Error('Error: Extension "'+e+'" not found.');if(n)t.Extensions.checkNoMutatorProperties_(e,o);else var i=t.Extensions.getMutatorProperties_(o);if(r.apply(o),n)t.Extensions.checkBlockHasMutatorProperties_('Error after applying mutator "'+e+'": ',o);else if(!t.Extensions.mutatorPropertiesMatch_(i,o))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')},t.Extensions.checkHasFunction_=function(t,e,o){if(!e)throw Error(t+'missing required property "'+o+'"');if("function"!=typeof e)throw Error(t+'" required property "'+o+'" must be a function')},t.Extensions.checkNoMutatorProperties_=function(e,o){if(t.Extensions.getMutatorProperties_(o).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+o.id)},t.Extensions.checkMutatorDialog_=function(t,e){var o=void 0!==t.compose,n=void 0!==t.decompose;if(o&&n){if("function"!=typeof t.compose)throw Error(e+"compose must be a function.");if("function"!=typeof t.decompose)throw Error(e+"decompose must be a function.");return!0}if(o||n)throw Error(e+'Must have both or neither of "compose" and "decompose"');return!1},t.Extensions.checkBlockHasMutatorProperties_=function(e,o){if("function"!=typeof o.domToMutation)throw Error(e+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof o.mutationToDom)throw Error(e+'Applying a mutator didn\'t add "mutationToDom"');t.Extensions.checkMutatorDialog_(o,e)},t.Extensions.getMutatorProperties_=function(t){var e=[];return void 0!==t.domToMutation&&e.push(t.domToMutation),void 0!==t.mutationToDom&&e.push(t.mutationToDom),void 0!==t.compose&&e.push(t.compose),void 0!==t.decompose&&e.push(t.decompose),e},t.Extensions.mutatorPropertiesMatch_=function(e,o){if((o=t.Extensions.getMutatorProperties_(o)).length!=e.length)return!1;for(var n=0;n<o.length;n++)if(e[n]!=o[n])return!1;return!0},t.Extensions.buildTooltipForDropdown=function(e,o){var n=[];return"object"==typeof document&&t.utils.runAfterPageLoad((function(){for(var e in o)t.utils.checkMessageReferences(o[e])})),function(){this.type&&-1==n.indexOf(this.type)&&(t.Extensions.checkDropdownOptionsInTable_(this,e,o),n.push(this.type)),this.setTooltip(function(){var r=String(this.getFieldValue(e)),i=o[r];return null==i?-1==n.indexOf(this.type)&&(r="No tooltip mapping for value "+r+" of field "+e,null!=this.type&&(r+=" of block type "+this.type),console.warn(r+".")):i=t.utils.replaceMessageReferences(i),i}.bind(this))}},t.Extensions.checkDropdownOptionsInTable_=function(t,e,o){var n=t.getField(e);if(!n.isOptionListDynamic()){n=n.getOptions();for(var r=0;r<n.length;++r){var i=n[r][1];null==o[i]&&console.warn("No tooltip mapping for value "+i+" of field "+e+" of block type "+t.type)}}},t.Extensions.buildTooltipWithFieldText=function(e,o){return"object"==typeof document&&t.utils.runAfterPageLoad((function(){t.utils.checkMessageReferences(e)})),function(){this.setTooltip(function(){var n=this.getField(o);return t.utils.replaceMessageReferences(e).replace("%1",n?n.getText():"")}.bind(this))}},t.Extensions.extensionParentTooltip_=function(){this.tooltipWhenNotConnected_=this.tooltip,this.setTooltip(function(){var t=this.getParent();return t&&t.getInputsInline()&&t.tooltip||this.tooltipWhenNotConnected_}.bind(this))},t.Extensions.register("parent_tooltip_when_inline",t.Extensions.extensionParentTooltip_),t.fieldRegistry={},t.fieldRegistry.register=function(e,o){t.registry.register(t.registry.Type.FIELD,e,o)},t.fieldRegistry.unregister=function(e){t.registry.unregister(t.registry.Type.FIELD,e)},t.fieldRegistry.fromJson=function(e){var o=t.registry.getObject(t.registry.Type.FIELD,e.type);return o?o.fromJson(e):(console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)},t.blockAnimations={},t.blockAnimations.disconnectPid_=0,t.blockAnimations.disconnectGroup_=null,t.blockAnimations.disposeUiEffect=function(e){var o=e.workspace,n=e.getSvgRoot();o.getAudioManager().play("delete"),e=o.getSvgXY(n),(n=n.cloneNode(!0)).translateX_=e.x,n.translateY_=e.y,n.setAttribute("transform","translate("+e.x+","+e.y+")"),o.getParentSvg().appendChild(n),n.bBox_=n.getBBox(),t.blockAnimations.disposeUiStep_(n,o.RTL,new Date,o.scale)},t.blockAnimations.disposeUiStep_=function(e,o,n,r){var i=(new Date-n)/150;1<i?t.utils.dom.removeNode(e):(e.setAttribute("transform","translate("+(e.translateX_+(o?-1:1)*e.bBox_.width*r/2*i)+","+(e.translateY_+e.bBox_.height*r*i)+") scale("+(1-i)*r+")"),setTimeout(t.blockAnimations.disposeUiStep_,10,e,o,n,r))},t.blockAnimations.connectionUiEffect=function(e){var o=e.workspace,n=o.scale;if(o.getAudioManager().play("click"),!(1>n)){var r=o.getSvgXY(e.getSvgRoot());e.outputConnection?(r.x+=(e.RTL?3:-3)*n,r.y+=13*n):e.previousConnection&&(r.x+=(e.RTL?-23:23)*n,r.y+=3*n),e=t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{cx:r.x,cy:r.y,r:0,fill:"none",stroke:"#888","stroke-width":10},o.getParentSvg()),t.blockAnimations.connectionUiStep_(e,new Date,n)}},t.blockAnimations.connectionUiStep_=function(e,o,n){var r=(new Date-o)/150;1<r?t.utils.dom.removeNode(e):(e.setAttribute("r",25*r*n),e.style.opacity=1-r,t.blockAnimations.disconnectPid_=setTimeout(t.blockAnimations.connectionUiStep_,10,e,o,n))},t.blockAnimations.disconnectUiEffect=function(e){if(e.workspace.getAudioManager().play("disconnect"),!(1>e.workspace.scale)){var o=e.getHeightWidth().height;o=Math.atan(10/o)/Math.PI*180,e.RTL||(o*=-1),t.blockAnimations.disconnectUiStep_(e.getSvgRoot(),o,new Date)}},t.blockAnimations.disconnectUiStep_=function(e,o,n){var r=(new Date-n)/200;1<r?e.skew_="":(e.skew_="skewX("+Math.round(Math.sin(r*Math.PI*3)*(1-r)*o)+")",t.blockAnimations.disconnectGroup_=e,t.blockAnimations.disconnectPid_=setTimeout(t.blockAnimations.disconnectUiStep_,10,e,o,n)),e.setAttribute("transform",e.translate_+e.skew_)},t.blockAnimations.disconnectUiStop=function(){if(t.blockAnimations.disconnectGroup_){clearTimeout(t.blockAnimations.disconnectPid_);var e=t.blockAnimations.disconnectGroup_;e.skew_="",e.setAttribute("transform",e.translate_),t.blockAnimations.disconnectGroup_=null}},t.Events.BlockDrag=function(e,o,n){t.Events.BlockDrag.superClass_.constructor.call(this,e?e.workspace.id:void 0),this.blockId=e?e.id:null,this.isStart=o,this.blocks=n},t.utils.object.inherits(t.Events.BlockDrag,t.Events.UiBase),t.Events.BlockDrag.prototype.type=t.Events.BLOCK_DRAG,t.Events.BlockDrag.prototype.toJson=function(){var e=t.Events.BlockDrag.superClass_.toJson.call(this);return e.isStart=this.isStart,e.blockId=this.blockId,e.blocks=this.blocks,e},t.Events.BlockDrag.prototype.fromJson=function(e){t.Events.BlockDrag.superClass_.fromJson.call(this,e),this.isStart=e.isStart,this.blockId=e.blockId,this.blocks=e.blocks},t.registry.register(t.registry.Type.EVENT,t.Events.BLOCK_DRAG,t.Events.BlockDrag),t.InsertionMarkerManager=function(e){this.topBlock_=t.selected=e,this.workspace_=e.workspace,this.lastMarker_=this.lastOnStack_=null,this.firstMarker_=this.createMarkerBlock_(this.topBlock_),this.localConnection_=this.closestConnection_=null,this.wouldDeleteBlock_=!1,this.fadedBlock_=this.highlightedBlock_=this.markerConnection_=null,this.availableConnections_=this.initAvailableConnections_()},t.InsertionMarkerManager.PREVIEW_TYPE={INSERTION_MARKER:0,INPUT_OUTLINE:1,REPLACEMENT_FADE:2},t.InsertionMarkerManager.prototype.dispose=function(){this.availableConnections_.length=0,t.Events.disable();try{this.firstMarker_&&this.firstMarker_.dispose(),this.lastMarker_&&this.lastMarker_.dispose()}finally{t.Events.enable()}},t.InsertionMarkerManager.prototype.updateAvailableConnections=function(){this.availableConnections_=this.initAvailableConnections_()},t.InsertionMarkerManager.prototype.wouldDeleteBlock=function(){return this.wouldDeleteBlock_},t.InsertionMarkerManager.prototype.wouldConnectBlock=function(){return!!this.closestConnection_},t.InsertionMarkerManager.prototype.applyConnections=function(){if(this.closestConnection_&&(t.Events.disable(),this.hidePreview_(),t.Events.enable(),this.localConnection_.connect(this.closestConnection_),this.topBlock_.rendered)){var e=this.localConnection_.isSuperior()?this.closestConnection_:this.localConnection_;t.blockAnimations.connectionUiEffect(e.getSourceBlock()),this.topBlock_.getRootBlock().bringToFront()}},t.InsertionMarkerManager.prototype.update=function(e,o){var n=this.getCandidate_(e);((this.wouldDeleteBlock_=this.shouldDelete_(n,o))||this.shouldUpdatePreviews_(n,e))&&(t.Events.disable(),this.maybeHidePreview_(n),this.maybeShowPreview_(n),t.Events.enable())},t.InsertionMarkerManager.prototype.createMarkerBlock_=function(e){var o=e.type;t.Events.disable();try{var n=this.workspace_.newBlock(o);if(n.setInsertionMarker(!0),e.mutationToDom){var r=e.mutationToDom();r&&n.domToMutation(r)}for(o=0;o<e.inputList.length;o++){var i=e.inputList[o];if(i.name!=t.constants.COLLAPSED_INPUT_NAME){var s=n.inputList[o];for(r=0;r<i.fieldRow.length;r++)s.fieldRow[r].setValue(i.fieldRow[r].getValue())}}n.setCollapsed(e.isCollapsed()),n.setInputsInline(e.getInputsInline()),n.initSvg(),n.getSvgRoot().setAttribute("visibility","hidden")}finally{t.Events.enable()}return n},t.InsertionMarkerManager.prototype.initAvailableConnections_=function(){var e=this.topBlock_.getConnections_(!1),o=this.topBlock_.lastConnectionInStack();if(o&&o!=this.topBlock_.nextConnection){if(e.push(o),this.lastOnStack_=o,this.lastMarker_){t.Events.disable();try{this.lastMarker_.dispose()}finally{t.Events.enable()}}this.lastMarker_=this.createMarkerBlock_(o.getSourceBlock())}return e},t.InsertionMarkerManager.prototype.shouldUpdatePreviews_=function(e,o){var n=e.local,r=e.closest;return e=e.radius,n&&r?this.localConnection_&&this.closestConnection_?!(this.closestConnection_==r&&this.localConnection_==n||(n=this.localConnection_.x+o.x-this.closestConnection_.x,o=this.localConnection_.y+o.y-this.closestConnection_.y,o=Math.sqrt(n*n+o*o),r&&e>o-t.CURRENT_CONNECTION_PREFERENCE)):!this.localConnection_&&!this.closestConnection_||(console.error("Only one of localConnection_ and closestConnection_ was set."),console.error("Returning true from shouldUpdatePreviews, but it's not clear why."),!0):!(!this.localConnection_||!this.closestConnection_)},t.InsertionMarkerManager.prototype.getCandidate_=function(t){for(var e=this.getStartRadius_(),o=null,n=null,r=0;r<this.availableConnections_.length;r++){var i=this.availableConnections_[r],s=i.closest(e,t);s.connection&&(o=s.connection,n=i,e=s.radius)}return{closest:o,local:n,radius:e}},t.InsertionMarkerManager.prototype.getStartRadius_=function(){return this.closestConnection_&&this.localConnection_?t.CONNECTING_SNAP_RADIUS:t.SNAP_RADIUS},t.InsertionMarkerManager.prototype.shouldDelete_=function(e,o){return e=e&&!!e.closest&&o!=t.DELETE_AREA_TOOLBOX,!!o&&!this.topBlock_.getParent()&&this.topBlock_.isDeletable()&&!e},t.InsertionMarkerManager.prototype.maybeShowPreview_=function(t){if(!this.wouldDeleteBlock_){var e=t.closest;t=t.local,e&&(e==this.closestConnection_||e.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.closestConnection_=e,this.localConnection_=t,this.showPreview_()))}},t.InsertionMarkerManager.prototype.showPreview_=function(){var e=this.closestConnection_,o=this.workspace_.getRenderer();switch(o.getConnectionPreviewMethod(e,this.localConnection_,this.topBlock_)){case t.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline_();break;case t.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker_();break;case t.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade_()}e&&o.shouldHighlightConnection(e)&&e.highlight()},t.InsertionMarkerManager.prototype.maybeHidePreview_=function(t){if(t.closest){var e=this.closestConnection_!=t.closest;t=this.localConnection_!=t.local,this.closestConnection_&&this.localConnection_&&(e||t||this.wouldDeleteBlock_)&&this.hidePreview_()}else this.hidePreview_();this.localConnection_=this.closestConnection_=this.markerConnection_=null},t.InsertionMarkerManager.prototype.hidePreview_=function(){this.closestConnection_&&this.closestConnection_.targetBlock()&&this.workspace_.getRenderer().shouldHighlightConnection(this.closestConnection_)&&this.closestConnection_.unhighlight(),this.fadedBlock_?this.hideReplacementFade_():this.highlightedBlock_?this.hideInsertionInputOutline_():this.markerConnection_&&this.hideInsertionMarker_()},t.InsertionMarkerManager.prototype.showInsertionMarker_=function(){var t=this.localConnection_,e=this.closestConnection_,o=this.lastOnStack_&&t==this.lastOnStack_?this.lastMarker_:this.firstMarker_;if((t=o.getMatchingConnection(t.getSourceBlock(),t))==this.markerConnection_)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");o.render(),o.rendered=!0,o.getSvgRoot().setAttribute("visibility","visible"),t&&e&&o.positionNearConnection(t,e),e&&t.connect(e),this.markerConnection_=t},t.InsertionMarkerManager.prototype.hideInsertionMarker_=function(){if(this.markerConnection_){var e=this.markerConnection_,o=e.getSourceBlock(),n=o.nextConnection,r=o.previousConnection,i=o.outputConnection;if(i=e.type==t.connectionTypes.INPUT_VALUE&&!(i&&i.targetConnection),!(e!=n||r&&r.targetConnection)||i?e.targetBlock().unplug(!1):e.type==t.connectionTypes.NEXT_STATEMENT&&e!=n?((n=e.targetConnection).getSourceBlock().unplug(!1),r=r?r.targetConnection:null,o.unplug(!0),r&&r.connect(n)):o.unplug(!0),e.targetConnection)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");this.markerConnection_=null,o.getSvgRoot().setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")},t.InsertionMarkerManager.prototype.showInsertionInputOutline_=function(){var t=this.closestConnection_;this.highlightedBlock_=t.getSourceBlock(),this.highlightedBlock_.highlightShapeForInput(t,!0)},t.InsertionMarkerManager.prototype.hideInsertionInputOutline_=function(){this.highlightedBlock_.highlightShapeForInput(this.closestConnection_,!1),this.highlightedBlock_=null},t.InsertionMarkerManager.prototype.showReplacementFade_=function(){this.fadedBlock_=this.closestConnection_.targetBlock(),this.fadedBlock_.fadeForReplacement(!0)},t.InsertionMarkerManager.prototype.hideReplacementFade_=function(){this.fadedBlock_.fadeForReplacement(!1),this.fadedBlock_=null},t.InsertionMarkerManager.prototype.getInsertionMarkers=function(){var t=[];return this.firstMarker_&&t.push(this.firstMarker_),this.lastMarker_&&t.push(this.lastMarker_),t},t.BlockDragger=function(e,o){this.draggingBlock_=e,this.workspace_=o,this.draggedConnectionManager_=new t.InsertionMarkerManager(this.draggingBlock_),this.deleteArea_=null,this.wouldDeleteBlock_=!1,this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY(),this.dragIconData_=t.BlockDragger.initIconData_(e)},t.BlockDragger.prototype.dispose=function(){this.dragIconData_.length=0,this.draggedConnectionManager_&&this.draggedConnectionManager_.dispose()},t.BlockDragger.initIconData_=function(t){var e=[];t=t.getDescendants(!1);for(var o,n=0;o=t[n];n++){o=o.getIcons();for(var r=0;r<o.length;r++){var i={location:o[r].getIconLocation(),icon:o[r]};e.push(i)}}return e},t.BlockDragger.prototype.startBlockDrag=function(e,o){t.Events.getGroup()||t.Events.setGroup(!0),this.fireDragStartEvent_(),this.workspace_.isMutator&&this.draggingBlock_.bringToFront(),t.utils.dom.startTextWidthCache(),this.workspace_.setResizesEnabled(!1),t.blockAnimations.disconnectUiStop(),(this.draggingBlock_.getParent()||o&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock())&&(this.draggingBlock_.unplug(o),e=this.pixelsToWorkspaceUnits_(e),e=t.utils.Coordinate.sum(this.startXY_,e),this.draggingBlock_.translate(e.x,e.y),t.blockAnimations.disconnectUiEffect(this.draggingBlock_),this.draggedConnectionManager_.updateAvailableConnections()),this.draggingBlock_.setDragging(!0),this.draggingBlock_.moveToDragSurface(),(e=this.workspace_.getToolbox())&&"function"==typeof e.addStyle&&(o=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab",e.addStyle(o))},t.BlockDragger.prototype.fireDragStartEvent_=function(){var e=new(t.Events.get(t.Events.BLOCK_DRAG))(this.draggingBlock_,!0,this.draggingBlock_.getDescendants(!1));t.Events.fire(e)},t.BlockDragger.prototype.dragBlock=function(e,o){o=this.pixelsToWorkspaceUnits_(o);var n=t.utils.Coordinate.sum(this.startXY_,o);this.draggingBlock_.moveDuringDrag(n),this.dragIcons_(o),this.deleteArea_=this.workspace_.isDeleteArea(e),this.draggedConnectionManager_.update(o,this.deleteArea_),this.updateCursorDuringBlockDrag_()},t.BlockDragger.prototype.endBlockDrag=function(e,o){this.dragBlock(e,o),this.dragIconData_=[],this.fireDragEndEvent_(),t.utils.dom.stopTextWidthCache(),t.blockAnimations.disconnectUiStop(),e=this.pixelsToWorkspaceUnits_(o),o=t.utils.Coordinate.sum(this.startXY_,e),this.draggingBlock_.moveOffDragSurface(o),this.maybeDeleteBlock_()||(this.draggingBlock_.moveConnections(e.x,e.y),this.draggingBlock_.setDragging(!1),this.fireMoveEvent_(),this.draggedConnectionManager_.wouldConnectBlock()?this.draggedConnectionManager_.applyConnections():this.draggingBlock_.render(),this.draggingBlock_.scheduleSnapAndBump()),this.workspace_.setResizesEnabled(!0),(e=this.workspace_.getToolbox())&&"function"==typeof e.removeStyle&&(o=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab",e.removeStyle(o)),t.Events.setGroup(!1)},t.BlockDragger.prototype.fireDragEndEvent_=function(){var e=new(t.Events.get(t.Events.BLOCK_DRAG))(this.draggingBlock_,!1,this.draggingBlock_.getDescendants(!1));t.Events.fire(e)},t.BlockDragger.prototype.fireMoveEvent_=function(){var e=new(t.Events.get(t.Events.BLOCK_MOVE))(this.draggingBlock_);e.oldCoordinate=this.startXY_,e.recordNew(),t.Events.fire(e)},t.BlockDragger.prototype.maybeDeleteBlock_=function(){var e=this.workspace_.trashcan;return this.wouldDeleteBlock_?(e&&setTimeout(e.closeLid.bind(e),100),this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0),t.draggingConnections=[]):e&&e.closeLid(),this.wouldDeleteBlock_},t.BlockDragger.prototype.updateCursorDuringBlockDrag_=function(){this.wouldDeleteBlock_=this.draggedConnectionManager_.wouldDeleteBlock();var e=this.workspace_.trashcan;this.wouldDeleteBlock_?(this.draggingBlock_.setDeleteStyle(!0),this.deleteArea_==t.DELETE_AREA_TRASH&&e&&e.setLidOpen(!0)):(this.draggingBlock_.setDeleteStyle(!1),e&&e.setLidOpen(!1))},t.BlockDragger.prototype.pixelsToWorkspaceUnits_=function(e){return e=new t.utils.Coordinate(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&e.scale(1/this.workspace_.options.parentWorkspace.scale),e},t.BlockDragger.prototype.dragIcons_=function(e){for(var o=0;o<this.dragIconData_.length;o++){var n=this.dragIconData_[o];n.icon.setIconLocation(t.utils.Coordinate.sum(n.location,e))}},t.BlockDragger.prototype.getInsertionMarkers=function(){return this.draggedConnectionManager_&&this.draggedConnectionManager_.getInsertionMarkers?this.draggedConnectionManager_.getInsertionMarkers():[]},t.IConnectionChecker=function(){},t.ConnectionChecker=function(){},t.ConnectionChecker.prototype.canConnect=function(e,o,n,r){return this.canConnectWithReason(e,o,n,r)==t.Connection.CAN_CONNECT},t.ConnectionChecker.prototype.canConnectWithReason=function(e,o,n,r){var i=this.doSafetyChecks(e,o);return i!=t.Connection.CAN_CONNECT?i:this.doTypeChecks(e,o)?n&&!this.doDragChecks(e,o,r||0)?t.Connection.REASON_DRAG_CHECKS_FAILED:t.Connection.CAN_CONNECT:t.Connection.REASON_CHECKS_FAILED},t.ConnectionChecker.prototype.getErrorMessage=function(e,o,n){switch(e){case t.Connection.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case t.Connection.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case t.Connection.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case t.Connection.REASON_TARGET_NULL:return"Target connection is null.";case t.Connection.REASON_CHECKS_FAILED:return"Connection checks failed. "+o+" expected "+o.getCheck()+", found "+n.getCheck();case t.Connection.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case t.Connection.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";default:return"Unknown connection failure: this should never happen!"}},t.ConnectionChecker.prototype.doSafetyChecks=function(e,o){if(!e||!o)return t.Connection.REASON_TARGET_NULL;if(e.isSuperior())var n=e.getSourceBlock(),r=o.getSourceBlock();else r=e.getSourceBlock(),n=o.getSourceBlock();return n==r?t.Connection.REASON_SELF_CONNECTION:o.type!=t.OPPOSITE_TYPE[e.type]?t.Connection.REASON_WRONG_TYPE:n.workspace!==r.workspace?t.Connection.REASON_DIFFERENT_WORKSPACES:n.isShadow()&&!r.isShadow()?t.Connection.REASON_SHADOW_PARENT:t.Connection.CAN_CONNECT},t.ConnectionChecker.prototype.doTypeChecks=function(t,e){if(t=t.getCheck(),e=e.getCheck(),!t||!e)return!0;for(var o=0;o<t.length;o++)if(-1!=e.indexOf(t[o]))return!0;return!1},t.ConnectionChecker.prototype.doDragChecks=function(e,o,n){if(e.distanceFrom(o)>n||o.getSourceBlock().isInsertionMarker())return!1;switch(o.type){case t.connectionTypes.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e,o);case t.connectionTypes.OUTPUT_VALUE:if(o.isConnected()&&!o.targetBlock().isInsertionMarker()||e.isConnected())return!1;break;case t.connectionTypes.INPUT_VALUE:if(o.isConnected()&&!o.targetBlock().isMovable()&&!o.targetBlock().isShadow())return!1;break;case t.connectionTypes.NEXT_STATEMENT:if(o.isConnected()&&!e.getSourceBlock().nextConnection&&!o.targetBlock().isShadow()&&o.targetBlock().nextConnection)return!1;break;default:return!1}return-1==t.draggingConnections.indexOf(o)},t.ConnectionChecker.prototype.canConnectToPrevious_=function(e,o){return!(e.targetConnection||-1!=t.draggingConnections.indexOf(o)||o.targetConnection&&(!(e=o.targetBlock()).isInsertionMarker()||e.getPreviousBlock()))},t.registry.register(t.registry.Type.CONNECTION_CHECKER,t.registry.DEFAULT,t.ConnectionChecker),t.VariableMap=function(t){this.variableMap_=Object.create(null),this.workspace=t},t.VariableMap.prototype.clear=function(){this.variableMap_=Object.create(null)},t.VariableMap.prototype.renameVariable=function(e,o){var n=this.getVariable(o,e.type),r=this.workspace.getAllBlocks(!1);t.Events.setGroup(!0);try{n&&n.getId()!=e.getId()?this.renameVariableWithConflict_(e,o,n,r):this.renameVariableAndUses_(e,o,r)}finally{t.Events.setGroup(!1)}},t.VariableMap.prototype.renameVariableById=function(t,e){var o=this.getVariableById(t);if(!o)throw Error("Tried to rename a variable that didn't exist. ID: "+t);this.renameVariable(o,e)},t.VariableMap.prototype.renameVariableAndUses_=function(e,o,n){for(t.Events.fire(new(t.Events.get(t.Events.VAR_RENAME))(e,o)),e.name=o,o=0;o<n.length;o++)n[o].updateVarName(e)},t.VariableMap.prototype.renameVariableWithConflict_=function(e,o,n,r){var i=e.type;for(o!=n.name&&this.renameVariableAndUses_(n,o,r),o=0;o<r.length;o++)r[o].renameVarById(e.getId(),n.getId());t.Events.fire(new(t.Events.get(t.Events.VAR_DELETE))(e)),e=this.getVariablesOfType(i).indexOf(e),this.variableMap_[i].splice(e,1)},t.VariableMap.prototype.createVariable=function(e,o,n){var r=this.getVariable(e,o);if(r){if(n&&r.getId()!=n)throw Error('Variable "'+e+'" is already in use and its id is "'+r.getId()+'" which conflicts with the passed in id, "'+n+'".');return r}if(n&&this.getVariableById(n))throw Error('Variable id, "'+n+'", is already in use.');return r=n||t.utils.genUid(),o=o||"",r=new t.VariableModel(this.workspace,e,o,r),(e=this.variableMap_[o]||[]).push(r),delete this.variableMap_[o],this.variableMap_[o]=e,r},t.VariableMap.prototype.deleteVariable=function(e){for(var o,n=this.variableMap_[e.type],r=0;o=n[r];r++)if(o.getId()==e.getId()){n.splice(r,1),t.Events.fire(new(t.Events.get(t.Events.VAR_DELETE))(e));break}},t.VariableMap.prototype.deleteVariableById=function(e){var o=this.getVariableById(e);if(o){var n,r=o.name,i=this.getVariableUsesById(e);for(e=0;n=i[e];e++)if("procedures_defnoreturn"==n.type||"procedures_defreturn"==n.type)return e=n.getFieldValue("NAME"),r=t.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",r).replace("%2",e),void t.alert(r);var s=this;1<i.length?(r=t.Msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(i.length)).replace("%2",r),t.confirm(r,(function(t){t&&o&&s.deleteVariableInternal(o,i)}))):s.deleteVariableInternal(o,i)}else console.warn("Can't delete non-existent variable: "+e)},t.VariableMap.prototype.deleteVariableInternal=function(e,o){var n=t.Events.getGroup();n||t.Events.setGroup(!0);try{for(var r=0;r<o.length;r++)o[r].dispose(!0);this.deleteVariable(e)}finally{n||t.Events.setGroup(!1)}},t.VariableMap.prototype.getVariable=function(e,o){if(o=this.variableMap_[o||""])for(var n,r=0;n=o[r];r++)if(t.Names.equals(n.name,e))return n;return null},t.VariableMap.prototype.getVariableById=function(t){for(var e=Object.keys(this.variableMap_),o=0;o<e.length;o++)for(var n,r=e[o],i=0;n=this.variableMap_[r][i];i++)if(n.getId()==t)return n;return null},t.VariableMap.prototype.getVariablesOfType=function(t){return(t=this.variableMap_[t||""])?t.slice():[]},t.VariableMap.prototype.getVariableTypes=function(e){var o={};t.utils.object.mixin(o,this.variableMap_),e&&e.getPotentialVariableMap()&&t.utils.object.mixin(o,e.getPotentialVariableMap().variableMap_),e=Object.keys(o),o=!1;for(var n=0;n<e.length;n++)""==e[n]&&(o=!0);return o||e.push(""),e},t.VariableMap.prototype.getAllVariables=function(){var t,e=[];for(t in this.variableMap_)e=e.concat(this.variableMap_[t]);return e},t.VariableMap.prototype.getAllVariableNames=function(){var t,e=[];for(t in this.variableMap_)for(var o,n=this.variableMap_[t],r=0;o=n[r];r++)e.push(o.name);return e},t.VariableMap.prototype.getVariableUsesById=function(t){for(var e=[],o=this.workspace.getAllBlocks(!1),n=0;n<o.length;n++){var r=o[n].getVarModels();if(r)for(var i=0;i<r.length;i++)r[i].getId()==t&&e.push(o[n])}return e},t.Workspace=function(e){this.id=t.utils.genUid(),t.Workspace.WorkspaceDB_[this.id]=this,this.options=e||new t.Options({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(t.registry.getClassFromOptions(t.registry.Type.CONNECTION_CHECKER,this.options,!0))(this),this.topBlocks_=[],this.topComments_=[],this.commentDB_=Object.create(null),this.listeners_=[],this.undoStack_=[],this.redoStack_=[],this.blockDB_=Object.create(null),this.typedBlocksDB_=Object.create(null),this.variableMap_=new t.VariableMap(this),this.potentialVariableMap_=null},t.Workspace.prototype.rendered=!1,t.Workspace.prototype.isClearing=!1,t.Workspace.prototype.MAX_UNDO=1024,t.Workspace.prototype.connectionDBList=null,t.Workspace.prototype.dispose=function(){this.listeners_.length=0,this.clear(),delete t.Workspace.WorkspaceDB_[this.id]},t.Workspace.SCAN_ANGLE=3,t.Workspace.prototype.sortObjects_=function(e,o){return e=e.getRelativeToSurfaceXY(),o=o.getRelativeToSurfaceXY(),e.y+t.Workspace.prototype.sortObjects_.offset*e.x-(o.y+t.Workspace.prototype.sortObjects_.offset*o.x)},t.Workspace.prototype.addTopBlock=function(t){this.topBlocks_.push(t)},t.Workspace.prototype.removeTopBlock=function(e){if(!t.utils.arrayRemove(this.topBlocks_,e))throw Error("Block not present in workspace's list of top-most blocks.")},t.Workspace.prototype.getTopBlocks=function(e){var o=[].concat(this.topBlocks_);return e&&1<o.length&&(this.sortObjects_.offset=Math.sin(t.utils.math.toRadians(t.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),o.sort(this.sortObjects_)),o},t.Workspace.prototype.addTypedBlock=function(t){this.typedBlocksDB_[t.type]||(this.typedBlocksDB_[t.type]=[]),this.typedBlocksDB_[t.type].push(t)},t.Workspace.prototype.removeTypedBlock=function(t){this.typedBlocksDB_[t.type].splice(this.typedBlocksDB_[t.type].indexOf(t),1),this.typedBlocksDB_[t.type].length||delete this.typedBlocksDB_[t.type]},t.Workspace.prototype.getBlocksByType=function(e,o){return this.typedBlocksDB_[e]?(e=this.typedBlocksDB_[e].slice(0),o&&1<e.length&&(this.sortObjects_.offset=Math.sin(t.utils.math.toRadians(t.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),e.sort(this.sortObjects_)),e):[]},t.Workspace.prototype.addTopComment=function(t){this.topComments_.push(t),this.commentDB_[t.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+t.id+'"'),this.commentDB_[t.id]=t},t.Workspace.prototype.removeTopComment=function(e){if(!t.utils.arrayRemove(this.topComments_,e))throw Error("Comment not present in workspace's list of top-most comments.");delete this.commentDB_[e.id]},t.Workspace.prototype.getTopComments=function(e){var o=[].concat(this.topComments_);return e&&1<o.length&&(this.sortObjects_.offset=Math.sin(t.utils.math.toRadians(t.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),o.sort(this.sortObjects_)),o},t.Workspace.prototype.getAllBlocks=function(t){if(t){t=this.getTopBlocks(!0);for(var e=[],o=0;o<t.length;o++)e.push.apply(e,t[o].getDescendants(!0))}else for(e=this.getTopBlocks(!1),o=0;o<e.length;o++)e.push.apply(e,e[o].getChildren(!1));return e.filter((function(t){return!t.isInsertionMarker()}))},t.Workspace.prototype.clear=function(){this.isClearing=!0;try{var e=t.Events.getGroup();for(e||t.Events.setGroup(!0);this.topBlocks_.length;)this.topBlocks_[0].dispose(!1);for(;this.topComments_.length;)this.topComments_[this.topComments_.length-1].dispose(!1);e||t.Events.setGroup(!1),this.variableMap_.clear(),this.potentialVariableMap_&&this.potentialVariableMap_.clear()}finally{this.isClearing=!1}},t.Workspace.prototype.renameVariableById=function(t,e){this.variableMap_.renameVariableById(t,e)},t.Workspace.prototype.createVariable=function(t,e,o){return this.variableMap_.createVariable(t,e,o)},t.Workspace.prototype.getVariableUsesById=function(t){return this.variableMap_.getVariableUsesById(t)},t.Workspace.prototype.deleteVariableById=function(t){this.variableMap_.deleteVariableById(t)},t.Workspace.prototype.getVariable=function(t,e){return this.variableMap_.getVariable(t,e)},t.Workspace.prototype.getVariableById=function(t){return this.variableMap_.getVariableById(t)},t.Workspace.prototype.getVariablesOfType=function(t){return this.variableMap_.getVariablesOfType(t)},t.Workspace.prototype.getVariableTypes=function(){return this.variableMap_.getVariableTypes(this)},t.Workspace.prototype.getAllVariables=function(){return this.variableMap_.getAllVariables()},t.Workspace.prototype.getAllVariableNames=function(){return this.variableMap_.getAllVariableNames()},t.Workspace.prototype.getWidth=function(){return 0},t.Workspace.prototype.newBlock=function(e,o){return new t.Block(this,e,o)},t.Workspace.prototype.remainingCapacity=function(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length},t.Workspace.prototype.remainingCapacityOfType=function(t){return this.options.maxInstances?(void 0!==this.options.maxInstances[t]?this.options.maxInstances[t]:1/0)-this.getBlocksByType(t,!1).length:1/0},t.Workspace.prototype.isCapacityAvailable=function(t){if(!this.hasBlockLimits())return!0;var e,o=0;for(e in t){if(t[e]>this.remainingCapacityOfType(e))return!1;o+=t[e]}return!(o>this.remainingCapacity())},t.Workspace.prototype.hasBlockLimits=function(){return 1/0!=this.options.maxBlocks||!!this.options.maxInstances},t.Workspace.prototype.getUndoStack=function(){return this.undoStack_},t.Workspace.prototype.getRedoStack=function(){return this.redoStack_},t.Workspace.prototype.undo=function(e){var o=e?this.redoStack_:this.undoStack_,n=e?this.undoStack_:this.redoStack_,r=o.pop();if(r){for(var i=[r];o.length&&r.group&&r.group==o[o.length-1].group;)i.push(o.pop());for(o=0;r=i[o];o++)n.push(r);i=t.Events.filter(i,e),t.Events.recordUndo=!1;try{for(o=0;r=i[o];o++)r.run(e)}finally{t.Events.recordUndo=!0}}},t.Workspace.prototype.clearUndo=function(){this.undoStack_.length=0,this.redoStack_.length=0,t.Events.clearPendingUndo()},t.Workspace.prototype.addChangeListener=function(t){return this.listeners_.push(t),t},t.Workspace.prototype.removeChangeListener=function(e){t.utils.arrayRemove(this.listeners_,e)},t.Workspace.prototype.fireChangeListener=function(t){if(t.recordUndo)for(this.undoStack_.push(t),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(var e,o=0;e=this.listeners_[o];o++)e(t)},t.Workspace.prototype.getBlockById=function(t){return this.blockDB_[t]||null},t.Workspace.prototype.setBlockById=function(t,e){this.blockDB_[t]=e},t.Workspace.prototype.removeBlockById=function(t){delete this.blockDB_[t]},t.Workspace.prototype.getCommentById=function(t){return this.commentDB_[t]||null},t.Workspace.prototype.allInputsFilled=function(t){for(var e,o=this.getTopBlocks(!1),n=0;e=o[n];n++)if(!e.allInputsFilled(t))return!1;return!0},t.Workspace.prototype.getPotentialVariableMap=function(){return this.potentialVariableMap_},t.Workspace.prototype.createPotentialVariableMap=function(){this.potentialVariableMap_=new t.VariableMap(this)},t.Workspace.prototype.getVariableMap=function(){return this.variableMap_},t.Workspace.prototype.setVariableMap=function(t){this.variableMap_=t},t.Workspace.WorkspaceDB_=Object.create(null),t.Workspace.getById=function(e){return t.Workspace.WorkspaceDB_[e]||null},t.Workspace.getAll=function(){var e,o=[];for(e in t.Workspace.WorkspaceDB_)o.push(t.Workspace.WorkspaceDB_[e]);return o},t.Bubble=function(e,o,n,r,i,s){this.workspace_=e,this.content_=o,this.shape_=n,this.onMouseDownResizeWrapper_=this.onMouseDownBubbleWrapper_=this.moveCallback_=this.resizeCallback_=null,this.disposed=!1,n=t.Bubble.ARROW_ANGLE,this.workspace_.RTL&&(n=-n),this.arrow_radians_=t.utils.math.toRadians(n),e.getBubbleCanvas().appendChild(this.createDom_(o,!(!i||!s))),this.setAnchorLocation(r),i&&s||(i=(e=this.content_.getBBox()).width+2*t.Bubble.BORDER_WIDTH,s=e.height+2*t.Bubble.BORDER_WIDTH),this.setBubbleSize(i,s),this.positionBubble_(),this.renderArrow_(),this.rendered_=!0},t.Bubble.BORDER_WIDTH=6,t.Bubble.ARROW_THICKNESS=5,t.Bubble.ARROW_ANGLE=20,t.Bubble.ARROW_BEND=4,t.Bubble.ANCHOR_RADIUS=8,t.Bubble.onMouseUpWrapper_=null,t.Bubble.onMouseMoveWrapper_=null,t.Bubble.unbindDragEvents_=function(){t.Bubble.onMouseUpWrapper_&&(t.browserEvents.unbind(t.Bubble.onMouseUpWrapper_),t.Bubble.onMouseUpWrapper_=null),t.Bubble.onMouseMoveWrapper_&&(t.browserEvents.unbind(t.Bubble.onMouseMoveWrapper_),t.Bubble.onMouseMoveWrapper_=null)},t.Bubble.bubbleMouseUp_=function(e){t.Touch.clearTouchIdentifier(),t.Bubble.unbindDragEvents_()},t.Bubble.prototype.rendered_=!1,t.Bubble.prototype.anchorXY_=null,t.Bubble.prototype.relativeLeft_=0,t.Bubble.prototype.relativeTop_=0,t.Bubble.prototype.width_=0,t.Bubble.prototype.height_=0,t.Bubble.prototype.autoLayout_=!0,t.Bubble.prototype.createDom_=function(e,o){this.bubbleGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},null);var n={filter:"url(#"+this.workspace_.getRenderer().getConstants().embossFilterId+")"};return t.utils.userAgent.JAVA_FX&&(n={}),n=t.utils.dom.createSvgElement(t.utils.Svg.G,n,this.bubbleGroup_),this.bubbleArrow_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{},n),this.bubbleBack_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyDraggable",x:0,y:0,rx:t.Bubble.BORDER_WIDTH,ry:t.Bubble.BORDER_WIDTH},n),o?(this.resizeGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:this.workspace_.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.bubbleGroup_),o=2*t.Bubble.BORDER_WIDTH,t.utils.dom.createSvgElement(t.utils.Svg.POLYGON,{points:"0,x x,x x,0".replace(/x/g,o.toString())},this.resizeGroup_),t.utils.dom.createSvgElement(t.utils.Svg.LINE,{class:"blocklyResizeLine",x1:o/3,y1:o-1,x2:o-1,y2:o/3},this.resizeGroup_),t.utils.dom.createSvgElement(t.utils.Svg.LINE,{class:"blocklyResizeLine",x1:2*o/3,y1:o-1,x2:o-1,y2:2*o/3},this.resizeGroup_)):this.resizeGroup_=null,this.workspace_.options.readOnly||(this.onMouseDownBubbleWrapper_=t.browserEvents.conditionalBind(this.bubbleBack_,"mousedown",this,this.bubbleMouseDown_),this.resizeGroup_&&(this.onMouseDownResizeWrapper_=t.browserEvents.conditionalBind(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_))),this.bubbleGroup_.appendChild(e),this.bubbleGroup_},t.Bubble.prototype.getSvgRoot=function(){return this.bubbleGroup_},t.Bubble.prototype.setSvgId=function(t){this.bubbleGroup_.dataset&&(this.bubbleGroup_.dataset.blockId=t)},t.Bubble.prototype.bubbleMouseDown_=function(t){var e=this.workspace_.getGesture(t);e&&e.handleBubbleStart(t,this)},t.Bubble.prototype.showContextMenu=function(t){},t.Bubble.prototype.isDeletable=function(){return!1},t.Bubble.prototype.setDeleteStyle=function(t){},t.Bubble.prototype.resizeMouseDown_=function(e){this.promote(),t.Bubble.unbindDragEvents_(),t.utils.isRightButton(e)||(this.workspace_.startDrag(e,new t.utils.Coordinate(this.workspace_.RTL?-this.width_:this.width_,this.height_)),t.Bubble.onMouseUpWrapper_=t.browserEvents.conditionalBind(document,"mouseup",this,t.Bubble.bubbleMouseUp_),t.Bubble.onMouseMoveWrapper_=t.browserEvents.conditionalBind(document,"mousemove",this,this.resizeMouseMove_),t.hideChaff()),e.stopPropagation()},t.Bubble.prototype.resizeMouseMove_=function(t){this.autoLayout_=!1,t=this.workspace_.moveDrag(t),this.setBubbleSize(this.workspace_.RTL?-t.x:t.x,t.y),this.workspace_.RTL&&this.positionBubble_()},t.Bubble.prototype.registerResizeEvent=function(t){this.resizeCallback_=t},t.Bubble.prototype.registerMoveEvent=function(t){this.moveCallback_=t},t.Bubble.prototype.promote=function(){var t=this.bubbleGroup_.parentNode;return t.lastChild!==this.bubbleGroup_&&(t.appendChild(this.bubbleGroup_),!0)},t.Bubble.prototype.setAnchorLocation=function(t){this.anchorXY_=t,this.rendered_&&this.positionBubble_()},t.Bubble.prototype.layoutBubble_=function(){var t=this.workspace_.getMetricsManager().getViewMetrics(!0),e=this.getOptimalRelativeLeft_(t),o=this.getOptimalRelativeTop_(t),n=this.shape_.getBBox(),r={x:e,y:-this.height_-this.workspace_.getRenderer().getConstants().MIN_BLOCK_HEIGHT},i={x:-this.width_-30,y:o};o={x:n.width,y:o};var s={x:e,y:n.height};e=n.width<n.height?o:s,n=n.width<n.height?s:o,o=this.getOverlap_(r,t),s=this.getOverlap_(i,t);var a=this.getOverlap_(e,t);t=this.getOverlap_(n,t),o==(t=Math.max(o,s,a,t))?(this.relativeLeft_=r.x,this.relativeTop_=r.y):s==t?(this.relativeLeft_=i.x,this.relativeTop_=i.y):a==t?(this.relativeLeft_=e.x,this.relativeTop_=e.y):(this.relativeLeft_=n.x,this.relativeTop_=n.y)},t.Bubble.prototype.getOverlap_=function(t,e){var o=this.workspace_.RTL?this.anchorXY_.x-t.x-this.width_:t.x+this.anchorXY_.x;return t=t.y+this.anchorXY_.y,Math.max(0,Math.min(1,(Math.min(o+this.width_,e.left+e.width)-Math.max(o,e.left))*(Math.min(t+this.height_,e.top+e.height)-Math.max(t,e.top))/(this.width_*this.height_)))},t.Bubble.prototype.getOptimalRelativeLeft_=function(e){var o=-this.width_/4;if(this.width_>e.width)return o;if(this.workspace_.RTL)var n=this.anchorXY_.x-o,r=n-this.width_,i=e.left+e.width,s=e.left+t.Scrollbar.scrollbarThickness/this.workspace_.scale;else n=(r=o+this.anchorXY_.x)+this.width_,s=e.left,i=e.left+e.width-t.Scrollbar.scrollbarThickness/this.workspace_.scale;return this.workspace_.RTL?r<s?o=-(s-this.anchorXY_.x+this.width_):n>i&&(o=-(i-this.anchorXY_.x)):r<s?o=s-this.anchorXY_.x:n>i&&(o=i-this.anchorXY_.x-this.width_),o},t.Bubble.prototype.getOptimalRelativeTop_=function(e){var o=-this.height_/4;if(this.height_>e.height)return o;var n=this.anchorXY_.y+o,r=n+this.height_,i=e.top;e=e.top+e.height-t.Scrollbar.scrollbarThickness/this.workspace_.scale;var s=this.anchorXY_.y;return n<i?o=i-s:r>e&&(o=e-s-this.height_),o},t.Bubble.prototype.positionBubble_=function(){var t=this.anchorXY_.x;t=this.workspace_.RTL?t-(this.relativeLeft_+this.width_):t+this.relativeLeft_,this.moveTo(t,this.relativeTop_+this.anchorXY_.y)},t.Bubble.prototype.moveTo=function(t,e){this.bubbleGroup_.setAttribute("transform","translate("+t+","+e+")")},t.Bubble.prototype.setDragging=function(t){!t&&this.moveCallback_&&this.moveCallback_()},t.Bubble.prototype.getBubbleSize=function(){return new t.utils.Size(this.width_,this.height_)},t.Bubble.prototype.setBubbleSize=function(e,o){var n=2*t.Bubble.BORDER_WIDTH;e=Math.max(e,n+45),o=Math.max(o,n+20),this.width_=e,this.height_=o,this.bubbleBack_.setAttribute("width",e),this.bubbleBack_.setAttribute("height",o),this.resizeGroup_&&(this.workspace_.RTL?this.resizeGroup_.setAttribute("transform","translate("+2*t.Bubble.BORDER_WIDTH+","+(o-n)+") scale(-1 1)"):this.resizeGroup_.setAttribute("transform","translate("+(e-n)+","+(o-n)+")")),this.autoLayout_&&this.layoutBubble_(),this.positionBubble_(),this.renderArrow_(),this.resizeCallback_&&this.resizeCallback_()},t.Bubble.prototype.renderArrow_=function(){var e=[],o=this.width_/2,n=this.height_/2,r=-this.relativeLeft_,i=-this.relativeTop_;if(o==r&&n==i)e.push("M "+o+","+n);else{i-=n,r-=o,this.workspace_.RTL&&(r*=-1);var s=Math.sqrt(i*i+r*r),a=Math.acos(r/s);0>i&&(a=2*Math.PI-a);var l=a+Math.PI/2;l>2*Math.PI&&(l-=2*Math.PI);var c=Math.sin(l),u=Math.cos(l),p=this.getBubbleSize();l=(p.width+p.height)/t.Bubble.ARROW_THICKNESS,l=Math.min(l,p.width,p.height)/4,r=o+(p=1-t.Bubble.ANCHOR_RADIUS/s)*r,i=n+p*i,p=o+l*u;var h=n+l*c;o-=l*u,n-=l*c,(c=a+this.arrow_radians_)>2*Math.PI&&(c-=2*Math.PI),a=Math.sin(c)*s/t.Bubble.ARROW_BEND,s=Math.cos(c)*s/t.Bubble.ARROW_BEND,e.push("M"+p+","+h),e.push("C"+(p+s)+","+(h+a)+" "+r+","+i+" "+r+","+i),e.push("C"+r+","+i+" "+(o+s)+","+(n+a)+" "+o+","+n)}e.push("z"),this.bubbleArrow_.setAttribute("d",e.join(" "))},t.Bubble.prototype.setColour=function(t){this.bubbleBack_.setAttribute("fill",t),this.bubbleArrow_.setAttribute("fill",t)},t.Bubble.prototype.dispose=function(){this.onMouseDownBubbleWrapper_&&t.browserEvents.unbind(this.onMouseDownBubbleWrapper_),this.onMouseDownResizeWrapper_&&t.browserEvents.unbind(this.onMouseDownResizeWrapper_),t.Bubble.unbindDragEvents_(),t.utils.dom.removeNode(this.bubbleGroup_),this.disposed=!0},t.Bubble.prototype.moveDuringDrag=function(t,e){t?t.translateSurface(e.x,e.y):this.moveTo(e.x,e.y),this.relativeLeft_=this.workspace_.RTL?this.anchorXY_.x-e.x-this.width_:e.x-this.anchorXY_.x,this.relativeTop_=e.y-this.anchorXY_.y,this.renderArrow_()},t.Bubble.prototype.getRelativeToSurfaceXY=function(){return new t.utils.Coordinate(this.workspace_.RTL?-this.relativeLeft_+this.anchorXY_.x-this.width_:this.anchorXY_.x+this.relativeLeft_,this.anchorXY_.y+this.relativeTop_)},t.Bubble.prototype.setAutoLayout=function(t){this.autoLayout_=t},t.Bubble.textToDom=function(e){var o=t.utils.dom.createSvgElement(t.utils.Svg.TEXT,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:t.Bubble.BORDER_WIDTH},null);e=e.split("\n");for(var n=0;n<e.length;n++){var r=t.utils.dom.createSvgElement(t.utils.Svg.TSPAN,{dy:"1em",x:t.Bubble.BORDER_WIDTH},o),i=document.createTextNode(e[n]);r.appendChild(i)}return o},t.Bubble.createNonEditableBubble=function(e,o,n){if((n=new t.Bubble(o.workspace,e,o.pathObject.svgPath,n,null,null)).setSvgId(o.id),o.RTL){o=e.getBBox().width;for(var r,i=0;r=e.childNodes[i];i++)r.setAttribute("text-anchor","end"),r.setAttribute("x",o+t.Bubble.BORDER_WIDTH)}return n},t.Events.CommentBase=function(e){this.commentId=(this.isBlank=void 0===e)?"":e.id,this.workspaceId=this.isBlank?"":e.workspace.id,this.group=t.Events.getGroup(),this.recordUndo=t.Events.recordUndo},t.utils.object.inherits(t.Events.CommentBase,t.Events.Abstract),t.Events.CommentBase.prototype.toJson=function(){var e=t.Events.CommentBase.superClass_.toJson.call(this);return this.commentId&&(e.commentId=this.commentId),e},t.Events.CommentBase.prototype.fromJson=function(e){t.Events.CommentBase.superClass_.fromJson.call(this,e),this.commentId=e.commentId},t.Events.CommentChange=function(e,o,n){t.Events.CommentChange.superClass_.constructor.call(this,e),e&&(this.oldContents_=void 0===o?"":o,this.newContents_=void 0===n?"":n)},t.utils.object.inherits(t.Events.CommentChange,t.Events.CommentBase),t.Events.CommentChange.prototype.type=t.Events.COMMENT_CHANGE,t.Events.CommentChange.prototype.toJson=function(){var e=t.Events.CommentChange.superClass_.toJson.call(this);return e.oldContents=this.oldContents_,e.newContents=this.newContents_,e},t.Events.CommentChange.prototype.fromJson=function(e){t.Events.CommentChange.superClass_.fromJson.call(this,e),this.oldContents_=e.oldContents,this.newContents_=e.newContents},t.Events.CommentChange.prototype.isNull=function(){return this.oldContents_==this.newContents_},t.Events.CommentChange.prototype.run=function(t){var e=this.getEventWorkspace_().getCommentById(this.commentId);e?e.setContent(t?this.newContents_:this.oldContents_):console.warn("Can't change non-existent comment: "+this.commentId)},t.Events.CommentCreate=function(e){t.Events.CommentCreate.superClass_.constructor.call(this,e),e&&(this.xml=e.toXmlWithXY())},t.utils.object.inherits(t.Events.CommentCreate,t.Events.CommentBase),t.Events.CommentCreate.prototype.type=t.Events.COMMENT_CREATE,t.Events.CommentCreate.prototype.toJson=function(){var e=t.Events.CommentCreate.superClass_.toJson.call(this);return e.xml=t.Xml.domToText(this.xml),e},t.Events.CommentCreate.prototype.fromJson=function(e){t.Events.CommentCreate.superClass_.fromJson.call(this,e),this.xml=t.Xml.textToDom(e.xml)},t.Events.CommentCreate.prototype.run=function(e){t.Events.CommentCreateDeleteHelper(this,e)},t.Events.CommentCreateDeleteHelper=function(e,o){var n=e.getEventWorkspace_();o?((o=t.utils.xml.createElement("xml")).appendChild(e.xml),t.Xml.domToWorkspace(o,n)):(n=n.getCommentById(e.commentId))?n.dispose(!1,!1):console.warn("Can't uncreate non-existent comment: "+e.commentId)},t.Events.CommentDelete=function(e){t.Events.CommentDelete.superClass_.constructor.call(this,e),e&&(this.xml=e.toXmlWithXY())},t.utils.object.inherits(t.Events.CommentDelete,t.Events.CommentBase),t.Events.CommentDelete.prototype.type=t.Events.COMMENT_DELETE,t.Events.CommentDelete.prototype.toJson=function(){return t.Events.CommentDelete.superClass_.toJson.call(this)},t.Events.CommentDelete.prototype.fromJson=function(e){t.Events.CommentDelete.superClass_.fromJson.call(this,e)},t.Events.CommentDelete.prototype.run=function(e){t.Events.CommentCreateDeleteHelper(this,!e)},t.Events.CommentMove=function(e){t.Events.CommentMove.superClass_.constructor.call(this,e),e&&(this.comment_=e,this.oldCoordinate_=e.getXY(),this.newCoordinate_=null)},t.utils.object.inherits(t.Events.CommentMove,t.Events.CommentBase),t.Events.CommentMove.prototype.recordNew=function(){if(!this.comment_)throw Error("Tried to record the new position of a comment on the same event twice.");this.newCoordinate_=this.comment_.getXY(),this.comment_=null},t.Events.CommentMove.prototype.type=t.Events.COMMENT_MOVE,t.Events.CommentMove.prototype.setOldCoordinate=function(t){this.oldCoordinate_=t},t.Events.CommentMove.prototype.toJson=function(){var e=t.Events.CommentMove.superClass_.toJson.call(this);return this.oldCoordinate_&&(e.oldCoordinate=Math.round(this.oldCoordinate_.x)+","+Math.round(this.oldCoordinate_.y)),this.newCoordinate_&&(e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y)),e},t.Events.CommentMove.prototype.fromJson=function(e){if(t.Events.CommentMove.superClass_.fromJson.call(this,e),e.oldCoordinate){var o=e.oldCoordinate.split(",");this.oldCoordinate_=new t.utils.Coordinate(Number(o[0]),Number(o[1]))}e.newCoordinate&&(o=e.newCoordinate.split(","),this.newCoordinate_=new t.utils.Coordinate(Number(o[0]),Number(o[1])))},t.Events.CommentMove.prototype.isNull=function(){return t.utils.Coordinate.equals(this.oldCoordinate_,this.newCoordinate_)},t.Events.CommentMove.prototype.run=function(t){var e=this.getEventWorkspace_().getCommentById(this.commentId);if(e){t=t?this.newCoordinate_:this.oldCoordinate_;var o=e.getXY();e.moveBy(t.x-o.x,t.y-o.y)}else console.warn("Can't move non-existent comment: "+this.commentId)},t.registry.register(t.registry.Type.EVENT,t.Events.COMMENT_CREATE,t.Events.CommentCreate),t.registry.register(t.registry.Type.EVENT,t.Events.COMMENT_CHANGE,t.Events.CommentChange),t.registry.register(t.registry.Type.EVENT,t.Events.COMMENT_MOVE,t.Events.CommentMove),t.registry.register(t.registry.Type.EVENT,t.Events.COMMENT_DELETE,t.Events.CommentDelete),t.BubbleDragger=function(e,o){this.draggingBubble_=e,this.workspace_=o,this.deleteArea_=null,this.wouldDeleteBubble_=!1,this.startXY_=this.draggingBubble_.getRelativeToSurfaceXY(),this.dragSurface_=t.utils.is3dSupported()&&o.getBlockDragSurface()?o.getBlockDragSurface():null},t.BubbleDragger.prototype.dispose=function(){this.dragSurface_=this.workspace_=this.draggingBubble_=null},t.BubbleDragger.prototype.startBubbleDrag=function(){t.Events.getGroup()||t.Events.setGroup(!0),this.workspace_.setResizesEnabled(!1),this.draggingBubble_.setAutoLayout(!1),this.dragSurface_&&this.moveToDragSurface_(),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!0);var e=this.workspace_.getToolbox();if(e&&"function"==typeof e.addStyle){var o=this.draggingBubble_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";e.addStyle(o)}},t.BubbleDragger.prototype.dragBubble=function(e,o){o=this.pixelsToWorkspaceUnits_(o),o=t.utils.Coordinate.sum(this.startXY_,o),this.draggingBubble_.moveDuringDrag(this.dragSurface_,o),this.draggingBubble_.isDeletable()&&(this.deleteArea_=this.workspace_.isDeleteArea(e),this.updateCursorDuringBubbleDrag_())},t.BubbleDragger.prototype.maybeDeleteBubble_=function(){var t=this.workspace_.trashcan;return this.wouldDeleteBubble_?(t&&setTimeout(t.closeLid.bind(t),100),this.fireMoveEvent_(),this.draggingBubble_.dispose(!1,!0)):t&&t.closeLid(),this.wouldDeleteBubble_},t.BubbleDragger.prototype.updateCursorDuringBubbleDrag_=function(){this.wouldDeleteBubble_=this.deleteArea_!=t.DELETE_AREA_NONE;var e=this.workspace_.trashcan;this.wouldDeleteBubble_?(this.draggingBubble_.setDeleteStyle(!0),this.deleteArea_==t.DELETE_AREA_TRASH&&e&&e.setLidOpen(!0)):(this.draggingBubble_.setDeleteStyle(!1),e&&e.setLidOpen(!1))},t.BubbleDragger.prototype.endBubbleDrag=function(e,o){this.dragBubble(e,o),e=this.pixelsToWorkspaceUnits_(o),e=t.utils.Coordinate.sum(this.startXY_,e),this.draggingBubble_.moveTo(e.x,e.y),this.maybeDeleteBubble_()||(this.dragSurface_&&this.dragSurface_.clearAndHide(this.workspace_.getBubbleCanvas()),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!1),this.fireMoveEvent_()),this.workspace_.setResizesEnabled(!0),(e=this.workspace_.getToolbox())&&"function"==typeof e.removeStyle&&(o=this.draggingBubble_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab",e.removeStyle(o)),t.Events.setGroup(!1)},t.BubbleDragger.prototype.fireMoveEvent_=function(){if(this.draggingBubble_.isComment){var e=new(t.Events.get(t.Events.COMMENT_MOVE))(this.draggingBubble_);e.setOldCoordinate(this.startXY_),e.recordNew(),t.Events.fire(e)}},t.BubbleDragger.prototype.pixelsToWorkspaceUnits_=function(e){return e=new t.utils.Coordinate(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&e.scale(1/this.workspace_.options.parentWorkspace.scale),e},t.BubbleDragger.prototype.moveToDragSurface_=function(){this.draggingBubble_.moveTo(0,0),this.dragSurface_.translateSurface(this.startXY_.x,this.startXY_.y),this.dragSurface_.setBlocksAndShow(this.draggingBubble_.getSvgRoot())},t.Events.Click=function(e,o,n){t.Events.Click.superClass_.constructor.call(this,e?e.workspace.id:o),this.blockId=e?e.id:null,this.targetType=n},t.utils.object.inherits(t.Events.Click,t.Events.UiBase),t.Events.Click.prototype.type=t.Events.CLICK,t.Events.Click.prototype.toJson=function(){var e=t.Events.Click.superClass_.toJson.call(this);return e.targetType=this.targetType,this.blockId&&(e.blockId=this.blockId),e},t.Events.Click.prototype.fromJson=function(e){t.Events.Click.superClass_.fromJson.call(this,e),this.targetType=e.targetType,this.blockId=e.blockId},t.registry.register(t.registry.Type.EVENT,t.Events.CLICK,t.Events.Click),t.WorkspaceDragger=function(e){this.workspace_=e,this.horizontalScrollEnabled_=this.workspace_.isMovableHorizontally(),this.verticalScrollEnabled_=this.workspace_.isMovableVertically(),this.startScrollXY_=new t.utils.Coordinate(e.scrollX,e.scrollY)},t.WorkspaceDragger.prototype.dispose=function(){this.workspace_=null},t.WorkspaceDragger.prototype.startDrag=function(){t.selected&&t.selected.unselect(),this.workspace_.setupDragSurface()},t.WorkspaceDragger.prototype.endDrag=function(t){this.drag(t),this.workspace_.resetDragSurface()},t.WorkspaceDragger.prototype.drag=function(e){if(e=t.utils.Coordinate.sum(this.startScrollXY_,e),this.horizontalScrollEnabled_&&this.verticalScrollEnabled_)this.workspace_.scroll(e.x,e.y);else if(this.horizontalScrollEnabled_)this.workspace_.scroll(e.x,this.workspace_.scrollY);else{if(!this.verticalScrollEnabled_)throw new TypeError("Invalid state.");this.workspace_.scroll(this.workspace_.scrollX,e.y)}},t.Gesture=function(e,o){this.mouseDownXY_=null,this.currentDragDeltaXY_=new t.utils.Coordinate(0,0),this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=this.startBubble_=null,this.creatorWorkspace_=o,this.isDraggingBubble_=this.isDraggingBlock_=this.isDraggingWorkspace_=this.hasExceededDragRadius_=!1,this.mostRecentEvent_=e,this.flyout_=this.workspaceDragger_=this.blockDragger_=this.bubbleDragger_=this.onUpWrapper_=this.onMoveWrapper_=null,this.isEnding_=this.hasStarted_=this.calledUpdateIsDragging_=!1,this.healStack_=!t.DRAG_STACK},t.Gesture.prototype.dispose=function(){t.Touch.clearTouchIdentifier(),t.Tooltip.unblock(),this.creatorWorkspace_.clearGesture(),this.onMoveWrapper_&&t.browserEvents.unbind(this.onMoveWrapper_),this.onUpWrapper_&&t.browserEvents.unbind(this.onUpWrapper_),this.blockDragger_&&this.blockDragger_.dispose(),this.workspaceDragger_&&this.workspaceDragger_.dispose(),this.bubbleDragger_&&this.bubbleDragger_.dispose()},t.Gesture.prototype.updateFromEvent_=function(e){var o=new t.utils.Coordinate(e.clientX,e.clientY);this.updateDragDelta_(o)&&(this.updateIsDragging_(),t.longStop_()),this.mostRecentEvent_=e},t.Gesture.prototype.updateDragDelta_=function(e){return this.currentDragDeltaXY_=t.utils.Coordinate.difference(e,this.mouseDownXY_),!this.hasExceededDragRadius_&&(this.hasExceededDragRadius_=t.utils.Coordinate.magnitude(this.currentDragDeltaXY_)>(this.flyout_?t.FLYOUT_DRAG_RADIUS:t.DRAG_RADIUS))},t.Gesture.prototype.updateIsDraggingFromFlyout_=function(){return!(!this.targetBlock_||!this.flyout_.isBlockCreatable_(this.targetBlock_)||this.flyout_.isScrollable()&&!this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_)||(this.startWorkspace_=this.flyout_.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),t.Events.getGroup()||t.Events.setGroup(!0),this.startBlock_=null,this.targetBlock_=this.flyout_.createBlock(this.targetBlock_),this.targetBlock_.select(),0))},t.Gesture.prototype.updateIsDraggingBubble_=function(){return!!this.startBubble_&&(this.isDraggingBubble_=!0,this.startDraggingBubble_(),!0)},t.Gesture.prototype.updateIsDraggingBlock_=function(){return!!this.targetBlock_&&(this.flyout_?this.isDraggingBlock_=this.updateIsDraggingFromFlyout_():this.targetBlock_.isMovable()&&(this.isDraggingBlock_=!0),!!this.isDraggingBlock_&&(this.startDraggingBlock_(),!0))},t.Gesture.prototype.updateIsDraggingWorkspace_=function(){(this.flyout_?this.flyout_.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.workspaceDragger_=new t.WorkspaceDragger(this.startWorkspace_),this.isDraggingWorkspace_=!0,this.workspaceDragger_.startDrag())},t.Gesture.prototype.updateIsDragging_=function(){if(this.calledUpdateIsDragging_)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging_=!0,this.updateIsDraggingBubble_()||this.updateIsDraggingBlock_()||this.updateIsDraggingWorkspace_()},t.Gesture.prototype.startDraggingBlock_=function(){this.blockDragger_=new t.BlockDragger(this.targetBlock_,this.startWorkspace_),this.blockDragger_.startBlockDrag(this.currentDragDeltaXY_,this.healStack_),this.blockDragger_.dragBlock(this.mostRecentEvent_,this.currentDragDeltaXY_)},t.Gesture.prototype.startDraggingBubble_=function(){this.bubbleDragger_=new t.BubbleDragger(this.startBubble_,this.startWorkspace_),this.bubbleDragger_.startBubbleDrag(),this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_)},t.Gesture.prototype.doStart=function(e){t.utils.isTargetInput(e)?this.cancel():(this.hasStarted_=!0,t.blockAnimations.disconnectUiStop(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),t.hideChaff(!!this.flyout_),this.startWorkspace_.markFocused(),this.mostRecentEvent_=e,t.Tooltip.block(),this.targetBlock_&&this.targetBlock_.select(),t.utils.isRightButton(e)?this.handleRightClick(e):("touchstart"!=e.type.toLowerCase()&&"pointerdown"!=e.type.toLowerCase()||"mouse"==e.pointerType||t.longStart(e,this),this.mouseDownXY_=new t.utils.Coordinate(e.clientX,e.clientY),this.healStack_=e.altKey||e.ctrlKey||e.metaKey,this.bindMouseEvents(e)))},t.Gesture.prototype.bindMouseEvents=function(e){this.onMoveWrapper_=t.browserEvents.conditionalBind(document,"mousemove",null,this.handleMove.bind(this)),this.onUpWrapper_=t.browserEvents.conditionalBind(document,"mouseup",null,this.handleUp.bind(this)),e.preventDefault(),e.stopPropagation()},t.Gesture.prototype.handleMove=function(t){this.updateFromEvent_(t),this.isDraggingWorkspace_?this.workspaceDragger_.drag(this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.dragBlock(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBubble_&&this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_),t.preventDefault(),t.stopPropagation()},t.Gesture.prototype.handleUp=function(e){this.updateFromEvent_(e),t.longStop_(),this.isEnding_?console.log("Trying to end a gesture recursively."):(this.isEnding_=!0,this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(e,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endBlockDrag(e,this.currentDragDeltaXY_):this.isDraggingWorkspace_?this.workspaceDragger_.endDrag(this.currentDragDeltaXY_):this.isBubbleClick_()?this.doBubbleClick_():this.isFieldClick_()?this.doFieldClick_():this.isBlockClick_()?this.doBlockClick_():this.isWorkspaceClick_()&&this.doWorkspaceClick_(e),e.preventDefault(),e.stopPropagation(),this.dispose())},t.Gesture.prototype.cancel=function(){this.isEnding_||(t.longStop_(),this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endBlockDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingWorkspace_&&this.workspaceDragger_.endDrag(this.currentDragDeltaXY_),this.dispose())},t.Gesture.prototype.handleRightClick=function(e){this.targetBlock_?(this.bringBlockToFront_(),t.hideChaff(!!this.flyout_),this.targetBlock_.showContextMenu(e)):this.startBubble_?this.startBubble_.showContextMenu(e):this.startWorkspace_&&!this.flyout_&&(t.hideChaff(),this.startWorkspace_.showContextMenu(e)),e.preventDefault(),e.stopPropagation(),this.dispose()},t.Gesture.prototype.handleWsStart=function(t,e){if(this.hasStarted_)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace_(e),this.mostRecentEvent_=t,this.doStart(t)},t.Gesture.prototype.fireWorkspaceClick_=function(e){t.Events.fire(new(t.Events.get(t.Events.CLICK))(null,e.id,"workspace"))},t.Gesture.prototype.handleFlyoutStart=function(t,e){if(this.hasStarted_)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout_(e),this.handleWsStart(t,e.getWorkspace())},t.Gesture.prototype.handleBlockStart=function(t,e){if(this.hasStarted_)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(e),this.mostRecentEvent_=t},t.Gesture.prototype.handleBubbleStart=function(t,e){if(this.hasStarted_)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(e),this.mostRecentEvent_=t},t.Gesture.prototype.doBubbleClick_=function(){this.startBubble_.setFocus&&this.startBubble_.setFocus(),this.startBubble_.select&&this.startBubble_.select()},t.Gesture.prototype.doFieldClick_=function(){this.startField_.showEditor(this.mostRecentEvent_),this.bringBlockToFront_()},t.Gesture.prototype.doBlockClick_=function(){if(this.flyout_&&this.flyout_.autoClose)this.targetBlock_.isEnabled()&&(t.Events.getGroup()||t.Events.setGroup(!0),this.flyout_.createBlock(this.targetBlock_).scheduleSnapAndBump());else{var e=new(t.Events.get(t.Events.CLICK))(this.startBlock_,this.startWorkspace_.id,"block");t.Events.fire(e)}this.bringBlockToFront_(),t.Events.setGroup(!1)},t.Gesture.prototype.doWorkspaceClick_=function(e){e=this.creatorWorkspace_,t.selected&&t.selected.unselect(),this.fireWorkspaceClick_(this.startWorkspace_||e)},t.Gesture.prototype.bringBlockToFront_=function(){this.targetBlock_&&!this.flyout_&&this.targetBlock_.bringToFront()},t.Gesture.prototype.setStartField=function(t){if(this.hasStarted_)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField_||(this.startField_=t)},t.Gesture.prototype.setStartBubble=function(t){this.startBubble_||(this.startBubble_=t)},t.Gesture.prototype.setStartBlock=function(t){this.startBlock_||this.startBubble_||(this.startBlock_=t,t.isInFlyout&&t!=t.getRootBlock()?this.setTargetBlock_(t.getRootBlock()):this.setTargetBlock_(t))},t.Gesture.prototype.setTargetBlock_=function(t){t.isShadow()?this.setTargetBlock_(t.getParent()):this.targetBlock_=t},t.Gesture.prototype.setStartWorkspace_=function(t){this.startWorkspace_||(this.startWorkspace_=t)},t.Gesture.prototype.setStartFlyout_=function(t){this.flyout_||(this.flyout_=t)},t.Gesture.prototype.isBubbleClick_=function(){return!!this.startBubble_&&!this.hasExceededDragRadius_},t.Gesture.prototype.isBlockClick_=function(){return!!this.startBlock_&&!this.hasExceededDragRadius_&&!this.isFieldClick_()},t.Gesture.prototype.isFieldClick_=function(){return!!this.startField_&&this.startField_.isClickable()&&!this.hasExceededDragRadius_&&(!this.flyout_||!this.flyout_.autoClose)},t.Gesture.prototype.isWorkspaceClick_=function(){return!(this.startBlock_||this.startBubble_||this.startField_||this.hasExceededDragRadius_)},t.Gesture.prototype.isDragging=function(){return this.isDraggingWorkspace_||this.isDraggingBlock_||this.isDraggingBubble_},t.Gesture.prototype.hasStarted=function(){return this.hasStarted_},t.Gesture.prototype.getInsertionMarkers=function(){return this.blockDragger_?this.blockDragger_.getInsertionMarkers():[]},t.Gesture.inProgress=function(){for(var e,o=t.Workspace.getAll(),n=0;e=o[n];n++)if(e.currentGesture_)return!0;return!1},t.Field=function(e,o,n){this.value_=this.DEFAULT_VALUE,this.tooltip_=this.validator_=null,this.size_=new t.utils.Size(0,0),this.constants_=this.mouseDownWrapper_=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg_=this.cursorSvg_=null,n&&this.configure_(n),this.setValue(e),o&&this.setValidator(o)},t.Field.prototype.DEFAULT_VALUE=null,t.Field.prototype.name=void 0,t.Field.prototype.disposed=!1,t.Field.prototype.maxDisplayLength=50,t.Field.prototype.sourceBlock_=null,t.Field.prototype.isDirty_=!0,t.Field.prototype.visible_=!0,t.Field.prototype.clickTarget_=null,t.Field.NBSP=" ",t.Field.prototype.EDITABLE=!0,t.Field.prototype.SERIALIZABLE=!1,t.Field.prototype.configure_=function(e){var o=e.tooltip;"string"==typeof o&&(o=t.utils.replaceMessageReferences(e.tooltip)),o&&this.setTooltip(o)},t.Field.prototype.setSourceBlock=function(t){if(this.sourceBlock_)throw Error("Field already bound to a block.");this.sourceBlock_=t},t.Field.prototype.getConstants=function(){return!this.constants_&&this.sourceBlock_&&this.sourceBlock_.workspace&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_},t.Field.prototype.getSourceBlock=function(){return this.sourceBlock_},t.Field.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},null),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel())},t.Field.prototype.initView=function(){this.createBorderRect_(),this.createTextElement_()},t.Field.prototype.initModel=function(){},t.Field.prototype.createBorderRect_=function(){this.borderRect_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)},t.Field.prototype.createTextElement_=function(){this.textElement_=t.utils.dom.createSvgElement(t.utils.Svg.TEXT,{class:"blocklyText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)},t.Field.prototype.bindEvents_=function(){t.Tooltip.bindMouseEvents(this.getClickTarget_()),this.mouseDownWrapper_=t.browserEvents.conditionalBind(this.getClickTarget_(),"mousedown",this,this.onMouseDown_)},t.Field.prototype.fromXml=function(t){this.setValue(t.textContent)},t.Field.prototype.toXml=function(t){return t.textContent=this.getValue(),t},t.Field.prototype.dispose=function(){t.DropDownDiv.hideIfOwner(this),t.WidgetDiv.hideIfOwner(this),t.Tooltip.unbindMouseEvents(this.getClickTarget_()),this.mouseDownWrapper_&&t.browserEvents.unbind(this.mouseDownWrapper_),t.utils.dom.removeNode(this.fieldGroup_),this.disposed=!0},t.Field.prototype.updateEditable=function(){var e=this.fieldGroup_;this.EDITABLE&&e&&(this.sourceBlock_.isEditable()?(t.utils.dom.addClass(e,"blocklyEditableText"),t.utils.dom.removeClass(e,"blocklyNonEditableText"),e.style.cursor=this.CURSOR):(t.utils.dom.addClass(e,"blocklyNonEditableText"),t.utils.dom.removeClass(e,"blocklyEditableText"),e.style.cursor=""))},t.Field.prototype.isClickable=function(){return!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&!!this.showEditor_&&"function"==typeof this.showEditor_},t.Field.prototype.isCurrentlyEditable=function(){return this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()},t.Field.prototype.isSerializable=function(){var t=!1;return this.name&&(this.SERIALIZABLE?t=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),t=!0)),t},t.Field.prototype.isVisible=function(){return this.visible_},t.Field.prototype.setVisible=function(t){if(this.visible_!=t){this.visible_=t;var e=this.getSvgRoot();e&&(e.style.display=t?"block":"none")}},t.Field.prototype.setValidator=function(t){this.validator_=t},t.Field.prototype.getValidator=function(){return this.validator_},t.Field.prototype.getSvgRoot=function(){return this.fieldGroup_},t.Field.prototype.applyColour=function(){},t.Field.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()},t.Field.prototype.showEditor=function(t){this.isClickable()&&this.showEditor_(t)},t.Field.prototype.updateSize_=function(e){var o=this.getConstants(),n=2*(e=null!=e?e:this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0),r=o.FIELD_TEXT_HEIGHT,i=0;this.textElement_&&(n+=i=t.utils.dom.getFastTextWidth(this.textElement_,o.FIELD_TEXT_FONTSIZE,o.FIELD_TEXT_FONTWEIGHT,o.FIELD_TEXT_FONTFAMILY)),this.borderRect_&&(r=Math.max(r,o.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=r,this.size_.width=n,this.positionTextElement_(e,i),this.positionBorderRect_()},t.Field.prototype.positionTextElement_=function(t,e){if(this.textElement_){var o=this.getConstants(),n=this.size_.height/2;this.textElement_.setAttribute("x",this.sourceBlock_.RTL?this.size_.width-e-t:t),this.textElement_.setAttribute("y",o.FIELD_TEXT_BASELINE_CENTER?n:n-o.FIELD_TEXT_HEIGHT/2+o.FIELD_TEXT_BASELINE)}},t.Field.prototype.positionBorderRect_=function(){this.borderRect_&&(this.borderRect_.setAttribute("width",this.size_.width),this.borderRect_.setAttribute("height",this.size_.height),this.borderRect_.setAttribute("rx",this.getConstants().FIELD_BORDER_RECT_RADIUS),this.borderRect_.setAttribute("ry",this.getConstants().FIELD_BORDER_RECT_RADIUS))},t.Field.prototype.getSize=function(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&0==this.size_.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.render_()),this.size_):new t.utils.Size(0,0)},t.Field.prototype.getScaledBBox=function(){if(this.borderRect_)e=this.borderRect_.getBoundingClientRect(),n=t.utils.style.getPageOffset(this.borderRect_),r=e.width,e=e.height;else{var e=this.sourceBlock_.getHeightWidth(),o=this.sourceBlock_.workspace.scale,n=this.getAbsoluteXY_(),r=e.width*o;e=e.height*o,t.utils.userAgent.GECKO?(n.x+=1.5*o,n.y+=1.5*o):t.utils.userAgent.EDGE||t.utils.userAgent.IE||(n.x-=.5*o,n.y-=.5*o),r+=1*o,e+=1*o}return new t.utils.Rect(n.y,n.y+e,n.x,n.x+r)},t.Field.prototype.getDisplayText_=function(){var e=this.getText();return e?(e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+"…"),e=e.replace(/\s/g,t.Field.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+="‏"),e):t.Field.NBSP},t.Field.prototype.getText=function(){if(this.getText_){var t=this.getText_.call(this);if(null!==t)return String(t)}return String(this.getValue())},t.Field.prototype.markDirty=function(){this.isDirty_=!0,this.constants_=null},t.Field.prototype.forceRerender=function(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours(),this.updateMarkers_())},t.Field.prototype.setValue=function(e){if(null!==e){var o=this.doClassValidation_(e);if(!((e=this.processValidation_(e,o))instanceof Error)){if((o=this.getValidator())&&(o=o.call(this,e),(e=this.processValidation_(e,o))instanceof Error))return;if(!(o=this.sourceBlock_)||!o.disposed){var n=this.getValue();n===e?this.doValueUpdate_(e):(o&&t.Events.isEnabled()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(o,"field",this.name||null,n,e)),this.doValueUpdate_(e),this.isDirty_&&this.forceRerender())}}}},t.Field.prototype.processValidation_=function(t,e){return null===e?(this.doValueInvalid_(t),this.isDirty_&&this.forceRerender(),Error()):(void 0!==e&&(t=e),t)},t.Field.prototype.getValue=function(){return this.value_},t.Field.prototype.doClassValidation_=function(t){return null==t?null:t},t.Field.prototype.doValueUpdate_=function(t){this.value_=t,this.isDirty_=!0},t.Field.prototype.doValueInvalid_=function(t){},t.Field.prototype.onMouseDown_=function(t){this.sourceBlock_&&this.sourceBlock_.workspace&&(t=this.sourceBlock_.workspace.getGesture(t))&&t.setStartField(this)},t.Field.prototype.setTooltip=function(t){t||""===t||(t=this.sourceBlock_);var e=this.getClickTarget_();e?e.tooltip=t:this.tooltip_=t},t.Field.prototype.getTooltip=function(){var e=this.getClickTarget_();return e?t.Tooltip.getTooltipOfObject(e):t.Tooltip.getTooltipOfObject({tooltip:this.tooltip_})},t.Field.prototype.getClickTarget_=function(){return this.clickTarget_||this.getSvgRoot()},t.Field.prototype.getAbsoluteXY_=function(){return t.utils.style.getPageOffset(this.getClickTarget_())},t.Field.prototype.referencesVariables=function(){return!1},t.Field.prototype.getParentInput=function(){for(var t=null,e=this.sourceBlock_,o=e.inputList,n=0;n<e.inputList.length;n++)for(var r=o[n],i=r.fieldRow,s=0;s<i.length;s++)if(i[s]===this){t=r;break}return t},t.Field.prototype.getFlipRtl=function(){return!1},t.Field.prototype.isTabNavigable=function(){return!1},t.Field.prototype.onShortcut=function(t){return!1},t.Field.prototype.setCursorSvg=function(t){t?(this.fieldGroup_.appendChild(t),this.cursorSvg_=t):this.cursorSvg_=null},t.Field.prototype.setMarkerSvg=function(t){t?(this.fieldGroup_.appendChild(t),this.markerSvg_=t):this.markerSvg_=null},t.Field.prototype.updateMarkers_=function(){var e=this.sourceBlock_.workspace;e.keyboardAccessibilityMode&&this.cursorSvg_&&e.getCursor().draw(),e.keyboardAccessibilityMode&&this.markerSvg_&&e.getMarker(t.MarkerManager.LOCAL_MARKER).draw()},t.FieldLabel=function(e,o,n){this.class_=null,t.FieldLabel.superClass_.constructor.call(this,e,null,n),n||(this.class_=o||null)},t.utils.object.inherits(t.FieldLabel,t.Field),t.FieldLabel.prototype.DEFAULT_VALUE="",t.FieldLabel.fromJson=function(e){var o=t.utils.replaceMessageReferences(e.text);return new t.FieldLabel(o,void 0,e)},t.FieldLabel.prototype.EDITABLE=!1,t.FieldLabel.prototype.configure_=function(e){t.FieldLabel.superClass_.configure_.call(this,e),this.class_=e.class},t.FieldLabel.prototype.initView=function(){this.createTextElement_(),this.class_&&t.utils.dom.addClass(this.textElement_,this.class_)},t.FieldLabel.prototype.doClassValidation_=function(t){return null==t?null:String(t)},t.FieldLabel.prototype.setClass=function(e){this.textElement_&&(this.class_&&t.utils.dom.removeClass(this.textElement_,this.class_),e&&t.utils.dom.addClass(this.textElement_,e)),this.class_=e},t.fieldRegistry.register("field_label",t.FieldLabel),t.Input=function(e,o,n,r){if(e!=t.inputTypes.DUMMY&&!o)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=e,this.name=o,this.sourceBlock_=n,this.connection=r,this.fieldRow=[]},t.Input.prototype.align=t.constants.ALIGN.LEFT,t.Input.prototype.visible_=!0,t.Input.prototype.getSourceBlock=function(){return this.sourceBlock_},t.Input.prototype.appendField=function(t,e){return this.insertFieldAt(this.fieldRow.length,t,e),this},t.Input.prototype.insertFieldAt=function(e,o,n){if(0>e||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return o||""==o&&n?("string"==typeof o&&(o=t.fieldRegistry.fromJson({type:"field_label",text:o})),o.setSourceBlock(this.sourceBlock_),this.sourceBlock_.rendered&&(o.init(),o.applyColour()),o.name=n,o.setVisible(this.isVisible()),o.prefixField&&(e=this.insertFieldAt(e,o.prefixField)),this.fieldRow.splice(e,0,o),++e,o.suffixField&&(e=this.insertFieldAt(e,o.suffixField)),this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()),e):e},t.Input.prototype.removeField=function(t,e){for(var o,n=0;o=this.fieldRow[n];n++)if(o.name===t)return o.dispose(),this.fieldRow.splice(n,1),this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()),!0;if(e)return!1;throw Error('Field "'+t+'" not found.')},t.Input.prototype.isVisible=function(){return this.visible_},t.Input.prototype.setVisible=function(t){var e=[];if(this.visible_==t)return e;this.visible_=t;for(var o,n=0;o=this.fieldRow[n];n++)o.setVisible(t);return this.connection&&(this.connection=this.connection,t?e=this.connection.startTrackingAll():this.connection.stopTrackingAll(),n=this.connection.targetBlock())&&(n.getSvgRoot().style.display=t?"block":"none"),e},t.Input.prototype.markDirty=function(){for(var t,e=0;t=this.fieldRow[e];e++)t.markDirty()},t.Input.prototype.setCheck=function(t){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(t),this},t.Input.prototype.setAlign=function(t){return this.align=t,this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render()),this},t.Input.prototype.setShadowDom=function(t){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(t),this},t.Input.prototype.getShadowDom=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()},t.Input.prototype.init=function(){if(this.sourceBlock_.workspace.rendered)for(var t=0;t<this.fieldRow.length;t++)this.fieldRow[t].init()},t.Input.prototype.dispose=function(){for(var t,e=0;t=this.fieldRow[e];e++)t.dispose();this.connection&&this.connection.dispose(),this.sourceBlock_=null},t.Block=function(e,o,n){if(t.Generator&&void 0!==t.Generator.prototype[o])throw Error('Block prototypeName "'+o+'" conflicts with Blockly.Generator members.');if(this.id=n&&!e.getBlockById(n)?n:t.utils.genUid(),e.setBlockById(this.id,this),this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.inputsInline=void 0,this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.comment=this.outputShape_=null,this.commentModel={text:null,pinned:!1,size:new t.utils.Size(160,80)},this.xy_=new t.utils.Coordinate(0,0),this.workspace=e,this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,this.isInsertionMarker_=!1,this.hat=void 0,this.rendered=null,this.statementInputCount=0,o){if(this.type=o,!(n=t.Blocks[o])||"object"!=typeof n)throw TypeError("Unknown block type: "+o);t.utils.object.mixin(this,n)}e.addTopBlock(this),e.addTypedBlock(this),(e=t.Events.getGroup())||t.Events.setGroup(!0),o=t.Events.recordUndo;try{"function"==typeof this.init&&(t.Events.recordUndo=!1,this.init(),t.Events.recordUndo=o),t.Events.isEnabled()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CREATE))(this))}finally{e||t.Events.setGroup(!1),t.Events.recordUndo=o}this.inputsInlineDefault=this.inputsInline,"function"==typeof this.onchange&&this.setOnChange(this.onchange)},t.Block.COLLAPSED_INPUT_NAME=t.constants.COLLAPSED_INPUT_NAME,t.Block.COLLAPSED_FIELD_NAME=t.constants.COLLAPSED_FIELD_NAME,t.Block.prototype.data=null,t.Block.prototype.disposed=!1,t.Block.prototype.hue_=null,t.Block.prototype.colour_="#000000",t.Block.prototype.styleName_=null,t.Block.prototype.dispose=function(e){if(this.workspace){this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(e),t.Events.isEnabled()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_DELETE))(this)),t.Events.disable();try{this.workspace&&(this.workspace.removeTopBlock(this),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),this.workspace=null),t.selected==this&&(t.selected=null);for(var o=this.childBlocks_.length-1;0<=o;o--)this.childBlocks_[o].dispose(!1);o=0;for(var n;n=this.inputList[o];o++)n.dispose();this.inputList.length=0;var r,i=this.getConnections_(!0);for(o=0;r=i[o];o++)r.dispose()}finally{t.Events.enable(),this.disposed=!0}}},t.Block.prototype.initModel=function(){for(var t,e=0;t=this.inputList[e];e++)for(var o,n=0;o=t.fieldRow[n];n++)o.initModel&&o.initModel()},t.Block.prototype.unplug=function(t){this.outputConnection?this.unplugFromRow_(t):this.previousConnection&&this.unplugFromStack_(t)},t.Block.prototype.unplugFromRow_=function(t){var e=null;this.outputConnection.isConnected()&&(e=this.outputConnection.targetConnection,this.outputConnection.disconnect()),e&&t&&(t=this.getOnlyValueConnection_())&&t.isConnected()&&!t.targetBlock().isShadow()&&((t=t.targetConnection).disconnect(),this.workspace.connectionChecker.canConnect(t,e,!1)?e.connect(t):t.onFailedConnect(e))},t.Block.prototype.getOnlyValueConnection_=function(){for(var e=null,o=0;o<this.inputList.length;o++){var n=this.inputList[o].connection;if(n&&n.type==t.connectionTypes.INPUT_VALUE&&n.targetConnection){if(e)return null;e=n}}return e},t.Block.prototype.unplugFromStack_=function(t){var e=null;this.previousConnection.isConnected()&&(e=this.previousConnection.targetConnection,this.previousConnection.disconnect());var o=this.getNextBlock();t&&o&&!o.isShadow()&&((t=this.nextConnection.targetConnection).disconnect(),e&&this.workspace.connectionChecker.canConnect(e,t,!1)&&e.connect(t))},t.Block.prototype.getConnections_=function(t){t=[],this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection);for(var e,o=0;e=this.inputList[o];o++)e.connection&&t.push(e.connection);return t},t.Block.prototype.lastConnectionInStack=function(){for(var t=this.nextConnection;t;){var e=t.targetBlock();if(!e)return t;t=e.nextConnection}return null},t.Block.prototype.bumpNeighbours=function(){},t.Block.prototype.getParent=function(){return this.parentBlock_},t.Block.prototype.getInputWithBlock=function(t){for(var e,o=0;e=this.inputList[o];o++)if(e.connection&&e.connection.targetBlock()==t)return e;return null},t.Block.prototype.getSurroundParent=function(){var t=this;do{var e=t;if(!(t=t.getParent()))return null}while(t.getNextBlock()==e);return t},t.Block.prototype.getNextBlock=function(){return this.nextConnection&&this.nextConnection.targetBlock()},t.Block.prototype.getPreviousBlock=function(){return this.previousConnection&&this.previousConnection.targetBlock()},t.Block.prototype.getFirstStatementConnection=function(){for(var e,o=0;e=this.inputList[o];o++)if(e.connection&&e.connection.type==t.connectionTypes.NEXT_STATEMENT)return e.connection;return null},t.Block.prototype.getRootBlock=function(){var t=this;do{var e=t;t=e.parentBlock_}while(t);return e},t.Block.prototype.getTopStackBlock=function(){var t=this;do{var e=t.getPreviousBlock()}while(e&&e.getNextBlock()==t&&(t=e));return t},t.Block.prototype.getChildren=function(t){if(!t)return this.childBlocks_;t=[];for(var e,o=0;e=this.inputList[o];o++)e.connection&&(e=e.connection.targetBlock())&&t.push(e);return(o=this.getNextBlock())&&t.push(o),t},t.Block.prototype.setParent=function(e){if(e!=this.parentBlock_){if(this.parentBlock_){if(t.utils.arrayRemove(this.parentBlock_.childBlocks_,this),this.previousConnection&&this.previousConnection.isConnected())throw Error("Still connected to previous block.");if(this.outputConnection&&this.outputConnection.isConnected())throw Error("Still connected to parent block.");this.parentBlock_=null}else this.workspace.removeTopBlock(this);(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}},t.Block.prototype.getDescendants=function(t){for(var e,o=[this],n=this.getChildren(t),r=0;e=n[r];r++)o.push.apply(o,e.getDescendants(t));return o},t.Block.prototype.isDeletable=function(){return this.deletable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},t.Block.prototype.setDeletable=function(t){this.deletable_=t},t.Block.prototype.isMovable=function(){return this.movable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},t.Block.prototype.setMovable=function(t){this.movable_=t},t.Block.prototype.isDuplicatable=function(){return!this.workspace.hasBlockLimits()||this.workspace.isCapacityAvailable(t.utils.getBlockTypeCounts(this,!0))},t.Block.prototype.isShadow=function(){return this.isShadow_},t.Block.prototype.setShadow=function(t){this.isShadow_=t},t.Block.prototype.isInsertionMarker=function(){return this.isInsertionMarker_},t.Block.prototype.setInsertionMarker=function(t){this.isInsertionMarker_=t},t.Block.prototype.isEditable=function(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)},t.Block.prototype.setEditable=function(t){this.editable_=t,t=0;for(var e;e=this.inputList[t];t++)for(var o,n=0;o=e.fieldRow[n];n++)o.updateEditable()},t.Block.prototype.isDisposed=function(){return this.disposed},t.Block.prototype.getMatchingConnection=function(t,e){var o=this.getConnections_(!0);if(t=t.getConnections_(!0),o.length!=t.length)throw Error("Connection lists did not match in length.");for(var n=0;n<t.length;n++)if(t[n]==e)return o[n];return null},t.Block.prototype.setHelpUrl=function(t){this.helpUrl=t},t.Block.prototype.setTooltip=function(t){this.tooltip=t},t.Block.prototype.getTooltip=function(){return t.Tooltip.getTooltipOfObject(this)},t.Block.prototype.getColour=function(){return this.colour_},t.Block.prototype.getStyleName=function(){return this.styleName_},t.Block.prototype.getHue=function(){return this.hue_},t.Block.prototype.setColour=function(e){e=t.utils.parseBlockColour(e),this.hue_=e.hue,this.colour_=e.hex},t.Block.prototype.setStyle=function(t){this.styleName_=t},t.Block.prototype.setOnChange=function(t){if(t&&"function"!=typeof t)throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),(this.onchange=t)&&(this.onchangeWrapper_=t.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_))},t.Block.prototype.getField=function(t){for(var e,o=0;e=this.inputList[o];o++)for(var n,r=0;n=e.fieldRow[r];r++)if(n.name==t)return n;return null},t.Block.prototype.getVars=function(){for(var t,e=[],o=0;t=this.inputList[o];o++)for(var n,r=0;n=t.fieldRow[r];r++)n.referencesVariables()&&e.push(n.getValue());return e},t.Block.prototype.getVarModels=function(){for(var t,e=[],o=0;t=this.inputList[o];o++)for(var n,r=0;n=t.fieldRow[r];r++)n.referencesVariables()&&(n=this.workspace.getVariableById(n.getValue()))&&e.push(n);return e},t.Block.prototype.updateVarName=function(t){for(var e,o=0;e=this.inputList[o];o++)for(var n,r=0;n=e.fieldRow[r];r++)n.referencesVariables()&&t.getId()==n.getValue()&&n.refreshVariableName()},t.Block.prototype.renameVarById=function(t,e){for(var o,n=0;o=this.inputList[n];n++)for(var r,i=0;r=o.fieldRow[i];i++)r.referencesVariables()&&t==r.getValue()&&r.setValue(e)},t.Block.prototype.getFieldValue=function(t){return(t=this.getField(t))?t.getValue():null},t.Block.prototype.setFieldValue=function(t,e){var o=this.getField(e);if(!o)throw Error('Field "'+e+'" not found.');o.setValue(t)},t.Block.prototype.setPreviousStatement=function(e,o){if(e){if(void 0===o&&(o=null),!this.previousConnection){if(this.outputConnection)throw Error("Remove output connection prior to adding previous connection.");this.previousConnection=this.makeConnection_(t.connectionTypes.PREVIOUS_STATEMENT)}this.previousConnection.setCheck(o)}else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}},t.Block.prototype.setNextStatement=function(e,o){if(e)void 0===o&&(o=null),this.nextConnection||(this.nextConnection=this.makeConnection_(t.connectionTypes.NEXT_STATEMENT)),this.nextConnection.setCheck(o);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}},t.Block.prototype.setOutput=function(e,o){if(e){if(void 0===o&&(o=null),!this.outputConnection){if(this.previousConnection)throw Error("Remove previous connection prior to adding output connection.");this.outputConnection=this.makeConnection_(t.connectionTypes.OUTPUT_VALUE)}this.outputConnection.setCheck(o)}else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}},t.Block.prototype.setInputsInline=function(e){this.inputsInline!=e&&(t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)},t.Block.prototype.getInputsInline=function(){if(null!=this.inputsInline)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type==t.inputTypes.DUMMY&&this.inputList[e].type==t.inputTypes.DUMMY)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type==t.inputTypes.VALUE&&this.inputList[e].type==t.inputTypes.DUMMY)return!0;return!1},t.Block.prototype.setOutputShape=function(t){this.outputShape_=t},t.Block.prototype.getOutputShape=function(){return this.outputShape_},t.Block.prototype.isEnabled=function(){return!this.disabled},t.Block.prototype.setEnabled=function(e){this.isEnabled()!=e&&(t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this,"disabled",null,this.disabled,!e)),this.disabled=!e)},t.Block.prototype.getInheritedDisabled=function(){for(var t=this.getSurroundParent();t;){if(t.disabled)return!0;t=t.getSurroundParent()}return!1},t.Block.prototype.isCollapsed=function(){return this.collapsed_},t.Block.prototype.setCollapsed=function(e){this.collapsed_!=e&&(t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)},t.Block.prototype.toString=function(e,o){function n(t){var e=t.getCheck();return!e&&t.targetConnection&&(e=t.targetConnection.getCheck()),!!e&&(-1!=e.indexOf("Boolean")||-1!=e.indexOf("Number"))}function r(){a&&a.getType()==l.getType()&&a.getLocation()==l.getLocation()&&(a=null)}var i=[];o=o||"?";var s=t.ASTNode.NAVIGATE_ALL_FIELDS;t.ASTNode.NAVIGATE_ALL_FIELDS=!0;for(var a=t.ASTNode.createBlockNode(this),l=a;a;){switch(a.getType()){case t.ASTNode.types.INPUT:var c=a.getLocation();a.in()?n(c)&&i.push("("):i.push(o);break;case t.ASTNode.types.FIELD:(c=a.getLocation()).name!=t.constants.COLLAPSED_FIELD_NAME&&i.push(c.getText())}if(!(a=(c=a).in()||c.next())){for(a=c.out(),r();a&&!a.next();)a=a.out(),r(),a&&a.getType()==t.ASTNode.types.INPUT&&n(a.getLocation())&&i.push(")");a&&(a=a.next())}}for(t.ASTNode.NAVIGATE_ALL_FIELDS=s,o=2,s=i.length;o<s;o++)"("==i[o-2]&&")"==i[o]&&(i[o-2]=i[o-1],i.splice(o-1,2),s-=2);return i=i.join(" ").replace(/(\() | (\))/gim,"$1$2").trim()||"???",e&&i.length>e&&(i=i.substring(0,e-3)+"..."),i},t.Block.prototype.appendValueInput=function(e){return this.appendInput_(t.inputTypes.VALUE,e)},t.Block.prototype.appendStatementInput=function(e){return this.appendInput_(t.inputTypes.STATEMENT,e)},t.Block.prototype.appendDummyInput=function(e){return this.appendInput_(t.inputTypes.DUMMY,e||"")},t.Block.prototype.jsonInit=function(e){var o=e.type?'Block "'+e.type+'": ':"";if(e.output&&e.previousStatement)throw Error(o+"Must not have both an output and a previousStatement.");if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(o+"Must not have both a colour and a style.");e.style?this.jsonInitStyle_(e,o):this.jsonInitColour_(e,o);for(var n=0;void 0!==e["message"+n];)this.interpolate_(e["message"+n],e["args"+n]||[],e["lastDummyAlign"+n],o),n++;if(void 0!==e.inputsInline&&this.setInputsInline(e.inputsInline),void 0!==e.output&&this.setOutput(!0,e.output),void 0!==e.outputShape&&this.setOutputShape(e.outputShape),void 0!==e.previousStatement&&this.setPreviousStatement(!0,e.previousStatement),void 0!==e.nextStatement&&this.setNextStatement(!0,e.nextStatement),void 0!==e.tooltip&&(n=e.tooltip,n=t.utils.replaceMessageReferences(n),this.setTooltip(n)),void 0!==e.enableContextMenu&&(n=e.enableContextMenu,this.contextMenu=!!n),void 0!==e.helpUrl&&(n=e.helpUrl,n=t.utils.replaceMessageReferences(n),this.setHelpUrl(n)),"string"==typeof e.extensions&&(console.warn(o+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),void 0!==e.mutator&&t.Extensions.apply(e.mutator,this,!0),Array.isArray(e.extensions))for(e=e.extensions,o=0;o<e.length;++o)t.Extensions.apply(e[o],this,!1)},t.Block.prototype.jsonInitColour_=function(t,e){if("colour"in t)if(void 0===t.colour)console.warn(e+"Undefined colour value.");else{t=t.colour;try{this.setColour(t)}catch(o){console.warn(e+"Illegal colour value: ",t)}}},t.Block.prototype.jsonInitStyle_=function(t,e){t=t.style;try{this.setStyle(t)}catch(o){console.warn(e+"Style does not exist: ",t)}},t.Block.prototype.mixin=function(e,o){if(void 0!==o&&"boolean"!=typeof o)throw Error("opt_disableCheck must be a boolean if provided");if(!o){for(var n in o=[],e)void 0!==this[n]&&o.push(n);if(o.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(o))}t.utils.object.mixin(this,e)},t.Block.prototype.interpolate_=function(e,o,n,r){e=t.utils.tokenizeInterpolation(e),this.validateTokens_(e,o.length),o=this.interpolateArguments_(e,o,n),n=[],e=0;for(var i;i=o[e];e++)if(this.isInputKeyword_(i.type)){if(i=this.inputFromJson_(i,r)){for(var s,a=0;s=n[a];a++)i.appendField(s[0],s[1]);n.length=0}}else(a=this.fieldFromJson_(i))&&n.push([a,i.name])},t.Block.prototype.validateTokens_=function(t,e){for(var o=[],n=0,r=0;r<t.length;r++){var i=t[r];if("number"==typeof i){if(1>i||i>e)throw Error('Block "'+this.type+'": Message index %'+i+" out of range.");if(o[i])throw Error('Block "'+this.type+'": Message index %'+i+" duplicated.");o[i]=!0,n++}}if(n!=e)throw Error('Block "'+this.type+'": Message does not reference all '+e+" arg(s).")},t.Block.prototype.interpolateArguments_=function(t,e,o){for(var n=[],r=0;r<t.length;r++){var i=t[r];"number"==typeof i&&(i=e[i-1]),("string"!=typeof i||(i=this.stringToFieldJson_(i)))&&n.push(i)}return(t=n.length)&&!this.isInputKeyword_(n[t-1].type)&&(t={type:"input_dummy"},o&&(t.align=o),n.push(t)),n},t.Block.prototype.fieldFromJson_=function(e){var o=t.fieldRegistry.fromJson(e);return!o&&e.alt?"string"==typeof e.alt?(e=this.stringToFieldJson_(e.alt))?this.fieldFromJson_(e):null:this.fieldFromJson_(e.alt):o},t.Block.prototype.inputFromJson_=function(e,o){var n={LEFT:t.constants.ALIGN.LEFT,RIGHT:t.constants.ALIGN.RIGHT,CENTRE:t.constants.ALIGN.CENTRE,CENTER:t.constants.ALIGN.CENTRE},r=null;switch(e.type){case"input_value":r=this.appendValueInput(e.name);break;case"input_statement":r=this.appendStatementInput(e.name);break;case"input_dummy":r=this.appendDummyInput(e.name)}return r?(e.check&&r.setCheck(e.check),e.align&&(void 0===(n=n[e.align.toUpperCase()])?console.warn(o+"Illegal align value: ",e.align):r.setAlign(n)),r):null},t.Block.prototype.isInputKeyword_=function(t){return"input_value"==t||"input_statement"==t||"input_dummy"==t},t.Block.prototype.stringToFieldJson_=function(t){return(t=t.trim())?{type:"field_label",text:t}:null},t.Block.prototype.appendInput_=function(e,o){var n=null;return e!=t.inputTypes.VALUE&&e!=t.inputTypes.STATEMENT||(n=this.makeConnection_(e)),e==t.inputTypes.STATEMENT&&this.statementInputCount++,e=new t.Input(e,o,this,n),this.inputList.push(e),e},t.Block.prototype.moveInputBefore=function(t,e){if(t!=e){for(var o,n=-1,r=e?-1:this.inputList.length,i=0;o=this.inputList[i];i++)if(o.name==t){if(n=i,-1!=r)break}else if(e&&o.name==e&&(r=i,-1!=n))break;if(-1==n)throw Error('Named input "'+t+'" not found.');if(-1==r)throw Error('Reference input "'+e+'" not found.');this.moveNumberedInputBefore(n,r)}},t.Block.prototype.moveNumberedInputBefore=function(t,e){if(t==e)throw Error("Can't move input to itself.");if(t>=this.inputList.length)throw RangeError("Input index "+t+" out of bounds.");if(e>this.inputList.length)throw RangeError("Reference input "+e+" out of bounds.");var o=this.inputList[t];this.inputList.splice(t,1),t<e&&e--,this.inputList.splice(e,0,o)},t.Block.prototype.removeInput=function(e,o){for(var n,r=0;n=this.inputList[r];r++)if(n.name==e)return n.type==t.inputTypes.STATEMENT&&this.statementInputCount--,n.dispose(),this.inputList.splice(r,1),!0;if(o)return!1;throw Error("Input not found: "+e)},t.Block.prototype.getInput=function(t){for(var e,o=0;e=this.inputList[o];o++)if(e.name==t)return e;return null},t.Block.prototype.getInputTargetBlock=function(t){return(t=this.getInput(t))&&t.connection&&t.connection.targetBlock()},t.Block.prototype.getCommentText=function(){return this.commentModel.text},t.Block.prototype.setCommentText=function(e){this.commentModel.text!=e&&(t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this,"comment",null,this.commentModel.text,e)),this.comment=this.commentModel.text=e)},t.Block.prototype.setWarningText=function(t,e){},t.Block.prototype.setMutator=function(t){},t.Block.prototype.getRelativeToSurfaceXY=function(){return this.xy_},t.Block.prototype.moveBy=function(e,o){if(this.parentBlock_)throw Error("Block has parent.");var n=new(t.Events.get(t.Events.BLOCK_MOVE))(this);this.xy_.translate(e,o),n.recordNew(),t.Events.fire(n)},t.Block.prototype.makeConnection_=function(e){return new t.Connection(this,e)},t.Block.prototype.allInputsFilled=function(t){if(void 0===t&&(t=!0),!t&&this.isShadow())return!1;for(var e,o=0;e=this.inputList[o];o++)if(e.connection&&(!(e=e.connection.targetBlock())||!e.allInputsFilled(t)))return!1;return!(o=this.getNextBlock())||o.allInputsFilled(t)},t.Block.prototype.toDevString=function(){var t=this.type?'"'+this.type+'" block':"Block";return this.id&&(t+=' (id="'+this.id+'")'),t},t.blockRendering.IPathObject=function(t,e){},t.utils.KeyCodes={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,FF_HASH:163,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255},t.Menu=function(){this.menuItems_=[],this.roleName_=this.element_=this.onKeyDownHandler_=this.mouseLeaveHandler_=this.mouseEnterHandler_=this.clickHandler_=this.mouseOverHandler_=this.highlightedItem_=this.openingCoords=null},t.Menu.prototype.addChild=function(t){this.menuItems_.push(t)},t.Menu.prototype.render=function(e){var o=document.createElement("div");o.className="blocklyMenu goog-menu blocklyNonSelectable",o.tabIndex=0,this.roleName_&&t.utils.aria.setRole(o,this.roleName_),this.element_=o;for(var n,r=0;n=this.menuItems_[r];r++)o.appendChild(n.createDom());this.mouseOverHandler_=t.browserEvents.conditionalBind(o,"mouseover",this,this.handleMouseOver_,!0),this.clickHandler_=t.browserEvents.conditionalBind(o,"click",this,this.handleClick_,!0),this.mouseEnterHandler_=t.browserEvents.conditionalBind(o,"mouseenter",this,this.handleMouseEnter_,!0),this.mouseLeaveHandler_=t.browserEvents.conditionalBind(o,"mouseleave",this,this.handleMouseLeave_,!0),this.onKeyDownHandler_=t.browserEvents.conditionalBind(o,"keydown",this,this.handleKeyEvent_),e.appendChild(o)},t.Menu.prototype.getElement=function(){return this.element_},t.Menu.prototype.focus=function(){var e=this.getElement();e&&(e.focus({preventScroll:!0}),t.utils.dom.addClass(e,"blocklyFocused"))},t.Menu.prototype.blur_=function(){var e=this.getElement();e&&(e.blur(),t.utils.dom.removeClass(e,"blocklyFocused"))},t.Menu.prototype.setRole=function(t){this.roleName_=t},t.Menu.prototype.dispose=function(){this.mouseOverHandler_&&(t.browserEvents.unbind(this.mouseOverHandler_),this.mouseOverHandler_=null),this.clickHandler_&&(t.browserEvents.unbind(this.clickHandler_),this.clickHandler_=null),this.mouseEnterHandler_&&(t.browserEvents.unbind(this.mouseEnterHandler_),this.mouseEnterHandler_=null),this.mouseLeaveHandler_&&(t.browserEvents.unbind(this.mouseLeaveHandler_),this.mouseLeaveHandler_=null),this.onKeyDownHandler_&&(t.browserEvents.unbind(this.onKeyDownHandler_),this.onKeyDownHandler_=null);for(var e,o=0;e=this.menuItems_[o];o++)e.dispose();this.element_=null},t.Menu.prototype.getMenuItem_=function(e){for(var o=this.getElement();e&&e!=o;){if(t.utils.dom.hasClass(e,"blocklyMenuItem"))for(var n,r=0;n=this.menuItems_[r];r++)if(n.getElement()==e)return n;e=e.parentElement}return null},t.Menu.prototype.setHighlighted=function(e){var o=this.highlightedItem_;o&&(o.setHighlighted(!1),this.highlightedItem_=null),e&&(e.setHighlighted(!0),this.highlightedItem_=e,o=this.getElement(),t.utils.style.scrollIntoContainerView(e.getElement(),o),t.utils.aria.setState(o,t.utils.aria.State.ACTIVEDESCENDANT,e.getId()))},t.Menu.prototype.highlightNext=function(){var t=this.menuItems_.indexOf(this.highlightedItem_);this.highlightHelper_(t,1)},t.Menu.prototype.highlightPrevious=function(){var t=this.menuItems_.indexOf(this.highlightedItem_);this.highlightHelper_(0>t?this.menuItems_.length:t,-1)},t.Menu.prototype.highlightFirst_=function(){this.highlightHelper_(-1,1)},t.Menu.prototype.highlightLast_=function(){this.highlightHelper_(this.menuItems_.length,-1)},t.Menu.prototype.highlightHelper_=function(t,e){t+=e;for(var o;o=this.menuItems_[t];){if(o.isEnabled()){this.setHighlighted(o);break}t+=e}},t.Menu.prototype.handleMouseOver_=function(t){(t=this.getMenuItem_(t.target))&&(t.isEnabled()?this.highlightedItem_!=t&&this.setHighlighted(t):this.setHighlighted(null))},t.Menu.prototype.handleClick_=function(e){var o=this.openingCoords;if(this.openingCoords=null,o&&"number"==typeof e.clientX){var n=new t.utils.Coordinate(e.clientX,e.clientY);if(1>t.utils.Coordinate.distance(o,n))return}(e=this.getMenuItem_(e.target))&&e.performAction()},t.Menu.prototype.handleMouseEnter_=function(t){this.focus()},t.Menu.prototype.handleMouseLeave_=function(t){this.getElement()&&(this.blur_(),this.setHighlighted(null))},t.Menu.prototype.handleKeyEvent_=function(e){if(this.menuItems_.length&&!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var o=this.highlightedItem_;switch(e.keyCode){case t.utils.KeyCodes.ENTER:case t.utils.KeyCodes.SPACE:o&&o.performAction();break;case t.utils.KeyCodes.UP:this.highlightPrevious();break;case t.utils.KeyCodes.DOWN:this.highlightNext();break;case t.utils.KeyCodes.PAGE_UP:case t.utils.KeyCodes.HOME:this.highlightFirst_();break;case t.utils.KeyCodes.PAGE_DOWN:case t.utils.KeyCodes.END:this.highlightLast_();break;default:return}e.preventDefault(),e.stopPropagation()}},t.Menu.prototype.getSize=function(){var e=this.getElement(),o=t.utils.style.getSize(e);return o.height=e.scrollHeight,o},t.MenuItem=function(t,e){this.content_=t,this.value_=e,this.enabled_=!0,this.element_=null,this.rightToLeft_=!1,this.roleName_=null,this.highlight_=this.checked_=this.checkable_=!1,this.actionHandler_=null},t.MenuItem.prototype.createDom=function(){var e=document.createElement("div");e.id=t.utils.IdGenerator.getNextUniqueId(),this.element_=e,e.className="blocklyMenuItem goog-menuitem "+(this.enabled_?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked_?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight_?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft_?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var o=document.createElement("div");if(o.className="blocklyMenuItemContent goog-menuitem-content",this.checkable_){var n=document.createElement("div");n.className="blocklyMenuItemCheckbox goog-menuitem-checkbox",o.appendChild(n)}return n=this.content_,"string"==typeof this.content_&&(n=document.createTextNode(this.content_)),o.appendChild(n),e.appendChild(o),this.roleName_&&t.utils.aria.setRole(e,this.roleName_),t.utils.aria.setState(e,t.utils.aria.State.SELECTED,this.checkable_&&this.checked_||!1),t.utils.aria.setState(e,t.utils.aria.State.DISABLED,!this.enabled_),e},t.MenuItem.prototype.dispose=function(){this.element_=null},t.MenuItem.prototype.getElement=function(){return this.element_},t.MenuItem.prototype.getId=function(){return this.element_.id},t.MenuItem.prototype.getValue=function(){return this.value_},t.MenuItem.prototype.setRightToLeft=function(t){this.rightToLeft_=t},t.MenuItem.prototype.setRole=function(t){this.roleName_=t},t.MenuItem.prototype.setCheckable=function(t){this.checkable_=t},t.MenuItem.prototype.setChecked=function(t){this.checked_=t},t.MenuItem.prototype.setHighlighted=function(e){this.highlight_=e;var o=this.getElement();o&&this.isEnabled()&&(e?(t.utils.dom.addClass(o,"blocklyMenuItemHighlight"),t.utils.dom.addClass(o,"goog-menuitem-highlight")):(t.utils.dom.removeClass(o,"blocklyMenuItemHighlight"),t.utils.dom.removeClass(o,"goog-menuitem-highlight")))},t.MenuItem.prototype.isEnabled=function(){return this.enabled_},t.MenuItem.prototype.setEnabled=function(t){this.enabled_=t},t.MenuItem.prototype.performAction=function(){this.isEnabled()&&this.actionHandler_&&this.actionHandler_(this)},t.MenuItem.prototype.onAction=function(t,e){this.actionHandler_=t.bind(e)},t.WidgetDiv={},t.WidgetDiv.owner_=null,t.WidgetDiv.dispose_=null,t.WidgetDiv.rendererClassName_="",t.WidgetDiv.themeClassName_="",t.WidgetDiv.createDom=function(){t.WidgetDiv.DIV||(t.WidgetDiv.DIV=document.createElement("div"),t.WidgetDiv.DIV.className="blocklyWidgetDiv",(t.parentContainer||document.body).appendChild(t.WidgetDiv.DIV))},t.WidgetDiv.show=function(e,o,n){t.WidgetDiv.hide(),t.WidgetDiv.owner_=e,t.WidgetDiv.dispose_=n,(e=t.WidgetDiv.DIV).style.direction=o?"rtl":"ltr",e.style.display="block",o=t.getMainWorkspace(),t.WidgetDiv.rendererClassName_=o.getRenderer().getClassName(),t.WidgetDiv.themeClassName_=o.getTheme().getClassName(),t.utils.dom.addClass(e,t.WidgetDiv.rendererClassName_),t.utils.dom.addClass(e,t.WidgetDiv.themeClassName_)},t.WidgetDiv.hide=function(){if(t.WidgetDiv.isVisible()){t.WidgetDiv.owner_=null;var e=t.WidgetDiv.DIV;e.style.display="none",e.style.left="",e.style.top="",t.WidgetDiv.dispose_&&t.WidgetDiv.dispose_(),t.WidgetDiv.dispose_=null,e.textContent="",t.WidgetDiv.rendererClassName_&&(t.utils.dom.removeClass(e,t.WidgetDiv.rendererClassName_),t.WidgetDiv.rendererClassName_=""),t.WidgetDiv.themeClassName_&&(t.utils.dom.removeClass(e,t.WidgetDiv.themeClassName_),t.WidgetDiv.themeClassName_=""),t.getMainWorkspace().markFocused()}},t.WidgetDiv.isVisible=function(){return!!t.WidgetDiv.owner_},t.WidgetDiv.hideIfOwner=function(e){t.WidgetDiv.owner_==e&&t.WidgetDiv.hide()},t.WidgetDiv.positionInternal_=function(e,o,n){t.WidgetDiv.DIV.style.left=e+"px",t.WidgetDiv.DIV.style.top=o+"px",t.WidgetDiv.DIV.style.height=n+"px"},t.WidgetDiv.positionWithAnchor=function(e,o,n,r){var i=t.WidgetDiv.calculateY_(e,o,n);e=t.WidgetDiv.calculateX_(e,o,n,r),0>i?t.WidgetDiv.positionInternal_(e,0,n.height+i):t.WidgetDiv.positionInternal_(e,i,n.height)},t.WidgetDiv.calculateX_=function(t,e,o,n){return n?(e=Math.max(e.right-o.width,t.left),Math.min(e,t.right-o.width)):(e=Math.min(e.left,t.right-o.width),Math.max(e,t.left))},t.WidgetDiv.calculateY_=function(t,e,o){return e.bottom+o.height>=t.bottom?e.top-o.height:e.bottom},t.ContextMenu={},t.ContextMenu.currentBlock=null,t.ContextMenu.menu_=null,t.ContextMenu.show=function(e,o,n){if(t.WidgetDiv.show(t.ContextMenu,n,t.ContextMenu.dispose),o.length){var r=t.ContextMenu.populate_(o,n);t.ContextMenu.menu_=r,t.ContextMenu.position_(r,e,n),setTimeout((function(){r.focus()}),1),t.ContextMenu.currentBlock=null}else t.ContextMenu.hide()},t.ContextMenu.populate_=function(e,o){var n=new t.Menu;n.setRole(t.utils.aria.Role.MENU);for(var r,i=0;r=e[i];i++){var s=new t.MenuItem(r.text);s.setRightToLeft(o),s.setRole(t.utils.aria.Role.MENUITEM),n.addChild(s),s.setEnabled(r.enabled),r.enabled&&s.onAction((function(e){t.ContextMenu.hide(),this.callback(this.scope)}),r)}return n},t.ContextMenu.position_=function(e,o,n){var r=t.utils.getViewportBBox();o=new t.utils.Rect(o.clientY+r.top,o.clientY+r.top,o.clientX+r.left,o.clientX+r.left),t.ContextMenu.createWidget_(e);var i=e.getSize();n&&(o.left+=i.width,o.right+=i.width,r.left+=i.width,r.right+=i.width),t.WidgetDiv.positionWithAnchor(r,o,i,n),e.focus()},t.ContextMenu.createWidget_=function(e){e.render(t.WidgetDiv.DIV);var o=e.getElement();t.utils.dom.addClass(o,"blocklyContextMenu"),t.browserEvents.conditionalBind(o,"contextmenu",null,t.utils.noEvent),e.focus()},t.ContextMenu.hide=function(){t.WidgetDiv.hideIfOwner(t.ContextMenu),t.ContextMenu.currentBlock=null},t.ContextMenu.dispose=function(){t.ContextMenu.menu_&&(t.ContextMenu.menu_.dispose(),t.ContextMenu.menu_=null)},t.ContextMenu.callbackFactory=function(e,o){return function(){t.Events.disable();try{var n=t.Xml.domToBlock(o,e.workspace),r=e.getRelativeToSurfaceXY();r.x=e.RTL?r.x-t.SNAP_RADIUS:r.x+t.SNAP_RADIUS,r.y+=2*t.SNAP_RADIUS,n.moveBy(r.x,r.y)}finally{t.Events.enable()}t.Events.isEnabled()&&!n.isShadow()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CREATE))(n)),n.select()}},t.ContextMenu.commentDeleteOption=function(e){return{text:t.Msg.REMOVE_COMMENT,enabled:!0,callback:function(){t.Events.setGroup(!0),e.dispose(!0,!0),t.Events.setGroup(!1)}}},t.ContextMenu.commentDuplicateOption=function(e){return{text:t.Msg.DUPLICATE_COMMENT,enabled:!0,callback:function(){t.duplicate(e)}}},t.ContextMenu.workspaceCommentOption=function(e,o){if(!t.WorkspaceCommentSvg)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var n={enabled:!t.utils.userAgent.IE};return n.text=t.Msg.ADD_COMMENT,n.callback=function(){var n=new t.WorkspaceCommentSvg(e,t.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT,t.WorkspaceCommentSvg.DEFAULT_SIZE,t.WorkspaceCommentSvg.DEFAULT_SIZE),r=e.getInjectionDiv().getBoundingClientRect();r=new t.utils.Coordinate(o.clientX-r.left,o.clientY-r.top);var i=e.getOriginOffsetInPixels();(r=t.utils.Coordinate.difference(r,i)).scale(1/e.scale),n.moveBy(r.x,r.y),e.rendered&&(n.initSvg(),n.render(),n.select())},n},t.ContextMenuRegistry=function(){t.ContextMenuRegistry.registry=this,this.registry_={}},t.ContextMenuRegistry.ScopeType={BLOCK:"block",WORKSPACE:"workspace"},t.ContextMenuRegistry.registry=null,t.ContextMenuRegistry.prototype.register=function(t){if(this.registry_[t.id])throw Error('Menu item with id "'+t.id+'" is already registered.');this.registry_[t.id]=t},t.ContextMenuRegistry.prototype.unregister=function(t){if(!this.registry_[t])throw Error('Menu item with id "'+t+'" not found.');delete this.registry_[t]},t.ContextMenuRegistry.prototype.getItem=function(t){return this.registry_[t]?this.registry_[t]:null},t.ContextMenuRegistry.prototype.getContextMenuOptions=function(t,e){var o=[],n=this.registry_;return Object.keys(n).forEach((function(r){if(r=n[r],t==r.scopeType){var i=r.preconditionFn(e);"hidden"!=i&&(r={text:"function"==typeof r.displayText?r.displayText(e):r.displayText,enabled:"enabled"==i,callback:r.callback,scope:e,weight:r.weight},o.push(r))}})),o.sort((function(t,e){return t.weight-e.weight})),o},new t.ContextMenuRegistry,t.Events.Selected=function(e,o,n){t.Events.Selected.superClass_.constructor.call(this,n),this.oldElementId=e,this.newElementId=o},t.utils.object.inherits(t.Events.Selected,t.Events.UiBase),t.Events.Selected.prototype.type=t.Events.SELECTED,t.Events.Selected.prototype.toJson=function(){var e=t.Events.Selected.superClass_.toJson.call(this);return e.oldElementId=this.oldElementId,e.newElementId=this.newElementId,e},t.Events.Selected.prototype.fromJson=function(e){t.Events.Selected.superClass_.fromJson.call(this,e),this.oldElementId=e.oldElementId,this.newElementId=e.newElementId},t.registry.register(t.registry.Type.EVENT,t.Events.SELECTED,t.Events.Selected),t.RenderedConnection=function(e,o){t.RenderedConnection.superClass_.constructor.call(this,e,o),this.db_=e.workspace.connectionDBList[o],this.dbOpposite_=e.workspace.connectionDBList[t.OPPOSITE_TYPE[o]],this.offsetInBlock_=new t.utils.Coordinate(0,0),this.trackedState_=t.RenderedConnection.TrackedState.WILL_TRACK,this.targetConnection=null},t.utils.object.inherits(t.RenderedConnection,t.Connection),t.RenderedConnection.TrackedState={WILL_TRACK:-1,UNTRACKED:0,TRACKED:1},t.RenderedConnection.prototype.dispose=function(){t.RenderedConnection.superClass_.dispose.call(this),this.trackedState_==t.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y)},t.RenderedConnection.prototype.getSourceBlock=function(){return t.RenderedConnection.superClass_.getSourceBlock.call(this)},t.RenderedConnection.prototype.targetBlock=function(){return t.RenderedConnection.superClass_.targetBlock.call(this)},t.RenderedConnection.prototype.distanceFrom=function(t){var e=this.x-t.x;return t=this.y-t.y,Math.sqrt(e*e+t*t)},t.RenderedConnection.prototype.bumpAwayFrom=function(e){if(!this.sourceBlock_.workspace.isDragging()){var o=this.sourceBlock_.getRootBlock();if(!o.isInFlyout){var n=!1;if(!o.isMovable()){if(!(o=e.getSourceBlock().getRootBlock()).isMovable())return;e=this,n=!0}var r=t.selected==o;r||o.addSelect();var i=e.x+t.SNAP_RADIUS+Math.floor(Math.random()*t.BUMP_RANDOMNESS)-this.x,s=e.y+t.SNAP_RADIUS+Math.floor(Math.random()*t.BUMP_RANDOMNESS)-this.y;n&&(s=-s),o.RTL&&(i=e.x-t.SNAP_RADIUS-Math.floor(Math.random()*t.BUMP_RANDOMNESS)-this.x),o.moveBy(i,s),r||o.removeSelect()}}},t.RenderedConnection.prototype.moveTo=function(e,o){this.trackedState_==t.RenderedConnection.TrackedState.WILL_TRACK?(this.db_.addConnection(this,o),this.trackedState_=t.RenderedConnection.TrackedState.TRACKED):this.trackedState_==t.RenderedConnection.TrackedState.TRACKED&&(this.db_.removeConnection(this,this.y),this.db_.addConnection(this,o)),this.x=e,this.y=o},t.RenderedConnection.prototype.moveBy=function(t,e){this.moveTo(this.x+t,this.y+e)},t.RenderedConnection.prototype.moveToOffset=function(t){this.moveTo(t.x+this.offsetInBlock_.x,t.y+this.offsetInBlock_.y)},t.RenderedConnection.prototype.setOffsetInBlock=function(t,e){this.offsetInBlock_.x=t,this.offsetInBlock_.y=e},t.RenderedConnection.prototype.getOffsetInBlock=function(){return this.offsetInBlock_},t.RenderedConnection.prototype.tighten=function(){var e=this.targetConnection.x-this.x,o=this.targetConnection.y-this.y;if(0!=e||0!=o){var n=this.targetBlock(),r=n.getSvgRoot();if(!r)throw Error("block is not rendered.");r=t.utils.getRelativeXY(r),n.getSvgRoot().setAttribute("transform","translate("+(r.x-e)+","+(r.y-o)+")"),n.moveConnections(-e,-o)}},t.RenderedConnection.prototype.closest=function(t,e){return this.dbOpposite_.searchForClosest(this,t,e)},t.RenderedConnection.prototype.highlight=function(){var e=this.sourceBlock_.workspace.getRenderer().getConstants(),o=e.shapeFor(this);this.type==t.connectionTypes.INPUT_VALUE||this.type==t.connectionTypes.OUTPUT_VALUE?(e=e.TAB_OFFSET_FROM_TOP,o=t.utils.svgPaths.moveBy(0,-e)+t.utils.svgPaths.lineOnAxis("v",e)+o.pathDown+t.utils.svgPaths.lineOnAxis("v",e)):(e=e.NOTCH_OFFSET_LEFT-e.CORNER_RADIUS,o=t.utils.svgPaths.moveBy(-e,0)+t.utils.svgPaths.lineOnAxis("h",e)+o.pathLeft+t.utils.svgPaths.lineOnAxis("h",e)),e=this.sourceBlock_.getRelativeToSurfaceXY(),t.Connection.highlightedPath_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyHighlightedConnectionPath",d:o,transform:"translate("+(this.x-e.x)+","+(this.y-e.y)+")"+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot())},t.RenderedConnection.prototype.unhighlight=function(){t.utils.dom.removeNode(t.Connection.highlightedPath_),delete t.Connection.highlightedPath_},t.RenderedConnection.prototype.setTracking=function(e){e&&this.trackedState_==t.RenderedConnection.TrackedState.TRACKED||!e&&this.trackedState_==t.RenderedConnection.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(e?(this.db_.addConnection(this,this.y),this.trackedState_=t.RenderedConnection.TrackedState.TRACKED):(this.trackedState_==t.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y),this.trackedState_=t.RenderedConnection.TrackedState.UNTRACKED))},t.RenderedConnection.prototype.stopTrackingAll=function(){if(this.setTracking(!1),this.targetConnection)for(var t=this.targetBlock().getDescendants(!1),e=0;e<t.length;e++){for(var o=t[e],n=o.getConnections_(!0),r=0;r<n.length;r++)n[r].setTracking(!1);for(o=o.getIcons(),r=0;r<o.length;r++)o[r].setVisible(!1)}},t.RenderedConnection.prototype.startTrackingAll=function(){this.setTracking(!0);var e=[];if(this.type!=t.connectionTypes.INPUT_VALUE&&this.type!=t.connectionTypes.NEXT_STATEMENT)return e;var o=this.targetBlock();if(o){if(o.isCollapsed()){var n=[];o.outputConnection&&n.push(o.outputConnection),o.nextConnection&&n.push(o.nextConnection),o.previousConnection&&n.push(o.previousConnection)}else n=o.getConnections_(!0);for(var r=0;r<n.length;r++)e.push.apply(e,n[r].startTrackingAll());e.length||(e[0]=o)}return e},t.RenderedConnection.prototype.isConnectionAllowed=function(e,o){return t.utils.deprecation.warn("RenderedConnection.prototype.isConnectionAllowed","July 2020","July 2021","Blockly.Workspace.prototype.getConnectionChecker().canConnect"),!(this.distanceFrom(e)>o)&&t.RenderedConnection.superClass_.isConnectionAllowed.call(this,e)},t.RenderedConnection.prototype.onFailedConnect=function(t){this.bumpAwayFrom(t)},t.RenderedConnection.prototype.disconnectInternal_=function(e,o){t.RenderedConnection.superClass_.disconnectInternal_.call(this,e,o),e.rendered&&e.render(),o.rendered&&(o.updateDisabled(),o.render(),o.getSvgRoot().style.display="block")},t.RenderedConnection.prototype.respawnShadow_=function(){t.RenderedConnection.superClass_.respawnShadow_.call(this);var e=this.targetBlock();e&&(e.initSvg(),e.render(!1),(e=this.getSourceBlock()).rendered&&e.render())},t.RenderedConnection.prototype.neighbours=function(t){return this.dbOpposite_.getNeighbours(this,t)},t.RenderedConnection.prototype.connect_=function(e){t.RenderedConnection.superClass_.connect_.call(this,e);var o=this.getSourceBlock();e=e.getSourceBlock();var n=o.rendered,r=e.rendered;n&&o.updateDisabled(),r&&e.updateDisabled(),n&&r&&(this.type==t.connectionTypes.NEXT_STATEMENT||this.type==t.connectionTypes.PREVIOUS_STATEMENT?e.render():o.render()),(o=o.getInputWithBlock(e))&&(o=o.isVisible(),e.getSvgRoot().style.display=o?"block":"none")},t.RenderedConnection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours())},t.Marker=function(){this.drawer_=this.curNode_=this.colour=null,this.type="marker"},t.Marker.prototype.setDrawer=function(t){this.drawer_=t},t.Marker.prototype.getDrawer=function(){return this.drawer_},t.Marker.prototype.getCurNode=function(){return this.curNode_},t.Marker.prototype.setCurNode=function(t){var e=this.curNode_;this.curNode_=t,this.drawer_&&this.drawer_.draw(e,this.curNode_)},t.Marker.prototype.draw=function(){this.drawer_&&this.drawer_.draw(this.curNode_,this.curNode_)},t.Marker.prototype.hide=function(){this.drawer_&&this.drawer_.hide()},t.Marker.prototype.dispose=function(){this.getDrawer()&&this.getDrawer().dispose()},t.Cursor=function(){t.Cursor.superClass_.constructor.call(this),this.type="cursor"},t.utils.object.inherits(t.Cursor,t.Marker),t.Cursor.prototype.next=function(){var e=this.getCurNode();if(!e)return null;for(e=e.next();e&&e.next()&&(e.getType()==t.ASTNode.types.NEXT||e.getType()==t.ASTNode.types.BLOCK);)e=e.next();return e&&this.setCurNode(e),e},t.Cursor.prototype.in=function(){var e=this.getCurNode();return e?(e.getType()!=t.ASTNode.types.PREVIOUS&&e.getType()!=t.ASTNode.types.OUTPUT||(e=e.next()),(e=e.in())&&this.setCurNode(e),e):null},t.Cursor.prototype.prev=function(){var e=this.getCurNode();if(!e)return null;for(e=e.prev();e&&e.prev()&&(e.getType()==t.ASTNode.types.NEXT||e.getType()==t.ASTNode.types.BLOCK);)e=e.prev();return e&&this.setCurNode(e),e},t.Cursor.prototype.out=function(){var e=this.getCurNode();return e?((e=e.out())&&e.getType()==t.ASTNode.types.BLOCK&&(e=e.prev()||e),e&&this.setCurNode(e),e):null},t.registry.register(t.registry.Type.CURSOR,t.registry.DEFAULT,t.Cursor),t.BasicCursor=function(){t.BasicCursor.superClass_.constructor.call(this)},t.utils.object.inherits(t.BasicCursor,t.Cursor),t.BasicCursor.registrationName="basicCursor",t.BasicCursor.prototype.next=function(){var t=this.getCurNode();return t?((t=this.getNextNode_(t,this.validNode_))&&this.setCurNode(t),t):null},t.BasicCursor.prototype.in=function(){return this.next()},t.BasicCursor.prototype.prev=function(){var t=this.getCurNode();return t?((t=this.getPreviousNode_(t,this.validNode_))&&this.setCurNode(t),t):null},t.BasicCursor.prototype.out=function(){return this.prev()},t.BasicCursor.prototype.getNextNode_=function(t,e){if(!t)return null;var o=t.in()||t.next();return e(o)?o:o?this.getNextNode_(o,e):e(t=this.findSiblingOrParent_(t.out()))?t:t?this.getNextNode_(t,e):null},t.BasicCursor.prototype.getPreviousNode_=function(t,e){if(!t)return null;var o=t.prev();return e(o=o?this.getRightMostChild_(o):t.out())?o:o?this.getPreviousNode_(o,e):null},t.BasicCursor.prototype.validNode_=function(e){var o=!1;return(e=e&&e.getType())!=t.ASTNode.types.OUTPUT&&e!=t.ASTNode.types.INPUT&&e!=t.ASTNode.types.FIELD&&e!=t.ASTNode.types.NEXT&&e!=t.ASTNode.types.PREVIOUS&&e!=t.ASTNode.types.WORKSPACE||(o=!0),o},t.BasicCursor.prototype.findSiblingOrParent_=function(t){if(!t)return null;var e=t.next();return e||this.findSiblingOrParent_(t.out())},t.BasicCursor.prototype.getRightMostChild_=function(t){if(!t.in())return t;for(t=t.in();t.next();)t=t.next();return this.getRightMostChild_(t)},t.registry.register(t.registry.Type.CURSOR,t.BasicCursor.registrationName,t.BasicCursor),t.TabNavigateCursor=function(){t.TabNavigateCursor.superClass_.constructor.call(this)},t.utils.object.inherits(t.TabNavigateCursor,t.BasicCursor),t.TabNavigateCursor.prototype.validNode_=function(e){var o=!1,n=e&&e.getType();return e&&(e=e.getLocation(),n==t.ASTNode.types.FIELD&&e&&e.isTabNavigable()&&e.isClickable()&&(o=!0)),o},t.BlockSvg=function(e,o,n){this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},null),this.svgGroup_.translate_="",this.style=e.getRenderer().getConstants().getBlockStyle(null),this.pathObject=e.getRenderer().makePathObject(this.svgGroup_,this.style),this.renderIsInProgress_=this.rendered=!1,this.workspace=e,this.previousConnection=this.nextConnection=this.outputConnection=null,this.useDragSurface_=t.utils.is3dSupported()&&!!e.getBlockDragSurface();var r=this.pathObject.svgPath;r.tooltip=this,t.Tooltip.bindMouseEvents(r),t.BlockSvg.superClass_.constructor.call(this,e,o,n),this.svgGroup_.dataset?this.svgGroup_.dataset.id=this.id:t.utils.userAgent.IE&&this.svgGroup_.setAttribute("data-id",this.id)},t.utils.object.inherits(t.BlockSvg,t.Block),t.BlockSvg.prototype.height=0,t.BlockSvg.prototype.width=0,t.BlockSvg.prototype.warningTextDb_=null,t.BlockSvg.INLINE=-1,t.BlockSvg.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_",t.BlockSvg.prototype.initSvg=function(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(var e,o=0;e=this.inputList[o];o++)e.init();for(e=this.getIcons(),o=0;o<e.length;o++)e[o].createIcon();this.applyColour(),this.pathObject.updateMovable(this.isMovable()),o=this.getSvgRoot(),this.workspace.options.readOnly||this.eventsInit_||!o||t.browserEvents.conditionalBind(o,"mousedown",this,this.onMouseDown_),this.eventsInit_=!0,o.parentNode||this.workspace.getCanvas().appendChild(o)},t.BlockSvg.prototype.getColourSecondary=function(){return this.style.colourSecondary},t.BlockSvg.prototype.getColourTertiary=function(){return this.style.colourTertiary},t.BlockSvg.prototype.getColourShadow=function(){return t.utils.deprecation.warn("BlockSvg.prototype.getColourShadow","January 2020","January 2021","style.colourSecondary"),this.getColourSecondary()},t.BlockSvg.prototype.getColourBorder=function(){return t.utils.deprecation.warn("BlockSvg.prototype.getColourBorder","January 2020","January 2021","style.colourTertiary"),{colourBorder:this.getColourTertiary(),colourLight:null,colourDark:null}},t.BlockSvg.prototype.select=function(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(t.selected!=this){var e=null;if(t.selected){e=t.selected.id,t.Events.disable();try{t.selected.unselect()}finally{t.Events.enable()}}e=new(t.Events.get(t.Events.SELECTED))(e,this.id,this.workspace.id),t.Events.fire(e),t.selected=this,this.addSelect()}},t.BlockSvg.prototype.unselect=function(){if(t.selected==this){var e=new(t.Events.get(t.Events.SELECTED))(this.id,null,this.workspace.id);e.workspaceId=this.workspace.id,t.Events.fire(e),t.selected=null,this.removeSelect()}},t.BlockSvg.prototype.mutator=null,t.BlockSvg.prototype.comment=null,t.BlockSvg.prototype.commentIcon_=null,t.BlockSvg.prototype.warning=null,t.BlockSvg.prototype.getIcons=function(){var t=[];return this.mutator&&t.push(this.mutator),this.commentIcon_&&t.push(this.commentIcon_),this.warning&&t.push(this.warning),t},t.BlockSvg.prototype.setParent=function(e){var o=this.parentBlock_;if(e!=o){t.utils.dom.startTextWidthCache(),t.BlockSvg.superClass_.setParent.call(this,e),t.utils.dom.stopTextWidthCache();var n=this.getSvgRoot();if(!this.workspace.isClearing&&n){var r=this.getRelativeToSurfaceXY();e?(e.getSvgRoot().appendChild(n),e=this.getRelativeToSurfaceXY(),this.moveConnections(e.x-r.x,e.y-r.y)):o&&(this.workspace.getCanvas().appendChild(n),this.translate(r.x,r.y)),this.applyColour()}}},t.BlockSvg.prototype.getRelativeToSurfaceXY=function(){var e=0,o=0,n=this.useDragSurface_?this.workspace.getBlockDragSurface().getGroup():null,r=this.getSvgRoot();if(r)do{var i=t.utils.getRelativeXY(r);e+=i.x,o+=i.y,this.useDragSurface_&&this.workspace.getBlockDragSurface().getCurrentBlock()==r&&(e+=(i=this.workspace.getBlockDragSurface().getSurfaceTranslation()).x,o+=i.y),r=r.parentNode}while(r&&r!=this.workspace.getCanvas()&&r!=n);return new t.utils.Coordinate(e,o)},t.BlockSvg.prototype.moveBy=function(e,o){if(this.parentBlock_)throw Error("Block has parent.");var n=t.Events.isEnabled();if(n)var r=new(t.Events.get(t.Events.BLOCK_MOVE))(this);var i=this.getRelativeToSurfaceXY();this.translate(i.x+e,i.y+o),this.moveConnections(e,o),n&&(r.recordNew(),t.Events.fire(r)),this.workspace.resizeContents()},t.BlockSvg.prototype.translate=function(t,e){this.getSvgRoot().setAttribute("transform","translate("+t+","+e+")")},t.BlockSvg.prototype.moveToDragSurface=function(){if(this.useDragSurface_){var t=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.getBlockDragSurface().translateSurface(t.x,t.y),(t=this.getSvgRoot())&&this.workspace.getBlockDragSurface().setBlocksAndShow(t)}},t.BlockSvg.prototype.moveTo=function(t){var e=this.getRelativeToSurfaceXY();this.moveBy(t.x-e.x,t.y-e.y)},t.BlockSvg.prototype.moveOffDragSurface=function(t){this.useDragSurface_&&(this.translate(t.x,t.y),this.workspace.getBlockDragSurface().clearAndHide(this.workspace.getCanvas()))},t.BlockSvg.prototype.moveDuringDrag=function(t){this.useDragSurface_?this.workspace.getBlockDragSurface().translateSurface(t.x,t.y):(this.svgGroup_.translate_="translate("+t.x+","+t.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))},t.BlockSvg.prototype.clearTransformAttributes_=function(){this.getSvgRoot().removeAttribute("transform")},t.BlockSvg.prototype.snapToGrid=function(){if(this.workspace&&!this.workspace.isDragging()&&!this.getParent()&&!this.isInFlyout){var t=this.workspace.getGrid();if(t&&t.shouldSnap()){var e=t.getSpacing(),o=e/2,n=this.getRelativeToSurfaceXY();t=Math.round((n.x-o)/e)*e+o-n.x,e=Math.round((n.y-o)/e)*e+o-n.y,t=Math.round(t),e=Math.round(e),0==t&&0==e||this.moveBy(t,e)}}},t.BlockSvg.prototype.getBoundingRectangle=function(){var e=this.getRelativeToSurfaceXY(),o=this.getHeightWidth();if(this.RTL)var n=e.x-o.width,r=e.x;else n=e.x,r=e.x+o.width;return new t.utils.Rect(e.y,e.y+o.height,n,r)},t.BlockSvg.prototype.markDirty=function(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(var t,e=0;t=this.inputList[e];e++)t.markDirty()},t.BlockSvg.prototype.setCollapsed=function(e){this.collapsed_!=e&&(t.BlockSvg.superClass_.setCollapsed.call(this,e),e?this.rendered&&this.render():this.updateCollapsed_())},t.BlockSvg.prototype.updateCollapsed_=function(){for(var e,o=this.isCollapsed(),n=t.constants.COLLAPSED_INPUT_NAME,r=t.constants.COLLAPSED_FIELD_NAME,i=0;e=this.inputList[i];i++)e.name!=n&&e.setVisible(!o);if(o){for(e=this.getIcons(),i=0;o=e[i];i++)o.setVisible(!1);i=this.toString(t.COLLAPSE_CHARS),(e=this.getField(r))?e.setValue(i):(e=this.getInput(n)||this.appendDummyInput(n)).appendField(new t.FieldLabel(i),r)}else this.updateDisabled(),this.removeInput(n)},t.BlockSvg.prototype.tab=function(e,o){var n=new t.TabNavigateCursor;n.setCurNode(t.ASTNode.createFieldNode(e)),e=n.getCurNode(),o?n.next():n.prev(),(o=n.getCurNode())&&o!==e&&(o.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(o))},t.BlockSvg.prototype.onMouseDown_=function(t){var e=this.workspace&&this.workspace.getGesture(t);e&&e.handleBlockStart(t,this)},t.BlockSvg.prototype.showHelp=function(){var t="function"==typeof this.helpUrl?this.helpUrl():this.helpUrl;t&&window.open(t)},t.BlockSvg.prototype.generateContextMenu=function(){if(this.workspace.options.readOnly||!this.contextMenu)return null;var e=t.ContextMenuRegistry.registry.getContextMenuOptions(t.ContextMenuRegistry.ScopeType.BLOCK,{block:this});return this.customContextMenu&&this.customContextMenu(e),e},t.BlockSvg.prototype.showContextMenu=function(e){var o=this.generateContextMenu();o&&o.length&&(t.ContextMenu.show(e,o,this.RTL),t.ContextMenu.currentBlock=this)},t.BlockSvg.prototype.moveConnections=function(t,e){if(this.rendered){for(var o=this.getConnections_(!1),n=0;n<o.length;n++)o[n].moveBy(t,e);for(o=this.getIcons(),n=0;n<o.length;n++)o[n].computeIconLocation();for(n=0;n<this.childBlocks_.length;n++)this.childBlocks_[n].moveConnections(t,e)}},t.BlockSvg.prototype.setDragging=function(e){if(e){var o=this.getSvgRoot();o.translate_="",o.skew_="",t.draggingConnections=t.draggingConnections.concat(this.getConnections_(!0)),t.utils.dom.addClass(this.svgGroup_,"blocklyDragging")}else t.draggingConnections=[],t.utils.dom.removeClass(this.svgGroup_,"blocklyDragging");for(o=0;o<this.childBlocks_.length;o++)this.childBlocks_[o].setDragging(e)},t.BlockSvg.prototype.setMovable=function(e){t.BlockSvg.superClass_.setMovable.call(this,e),this.pathObject.updateMovable(e)},t.BlockSvg.prototype.setEditable=function(e){t.BlockSvg.superClass_.setEditable.call(this,e),e=this.getIcons();for(var o=0;o<e.length;o++)e[o].updateEditable()},t.BlockSvg.prototype.setShadow=function(e){t.BlockSvg.superClass_.setShadow.call(this,e),this.applyColour()},t.BlockSvg.prototype.setInsertionMarker=function(t){this.isInsertionMarker_!=t&&(this.isInsertionMarker_=t)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))},t.BlockSvg.prototype.getSvgRoot=function(){return this.svgGroup_},t.BlockSvg.prototype.dispose=function(e,o){if(this.workspace){t.Tooltip.dispose(),t.Tooltip.unbindMouseEvents(this.pathObject.svgPath),t.utils.dom.startTextWidthCache();var n=this.workspace;if(t.selected==this&&(this.unselect(),this.workspace.cancelCurrentGesture()),t.ContextMenu.currentBlock==this&&t.ContextMenu.hide(),o&&this.rendered&&(this.unplug(e),t.blockAnimations.disposeUiEffect(this)),this.rendered=!1,this.warningTextDb_){for(var r in this.warningTextDb_)clearTimeout(this.warningTextDb_[r]);this.warningTextDb_=null}for(o=this.getIcons(),r=0;r<o.length;r++)o[r].dispose();t.BlockSvg.superClass_.dispose.call(this,!!e),t.utils.dom.removeNode(this.svgGroup_),n.resizeContents(),this.svgGroup_=null,t.utils.dom.stopTextWidthCache()}},t.BlockSvg.prototype.toCopyData=function(){if(this.isInsertionMarker_)return null;var e=t.Xml.blockToDom(this,!0);t.Xml.deleteNext(e);var o=this.getRelativeToSurfaceXY();return e.setAttribute("x",this.RTL?-o.x:o.x),e.setAttribute("y",o.y),{xml:e,source:this.workspace,typeCounts:t.utils.getBlockTypeCounts(this,!0)}},t.BlockSvg.prototype.applyColour=function(){this.pathObject.applyColour(this);for(var t=this.getIcons(),e=0;e<t.length;e++)t[e].applyColour();for(t=0;e=this.inputList[t];t++)for(var o,n=0;o=e.fieldRow[n];n++)o.applyColour()},t.BlockSvg.prototype.updateDisabled=function(){var t=this.getChildren(!1);if(this.applyColour(),!this.isCollapsed())for(var e,o=0;e=t[o];o++)e.rendered&&e.updateDisabled()},t.BlockSvg.prototype.getCommentIcon=function(){return this.commentIcon_},t.BlockSvg.prototype.setCommentText=function(e){if(!t.Comment)throw Error("Missing require for Blockly.Comment");this.commentModel.text!=e&&(t.BlockSvg.superClass_.setCommentText.call(this,e),e=null!=e,!!this.commentIcon_==e?this.commentIcon_.updateText():(e?this.comment=this.commentIcon_=new t.Comment(this):(this.commentIcon_.dispose(),this.comment=this.commentIcon_=null),this.rendered&&(this.render(),this.bumpNeighbours())))},t.BlockSvg.prototype.setWarningText=function(e,o){if(!t.Warning)throw Error("Missing require for Blockly.Warning");this.warningTextDb_||(this.warningTextDb_=Object.create(null));var n=o||"";if(n)this.warningTextDb_[n]&&(clearTimeout(this.warningTextDb_[n]),delete this.warningTextDb_[n]);else for(var r in this.warningTextDb_)clearTimeout(this.warningTextDb_[r]),delete this.warningTextDb_[r];if(this.workspace.isDragging()){var i=this;this.warningTextDb_[n]=setTimeout((function(){i.workspace&&(delete i.warningTextDb_[n],i.setWarningText(e,n))}),100)}else{if(this.isInFlyout&&(e=null),o=!1,"string"==typeof e){r=this.getSurroundParent();for(var s=null;r;)r.isCollapsed()&&(s=r),r=r.getSurroundParent();s&&s.setWarningText(t.Msg.COLLAPSED_WARNINGS_WARNING,t.BlockSvg.COLLAPSED_WARNING_ID),this.warning||(this.warning=new t.Warning(this),o=!0),this.warning.setText(e,n)}else this.warning&&!n?(this.warning.dispose(),o=!0):this.warning&&(o=this.warning.getText(),this.warning.setText("",n),(r=this.warning.getText())||this.warning.dispose(),o=o!=r);o&&this.rendered&&(this.render(),this.bumpNeighbours())}},t.BlockSvg.prototype.setMutator=function(t){this.mutator&&this.mutator!==t&&this.mutator.dispose(),t&&(t.setBlock(this),this.mutator=t,t.createIcon()),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setEnabled=function(e){this.isEnabled()!=e&&(t.BlockSvg.superClass_.setEnabled.call(this,e),this.rendered&&!this.getInheritedDisabled()&&this.updateDisabled())},t.BlockSvg.prototype.setHighlighted=function(t){this.rendered&&this.pathObject.updateHighlighted(t)},t.BlockSvg.prototype.addSelect=function(){this.pathObject.updateSelected(!0)},t.BlockSvg.prototype.removeSelect=function(){this.pathObject.updateSelected(!1)},t.BlockSvg.prototype.setDeleteStyle=function(t){this.pathObject.updateDraggingDelete(t)},t.BlockSvg.prototype.getColour=function(){return this.style.colourPrimary},t.BlockSvg.prototype.setColour=function(e){t.BlockSvg.superClass_.setColour.call(this,e),e=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_),this.pathObject.setStyle(e.style),this.style=e.style,this.styleName_=e.name,this.applyColour()},t.BlockSvg.prototype.setStyle=function(t){var e=this.workspace.getRenderer().getConstants().getBlockStyle(t);if(this.styleName_=t,!e)throw Error("Invalid style name: "+t);this.hat=e.hat,this.pathObject.setStyle(e),this.colour_=e.colourPrimary,this.style=e,this.applyColour()},t.BlockSvg.prototype.bringToFront=function(){var t=this;do{var e=t.getSvgRoot(),o=e.parentNode,n=o.childNodes;n[n.length-1]!==e&&o.appendChild(e),t=t.getParent()}while(t)},t.BlockSvg.prototype.setPreviousStatement=function(e,o){t.BlockSvg.superClass_.setPreviousStatement.call(this,e,o),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setNextStatement=function(e,o){t.BlockSvg.superClass_.setNextStatement.call(this,e,o),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setOutput=function(e,o){t.BlockSvg.superClass_.setOutput.call(this,e,o),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setInputsInline=function(e){t.BlockSvg.superClass_.setInputsInline.call(this,e),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.removeInput=function(e,o){return e=t.BlockSvg.superClass_.removeInput.call(this,e,o),this.rendered&&(this.render(),this.bumpNeighbours()),e},t.BlockSvg.prototype.moveNumberedInputBefore=function(e,o){t.BlockSvg.superClass_.moveNumberedInputBefore.call(this,e,o),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.appendInput_=function(e,o){return e=t.BlockSvg.superClass_.appendInput_.call(this,e,o),this.rendered&&(this.render(),this.bumpNeighbours()),e},t.BlockSvg.prototype.setConnectionTracking=function(t){if(this.previousConnection&&this.previousConnection.setTracking(t),this.outputConnection&&this.outputConnection.setTracking(t),this.nextConnection){this.nextConnection.setTracking(t);var e=this.nextConnection.targetBlock();e&&e.setConnectionTracking(t)}if(!this.collapsed_)for(e=0;e<this.inputList.length;e++){var o=this.inputList[e].connection;o&&(o.setTracking(t),(o=o.targetBlock())&&o.setConnectionTracking(t))}},t.BlockSvg.prototype.getConnections_=function(t){var e=[];if((t||this.rendered)&&(this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection),t||!this.collapsed_)){t=0;for(var o;o=this.inputList[t];t++)o.connection&&e.push(o.connection)}return e},t.BlockSvg.prototype.lastConnectionInStack=function(){return t.BlockSvg.superClass_.lastConnectionInStack.call(this)},t.BlockSvg.prototype.getMatchingConnection=function(e,o){return t.BlockSvg.superClass_.getMatchingConnection.call(this,e,o)},t.BlockSvg.prototype.makeConnection_=function(e){return new t.RenderedConnection(this,e)},t.BlockSvg.prototype.bumpNeighbours=function(){if(this.workspace&&!this.workspace.isDragging()){var e=this.getRootBlock();if(!e.isInFlyout)for(var o,n=this.getConnections_(!1),r=0;o=n[r];r++){o.isConnected()&&o.isSuperior()&&o.targetBlock().bumpNeighbours();for(var i,s=o.neighbours(t.SNAP_RADIUS),a=0;i=s[a];a++)o.isConnected()&&i.isConnected()||i.getSourceBlock().getRootBlock()!=e&&(o.isSuperior()?i.bumpAwayFrom(o):o.bumpAwayFrom(i))}}},t.BlockSvg.prototype.scheduleSnapAndBump=function(){var e=this,o=t.Events.getGroup();setTimeout((function(){t.Events.setGroup(o),e.snapToGrid(),t.Events.setGroup(!1)}),t.BUMP_DELAY/2),setTimeout((function(){t.Events.setGroup(o),e.bumpNeighbours(),t.Events.setGroup(!1)}),t.BUMP_DELAY)},t.BlockSvg.prototype.positionNearConnection=function(e,o){e.type!=t.connectionTypes.NEXT_STATEMENT&&e.type!=t.connectionTypes.INPUT_VALUE||this.moveBy(o.x-e.x,o.y-e.y)},t.BlockSvg.prototype.getParent=function(){return t.BlockSvg.superClass_.getParent.call(this)},t.BlockSvg.prototype.getRootBlock=function(){return t.BlockSvg.superClass_.getRootBlock.call(this)},t.BlockSvg.prototype.render=function(e){if(!this.renderIsInProgress_){this.renderIsInProgress_=!0;try{if(this.rendered=!0,t.utils.dom.startTextWidthCache(),this.isCollapsed()&&this.updateCollapsed_(),this.workspace.getRenderer().render(this),this.updateConnectionLocations_(),!1!==e){var o=this.getParent();o?o.render(!0):this.workspace.resizeContents()}t.utils.dom.stopTextWidthCache(),this.updateMarkers_()}finally{this.renderIsInProgress_=!1}}},t.BlockSvg.prototype.updateMarkers_=function(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw(),this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(t.MarkerManager.LOCAL_MARKER).draw()},t.BlockSvg.prototype.updateConnectionLocations_=function(){var t=this.getRelativeToSurfaceXY();this.previousConnection&&this.previousConnection.moveToOffset(t),this.outputConnection&&this.outputConnection.moveToOffset(t);for(var e=0;e<this.inputList.length;e++){var o=this.inputList[e].connection;o&&(o.moveToOffset(t),o.isConnected()&&o.tighten())}this.nextConnection&&(this.nextConnection.moveToOffset(t),this.nextConnection.isConnected()&&this.nextConnection.tighten())},t.BlockSvg.prototype.setCursorSvg=function(t){this.pathObject.setCursorSvg(t)},t.BlockSvg.prototype.setMarkerSvg=function(t){this.pathObject.setMarkerSvg(t)},t.BlockSvg.prototype.getHeightWidth=function(){var t=this.height,e=this.width,o=this.getNextBlock();if(o){o=o.getHeightWidth();var n=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;t+=o.height-n,e=Math.max(e,o.width)}return{height:t,width:e}},t.BlockSvg.prototype.fadeForReplacement=function(t){this.pathObject.updateReplacementFade(t)},t.BlockSvg.prototype.highlightShapeForInput=function(t,e){this.pathObject.updateShapeForInputHighlight(t,e)},t.ConnectionDB=function(t){this.connections_=[],this.connectionChecker_=t},t.ConnectionDB.prototype.addConnection=function(t,e){e=this.calculateIndexForYPos_(e),this.connections_.splice(e,0,t)},t.ConnectionDB.prototype.findIndexOfConnection_=function(t,e){if(!this.connections_.length)return-1;var o=this.calculateIndexForYPos_(e);if(o>=this.connections_.length)return-1;e=t.y;for(var n=o;0<=n&&this.connections_[n].y==e;){if(this.connections_[n]==t)return n;n--}for(;o<this.connections_.length&&this.connections_[o].y==e;){if(this.connections_[o]==t)return o;o++}return-1},t.ConnectionDB.prototype.calculateIndexForYPos_=function(t){if(!this.connections_.length)return 0;for(var e=0,o=this.connections_.length;e<o;){var n=Math.floor((e+o)/2);if(this.connections_[n].y<t)e=n+1;else{if(!(this.connections_[n].y>t)){e=n;break}o=n}}return e},t.ConnectionDB.prototype.removeConnection=function(t,e){if(-1==(t=this.findIndexOfConnection_(t,e)))throw Error("Unable to find connection in connectionDB.");this.connections_.splice(t,1)},t.ConnectionDB.prototype.getNeighbours=function(t,e){function o(t){var o=r-n[t].x,s=i-n[t].y;return Math.sqrt(o*o+s*s)<=e&&l.push(n[t]),s<e}var n=this.connections_,r=t.x,i=t.y;t=0;for(var s=n.length-2,a=s;t<a;)n[a].y<i?t=a:s=a,a=Math.floor((t+s)/2);var l=[];if(s=t=a,n.length){for(;0<=t&&o(t);)t--;do{s++}while(s<n.length&&o(s))}return l},t.ConnectionDB.prototype.isInYRange_=function(t,e,o){return Math.abs(this.connections_[t].y-e)<=o},t.ConnectionDB.prototype.searchForClosest=function(t,e,o){if(!this.connections_.length)return{connection:null,radius:e};var n=t.y,r=t.x;t.x=r+o.x,t.y=n+o.y;var i=this.calculateIndexForYPos_(t.y);o=null;for(var s,a=e,l=i-1;0<=l&&this.isInYRange_(l,t.y,e);)s=this.connections_[l],this.connectionChecker_.canConnect(t,s,!0,a)&&(o=s,a=s.distanceFrom(t)),l--;for(;i<this.connections_.length&&this.isInYRange_(i,t.y,e);)s=this.connections_[i],this.connectionChecker_.canConnect(t,s,!0,a)&&(o=s,a=s.distanceFrom(t)),i++;return t.x=r,t.y=n,{connection:o,radius:a}},t.ConnectionDB.init=function(e){var o=[];return o[t.connectionTypes.INPUT_VALUE]=new t.ConnectionDB(e),o[t.connectionTypes.OUTPUT_VALUE]=new t.ConnectionDB(e),o[t.connectionTypes.NEXT_STATEMENT]=new t.ConnectionDB(e),o[t.connectionTypes.PREVIOUS_STATEMENT]=new t.ConnectionDB(e),o},t.Events.ThemeChange=function(e,o){t.Events.ThemeChange.superClass_.constructor.call(this,o),this.themeName=e},t.utils.object.inherits(t.Events.ThemeChange,t.Events.UiBase),t.Events.ThemeChange.prototype.type=t.Events.THEME_CHANGE,t.Events.ThemeChange.prototype.toJson=function(){var e=t.Events.ThemeChange.superClass_.toJson.call(this);return e.themeName=this.themeName,e},t.Events.ThemeChange.prototype.fromJson=function(e){t.Events.ThemeChange.superClass_.fromJson.call(this,e),this.themeName=e.themeName},t.registry.register(t.registry.Type.EVENT,t.Events.THEME_CHANGE,t.Events.ThemeChange),t.Events.ViewportChange=function(e,o,n,r,i){t.Events.ViewportChange.superClass_.constructor.call(this,r),this.viewTop=e,this.viewLeft=o,this.scale=n,this.oldScale=i},t.utils.object.inherits(t.Events.ViewportChange,t.Events.UiBase),t.Events.ViewportChange.prototype.type=t.Events.VIEWPORT_CHANGE,t.Events.ViewportChange.prototype.toJson=function(){var e=t.Events.ViewportChange.superClass_.toJson.call(this);return e.viewTop=this.viewTop,e.viewLeft=this.viewLeft,e.scale=this.scale,e.oldScale=this.oldScale,e},t.Events.ViewportChange.prototype.fromJson=function(e){t.Events.ViewportChange.superClass_.fromJson.call(this,e),this.viewTop=e.viewTop,this.viewLeft=e.viewLeft,this.scale=e.scale,this.oldScale=e.oldScale},t.registry.register(t.registry.Type.EVENT,t.Events.VIEWPORT_CHANGE,t.Events.ViewportChange),t.MarkerManager=function(t){this.cursorSvg_=this.cursor_=null,this.markers_={},this.workspace_=t},t.MarkerManager.LOCAL_MARKER="local_marker_1",t.MarkerManager.prototype.registerMarker=function(t,e){this.markers_[t]&&this.unregisterMarker(t),e.setDrawer(this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,e)),this.setMarkerSvg(e.getDrawer().createDom()),this.markers_[t]=e},t.MarkerManager.prototype.unregisterMarker=function(t){var e=this.markers_[t];if(!e)throw Error("Marker with id "+t+" does not exist. Can only unregistermarkers that exist.");e.dispose(),delete this.markers_[t]},t.MarkerManager.prototype.getCursor=function(){return this.cursor_},t.MarkerManager.prototype.getMarker=function(t){return this.markers_[t]},t.MarkerManager.prototype.setCursor=function(t){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose(),(this.cursor_=t)&&(t=this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,this.cursor_),this.cursor_.setDrawer(t),this.setCursorSvg(this.cursor_.getDrawer().createDom()))},t.MarkerManager.prototype.setCursorSvg=function(t){t?(this.workspace_.getBlockCanvas().appendChild(t),this.cursorSvg_=t):this.cursorSvg_=null},t.MarkerManager.prototype.setMarkerSvg=function(t){t?this.workspace_.getBlockCanvas()&&(this.cursorSvg_?this.workspace_.getBlockCanvas().insertBefore(t,this.cursorSvg_):this.workspace_.getBlockCanvas().appendChild(t)):this.markerSvg_=null},t.MarkerManager.prototype.updateMarkers=function(){this.workspace_.keyboardAccessibilityMode&&this.cursorSvg_&&this.workspace_.getCursor().draw()},t.MarkerManager.prototype.dispose=function(){for(var t,e=Object.keys(this.markers_),o=0;t=e[o];o++)this.unregisterMarker(t);this.markers_=null,this.cursor_&&(this.cursor_.dispose(),this.cursor_=null)},t.IMetricsManager=function(){},t.MetricsManager=function(t){this.workspace_=t},t.MetricsManager.prototype.getDimensionsPx_=function(e){var o=0,n=0;return e&&(o=e.getWidth(),n=e.getHeight()),new t.utils.Size(o,n)},t.MetricsManager.prototype.getFlyoutMetrics=function(t){return{width:(t=this.getDimensionsPx_(this.workspace_.getFlyout(t))).width,height:t.height,position:this.workspace_.toolboxPosition}},t.MetricsManager.prototype.getToolboxMetrics=function(){var t=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:t.width,height:t.height,position:this.workspace_.toolboxPosition}},t.MetricsManager.prototype.getSvgMetrics=function(){return this.workspace_.getCachedParentSvgSize()},t.MetricsManager.prototype.getAbsoluteMetrics=function(){var e=0,o=this.getToolboxMetrics(),n=this.getFlyoutMetrics(!0),r=!!this.workspace_.getToolbox(),i=!!this.workspace_.getFlyout(!0),s=r?o.position:n.position,a=s==t.utils.toolbox.Position.LEFT;return s=s==t.utils.toolbox.Position.TOP,r&&a?e=o.width:i&&a&&(e=n.width),a=0,r&&s?a=o.height:i&&s&&(a=n.height),{top:a,left:e}},t.MetricsManager.prototype.getViewMetrics=function(e){e=e?this.workspace_.scale:1;var o=this.getSvgMetrics(),n=this.getToolboxMetrics(),r=this.getFlyoutMetrics(!0),i=this.workspace_.getToolbox()?n.position:r.position;return this.workspace_.getToolbox()?i==t.utils.toolbox.Position.TOP||i==t.utils.toolbox.Position.BOTTOM?o.height-=n.height:i!=t.utils.toolbox.Position.LEFT&&i!=t.utils.toolbox.Position.RIGHT||(o.width-=n.width):this.workspace_.getFlyout(!0)&&(i==t.utils.toolbox.Position.TOP||i==t.utils.toolbox.Position.BOTTOM?o.height-=r.height:i!=t.utils.toolbox.Position.LEFT&&i!=t.utils.toolbox.Position.RIGHT||(o.width-=r.width)),{height:o.height/e,width:o.width/e,top:-this.workspace_.scrollY/e,left:-this.workspace_.scrollX/e}},t.MetricsManager.prototype.getContentMetrics=function(t){t=t?1:this.workspace_.scale;var e=this.workspace_.getBlocksBoundingBox();return{height:(e.bottom-e.top)*t,width:(e.right-e.left)*t,top:e.top*t,left:e.left*t}},t.MetricsManager.prototype.hasFixedEdges=function(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()},t.MetricsManager.prototype.getComputedFixedEdges_=function(t){if(!this.hasFixedEdges())return{};var e=this.workspace_.isMovableHorizontally(),o=this.workspace_.isMovableVertically();t=t||this.getViewMetrics(!1);var n={};return o||(n.top=t.top,n.bottom=t.top+t.height),e||(n.left=t.left,n.right=t.left+t.width),n},t.MetricsManager.prototype.getPaddedContent_=function(t,e){var o=e.top+e.height,n=e.left+e.width,r=t.width,i=r/2,s=(t=t.height)/2;return{top:Math.min(e.top-s,o-t),bottom:Math.max(o+s,e.top+t),left:Math.min(e.left-i,n-r),right:Math.max(n+i,e.left+r)}},t.MetricsManager.prototype.getScrollMetrics=function(t,e,o){t=t?this.workspace_.scale:1,e=e||this.getViewMetrics(!1);var n=o||this.getContentMetrics();o=this.getComputedFixedEdges_(e),e=this.getPaddedContent_(e,n),n=void 0!==o.top?o.top:e.top;var r=void 0!==o.left?o.left:e.left;return{top:n/t,left:r/t,width:((void 0!==o.right?o.right:e.right)-r)/t,height:((void 0!==o.bottom?o.bottom:e.bottom)-n)/t}},t.MetricsManager.prototype.getUiMetrics=function(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}},t.MetricsManager.prototype.getMetrics=function(){var t=this.getToolboxMetrics(),e=this.getFlyoutMetrics(!0),o=this.getSvgMetrics(),n=this.getAbsoluteMetrics(),r=this.getViewMetrics(),i=this.getContentMetrics(),s=this.getScrollMetrics(!1,r,i);return{contentHeight:i.height,contentWidth:i.width,contentTop:i.top,contentLeft:i.left,scrollHeight:s.height,scrollWidth:s.width,scrollTop:s.top,scrollLeft:s.left,viewHeight:r.height,viewWidth:r.width,viewTop:r.top,viewLeft:r.left,absoluteTop:n.top,absoluteLeft:n.left,svgHeight:o.height,svgWidth:o.width,toolboxWidth:t.width,toolboxHeight:t.height,toolboxPosition:t.position,flyoutWidth:e.width,flyoutHeight:e.height}},t.registry.register(t.registry.Type.METRICS_MANAGER,t.registry.DEFAULT,t.MetricsManager),t.FlyoutMetricsManager=function(e,o){this.flyout_=o,t.FlyoutMetricsManager.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.FlyoutMetricsManager,t.MetricsManager),t.FlyoutMetricsManager.prototype.getBoundingBox_=function(){try{var t=this.workspace_.getCanvas().getBBox()}catch(e){t={height:0,y:0,width:0,x:0}}return t},t.FlyoutMetricsManager.prototype.getContentMetrics=function(t){var e=this.getBoundingBox_();return t=t?1:this.workspace_.scale,{height:e.height*t,width:e.width*t,top:e.y*t,left:e.x*t}},t.FlyoutMetricsManager.prototype.getScrollMetrics=function(t,e,o){return e=o||this.getContentMetrics(),o=this.flyout_.MARGIN*this.workspace_.scale,t=t?this.workspace_.scale:1,{height:(e.height+2*o)/t,width:(e.width+e.left+o)/t,top:0,left:0}},t.FlyoutMetricsManager.prototype.getViewMetrics=function(t){var e=this.getSvgMetrics();if(t=t?this.workspace_.scale:1,this.flyout_.horizontalLayout){var o=e.width-2*this.flyout_.SCROLLBAR_PADDING;e=e.height-this.flyout_.SCROLLBAR_PADDING}else o=e.width-this.flyout_.SCROLLBAR_PADDING,e=e.height-2*this.flyout_.SCROLLBAR_PADDING;return{height:e/t,width:o/t,top:-this.workspace_.scrollY/t,left:-this.workspace_.scrollX/t}},t.FlyoutMetricsManager.prototype.getAbsoluteMetrics=function(){var t=this.flyout_.SCROLLBAR_PADDING;return this.flyout_.horizontalLayout?{top:0,left:t}:{top:t,left:0}},t.PluginManager=function(){this.pluginData_={},this.typeToPluginIds_={}},t.PluginManager.prototype.addPlugin=function(t){this.pluginData_[t.id]=t;for(var e,o=0;e=t.types[o];o++)e=String(e).toLowerCase(),void 0===this.typeToPluginIds_[e]?this.typeToPluginIds_[e]=[t.id]:this.typeToPluginIds_[e].push(t.id)},t.PluginManager.prototype.getPlugin=function(t){return this.pluginData_[t]&&this.pluginData_[t].plugin},t.PluginManager.prototype.getPlugins=function(t,e){if(t=String(t).toLowerCase(),!(t=this.typeToPluginIds_[t]))return[];var o=[];if(e){var n=[],r=this.pluginData_;t.forEach((function(t){n.push(r[t])})),n.sort((function(t,e){return t.weight-e.weight})),n.forEach((function(t){o.push(t.plugin)}))}else r=this.pluginData_,t.forEach((function(t){o.push(r[t].plugin)}));return o},t.PluginManager.Type=function(t){this.name_=t},t.PluginManager.Type.prototype.toString=function(){return this.name_},t.PluginManager.Type.POSITIONABLE=new t.PluginManager.Type("positionable"),t.ThemeManager=function(t,e){this.workspace_=t,this.theme_=e,this.subscribedWorkspaces_=[],this.componentDB_=Object.create(null)},t.ThemeManager.prototype.getTheme=function(){return this.theme_},t.ThemeManager.prototype.setTheme=function(e){var o,n=this.theme_;for(this.theme_=e,(e=this.workspace_.getInjectionDiv())&&(n&&t.utils.dom.removeClass(e,n.getClassName()),t.utils.dom.addClass(e,this.theme_.getClassName())),n=0;e=this.subscribedWorkspaces_[n];n++)e.refreshTheme();for(n=0,e=Object.keys(this.componentDB_);o=e[n];n++)for(var r,i=0;r=this.componentDB_[o][i];i++){var s=r.element;r=r.propertyName;var a=this.theme_&&this.theme_.getComponentStyle(o);s.style[r]=a||""}t.hideChaff()},t.ThemeManager.prototype.subscribeWorkspace=function(t){this.subscribedWorkspaces_.push(t)},t.ThemeManager.prototype.unsubscribeWorkspace=function(t){if(0>(t=this.subscribedWorkspaces_.indexOf(t)))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");this.subscribedWorkspaces_.splice(t,1)},t.ThemeManager.prototype.subscribe=function(t,e,o){this.componentDB_[e]||(this.componentDB_[e]=[]),this.componentDB_[e].push({element:t,propertyName:o}),e=this.theme_&&this.theme_.getComponentStyle(e),t.style[o]=e||""},t.ThemeManager.prototype.unsubscribe=function(t){if(t)for(var e,o=Object.keys(this.componentDB_),n=0;e=o[n];n++){for(var r=this.componentDB_[e],i=r.length-1;0<=i;i--)r[i].element===t&&r.splice(i,1);this.componentDB_[e].length||delete this.componentDB_[e]}},t.ThemeManager.prototype.dispose=function(){this.componentDB_=this.subscribedWorkspaces_=this.theme_=this.owner_=null},t.TouchGesture=function(e,o){t.TouchGesture.superClass_.constructor.call(this,e,o),this.isMultiTouch_=!1,this.cachedPoints_=Object.create(null),this.startDistance_=this.previousScale_=0,this.isPinchZoomEnabled_=this.onStartWrapper_=null},t.utils.object.inherits(t.TouchGesture,t.Gesture),t.TouchGesture.ZOOM_IN_MULTIPLIER=5,t.TouchGesture.ZOOM_OUT_MULTIPLIER=6,t.TouchGesture.prototype.doStart=function(e){this.isPinchZoomEnabled_=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,t.TouchGesture.superClass_.doStart.call(this,e),!this.isEnding_&&t.Touch.isTouchEvent(e)&&this.handleTouchStart(e)},t.TouchGesture.prototype.bindMouseEvents=function(e){this.onStartWrapper_=t.browserEvents.conditionalBind(document,"mousedown",null,this.handleStart.bind(this),!0),this.onMoveWrapper_=t.browserEvents.conditionalBind(document,"mousemove",null,this.handleMove.bind(this),!0),this.onUpWrapper_=t.browserEvents.conditionalBind(document,"mouseup",null,this.handleUp.bind(this),!0),e.preventDefault(),e.stopPropagation()},t.TouchGesture.prototype.handleStart=function(e){!this.isDragging()&&t.Touch.isTouchEvent(e)&&(this.handleTouchStart(e),this.isMultiTouch()&&t.longStop_())},t.TouchGesture.prototype.handleMove=function(e){this.isDragging()?t.Touch.shouldHandleEvent(e)&&t.TouchGesture.superClass_.handleMove.call(this,e):this.isMultiTouch()?(t.Touch.isTouchEvent(e)&&this.handleTouchMove(e),t.longStop_()):t.TouchGesture.superClass_.handleMove.call(this,e)},t.TouchGesture.prototype.handleUp=function(e){t.Touch.isTouchEvent(e)&&!this.isDragging()&&this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()?t.Touch.shouldHandleEvent(e)&&t.TouchGesture.superClass_.handleUp.call(this,e):(e.preventDefault(),e.stopPropagation(),this.dispose())},t.TouchGesture.prototype.isMultiTouch=function(){return this.isMultiTouch_},t.TouchGesture.prototype.dispose=function(){t.TouchGesture.superClass_.dispose.call(this),this.onStartWrapper_&&t.browserEvents.unbind(this.onStartWrapper_)},t.TouchGesture.prototype.handleTouchStart=function(e){var o=t.Touch.getTouchIdentifierFromEvent(e);this.cachedPoints_[o]=this.getTouchPoint(e),2==(o=Object.keys(this.cachedPoints_)).length&&(this.startDistance_=t.utils.Coordinate.distance(this.cachedPoints_[o[0]],this.cachedPoints_[o[1]]),this.isMultiTouch_=!0,e.preventDefault())},t.TouchGesture.prototype.handleTouchMove=function(e){var o=t.Touch.getTouchIdentifierFromEvent(e);this.cachedPoints_[o]=this.getTouchPoint(e),o=Object.keys(this.cachedPoints_),this.isPinchZoomEnabled_&&2===o.length?this.handlePinch_(e):t.TouchGesture.superClass_.handleMove.call(this,e)},t.TouchGesture.prototype.handlePinch_=function(e){var o=Object.keys(this.cachedPoints_);if(o=t.utils.Coordinate.distance(this.cachedPoints_[o[0]],this.cachedPoints_[o[1]])/this.startDistance_,0<this.previousScale_&&1/0>this.previousScale_){var n=o-this.previousScale_;n=0<n?n*t.TouchGesture.ZOOM_IN_MULTIPLIER:n*t.TouchGesture.ZOOM_OUT_MULTIPLIER;var r=this.startWorkspace_,i=t.utils.mouseToSvg(e,r.getParentSvg(),r.getInverseScreenCTM());r.zoom(i.x,i.y,n)}this.previousScale_=o,e.preventDefault()},t.TouchGesture.prototype.handleTouchEnd=function(e){e=t.Touch.getTouchIdentifierFromEvent(e),this.cachedPoints_[e]&&delete this.cachedPoints_[e],2>Object.keys(this.cachedPoints_).length&&(this.cachedPoints_=Object.create(null),this.previousScale_=0)},t.TouchGesture.prototype.getTouchPoint=function(e){return this.startWorkspace_?new t.utils.Coordinate(e.pageX?e.pageX:e.changedTouches[0].pageX,e.pageY?e.pageY:e.changedTouches[0].pageY):null},t.WorkspaceAudio=function(t){this.parentWorkspace_=t,this.SOUNDS_=Object.create(null)},t.WorkspaceAudio.prototype.lastSound_=null,t.WorkspaceAudio.prototype.dispose=function(){this.SOUNDS_=this.parentWorkspace_=null},t.WorkspaceAudio.prototype.load=function(e,o){if(e.length){try{var n=new t.utils.global.Audio}catch(t){return}for(var r,i=0;i<e.length;i++){var s=e[i],a=s.match(/\.(\w+)$/);if(a&&n.canPlayType("audio/"+a[1])){r=new t.utils.global.Audio(s);break}}r&&r.play&&(this.SOUNDS_[o]=r)}},t.WorkspaceAudio.prototype.preload=function(){for(var e in this.SOUNDS_){var o=this.SOUNDS_[e];o.volume=.01;var n=o.play();if(void 0!==n?n.then(o.pause).catch((function(){})):o.pause(),t.utils.userAgent.IPAD||t.utils.userAgent.IPHONE)break}},t.WorkspaceAudio.prototype.play=function(e,o){var n=this.SOUNDS_[e];n?(e=new Date,null!=this.lastSound_&&e-this.lastSound_<t.SOUND_LIMIT||(this.lastSound_=e,(n=t.utils.userAgent.IPAD||t.utils.userAgent.ANDROID?n:n.cloneNode()).volume=void 0===o?1:o,n.play())):this.parentWorkspace_&&this.parentWorkspace_.getAudioManager().play(e,o)},t.WorkspaceSvg=function(e,o,n){t.WorkspaceSvg.superClass_.constructor.call(this,e),this.metricsManager_=new(t.registry.getClassFromOptions(t.registry.Type.METRICS_MANAGER,e,!0))(this),this.getMetrics=e.getMetrics||this.metricsManager_.getMetrics.bind(this.metricsManager_),this.setMetrics=e.setMetrics||t.WorkspaceSvg.setTopLevelWorkspaceMetrics_,this.pluginManager_=new t.PluginManager,this.connectionDBList=t.ConnectionDB.init(this.connectionChecker),o&&(this.blockDragSurface_=o),n&&(this.workspaceDragSurface_=n),this.useWorkspaceDragSurface_=!!this.workspaceDragSurface_&&t.utils.is3dSupported(),this.highlightedBlocks_=[],this.audioManager_=new t.WorkspaceAudio(e.parentWorkspace),this.grid_=this.options.gridPattern?new t.Grid(this.options.gridPattern,e.gridOptions):null,this.markerManager_=new t.MarkerManager(this),this.toolboxCategoryCallbacks_={},this.flyoutButtonCallbacks_={},t.Variables&&t.Variables.flyoutCategory&&this.registerToolboxCategoryCallback(t.VARIABLE_CATEGORY_NAME,t.Variables.flyoutCategory),t.VariablesDynamic&&t.VariablesDynamic.flyoutCategory&&this.registerToolboxCategoryCallback(t.VARIABLE_DYNAMIC_CATEGORY_NAME,t.VariablesDynamic.flyoutCategory),t.Procedures&&t.Procedures.flyoutCategory&&(this.registerToolboxCategoryCallback(t.PROCEDURE_CATEGORY_NAME,t.Procedures.flyoutCategory),this.addChangeListener(t.Procedures.mutatorOpenListener)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new t.ThemeManager(this,this.options.theme||t.Themes.Classic),this.themeManager_.subscribeWorkspace(this),this.renderer_=t.blockRendering.init(this.options.renderer||"geras",this.getTheme(),this.options.rendererOverrides),this.cachedParentSvg_=null,this.keyboardAccessibilityMode=!1,this.topBoundedElements_=[],this.cachedParentSvgSize_=new t.utils.Size(0,0)},t.utils.object.inherits(t.WorkspaceSvg,t.Workspace),t.WorkspaceSvg.prototype.resizeHandlerWrapper_=null,t.WorkspaceSvg.prototype.rendered=!0,t.WorkspaceSvg.prototype.isVisible_=!0,t.WorkspaceSvg.prototype.isFlyout=!1,t.WorkspaceSvg.prototype.isMutator=!1,t.WorkspaceSvg.prototype.resizesEnabled_=!0,t.WorkspaceSvg.prototype.scrollX=0,t.WorkspaceSvg.prototype.scrollY=0,t.WorkspaceSvg.prototype.startScrollX=0,t.WorkspaceSvg.prototype.startScrollY=0,t.WorkspaceSvg.prototype.dragDeltaXY_=null,t.WorkspaceSvg.prototype.scale=1,t.WorkspaceSvg.prototype.oldScale_=1,t.WorkspaceSvg.prototype.oldTop_=0,t.WorkspaceSvg.prototype.oldLeft_=0,t.WorkspaceSvg.prototype.trashcan=null,t.WorkspaceSvg.prototype.scrollbar=null,t.WorkspaceSvg.prototype.flyout_=null,t.WorkspaceSvg.prototype.toolbox_=null,t.WorkspaceSvg.prototype.currentGesture_=null,t.WorkspaceSvg.prototype.blockDragSurface_=null,t.WorkspaceSvg.prototype.workspaceDragSurface_=null,t.WorkspaceSvg.prototype.useWorkspaceDragSurface_=!1,t.WorkspaceSvg.prototype.isDragSurfaceActive_=!1,t.WorkspaceSvg.prototype.injectionDiv_=null,t.WorkspaceSvg.prototype.lastRecordedPageScroll_=null,t.WorkspaceSvg.prototype.targetWorkspace=null,t.WorkspaceSvg.prototype.inverseScreenCTM_=null,t.WorkspaceSvg.prototype.inverseScreenCTMDirty_=!0,t.WorkspaceSvg.prototype.getMarkerManager=function(){return this.markerManager_},t.WorkspaceSvg.prototype.getMetricsManager=function(){return this.metricsManager_},t.WorkspaceSvg.prototype.setMetricsManager=function(t){this.metricsManager_=t,this.getMetrics=this.metricsManager_.getMetrics.bind(this.metricsManager_)},t.WorkspaceSvg.prototype.getPluginManager=function(){return this.pluginManager_},t.WorkspaceSvg.prototype.setCursorSvg=function(t){this.markerManager_.setCursorSvg(t)},t.WorkspaceSvg.prototype.setMarkerSvg=function(t){this.markerManager_.setMarkerSvg(t)},t.WorkspaceSvg.prototype.getMarker=function(t){return this.markerManager_?this.markerManager_.getMarker(t):null},t.WorkspaceSvg.prototype.getCursor=function(){return this.markerManager_?this.markerManager_.getCursor():null},t.WorkspaceSvg.prototype.getRenderer=function(){return this.renderer_},t.WorkspaceSvg.prototype.getThemeManager=function(){return this.themeManager_},t.WorkspaceSvg.prototype.getTheme=function(){return this.themeManager_.getTheme()},t.WorkspaceSvg.prototype.setTheme=function(e){e||(e=t.Themes.Classic),this.themeManager_.setTheme(e)},t.WorkspaceSvg.prototype.refreshTheme=function(){this.svgGroup_&&this.renderer_.refreshDom(this.svgGroup_,this.getTheme()),this.updateBlockStyles_(this.getAllBlocks(!1).filter((function(t){return void 0!==t.getStyleName()}))),this.refreshToolboxSelection(),this.toolbox_&&this.toolbox_.refreshTheme(),this.isVisible()&&this.setVisible(!0);var e=new(t.Events.get(t.Events.THEME_CHANGE))(this.getTheme().name,this.id);t.Events.fire(e)},t.WorkspaceSvg.prototype.updateBlockStyles_=function(t){for(var e,o=0;e=t[o];o++){var n=e.getStyleName();n&&(e.setStyle(n),e.mutator&&e.mutator.updateBlockStyle())}},t.WorkspaceSvg.prototype.getInverseScreenCTM=function(){if(this.inverseScreenCTMDirty_){var t=this.getParentSvg().getScreenCTM();t&&(this.inverseScreenCTM_=t.inverse(),this.inverseScreenCTMDirty_=!1)}return this.inverseScreenCTM_},t.WorkspaceSvg.prototype.updateInverseScreenCTM=function(){this.inverseScreenCTMDirty_=!0},t.WorkspaceSvg.prototype.isVisible=function(){return this.isVisible_},t.WorkspaceSvg.prototype.getSvgXY=function(e){var o=0,n=0,r=1;(t.utils.dom.containsNode(this.getCanvas(),e)||t.utils.dom.containsNode(this.getBubbleCanvas(),e))&&(r=this.scale);do{var i=t.utils.getRelativeXY(e);e!=this.getCanvas()&&e!=this.getBubbleCanvas()||(r=1),o+=i.x*r,n+=i.y*r,e=e.parentNode}while(e&&e!=this.getParentSvg());return new t.utils.Coordinate(o,n)},t.WorkspaceSvg.prototype.getCachedParentSvgSize=function(){var e=this.cachedParentSvgSize_;return new t.utils.Size(e.width,e.height)},t.WorkspaceSvg.prototype.getOriginOffsetInPixels=function(){return t.utils.getInjectionDivXY_(this.getCanvas())},t.WorkspaceSvg.prototype.getInjectionDiv=function(){if(!this.injectionDiv_)for(var t=this.svgGroup_;t;){if(-1!=(" "+(t.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){this.injectionDiv_=t;break}t=t.parentNode}return this.injectionDiv_},t.WorkspaceSvg.prototype.getBlockCanvas=function(){return this.svgBlockCanvas_},t.WorkspaceSvg.prototype.setResizeHandlerWrapper=function(t){this.resizeHandlerWrapper_=t},t.WorkspaceSvg.prototype.createDom=function(e){return this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyWorkspace"},null),e&&(this.svgBackground_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{height:"100%",width:"100%",class:e},this.svgGroup_),"blocklyMainBackground"==e&&this.grid_?this.svgBackground_.style.fill="url(#"+this.grid_.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.svgBlockCanvas_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyBlockCanvas"},this.svgGroup_),this.svgBubbleCanvas_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyBubbleCanvas"},this.svgGroup_),this.isFlyout||(t.browserEvents.conditionalBind(this.svgGroup_,"mousedown",this,this.onMouseDown_,!1,!0),t.browserEvents.conditionalBind(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories&&(this.toolbox_=new(t.registry.getClassFromOptions(t.registry.Type.TOOLBOX,this.options,!0))(this)),this.grid_&&this.grid_.update(this.scale),this.recordDeleteAreas(),(e=t.registry.getClassFromOptions(t.registry.Type.CURSOR,this.options))&&this.markerManager_.setCursor(new e),this.renderer_.createDom(this.svgGroup_,this.getTheme()),this.svgGroup_},t.WorkspaceSvg.prototype.dispose=function(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&(t.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.svgBubbleCanvas_=this.svgBlockCanvas_=null,this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout_&&(this.flyout_.dispose(),this.flyout_=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&(this.zoomControls_.dispose(),this.zoomControls_=null),this.audioManager_&&(this.audioManager_.dispose(),this.audioManager_=null),this.grid_&&(this.grid_.dispose(),this.grid_=null),this.renderer_.dispose(),this.markerManager_&&(this.markerManager_.dispose(),this.markerManager_=null),t.WorkspaceSvg.superClass_.dispose.call(this),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||(this.themeManager_.dispose(),this.themeManager_=null)),this.flyoutButtonCallbacks_=this.toolboxCategoryCallbacks_=this.connectionDBList=null,!this.options.parentWorkspace){var e=this.getParentSvg();e&&e.parentNode&&t.utils.dom.removeNode(e.parentNode)}this.resizeHandlerWrapper_&&(t.browserEvents.unbind(this.resizeHandlerWrapper_),this.resizeHandlerWrapper_=null)},t.WorkspaceSvg.prototype.newBlock=function(e,o){return new t.BlockSvg(this,e,o)},t.WorkspaceSvg.prototype.addTrashcan=function(){if(!t.Trashcan)throw Error("Missing require for Blockly.Trashcan");this.trashcan=new t.Trashcan(this);var e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.svgBlockCanvas_),this.pluginManager_.addPlugin({id:"trashcan",plugin:this.trashcan,weight:1,types:[t.PluginManager.Type.POSITIONABLE]})},t.WorkspaceSvg.prototype.addZoomControls=function(){if(!t.ZoomControls)throw Error("Missing require for Blockly.ZoomControls");this.zoomControls_=new t.ZoomControls(this);var e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e),this.pluginManager_.addPlugin({id:"zoomControls",plugin:this.zoomControls_,weight:2,types:[t.PluginManager.Type.POSITIONABLE]})},t.WorkspaceSvg.prototype.addFlyout=function(e){var o=new t.Options({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,move:{scrollbars:!0}});return o.toolboxPosition=this.options.toolboxPosition,this.flyout_=this.horizontalLayout?new(t.registry.getClassFromOptions(t.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(o):new(t.registry.getClassFromOptions(t.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(o),this.flyout_.autoClose=!1,this.flyout_.getWorkspace().setVisible(!0),this.flyout_.createDom(e)},t.WorkspaceSvg.prototype.getFlyout=function(t){return this.flyout_||t?this.flyout_:this.toolbox_?this.toolbox_.getFlyout():null},t.WorkspaceSvg.prototype.getToolbox=function(){return this.toolbox_},t.WorkspaceSvg.prototype.updateScreenCalculations_=function(){this.updateInverseScreenCTM(),this.recordDeleteAreas()},t.WorkspaceSvg.prototype.resizeContents=function(){this.resizesEnabled_&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())},t.WorkspaceSvg.prototype.resize=function(){this.toolbox_&&this.toolbox_.position(),this.flyout_&&this.flyout_.position();for(var e,o=this.pluginManager_.getPlugins(t.PluginManager.Type.POSITIONABLE,!0),n=this.getMetricsManager().getUiMetrics(),r=[],i=0;e=o[i];i++)e.position(n,r),r.push(e.getBoundingRectangle());this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()},t.WorkspaceSvg.prototype.updateScreenCalculationsIfScrolled=function(){var e=t.utils.getDocumentScroll();t.utils.Coordinate.equals(this.lastRecordedPageScroll_,e)||(this.lastRecordedPageScroll_=e,this.updateScreenCalculations_())},t.WorkspaceSvg.prototype.getCanvas=function(){return this.svgBlockCanvas_},t.WorkspaceSvg.prototype.setCachedParentSvgSize=function(t,e){var o=this.getParentSvg();t&&(this.cachedParentSvgSize_.width=t,o.cachedWidth_=t),e&&(this.cachedParentSvgSize_.height=e,o.cachedHeight_=e)},t.WorkspaceSvg.prototype.getBubbleCanvas=function(){return this.svgBubbleCanvas_},t.WorkspaceSvg.prototype.getParentSvg=function(){if(!this.cachedParentSvg_)for(var t=this.svgGroup_;t;){if("svg"==t.tagName){this.cachedParentSvg_=t;break}t=t.parentNode}return this.cachedParentSvg_},t.WorkspaceSvg.prototype.maybeFireViewportChangeEvent=function(){if(t.Events.isEnabled()){var e=this.scale,o=-this.scrollY,n=-this.scrollX;if(!(e==this.oldScale_&&1>Math.abs(o-this.oldTop_)&&1>Math.abs(n-this.oldLeft_))){var r=new(t.Events.get(t.Events.VIEWPORT_CHANGE))(o,n,e,this.id,this.oldScale_);this.oldScale_=e,this.oldTop_=o,this.oldLeft_=n,t.Events.fire(r)}}},t.WorkspaceSvg.prototype.translate=function(t,e){if(this.useWorkspaceDragSurface_&&this.isDragSurfaceActive_)this.workspaceDragSurface_.translateSurface(t,e);else{var o="translate("+t+","+e+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",o),this.svgBubbleCanvas_.setAttribute("transform",o)}this.blockDragSurface_&&this.blockDragSurface_.translateAndScaleGroup(t,e,this.scale),this.grid_&&this.grid_.moveTo(t,e),this.maybeFireViewportChangeEvent()},t.WorkspaceSvg.prototype.resetDragSurface=function(){if(this.useWorkspaceDragSurface_){this.isDragSurfaceActive_=!1;var t=this.workspaceDragSurface_.getSurfaceTranslation();this.workspaceDragSurface_.clearAndHide(this.svgGroup_),t="translate("+t.x+","+t.y+") scale("+this.scale+")",this.svgBlockCanvas_.setAttribute("transform",t),this.svgBubbleCanvas_.setAttribute("transform",t)}},t.WorkspaceSvg.prototype.setupDragSurface=function(){if(this.useWorkspaceDragSurface_&&!this.isDragSurfaceActive_){this.isDragSurfaceActive_=!0;var e=this.svgBlockCanvas_.previousSibling,o=parseInt(this.getParentSvg().getAttribute("width"),10),n=parseInt(this.getParentSvg().getAttribute("height"),10),r=t.utils.getRelativeXY(this.getCanvas());this.workspaceDragSurface_.setContentsAndShow(this.getCanvas(),this.getBubbleCanvas(),e,o,n,this.scale),this.workspaceDragSurface_.translateSurface(r.x,r.y)}},t.WorkspaceSvg.prototype.getBlockDragSurface=function(){return this.blockDragSurface_},t.WorkspaceSvg.prototype.getWidth=function(){var t=this.getMetrics();return t?t.viewWidth/this.scale:0},t.WorkspaceSvg.prototype.setVisible=function(e){if(this.isVisible_=e,this.svgGroup_)if(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox_&&this.toolbox_.setVisible(e),e){for(var o=(e=this.getAllBlocks(!1)).length-1;0<=o;o--)e[o].markDirty();this.render(),this.toolbox_&&this.toolbox_.position()}else t.hideChaff(!0)},t.WorkspaceSvg.prototype.render=function(){for(var t=this.getAllBlocks(!1),e=t.length-1;0<=e;e--)t[e].render(!1);if(this.currentGesture_)for(t=this.currentGesture_.getInsertionMarkers(),e=0;e<t.length;e++)t[e].render(!1);this.markerManager_.updateMarkers()},t.WorkspaceSvg.prototype.highlightBlock=function(e,o){if(void 0===o){for(var n,r=0;n=this.highlightedBlocks_[r];r++)n.setHighlighted(!1);this.highlightedBlocks_.length=0}(n=e?this.getBlockById(e):null)&&((e=void 0===o||o)?-1==this.highlightedBlocks_.indexOf(n)&&this.highlightedBlocks_.push(n):t.utils.arrayRemove(this.highlightedBlocks_,n),n.setHighlighted(e))},t.WorkspaceSvg.prototype.paste=function(t){!this.rendered||!t.tagName||t.getElementsByTagName("block").length>=this.remainingCapacity()||(this.currentGesture_&&this.currentGesture_.cancel(),"comment"==t.tagName.toLowerCase()?this.pasteWorkspaceComment_(t):this.pasteBlock_(t))},t.WorkspaceSvg.prototype.pasteBlock_=function(e){t.Events.disable();try{var o=t.Xml.domToBlock(e,this),n=parseInt(e.getAttribute("x"),10),r=parseInt(e.getAttribute("y"),10);if(!isNaN(n)&&!isNaN(r)){this.RTL&&(n=-n);do{e=!1;for(var i,s=this.getAllBlocks(!1),a=0;i=s[a];a++){var l=i.getRelativeToSurfaceXY();if(1>=Math.abs(n-l.x)&&1>=Math.abs(r-l.y)){e=!0;break}}if(!e){var c,u=o.getConnections_(!1);for(a=0;c=u[a];a++)if(c.closest(t.SNAP_RADIUS,new t.utils.Coordinate(n,r)).connection){e=!0;break}}e&&(n=this.RTL?n-t.SNAP_RADIUS:n+t.SNAP_RADIUS,r+=2*t.SNAP_RADIUS)}while(e);o.moveBy(n,r)}}finally{t.Events.enable()}t.Events.isEnabled()&&!o.isShadow()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CREATE))(o)),o.select()},t.WorkspaceSvg.prototype.pasteWorkspaceComment_=function(e){t.Events.disable();try{var o=t.WorkspaceCommentSvg.fromXml(e,this),n=parseInt(e.getAttribute("x"),10),r=parseInt(e.getAttribute("y"),10);isNaN(n)||isNaN(r)||(this.RTL&&(n=-n),o.moveBy(n+50,r+50))}finally{t.Events.enable()}t.Events.isEnabled()&&t.WorkspaceComment.fireCreateEvent(o),o.select()},t.WorkspaceSvg.prototype.refreshToolboxSelection=function(){var t=this.isFlyout?this.targetWorkspace:this;t&&!t.currentGesture_&&t.toolbox_&&t.toolbox_.getFlyout()&&t.toolbox_.refreshSelection()},t.WorkspaceSvg.prototype.renameVariableById=function(e,o){t.WorkspaceSvg.superClass_.renameVariableById.call(this,e,o),this.refreshToolboxSelection()},t.WorkspaceSvg.prototype.deleteVariableById=function(e){t.WorkspaceSvg.superClass_.deleteVariableById.call(this,e),this.refreshToolboxSelection()},t.WorkspaceSvg.prototype.createVariable=function(e,o,n){return e=t.WorkspaceSvg.superClass_.createVariable.call(this,e,o,n),this.refreshToolboxSelection(),e},t.WorkspaceSvg.prototype.recordDeleteAreas=function(){this.deleteAreaTrash_=this.trashcan&&this.svgGroup_.parentNode?this.trashcan.getClientRect():null,this.deleteAreaToolbox_=this.flyout_?this.flyout_.getClientRect():this.toolbox_&&"function"==typeof this.toolbox_.getClientRect?this.toolbox_.getClientRect():null},t.WorkspaceSvg.prototype.isDeleteArea=function(e){return this.deleteAreaTrash_&&this.deleteAreaTrash_.contains(e.clientX,e.clientY)?t.DELETE_AREA_TRASH:this.deleteAreaToolbox_&&this.deleteAreaToolbox_.contains(e.clientX,e.clientY)?t.DELETE_AREA_TOOLBOX:t.DELETE_AREA_NONE},t.WorkspaceSvg.prototype.onMouseDown_=function(t){var e=this.getGesture(t);e&&e.handleWsStart(t,this)},t.WorkspaceSvg.prototype.startDrag=function(e,o){(e=t.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,e.y/=this.scale,this.dragDeltaXY_=t.utils.Coordinate.difference(o,e)},t.WorkspaceSvg.prototype.moveDrag=function(e){return(e=t.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,e.y/=this.scale,t.utils.Coordinate.sum(this.dragDeltaXY_,e)},t.WorkspaceSvg.prototype.isDragging=function(){return null!=this.currentGesture_&&this.currentGesture_.isDragging()},t.WorkspaceSvg.prototype.isDraggable=function(){return this.options.moveOptions&&this.options.moveOptions.drag},t.WorkspaceSvg.prototype.isMovable=function(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch},t.WorkspaceSvg.prototype.isMovableHorizontally=function(){var t=!!this.scrollbar;return this.isMovable()&&(!t||t&&this.scrollbar.canScrollHorizontally())},t.WorkspaceSvg.prototype.isMovableVertically=function(){var t=!!this.scrollbar;return this.isMovable()&&(!t||t&&this.scrollbar.canScrollVertically())},t.WorkspaceSvg.prototype.onMouseWheel_=function(e){if(t.Gesture.inProgress())e.preventDefault(),e.stopPropagation();else{var o=this.options.zoomOptions&&this.options.zoomOptions.wheel,n=this.options.moveOptions&&this.options.moveOptions.wheel;if(o||n){var r=t.utils.getScrollDeltaPixels(e);!o||!e.ctrlKey&&n?(o=this.scrollX-r.x,n=this.scrollY-r.y,e.shiftKey&&!r.x&&(o=this.scrollX-r.y,n=this.scrollY),this.scroll(o,n)):(r=-r.y/50,o=t.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(o.x,o.y,r)),e.preventDefault()}}},t.WorkspaceSvg.prototype.getBlocksBoundingBox=function(){var e=this.getTopBoundedElements();if(!e.length)return new t.utils.Rect(0,0,0,0);for(var o=e[0].getBoundingRectangle(),n=1;n<e.length;n++){var r=e[n];r.isInsertionMarker&&r.isInsertionMarker()||((r=r.getBoundingRectangle()).top<o.top&&(o.top=r.top),r.bottom>o.bottom&&(o.bottom=r.bottom),r.left<o.left&&(o.left=r.left),r.right>o.right&&(o.right=r.right))}return o},t.WorkspaceSvg.prototype.cleanUp=function(){this.setResizesEnabled(!1),t.Events.setGroup(!0);for(var e,o=this.getTopBlocks(!0),n=0,r=0;e=o[r];r++)if(e.isMovable()){var i=e.getRelativeToSurfaceXY();e.moveBy(-i.x,n-i.y),e.snapToGrid(),n=e.getRelativeToSurfaceXY().y+e.getHeightWidth().height+this.renderer_.getConstants().MIN_BLOCK_HEIGHT}t.Events.setGroup(!1),this.setResizesEnabled(!0)},t.WorkspaceSvg.prototype.showContextMenu=function(e){if(!this.options.readOnly&&!this.isFlyout){var o=t.ContextMenuRegistry.registry.getContextMenuOptions(t.ContextMenuRegistry.ScopeType.WORKSPACE,{workspace:this});this.configureContextMenu&&this.configureContextMenu(o,e),t.ContextMenu.show(e,o,this.RTL)}},t.WorkspaceSvg.prototype.updateToolbox=function(e){if(e=t.utils.toolbox.convertToolboxDefToJson(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(t.utils.toolbox.hasCategories(e)){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox_.render(e)}else{if(!this.flyout_)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout_.show(e)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")},t.WorkspaceSvg.prototype.markFocused=function(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(t.mainWorkspace=this,this.setBrowserFocus())},t.WorkspaceSvg.prototype.setBrowserFocus=function(){document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{this.getParentSvg().focus({preventScroll:!0})}catch(t){try{this.getParentSvg().parentNode.setActive()}catch(t){this.getParentSvg().parentNode.focus({preventScroll:!0})}}},t.WorkspaceSvg.prototype.zoom=function(t,e,o){o=Math.pow(this.options.zoomOptions.scaleSpeed,o);var n=this.scale*o;if(this.scale!=n){n>this.options.zoomOptions.maxScale?o=this.options.zoomOptions.maxScale/this.scale:n<this.options.zoomOptions.minScale&&(o=this.options.zoomOptions.minScale/this.scale);var r=this.getCanvas().getCTM(),i=this.getParentSvg().createSVGPoint();i.x=t,i.y=e,t=(i=i.matrixTransform(r.inverse())).x,e=i.y,r=r.translate(t*(1-o),e*(1-o)).scale(o),this.scrollX=r.e,this.scrollY=r.f,this.setScale(n)}},t.WorkspaceSvg.prototype.zoomCenter=function(t){var e=this.getMetrics();if(this.flyout_){var o=e.svgWidth?e.svgWidth/2:0;e=e.svgHeight?e.svgHeight/2:0}else o=e.viewWidth/2+e.absoluteLeft,e=e.viewHeight/2+e.absoluteTop;this.zoom(o,e,t)},t.WorkspaceSvg.prototype.zoomToFit=function(){if(this.isMovable()){var e=this.getMetrics(),o=e.viewWidth;e=e.viewHeight;var n=this.getBlocksBoundingBox(),r=n.right-n.left;if(n=n.bottom-n.top,r){this.flyout_&&(this.horizontalLayout?(e+=this.flyout_.getHeight(),n+=this.flyout_.getHeight()/this.scale):(o+=this.flyout_.getWidth(),r+=this.flyout_.getWidth()/this.scale)),o/=r,e/=n,t.Events.disable();try{this.setScale(Math.min(o,e)),this.scrollCenter()}finally{t.Events.enable()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},t.WorkspaceSvg.prototype.beginCanvasTransition=function(){t.utils.dom.addClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),t.utils.dom.addClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},t.WorkspaceSvg.prototype.endCanvasTransition=function(){t.utils.dom.removeClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),t.utils.dom.removeClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},t.WorkspaceSvg.prototype.scrollCenter=function(){if(this.isMovable()){var t=this.getMetrics(),e=(t.scrollWidth-t.viewWidth)/2,o=(t.scrollHeight-t.viewHeight)/2;e=-e-t.scrollLeft,o=-o-t.scrollTop,this.scroll(e,o)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},t.WorkspaceSvg.prototype.centerOnBlock=function(t){if(this.isMovable()){if(t=t?this.getBlockById(t):null){var e=t.getRelativeToSurfaceXY(),o=t.getHeightWidth(),n=this.scale;t=(e.x+(this.RTL?-1:1)*o.width/2)*n,e=(e.y+o.height/2)*n,o=this.getMetrics(),this.scroll(-(t-o.viewWidth/2),-(e-o.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},t.WorkspaceSvg.prototype.setScale=function(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,t.hideChaff(!1),this.flyout_&&(this.flyout_.reflow(),this.recordDeleteAreas()),this.grid_&&this.grid_.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout_?this.scrollbar.resizeView(e):this.scrollbar.resizeContent(e))},t.WorkspaceSvg.prototype.getScale=function(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale},t.WorkspaceSvg.prototype.scroll=function(e,o){t.hideChaff(!0);var n=this.getMetrics();e=Math.min(e,-n.scrollLeft),o=Math.min(o,-n.scrollTop);var r=n.scrollTop+Math.max(0,n.scrollHeight-n.viewHeight);e=Math.max(e,-(n.scrollLeft+Math.max(0,n.scrollWidth-n.viewWidth))),o=Math.max(o,-r),this.scrollX=e,this.scrollY=o,this.scrollbar&&this.scrollbar.set(-(e+n.scrollLeft),-(o+n.scrollTop),!1),e+=n.absoluteLeft,o+=n.absoluteTop,this.translate(e,o)},t.WorkspaceSvg.setTopLevelWorkspaceMetrics_=function(t){var e=this.getMetrics();"number"==typeof t.x&&(this.scrollX=-(e.scrollLeft+(e.scrollWidth-e.viewWidth)*t.x)),"number"==typeof t.y&&(this.scrollY=-(e.scrollTop+(e.scrollHeight-e.viewHeight)*t.y)),this.translate(this.scrollX+e.absoluteLeft,this.scrollY+e.absoluteTop)},t.WorkspaceSvg.prototype.getBlockById=function(e){return t.WorkspaceSvg.superClass_.getBlockById.call(this,e)},t.WorkspaceSvg.prototype.getTopBlocks=function(e){return t.WorkspaceSvg.superClass_.getTopBlocks.call(this,e)},t.WorkspaceSvg.prototype.addTopBlock=function(e){this.addTopBoundedElement(e),t.WorkspaceSvg.superClass_.addTopBlock.call(this,e)},t.WorkspaceSvg.prototype.removeTopBlock=function(e){this.removeTopBoundedElement(e),t.WorkspaceSvg.superClass_.removeTopBlock.call(this,e)},t.WorkspaceSvg.prototype.addTopComment=function(e){this.addTopBoundedElement(e),t.WorkspaceSvg.superClass_.addTopComment.call(this,e)},t.WorkspaceSvg.prototype.removeTopComment=function(e){this.removeTopBoundedElement(e),t.WorkspaceSvg.superClass_.removeTopComment.call(this,e)},t.WorkspaceSvg.prototype.addTopBoundedElement=function(t){this.topBoundedElements_.push(t)},t.WorkspaceSvg.prototype.removeTopBoundedElement=function(e){t.utils.arrayRemove(this.topBoundedElements_,e)},t.WorkspaceSvg.prototype.getTopBoundedElements=function(){return[].concat(this.topBoundedElements_)},t.WorkspaceSvg.prototype.setResizesEnabled=function(t){var e=!this.resizesEnabled_&&t;this.resizesEnabled_=t,e&&this.resizeContents()},t.WorkspaceSvg.prototype.clear=function(){this.setResizesEnabled(!1),t.WorkspaceSvg.superClass_.clear.call(this),this.topBoundedElements_=[],this.setResizesEnabled(!0)},t.WorkspaceSvg.prototype.registerButtonCallback=function(t,e){if("function"!=typeof e)throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks_[t]=e},t.WorkspaceSvg.prototype.getButtonCallback=function(t){return(t=this.flyoutButtonCallbacks_[t])?t:null},t.WorkspaceSvg.prototype.removeButtonCallback=function(t){this.flyoutButtonCallbacks_[t]=null},t.WorkspaceSvg.prototype.registerToolboxCategoryCallback=function(t,e){if("function"!=typeof e)throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks_[t]=e},t.WorkspaceSvg.prototype.getToolboxCategoryCallback=function(t){return this.toolboxCategoryCallbacks_[t]||null},t.WorkspaceSvg.prototype.removeToolboxCategoryCallback=function(t){this.toolboxCategoryCallbacks_[t]=null},t.WorkspaceSvg.prototype.getGesture=function(e){var o="mousedown"==e.type||"touchstart"==e.type||"pointerdown"==e.type,n=this.currentGesture_;return n?o&&n.hasStarted()?(console.warn("Tried to start the same gesture twice."),n.cancel(),null):n:o?this.currentGesture_=new t.TouchGesture(e,this):null},t.WorkspaceSvg.prototype.clearGesture=function(){this.currentGesture_=null},t.WorkspaceSvg.prototype.cancelCurrentGesture=function(){this.currentGesture_&&this.currentGesture_.cancel()},t.WorkspaceSvg.prototype.getAudioManager=function(){return this.audioManager_},t.WorkspaceSvg.prototype.getGrid=function(){return this.grid_},t.inject=function(e,o){if(t.checkBlockColourConstants(),"string"==typeof e&&(e=document.getElementById(e)||document.querySelector(e)),!e||!t.utils.dom.containsNode(document,e))throw Error("Error: container is not in current document.");o=new t.Options(o||{});var n=document.createElement("div");n.className="injectionDiv",n.tabIndex=0,t.utils.aria.setState(n,t.utils.aria.State.LABEL,t.Msg.WORKSPACE_ARIA_LABEL),e.appendChild(n),e=t.createDom_(n,o);var r=new t.BlockDragSurfaceSvg(n),i=new t.WorkspaceDragSurfaceSvg(n),s=t.createMainWorkspace_(e,o,r,i);return t.init_(s),t.mainWorkspace=s,t.svgResize(s),n.addEventListener("focusin",(function(){t.mainWorkspace=s})),s},t.createDom_=function(e,o){e.setAttribute("dir","LTR"),t.Css.inject(o.hasCss,o.pathToMedia),e=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",class:"blocklySvg",tabindex:"0"},e);var n=t.utils.dom.createSvgElement(t.utils.Svg.DEFS,{},e),r=String(Math.random()).substring(2);return o.gridPattern=t.Grid.createDom(r,o.gridOptions,n),e},t.createMainWorkspace_=function(e,o,n,r){return o.parentWorkspace=null,n=(o=new t.WorkspaceSvg(o,n,r)).options,o.scale=n.zoomOptions.startScale,e.appendChild(o.createDom("blocklyMainBackground")),t.utils.dom.addClass(o.getInjectionDiv(),o.getRenderer().getClassName()),t.utils.dom.addClass(o.getInjectionDiv(),o.getTheme().getClassName()),!n.hasCategories&&n.languageTree&&(r=o.addFlyout(t.utils.Svg.SVG),t.utils.dom.insertAfter(r,e)),n.hasTrashcan&&o.addTrashcan(),n.zoomOptions&&n.zoomOptions.controls&&o.addZoomControls(),o.getThemeManager().subscribe(e,"workspaceBackgroundColour","background-color"),o.translate(0,0),o.addChangeListener(t.bumpIntoBoundsHandler_(o)),t.svgResize(o),t.WidgetDiv.createDom(),t.DropDownDiv.createDom(),t.Tooltip.createDom(),o},t.extractObjectFromEvent_=function(e,o){var n=null;switch(o.type){case t.Events.BLOCK_CREATE:case t.Events.BLOCK_MOVE:(n=e.getBlockById(o.blockId))&&(n=n.getRootBlock());break;case t.Events.COMMENT_CREATE:case t.Events.COMMENT_MOVE:n=e.getCommentById(o.commentId)}return n},t.bumpTopObjectsIntoBounds_=function(e){var o=e.getMetricsManager();if(o.hasFixedEdges()&&!e.isDragging()){o=o.getScrollMetrics(!0);for(var n,r=e.getTopBoundedElements(),i=0;n=r[i];i++)t.bumpObjectIntoBounds_(e,o,n)}},t.bumpIntoBoundsHandler_=function(e){return function(o){var n=e.getMetricsManager();if(n.hasFixedEdges&&!e.isDragging())if(-1!==t.Events.BUMP_EVENTS.indexOf(o.type)){n=n.getScrollMetrics(!0);var r=t.extractObjectFromEvent_(e,o);if(r){var i=t.Events.getGroup();t.Events.setGroup(o.group),t.bumpObjectIntoBounds_(e,n,r)&&!o.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),null!==i&&t.Events.setGroup(i)}}else o.type===t.Events.VIEWPORT_CHANGE&&o.scale>o.oldScale&&t.bumpTopObjectsIntoBounds_(e)}},t.bumpObjectIntoBounds_=function(e,o,n){var r=n.getBoundingRectangle(),i=r.right-r.left,s=t.utils.math.clamp(o.top,r.top,o.top+o.height-(r.bottom-r.top))-r.top,a=o.left;return o=o.left+o.width-i,e.RTL?a=Math.min(o,a):o=Math.max(a,o),!(!(e=t.utils.math.clamp(a,r.left,o)-r.left)&&!s||(n.moveBy(e,s),0))},t.init_=function(e){var o=e.options,n=e.getParentSvg();if(t.browserEvents.conditionalBind(n.parentNode,"contextmenu",null,(function(e){t.utils.isTargetInput(e)||e.preventDefault()})),n=t.browserEvents.conditionalBind(window,"resize",null,(function(){t.hideChaff(!0),t.svgResize(e),t.bumpTopObjectsIntoBounds_(e)})),e.setResizeHandlerWrapper(n),t.inject.bindDocumentEvents_(),o.languageTree){n=e.getToolbox();var r=e.getFlyout(!0);n?n.init():r&&(r.init(e),r.show(o.languageTree),"function"==typeof r.scrollToStart&&r.scrollToStart())}n=t.Scrollbar.scrollbarThickness,o.hasTrashcan&&(n=e.trashcan.init(n)),o.zoomOptions&&o.zoomOptions.controls&&e.zoomControls_.init(n),o.moveOptions&&o.moveOptions.scrollbars?(e.scrollbar=new t.ScrollbarPair(e,!0===o.moveOptions.scrollbars||!!o.moveOptions.scrollbars.horizontal,!0===o.moveOptions.scrollbars||!!o.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),o.hasSounds&&t.inject.loadSounds_(o.pathToMedia,e)},t.inject.bindDocumentEvents_=function(){t.documentEventsBound_||(t.browserEvents.conditionalBind(document,"scroll",null,(function(){for(var e,o=t.Workspace.getAll(),n=0;e=o[n];n++)e.updateInverseScreenCTM&&e.updateInverseScreenCTM()})),t.browserEvents.conditionalBind(document,"keydown",null,t.onKeyDown),t.browserEvents.bind(document,"touchend",null,t.longStop_),t.browserEvents.bind(document,"touchcancel",null,t.longStop_),t.utils.userAgent.IPAD&&t.browserEvents.conditionalBind(window,"orientationchange",document,(function(){t.svgResize(t.getMainWorkspace())}))),t.documentEventsBound_=!0},t.inject.loadSounds_=function(e,o){var n=o.getAudioManager();n.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),n.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),n.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");var r=[];e=function(){for(;r.length;)t.browserEvents.unbind(r.pop());n.preload()},r.push(t.browserEvents.conditionalBind(document,"mousemove",null,e,!0)),r.push(t.browserEvents.conditionalBind(document,"touchstart",null,e,!0))},t.Names=function(t,e){if(this.variablePrefix_=e||"",this.reservedDict_=Object.create(null),t)for(t=t.split(","),e=0;e<t.length;e++)this.reservedDict_[t[e]]=!0;this.reset()},t.Names.DEVELOPER_VARIABLE_TYPE="DEVELOPER_VARIABLE",t.Names.prototype.reset=function(){this.db_=Object.create(null),this.dbReverse_=Object.create(null),this.variableMap_=null},t.Names.prototype.setVariableMap=function(t){this.variableMap_=t},t.Names.prototype.getNameForUserVariable_=function(t){return this.variableMap_?(t=this.variableMap_.getVariableById(t))?t.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),null)},t.Names.prototype.getName=function(e,o){if(o==t.VARIABLE_CATEGORY_NAME){var n=this.getNameForUserVariable_(e);n&&(e=n)}n=e.toLowerCase()+"_"+o;var r=o==t.VARIABLE_CATEGORY_NAME||o==t.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"";return n in this.db_?r+this.db_[n]:(e=this.getDistinctName(e,o),this.db_[n]=e.substr(r.length),e)},t.Names.prototype.getDistinctName=function(e,o){e=this.safeName_(e);for(var n="";this.dbReverse_[e+n]||e+n in this.reservedDict_;)n=n?n+1:2;return e+=n,this.dbReverse_[e]=!0,(o==t.VARIABLE_CATEGORY_NAME||o==t.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"")+e},t.Names.prototype.safeName_=function(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(e[0])&&(e="my_"+e)):e=t.Msg.UNNAMED_KEY||"unnamed",e},t.Names.equals=function(t,e){return t.toLowerCase()==e.toLowerCase()},t.Procedures={},t.Procedures.NAME_TYPE=t.PROCEDURE_CATEGORY_NAME,t.Procedures.DEFAULT_ARG="x",t.Procedures.allProcedures=function(e){var o=e.getBlocksByType("procedures_defnoreturn",!1).map((function(t){return t.getProcedureDef()}));return e=e.getBlocksByType("procedures_defreturn",!1).map((function(t){return t.getProcedureDef()})),o.sort(t.Procedures.procTupleComparator_),e.sort(t.Procedures.procTupleComparator_),[o,e]},t.Procedures.procTupleComparator_=function(t,e){return t[0].toLowerCase().localeCompare(e[0].toLowerCase())},t.Procedures.findLegalName=function(e,o){if(o.isInFlyout)return e;for(e=e||t.Msg.UNNAMED_KEY||"unnamed";!t.Procedures.isLegalName_(e,o.workspace,o);){var n=e.match(/^(.*?)(\d+)$/);e=n?n[1]+(parseInt(n[2],10)+1):e+"2"}return e},t.Procedures.isLegalName_=function(e,o,n){return!t.Procedures.isNameUsed(e,o,n)},t.Procedures.isNameUsed=function(e,o,n){o=o.getAllBlocks(!1);for(var r=0;r<o.length;r++)if(o[r]!=n&&o[r].getProcedureDef){var i=o[r].getProcedureDef();if(t.Names.equals(i[0],e))return!0}return!1},t.Procedures.rename=function(e){e=e.trim();var o=t.Procedures.findLegalName(e,this.getSourceBlock()),n=this.getValue();if(n!=e&&n!=o){e=this.getSourceBlock().workspace.getAllBlocks(!1);for(var r=0;r<e.length;r++)e[r].renameProcedure&&e[r].renameProcedure(n,o)}return o},t.Procedures.flyoutCategory=function(e){function o(e,o){for(var r=0;r<e.length;r++){var i=e[r][0],s=e[r][1],a=t.utils.xml.createElement("block");a.setAttribute("type",o),a.setAttribute("gap",16);var l=t.utils.xml.createElement("mutation");for(l.setAttribute("name",i),a.appendChild(l),i=0;i<s.length;i++){var c=t.utils.xml.createElement("arg");c.setAttribute("name",s[i]),l.appendChild(c)}n.push(a)}}var n=[];if(t.Blocks.procedures_defnoreturn){var r=t.utils.xml.createElement("block");r.setAttribute("type","procedures_defnoreturn"),r.setAttribute("gap",16);var i=t.utils.xml.createElement("field");i.setAttribute("name","NAME"),i.appendChild(t.utils.xml.createTextNode(t.Msg.PROCEDURES_DEFNORETURN_PROCEDURE)),r.appendChild(i),n.push(r)}return t.Blocks.procedures_defreturn&&((r=t.utils.xml.createElement("block")).setAttribute("type","procedures_defreturn"),r.setAttribute("gap",16),(i=t.utils.xml.createElement("field")).setAttribute("name","NAME"),i.appendChild(t.utils.xml.createTextNode(t.Msg.PROCEDURES_DEFRETURN_PROCEDURE)),r.appendChild(i),n.push(r)),t.Blocks.procedures_ifreturn&&((r=t.utils.xml.createElement("block")).setAttribute("type","procedures_ifreturn"),r.setAttribute("gap",16),n.push(r)),n.length&&n[n.length-1].setAttribute("gap",24),o((e=t.Procedures.allProcedures(e))[0],"procedures_callnoreturn"),o(e[1],"procedures_callreturn"),n},t.Procedures.updateMutatorFlyout_=function(e){for(var o,n=[],r=e.getBlocksByType("procedures_mutatorarg",!1),i=0;o=r[i];i++)n.push(o.getFieldValue("NAME"));r=t.utils.xml.createElement("xml"),(i=t.utils.xml.createElement("block")).setAttribute("type","procedures_mutatorarg"),(o=t.utils.xml.createElement("field")).setAttribute("name","NAME"),n=t.Variables.generateUniqueNameFromOptions(t.Procedures.DEFAULT_ARG,n),n=t.utils.xml.createTextNode(n),o.appendChild(n),i.appendChild(o),r.appendChild(i),e.updateToolbox(r)},t.Procedures.mutatorOpenListener=function(e){if(e.type==t.Events.BUBBLE_OPEN&&"mutator"===e.bubbleType&&e.isOpen){var o=(e=t.Workspace.getById(e.workspaceId).getBlockById(e.blockId)).type;"procedures_defnoreturn"!=o&&"procedures_defreturn"!=o||(e=e.mutator.getWorkspace(),t.Procedures.updateMutatorFlyout_(e),e.addChangeListener(t.Procedures.mutatorChangeListener_))}},t.Procedures.mutatorChangeListener_=function(e){e.type!=t.Events.BLOCK_CREATE&&e.type!=t.Events.BLOCK_DELETE&&e.type!=t.Events.BLOCK_CHANGE||(e=t.Workspace.getById(e.workspaceId),t.Procedures.updateMutatorFlyout_(e))},t.Procedures.getCallers=function(e,o){var n=[];o=o.getAllBlocks(!1);for(var r=0;r<o.length;r++)if(o[r].getProcedureCall){var i=o[r].getProcedureCall();i&&t.Names.equals(i,e)&&n.push(o[r])}return n},t.Procedures.mutateCallers=function(e){var o,n=t.Events.recordUndo,r=e.getProcedureDef()[0],i=e.mutationToDom(!0);for(e=t.Procedures.getCallers(r,e.workspace),r=0;o=e[r];r++){var s=o.mutationToDom();s=s&&t.Xml.domToText(s),o.domToMutation(i);var a=o.mutationToDom();s!=(a=a&&t.Xml.domToText(a))&&(t.Events.recordUndo=!1,t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(o,"mutation",null,s,a)),t.Events.recordUndo=n)}},t.Procedures.getDefinition=function(e,o){o=o.getTopBlocks(!1);for(var n=0;n<o.length;n++)if(o[n].getProcedureDef){var r=o[n].getProcedureDef();if(r&&t.Names.equals(r[0],e))return o[n]}return null},t.ShortcutRegistry=function(){t.ShortcutRegistry.registry=this,this.registry_=Object.create(null),this.keyMap_=Object.create(null)},t.ShortcutRegistry.modifierKeys={Shift:t.utils.KeyCodes.SHIFT,Control:t.utils.KeyCodes.CTRL,Alt:t.utils.KeyCodes.ALT,Meta:t.utils.KeyCodes.META},t.ShortcutRegistry.prototype.register=function(t,e){if(this.registry_[t.name]&&!e)throw Error('Shortcut with name "'+t.name+'" already exists.');this.registry_[t.name]=t},t.ShortcutRegistry.prototype.unregister=function(t){return this.registry_[t]?(this.removeAllKeyMappings(t),delete this.registry_[t],!0):(console.warn('Keyboard shortcut with name "'+t+'" not found.'),!1)},t.ShortcutRegistry.prototype.addKeyMapping=function(t,e,o){t=String(t);var n=this.keyMap_[t];if(n&&!o)throw Error('Shortcut with name "'+e+'" collides with shortcuts '+n.toString());n&&o?n.unshift(e):this.keyMap_[t]=[e]},t.ShortcutRegistry.prototype.removeKeyMapping=function(t,e,o){var n=this.keyMap_[t];if(!n&&!o)return console.warn('No keyboard shortcut with name "'+e+'" registered with key code "'+t+'"'),!1;var r=n.indexOf(e);return-1<r?(n.splice(r,1),0==n.length&&delete this.keyMap_[t],!0):(o||console.warn('No keyboard shortcut with name "'+e+'" registered with key code "'+t+'"'),!1)},t.ShortcutRegistry.prototype.removeAllKeyMappings=function(t){for(var e in this.keyMap_)this.removeKeyMapping(e,t,!0)},t.ShortcutRegistry.prototype.setKeyMap=function(t){this.keyMap_=t},t.ShortcutRegistry.prototype.getKeyMap=function(){return t.utils.object.deepMerge(Object.create(null),this.keyMap_)},t.ShortcutRegistry.prototype.getRegistry=function(){return t.utils.object.deepMerge(Object.create(null),this.registry_)},t.ShortcutRegistry.prototype.onKeyDown=function(t,e){var o=this.serializeKeyEvent_(e);if(!(o=this.getShortcutNamesByKeyCode(o)))return!1;for(var n,r=0;n=o[r];r++)if((!(n=this.registry_[n]).preconditionFn||n.preconditionFn(t))&&n.callback&&n.callback(t,e,n))return!0;return!1},t.ShortcutRegistry.prototype.getShortcutNamesByKeyCode=function(t){return this.keyMap_[t]||[]},t.ShortcutRegistry.prototype.getKeyCodesByShortcutName=function(t){var e,o=[];for(e in this.keyMap_)-1<this.keyMap_[e].indexOf(t)&&o.push(e);return o},t.ShortcutRegistry.prototype.serializeKeyEvent_=function(e){var o,n="";for(o in t.ShortcutRegistry.modifierKeys)e.getModifierState(o)&&(""!=n&&(n+="+"),n+=o);return""!=n&&e.keyCode?n=n+"+"+e.keyCode:e.keyCode&&(n=e.keyCode.toString()),n},t.ShortcutRegistry.prototype.checkModifiers_=function(e){for(var o,n=t.utils.object.values(t.ShortcutRegistry.modifierKeys),r=0;o=e[r];r++)if(0>n.indexOf(o))throw Error(o+" is not a valid modifier key.")},t.ShortcutRegistry.prototype.createSerializedKey=function(e,o){var n="";if(o)for(var r in this.checkModifiers_(o),t.ShortcutRegistry.modifierKeys)-1<o.indexOf(t.ShortcutRegistry.modifierKeys[r])&&(""!=n&&(n+="+"),n+=r);return""!=n&&e?n=n+"+"+e:e&&(n=e.toString()),n},new t.ShortcutRegistry,t.VariableModel=function(e,o,n,r){this.workspace=e,this.name=o,this.type=n||"",this.id_=r||t.utils.genUid(),t.Events.fire(new(t.Events.get(t.Events.VAR_CREATE))(this))},t.VariableModel.prototype.getId=function(){return this.id_},t.VariableModel.compareByName=function(t,e){return(t=t.name.toLowerCase())<(e=e.name.toLowerCase())?-1:t==e?0:1},t.Variables={},t.Variables.NAME_TYPE=t.VARIABLE_CATEGORY_NAME,t.Variables.allUsedVarModels=function(t){var e=t.getAllBlocks(!1);t=Object.create(null);for(var o=0;o<e.length;o++){var n=e[o].getVarModels();if(n)for(var r=0;r<n.length;r++){var i=n[r],s=i.getId();s&&(t[s]=i)}}for(s in e=[],t)e.push(t[s]);return e},t.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_={},t.Variables.allDeveloperVariables=function(e){e=e.getAllBlocks(!1);for(var o,n=Object.create(null),r=0;o=e[r];r++){var i=o.getDeveloperVariables;if(!i&&o.getDeveloperVars&&(i=o.getDeveloperVars,t.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[o.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+o.type+"')"),t.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[o.type]=!0)),i)for(o=i(),i=0;i<o.length;i++)n[o[i]]=!0}return Object.keys(n)},t.Variables.flyoutCategory=function(e){var o=[],n=document.createElement("button");return n.setAttribute("text","%{BKY_NEW_VARIABLE}"),n.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",(function(e){t.Variables.createVariableButtonHandler(e.getTargetWorkspace())})),o.push(n),e=t.Variables.flyoutCategoryBlocks(e),o.concat(e)},t.Variables.flyoutCategoryBlocks=function(e){var o=[];if(0<(e=e.getVariablesOfType("")).length){var n=e[e.length-1];if(t.Blocks.variables_set){var r=t.utils.xml.createElement("block");r.setAttribute("type","variables_set"),r.setAttribute("gap",t.Blocks.math_change?8:24),r.appendChild(t.Variables.generateVariableFieldDom(n)),o.push(r)}if(t.Blocks.math_change&&((r=t.utils.xml.createElement("block")).setAttribute("type","math_change"),r.setAttribute("gap",t.Blocks.variables_get?20:8),r.appendChild(t.Variables.generateVariableFieldDom(n)),n=t.Xml.textToDom('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),r.appendChild(n),o.push(r)),t.Blocks.variables_get){e.sort(t.VariableModel.compareByName),n=0;for(var i;i=e[n];n++)(r=t.utils.xml.createElement("block")).setAttribute("type","variables_get"),r.setAttribute("gap",8),r.appendChild(t.Variables.generateVariableFieldDom(i)),o.push(r)}}return o},t.Variables.VAR_LETTER_OPTIONS="ijkmnopqrstuvwxyzabcdefgh",t.Variables.generateUniqueName=function(e){return t.Variables.generateUniqueNameFromOptions(t.Variables.VAR_LETTER_OPTIONS.charAt(0),e.getAllVariableNames())},t.Variables.generateUniqueNameFromOptions=function(e,o){if(!o.length)return e;for(var n=t.Variables.VAR_LETTER_OPTIONS,r="",i=n.indexOf(e);;){for(var s=!1,a=0;a<o.length;a++)if(o[a].toLowerCase()==e){s=!0;break}if(!s)return e;++i==n.length&&(i=0,r=Number(r)+1),e=n.charAt(i)+r}},t.Variables.createVariableButtonHandler=function(e,o,n){var r=n||"",i=function(n){t.Variables.promptName(t.Msg.NEW_VARIABLE_TITLE,n,(function(n){if(n){var s=t.Variables.nameUsedWithAnyType(n,e);if(s){if(s.type==r)var a=t.Msg.VARIABLE_ALREADY_EXISTS.replace("%1",s.name);else a=(a=t.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE).replace("%1",s.name).replace("%2",s.type);t.alert(a,(function(){i(n)}))}else e.createVariable(n,r),o&&o(n)}else o&&o(null)}))};i("")},t.Variables.createVariable=t.Variables.createVariableButtonHandler,t.Variables.renameVariable=function(e,o,n){var r=function(i){var s=t.Msg.RENAME_VARIABLE_TITLE.replace("%1",o.name);t.Variables.promptName(s,i,(function(i){if(i){var s=t.Variables.nameUsedWithOtherType_(i,o.type,e);s?(s=t.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",s.name).replace("%2",s.type),t.alert(s,(function(){r(i)}))):(e.renameVariableById(o.getId(),i),n&&n(i))}else n&&n(null)}))};r("")},t.Variables.promptName=function(e,o,n){t.prompt(e,o,(function(e){e&&((e=e.replace(/[\s\xa0]+/g," ").trim())==t.Msg.RENAME_VARIABLE||e==t.Msg.NEW_VARIABLE)&&(e=null),n(e)}))},t.Variables.nameUsedWithOtherType_=function(t,e,o){o=o.getVariableMap().getAllVariables(),t=t.toLowerCase();for(var n,r=0;n=o[r];r++)if(n.name.toLowerCase()==t&&n.type!=e)return n;return null},t.Variables.nameUsedWithAnyType=function(t,e){e=e.getVariableMap().getAllVariables(),t=t.toLowerCase();for(var o,n=0;o=e[n];n++)if(o.name.toLowerCase()==t)return o;return null},t.Variables.generateVariableFieldDom=function(e){var o=t.utils.xml.createElement("field");return o.setAttribute("name","VAR"),o.setAttribute("id",e.getId()),o.setAttribute("variabletype",e.type),e=t.utils.xml.createTextNode(e.name),o.appendChild(e),o},t.Variables.getOrCreateVariablePackage=function(e,o,n,r){var i=t.Variables.getVariable(e,o,n,r);return i||(i=t.Variables.createVariable_(e,o,n,r)),i},t.Variables.getVariable=function(t,e,o,n){var r=t.getPotentialVariableMap(),i=null;if(e&&(!(i=t.getVariableById(e))&&r&&(i=r.getVariableById(e)),i))return i;if(o){if(null==n)throw Error("Tried to look up a variable by name without a type");!(i=t.getVariable(o,n))&&r&&(i=r.getVariable(o,n))}return i},t.Variables.createVariable_=function(e,o,n,r){var i=e.getPotentialVariableMap();return n||(n=t.Variables.generateUniqueName(e.isFlyout?e.targetWorkspace:e)),i?i.createVariable(n,r,o):e.createVariable(n,r,o)},t.Variables.getAddedVariables=function(t,e){t=t.getAllVariables();var o=[];if(e.length!=t.length)for(var n=0;n<t.length;n++){var r=t[n];-1==e.indexOf(r)&&o.push(r)}return o},t.VERSION="5.20210325.0",t.mainWorkspace=null,t.selected=null,t.draggingConnections=[],t.clipboardXml_=null,t.clipboardSource_=null,t.clipboardTypeCounts_=null,t.cache3dSupported_=null,t.parentContainer=null,t.svgSize=function(e){return t.utils.deprecation.warn("Blockly.svgSize","March 2021","March 2022","workspace.getCachedParentSvgSize"),new t.utils.Size(e.cachedWidth_,e.cachedHeight_)},t.resizeSvgContents=function(t){t.resizeContents()},t.svgResize=function(t){for(;t.options.parentWorkspace;)t=t.options.parentWorkspace;var e=t.getParentSvg(),o=t.getCachedParentSvgSize(),n=e.parentNode;if(n){var r=n.offsetWidth;n=n.offsetHeight,o.width!=r&&(e.setAttribute("width",r+"px"),t.setCachedParentSvgSize(r,null)),o.height!=n&&(e.setAttribute("height",n+"px"),t.setCachedParentSvgSize(null,n)),t.resize()}},t.onKeyDown=function(e){var o=t.mainWorkspace;o&&!(t.utils.isTargetInput(e)||o.rendered&&!o.isVisible())&&t.ShortcutRegistry.registry.onKeyDown(o,e)},t.deleteBlock=function(e){e.workspace.isFlyout||(t.Events.setGroup(!0),t.hideChaff(),e.dispose(!0,!0),t.Events.setGroup(!1))},t.copy=function(e){(e=e.toCopyData())&&(t.clipboardXml_=e.xml,t.clipboardSource_=e.source,t.clipboardTypeCounts_=e.typeCounts)},t.paste=function(){if(!t.clipboardXml_)return!1;var e=t.clipboardSource_;return e.isFlyout&&(e=e.targetWorkspace),!(!t.clipboardTypeCounts_||!e.isCapacityAvailable(t.clipboardTypeCounts_)||(t.Events.setGroup(!0),e.paste(t.clipboardXml_),t.Events.setGroup(!1),0))},t.duplicate=function(e){var o=t.clipboardXml_,n=t.clipboardSource_;t.copy(e),e.workspace.paste(t.clipboardXml_),t.clipboardXml_=o,t.clipboardSource_=n},t.onContextMenu_=function(e){t.utils.isTargetInput(e)||e.preventDefault()},t.hideChaff=function(e){t.Tooltip.hide(),t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation(),e||((e=t.getMainWorkspace()).trashcan&&e.trashcan.flyout&&e.trashcan.closeFlyout(),(e=e.getToolbox())&&e.getFlyout()&&e.getFlyout().autoClose&&e.clearSelection())},t.getMainWorkspace=function(){return t.mainWorkspace},t.alert=function(t,e){alert(t),e&&e()},t.confirm=function(t,e){e(confirm(t))},t.prompt=function(t,e,o){o(prompt(t,e))},t.jsonInitFactory_=function(t){return function(){this.jsonInit(t)}},t.defineBlocksWithJsonArray=function(e){for(var o=0;o<e.length;o++){var n=e[o];if(n){var r=n.type;null==r||""===r?console.warn("Block definition #"+o+" in JSON array is missing a type attribute. Skipping."):(t.Blocks[r]&&console.warn("Block definition #"+o+' in JSON array overwrites prior definition of "'+r+'".'),t.Blocks[r]={init:t.jsonInitFactory_(n)})}else console.warn("Block definition #"+o+" in JSON array is "+n+". Skipping.")}},t.isNumber=function(t){return/^\s*-?\d+(\.\d+)?\s*$/.test(t)},t.hueToHex=function(e){return t.utils.colour.hsvToHex(e,t.HSV_SATURATION,255*t.HSV_VALUE)},t.checkBlockColourConstants=function(){t.checkBlockColourConstant_("LOGIC_HUE",["Blocks","logic","HUE"],void 0),t.checkBlockColourConstant_("LOGIC_HUE",["Constants","Logic","HUE"],210),t.checkBlockColourConstant_("LOOPS_HUE",["Blocks","loops","HUE"],void 0),t.checkBlockColourConstant_("LOOPS_HUE",["Constants","Loops","HUE"],120),t.checkBlockColourConstant_("MATH_HUE",["Blocks","math","HUE"],void 0),t.checkBlockColourConstant_("MATH_HUE",["Constants","Math","HUE"],230),t.checkBlockColourConstant_("TEXTS_HUE",["Blocks","texts","HUE"],void 0),t.checkBlockColourConstant_("TEXTS_HUE",["Constants","Text","HUE"],160),t.checkBlockColourConstant_("LISTS_HUE",["Blocks","lists","HUE"],void 0),t.checkBlockColourConstant_("LISTS_HUE",["Constants","Lists","HUE"],260),t.checkBlockColourConstant_("COLOUR_HUE",["Blocks","colour","HUE"],void 0),t.checkBlockColourConstant_("COLOUR_HUE",["Constants","Colour","HUE"],20),t.checkBlockColourConstant_("VARIABLES_HUE",["Blocks","variables","HUE"],void 0),t.checkBlockColourConstant_("VARIABLES_HUE",["Constants","Variables","HUE"],330),t.checkBlockColourConstant_("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310),t.checkBlockColourConstant_("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)},t.checkBlockColourConstant_=function(e,o,n){for(var r="Blockly",i=t,s=0;s<o.length;++s)r+="."+o[s],i&&(i=i[o[s]]);i&&i!==n&&(e=(void 0===n?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",r).replace("%2",e),console.warn(e))},t.setParentContainer=function(e){t.parentContainer=e},t.bindEvent_=t.browserEvents.bind,t.unbindEvent_=t.browserEvents.unbind,t.bindEventWithChecks_=t.browserEvents.conditionalBind,t.ALIGN_LEFT=t.constants.ALIGN.LEFT,t.ALIGN_CENTRE=t.constants.ALIGN.CENTRE,t.ALIGN_RIGHT=t.constants.ALIGN.RIGHT,t.INPUT_VALUE=t.connectionTypes.INPUT_VALUE,t.OUTPUT_VALUE=t.connectionTypes.OUTPUT_VALUE,t.NEXT_STATEMENT=t.connectionTypes.NEXT_STATEMENT,t.PREVIOUS_STATEMENT=t.connectionTypes.PREVIOUS_STATEMENT,t.DUMMY_INPUT=t.inputTypes.DUMMY,t.TOOLBOX_AT_TOP=t.utils.toolbox.Position.TOP,t.TOOLBOX_AT_BOTTOM=t.utils.toolbox.Position.BOTTOM,t.TOOLBOX_AT_LEFT=t.utils.toolbox.Position.LEFT,t.TOOLBOX_AT_RIGHT=t.utils.toolbox.Position.RIGHT,t.Events.BubbleOpen=function(e,o,n){t.Events.BubbleOpen.superClass_.constructor.call(this,e?e.workspace.id:void 0),this.blockId=e?e.id:null,this.isOpen=o,this.bubbleType=n},t.utils.object.inherits(t.Events.BubbleOpen,t.Events.UiBase),t.Events.BubbleOpen.prototype.type=t.Events.BUBBLE_OPEN,t.Events.BubbleOpen.prototype.toJson=function(){var e=t.Events.BubbleOpen.superClass_.toJson.call(this);return e.isOpen=this.isOpen,e.bubbleType=this.bubbleType,e.blockId=this.blockId,e},t.Events.BubbleOpen.prototype.fromJson=function(e){t.Events.BubbleOpen.superClass_.fromJson.call(this,e),this.isOpen=e.isOpen,this.bubbleType=e.bubbleType,this.blockId=e.blockId},t.registry.register(t.registry.Type.EVENT,t.Events.BUBBLE_OPEN,t.Events.BubbleOpen),t.Icon=function(t){this.block_=t,this.iconGroup_=null},t.Icon.prototype.collapseHidden=!0,t.Icon.prototype.SIZE=17,t.Icon.prototype.bubble_=null,t.Icon.prototype.iconXY_=null,t.Icon.prototype.createIcon=function(){this.iconGroup_||(this.iconGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyIconGroup"},null),this.block_.isInFlyout&&t.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly"),this.drawIcon_(this.iconGroup_),this.block_.getSvgRoot().appendChild(this.iconGroup_),t.browserEvents.conditionalBind(this.iconGroup_,"mouseup",this,this.iconClick_),this.updateEditable())},t.Icon.prototype.dispose=function(){t.utils.dom.removeNode(this.iconGroup_),this.iconGroup_=null,this.setVisible(!1),this.block_=null},t.Icon.prototype.updateEditable=function(){},t.Icon.prototype.isVisible=function(){return!!this.bubble_},t.Icon.prototype.iconClick_=function(e){this.block_.workspace.isDragging()||this.block_.isInFlyout||t.utils.isRightButton(e)||this.setVisible(!this.isVisible())},t.Icon.prototype.applyColour=function(){this.isVisible()&&this.bubble_.setColour(this.block_.style.colourPrimary)},t.Icon.prototype.setIconLocation=function(t){this.iconXY_=t,this.isVisible()&&this.bubble_.setAnchorLocation(t)},t.Icon.prototype.computeIconLocation=function(){var e=this.block_.getRelativeToSurfaceXY(),o=t.utils.getRelativeXY(this.iconGroup_);e=new t.utils.Coordinate(e.x+o.x+this.SIZE/2,e.y+o.y+this.SIZE/2),t.utils.Coordinate.equals(this.getIconLocation(),e)||this.setIconLocation(e)},t.Icon.prototype.getIconLocation=function(){return this.iconXY_},t.Icon.prototype.getCorrectedSize=function(){return new t.utils.Size(t.Icon.prototype.SIZE,t.Icon.prototype.SIZE-2)},t.Warning=function(e){t.Warning.superClass_.constructor.call(this,e),this.createIcon(),this.text_={}},t.utils.object.inherits(t.Warning,t.Icon),t.Warning.prototype.collapseHidden=!1,t.Warning.prototype.drawIcon_=function(e){t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},e),t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},e),t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},e)},t.Warning.prototype.setVisible=function(e){e!=this.isVisible()&&(t.Events.fire(new(t.Events.get(t.Events.BUBBLE_OPEN))(this.block_,e,"warning")),e?this.createBubble_():this.disposeBubble_())},t.Warning.prototype.createBubble_=function(){this.paragraphElement_=t.Bubble.textToDom(this.getText()),this.bubble_=t.Bubble.createNonEditableBubble(this.paragraphElement_,this.block_,this.iconXY_),this.applyColour()},t.Warning.prototype.disposeBubble_=function(){this.bubble_.dispose(),this.paragraphElement_=this.bubble_=null},t.Warning.prototype.setText=function(t,e){this.text_[e]!=t&&(t?this.text_[e]=t:delete this.text_[e],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))},t.Warning.prototype.getText=function(){var t,e=[];for(t in this.text_)e.push(this.text_[t]);return e.join("\n")},t.Warning.prototype.dispose=function(){this.block_.warning=null,t.Icon.prototype.dispose.call(this)},t.Comment=function(e){t.Comment.superClass_.constructor.call(this,e),this.model_=e.commentModel,this.model_.text=this.model_.text||"",this.cachedText_="",this.onInputWrapper_=this.onChangeWrapper_=this.onWheelWrapper_=this.onMouseUpWrapper_=null,this.createIcon()},t.utils.object.inherits(t.Comment,t.Icon),t.Comment.prototype.drawIcon_=function(e){t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},e),t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},e),t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},e)},t.Comment.prototype.createEditor_=function(){this.foreignObject_=t.utils.dom.createSvgElement(t.utils.Svg.FOREIGNOBJECT,{x:t.Bubble.BORDER_WIDTH,y:t.Bubble.BORDER_WIDTH},null);var e=document.createElementNS(t.utils.dom.HTML_NS,"body");e.setAttribute("xmlns",t.utils.dom.HTML_NS),e.className="blocklyMinimalBody";var o=this.textarea_=document.createElementNS(t.utils.dom.HTML_NS,"textarea");return o.className="blocklyCommentTextarea",o.setAttribute("dir",this.block_.RTL?"RTL":"LTR"),o.value=this.model_.text,this.resizeTextarea_(),e.appendChild(o),this.foreignObject_.appendChild(e),this.onMouseUpWrapper_=t.browserEvents.conditionalBind(o,"mouseup",this,this.startEdit_,!0,!0),this.onWheelWrapper_=t.browserEvents.conditionalBind(o,"wheel",this,(function(t){t.stopPropagation()})),this.onChangeWrapper_=t.browserEvents.conditionalBind(o,"change",this,(function(e){this.cachedText_!=this.model_.text&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this.block_,"comment",null,this.cachedText_,this.model_.text))})),this.onInputWrapper_=t.browserEvents.conditionalBind(o,"input",this,(function(t){this.model_.text=o.value})),setTimeout(o.focus.bind(o),0),this.foreignObject_},t.Comment.prototype.updateEditable=function(){t.Comment.superClass_.updateEditable.call(this),this.isVisible()&&(this.disposeBubble_(),this.createBubble_())},t.Comment.prototype.onBubbleResize_=function(){this.isVisible()&&(this.model_.size=this.bubble_.getBubbleSize(),this.resizeTextarea_())},t.Comment.prototype.resizeTextarea_=function(){var e=this.model_.size,o=2*t.Bubble.BORDER_WIDTH,n=e.width-o;e=e.height-o,this.foreignObject_.setAttribute("width",n),this.foreignObject_.setAttribute("height",e),this.textarea_.style.width=n-4+"px",this.textarea_.style.height=e-4+"px"},t.Comment.prototype.setVisible=function(e){e!=this.isVisible()&&(t.Events.fire(new(t.Events.get(t.Events.BUBBLE_OPEN))(this.block_,e,"comment")),(this.model_.pinned=e)?this.createBubble_():this.disposeBubble_())},t.Comment.prototype.createBubble_=function(){!this.block_.isEditable()||t.utils.userAgent.IE?this.createNonEditableBubble_():this.createEditableBubble_()},t.Comment.prototype.createEditableBubble_=function(){this.bubble_=new t.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,this.model_.size.width,this.model_.size.height),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerResizeEvent(this.onBubbleResize_.bind(this)),this.applyColour()},t.Comment.prototype.createNonEditableBubble_=function(){this.paragraphElement_=t.Bubble.textToDom(this.block_.getCommentText()),this.bubble_=t.Bubble.createNonEditableBubble(this.paragraphElement_,this.block_,this.iconXY_),this.applyColour()},t.Comment.prototype.disposeBubble_=function(){this.onMouseUpWrapper_&&(t.browserEvents.unbind(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onWheelWrapper_&&(t.browserEvents.unbind(this.onWheelWrapper_),this.onWheelWrapper_=null),this.onChangeWrapper_&&(t.browserEvents.unbind(this.onChangeWrapper_),this.onChangeWrapper_=null),this.onInputWrapper_&&(t.browserEvents.unbind(this.onInputWrapper_),this.onInputWrapper_=null),this.bubble_.dispose(),this.paragraphElement_=this.foreignObject_=this.textarea_=this.bubble_=null},t.Comment.prototype.startEdit_=function(t){this.bubble_.promote()&&this.textarea_.focus(),this.cachedText_=this.model_.text},t.Comment.prototype.getBubbleSize=function(){return this.model_.size},t.Comment.prototype.setBubbleSize=function(t,e){this.bubble_?this.bubble_.setBubbleSize(t,e):(this.model_.size.width=t,this.model_.size.height=e)},t.Comment.prototype.updateText=function(){this.textarea_?this.textarea_.value=this.model_.text:this.paragraphElement_&&(this.paragraphElement_.firstChild.textContent=this.model_.text)},t.Comment.prototype.dispose=function(){this.block_.comment=null,t.Icon.prototype.dispose.call(this)},t.Css.register(".blocklyCommentTextarea {,background-color: #fef49c;,border: 0;,outline: 0;,margin: 0;,padding: 3px;,resize: none;,display: block;,text-overflow: hidden;,}".split(",")),t.Flyout=function(e){e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new t.WorkspaceSvg(e),this.workspace_.setMetricsManager(new t.FlyoutMetricsManager(this.workspace_,this)),this.workspace_.isFlyout=!0,this.workspace_.setVisible(this.isVisible_),this.RTL=!!e.RTL,this.horizontalLayout=!1,this.toolboxPosition_=e.toolboxPosition,this.eventWrappers_=[],this.mats_=[],this.buttons_=[],this.listeners_=[],this.permanentlyDisabled_=[],this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.targetWorkspace=null},t.Flyout.prototype.autoClose=!0,t.Flyout.prototype.isVisible_=!1,t.Flyout.prototype.containerVisible_=!0,t.Flyout.prototype.CORNER_RADIUS=8,t.Flyout.prototype.MARGIN=t.Flyout.prototype.CORNER_RADIUS,t.Flyout.prototype.GAP_X=3*t.Flyout.prototype.MARGIN,t.Flyout.prototype.GAP_Y=3*t.Flyout.prototype.MARGIN,t.Flyout.prototype.SCROLLBAR_PADDING=2,t.Flyout.prototype.width_=0,t.Flyout.prototype.height_=0,t.Flyout.prototype.dragAngleRange_=70,t.Flyout.prototype.createDom=function(e){return this.svgGroup_=t.utils.dom.createSvgElement(e,{class:"blocklyFlyout",style:"display: none"},null),this.svgBackground_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_},t.Flyout.prototype.init=function(e){this.targetWorkspace=e,this.workspace_.targetWorkspace=e,this.workspace_.scrollbar=new t.ScrollbarPair(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar"),this.hide(),Array.prototype.push.apply(this.eventWrappers_,t.browserEvents.conditionalBind(this.svgGroup_,"wheel",this,this.wheel_)),this.autoClose||(this.filterWrapper_=this.filterForCapacity_.bind(this),this.targetWorkspace.addChangeListener(this.filterWrapper_)),Array.prototype.push.apply(this.eventWrappers_,t.browserEvents.conditionalBind(this.svgBackground_,"mousedown",this,this.onMouseDown_)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap()},t.Flyout.prototype.dispose=function(){this.hide(),t.browserEvents.unbind(this.eventWrappers_),this.filterWrapper_&&(this.targetWorkspace.removeChangeListener(this.filterWrapper_),this.filterWrapper_=null),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.targetWorkspace=null,this.workspace_.dispose(),this.workspace_=null),this.svgGroup_&&(t.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.targetWorkspace=this.svgBackground_=null},t.Flyout.prototype.getWidth=function(){return this.width_},t.Flyout.prototype.getHeight=function(){return this.height_},t.Flyout.prototype.getFlyoutScale=function(){return this.targetWorkspace.scale},t.Flyout.prototype.getWorkspace=function(){return this.workspace_},t.Flyout.prototype.isVisible=function(){return this.isVisible_},t.Flyout.prototype.setVisible=function(t){var e=t!=this.isVisible();this.isVisible_=t,e&&this.updateDisplay_()},t.Flyout.prototype.setContainerVisible=function(t){var e=t!=this.containerVisible_;this.containerVisible_=t,e&&this.updateDisplay_()},t.Flyout.prototype.updateDisplay_=function(){var t=!!this.containerVisible_&&this.isVisible();this.svgGroup_.style.display=t?"block":"none",this.workspace_.scrollbar.setContainerVisible(t)},t.Flyout.prototype.positionAt_=function(e,o,n,r){this.svgGroup_.setAttribute("width",e),this.svgGroup_.setAttribute("height",o),this.workspace_.setCachedParentSvgSize(e,o),"svg"==this.svgGroup_.tagName?t.utils.dom.setCssTransform(this.svgGroup_,"translate("+n+"px,"+r+"px)"):this.svgGroup_.setAttribute("transform","translate("+n+","+r+")"),(e=this.workspace_.scrollbar)&&(e.setOrigin(n,r),e.resize(),e.hScroll&&e.hScroll.setPosition(e.hScroll.position.x,e.hScroll.position.y),e.vScroll&&e.vScroll.setPosition(e.vScroll.position.x,e.vScroll.position.y))},t.Flyout.prototype.hide=function(){if(this.isVisible()){this.setVisible(!1);for(var e,o=0;e=this.listeners_[o];o++)t.browserEvents.unbind(e);this.listeners_.length=0,this.reflowWrapper_&&(this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowWrapper_=null)}},t.Flyout.prototype.show=function(e){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks_(),"string"==typeof e&&(e=this.getDynamicCategoryContents_(e)),this.setVisible(!0),e=t.utils.toolbox.convertFlyoutDefToJsonArray(e),e=this.createFlyoutInfo_(e),this.layout_(e.contents,e.gaps),this.listeners_.push(t.browserEvents.conditionalBind(this.svgBackground_,"mouseover",this,(function(){for(var t,e=this.workspace_.getTopBlocks(!1),o=0;t=e[o];o++)t.removeSelect()}))),this.horizontalLayout?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity_(),this.position(),this.reflowWrapper_=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper_)},t.Flyout.prototype.createFlyoutInfo_=function(e){var o=[],n=[];this.permanentlyDisabled_.length=0;for(var r,i=this.horizontalLayout?this.GAP_X:this.GAP_Y,s=0;r=e[s];s++)switch(r.custom&&(r=this.getDynamicCategoryContents_(r.custom),r=t.utils.toolbox.convertFlyoutDefToJsonArray(r),e.splice.apply(e,[s,1].concat(r)),r=e[s]),r.kind.toUpperCase()){case"BLOCK":var a=r,l=this.getBlockXml_(a);r=this.createBlock_(l),a=parseInt(a.gap||l.getAttribute("gap"),10),n.push(isNaN(a)?i:a),o.push({type:"block",block:r});break;case"SEP":this.addSeparatorGap_(r,n,i);break;case"LABEL":r=this.createButton_(r,!0),o.push({type:"button",button:r}),n.push(i);break;case"BUTTON":r=this.createButton_(r,!1),o.push({type:"button",button:r}),n.push(i)}return{contents:o,gaps:n}},t.Flyout.prototype.getDynamicCategoryContents_=function(t){if("function"!=typeof(t=this.workspace_.targetWorkspace.getToolboxCategoryCallback(t)))throw TypeError("Couldn't find a callback function when opening a toolbox category.");if(t=t(this.workspace_.targetWorkspace),!Array.isArray(t))throw new TypeError("Result of toolbox category callback must be an array.");return t},t.Flyout.prototype.createButton_=function(e,o){if(!t.FlyoutButton)throw Error("Missing require for Blockly.FlyoutButton");return new t.FlyoutButton(this.workspace_,this.targetWorkspace,e,o)},t.Flyout.prototype.createBlock_=function(e){return(e=t.Xml.domToBlock(e,this.workspace_)).isEnabled()||this.permanentlyDisabled_.push(e),e},t.Flyout.prototype.getBlockXml_=function(e){var o=null,n=e.blockxml;if(n&&"string"!=typeof n?o=n:n&&"string"==typeof n?(o=t.Xml.textToDom(n),e.blockxml=o):e.type&&((o=t.utils.xml.createElement("xml")).setAttribute("type",e.type),o.setAttribute("disabled",e.disabled),e.blockxml=o),!o)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");return o},t.Flyout.prototype.addSeparatorGap_=function(t,e,o){t=parseInt(t.gap,10),!isNaN(t)&&0<e.length?e[e.length-1]=t:e.push(o)},t.Flyout.prototype.clearOldBlocks_=function(){for(var e,o=this.workspace_.getTopBlocks(!1),n=0;e=o[n];n++)e.workspace==this.workspace_&&e.dispose(!1,!1);for(n=0;n<this.mats_.length;n++)(o=this.mats_[n])&&(t.Tooltip.unbindMouseEvents(o),t.utils.dom.removeNode(o));for(n=this.mats_.length=0;o=this.buttons_[n];n++)o.dispose();this.buttons_.length=0,this.workspace_.getPotentialVariableMap().clear()},t.Flyout.prototype.addBlockListeners_=function(e,o,n){this.listeners_.push(t.browserEvents.conditionalBind(e,"mousedown",null,this.blockMouseDown_(o))),this.listeners_.push(t.browserEvents.conditionalBind(n,"mousedown",null,this.blockMouseDown_(o))),this.listeners_.push(t.browserEvents.bind(e,"mouseenter",o,o.addSelect)),this.listeners_.push(t.browserEvents.bind(e,"mouseleave",o,o.removeSelect)),this.listeners_.push(t.browserEvents.bind(n,"mouseenter",o,o.addSelect)),this.listeners_.push(t.browserEvents.bind(n,"mouseleave",o,o.removeSelect))},t.Flyout.prototype.blockMouseDown_=function(t){var e=this;return function(o){var n=e.targetWorkspace.getGesture(o);n&&(n.setStartBlock(t),n.handleFlyoutStart(o,e))}},t.Flyout.prototype.onMouseDown_=function(t){var e=this.targetWorkspace.getGesture(t);e&&e.handleFlyoutStart(t,this)},t.Flyout.prototype.isBlockCreatable_=function(t){return t.isEnabled()},t.Flyout.prototype.createBlock=function(e){var o=null;t.Events.disable();var n=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{o=this.placeNewBlock_(e)}finally{t.Events.enable()}if(t.hideChaff(),e=t.Variables.getAddedVariables(this.targetWorkspace,n),t.Events.isEnabled()){for(t.Events.setGroup(!0),n=0;n<e.length;n++){var r=e[n];t.Events.fire(new(t.Events.get(t.Events.VAR_CREATE))(r))}t.Events.fire(new(t.Events.get(t.Events.BLOCK_CREATE))(o))}return this.autoClose?this.hide():this.filterForCapacity_(),o},t.Flyout.prototype.initFlyoutButton_=function(e,o,n){var r=e.createDom();e.moveTo(o,n),e.show(),this.listeners_.push(t.browserEvents.conditionalBind(r,"mousedown",this,this.onMouseDown_)),this.buttons_.push(e)},t.Flyout.prototype.createRect_=function(e,o,n,r,i){return(o=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{"fill-opacity":0,x:o,y:n,height:r.height,width:r.width},null)).tooltip=e,t.Tooltip.bindMouseEvents(o),this.workspace_.getCanvas().insertBefore(o,e.getSvgRoot()),e.flyoutRect_=o,this.mats_[i]=o},t.Flyout.prototype.moveRectToBlock_=function(t,e){var o=e.getHeightWidth();t.setAttribute("width",o.width),t.setAttribute("height",o.height),e=e.getRelativeToSurfaceXY(),t.setAttribute("y",e.y),t.setAttribute("x",this.RTL?e.x-o.width:e.x)},t.Flyout.prototype.filterForCapacity_=function(){for(var e,o=this.workspace_.getTopBlocks(!1),n=0;e=o[n];n++)if(-1==this.permanentlyDisabled_.indexOf(e))for(var r=this.targetWorkspace.isCapacityAvailable(t.utils.getBlockTypeCounts(e));e;)e.setEnabled(r),e=e.getNextBlock()},t.Flyout.prototype.reflow=function(){this.reflowWrapper_&&this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowInternal_(),this.reflowWrapper_&&this.workspace_.addChangeListener(this.reflowWrapper_)},t.Flyout.prototype.isScrollable=function(){return!!this.workspace_.scrollbar&&this.workspace_.scrollbar.isVisible()},t.Flyout.prototype.placeNewBlock_=function(e){var o=this.targetWorkspace;if(!e.getSvgRoot())throw Error("oldBlock is not rendered.");var n=t.Xml.blockToDom(e,!0);if(o.setResizesEnabled(!1),!(n=t.Xml.domToBlock(n,o)).getSvgRoot())throw Error("block is not rendered.");var r=o.getOriginOffsetInPixels(),i=this.workspace_.getOriginOffsetInPixels();return(e=e.getRelativeToSurfaceXY()).scale(this.workspace_.scale),e=t.utils.Coordinate.sum(i,e),(r=t.utils.Coordinate.difference(e,r)).scale(1/o.scale),n.moveBy(r.x,r.y),n},t.HorizontalFlyout=function(e){t.HorizontalFlyout.superClass_.constructor.call(this,e),this.horizontalLayout=!0},t.utils.object.inherits(t.HorizontalFlyout,t.Flyout),t.HorizontalFlyout.prototype.setMetrics_=function(t){if(this.isVisible()){var e=this.workspace_.getMetricsManager(),o=e.getScrollMetrics(),n=e.getViewMetrics();e=e.getAbsoluteMetrics(),"number"==typeof t.x&&(this.workspace_.scrollX=-(o.left+(o.width-n.width)*t.x)),this.workspace_.translate(this.workspace_.scrollX+e.left,this.workspace_.scrollY+e.top)}},t.HorizontalFlyout.prototype.getX=function(){return 0},t.HorizontalFlyout.prototype.getY=function(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager(),o=e.getAbsoluteMetrics(),n=e.getViewMetrics();e=e.getToolboxMetrics();var r=this.toolboxPosition_==t.utils.toolbox.Position.TOP;return this.targetWorkspace.toolboxPosition==this.toolboxPosition_?this.targetWorkspace.getToolbox()?r?e.height:n.height-this.height_:r?0:n.height:r?0:n.height+o.top-this.height_},t.HorizontalFlyout.prototype.position=function(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var t=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=t.width,this.setBackgroundPath_(t.width-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),t=this.getX();var e=this.getY();this.positionAt_(this.width_,this.height_,t,e)}},t.HorizontalFlyout.prototype.setBackgroundPath_=function(e,o){var n=this.toolboxPosition_==t.utils.toolbox.Position.TOP,r=["M 0,"+(n?0:this.CORNER_RADIUS)];n?(r.push("h",e+2*this.CORNER_RADIUS),r.push("v",o),r.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),r.push("h",-e),r.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(r.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),r.push("h",e),r.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),r.push("v",o),r.push("h",-e-2*this.CORNER_RADIUS)),r.push("z"),this.svgBackground_.setAttribute("d",r.join(" "))},t.HorizontalFlyout.prototype.scrollToStart=function(){this.workspace_.scrollbar.setX(this.RTL?1/0:0)},t.HorizontalFlyout.prototype.wheel_=function(e){var o=t.utils.getScrollDeltaPixels(e);if(o=o.x||o.y){var n=this.workspace_.getMetricsManager(),r=n.getScrollMetrics();o=n.getViewMetrics().left-r.left+o,this.workspace_.scrollbar.setX(o),t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation()}e.preventDefault(),e.stopPropagation()},t.HorizontalFlyout.prototype.layout_=function(t,e){this.workspace_.scale=this.targetWorkspace.scale;var o=this.MARGIN,n=o+this.tabWidth_;this.RTL&&(t=t.reverse());for(var r,i=0;r=t[i];i++)if("block"==r.type){for(var s,a=(r=r.block).getDescendants(!1),l=0;s=a[l];l++)s.isInFlyout=!0;r.render(),a=r.getSvgRoot(),l=r.getHeightWidth(),s=r.outputConnection?this.tabWidth_:0,s=this.RTL?n+l.width:n-s,r.moveBy(s,o),s=this.createRect_(r,s,o,l,i),n+=l.width+e[i],this.addBlockListeners_(a,r,s)}else"button"==r.type&&(this.initFlyoutButton_(r.button,n,o),n+=r.button.width+e[i])},t.HorizontalFlyout.prototype.isDragTowardWorkspace=function(t){t=Math.atan2(t.y,t.x)/Math.PI*180;var e=this.dragAngleRange_;return t<90+e&&t>90-e||t>-90-e&&t<-90+e},t.HorizontalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect(),o=e.top;return this.toolboxPosition_==t.utils.toolbox.Position.TOP?new t.utils.Rect(-1e9,o+e.height,-1e9,1e9):new t.utils.Rect(o,1e9,-1e9,1e9)},t.HorizontalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.getFlyoutScale();for(var e,o=0,n=this.workspace_.getTopBlocks(!1),r=0;e=n[r];r++)o=Math.max(o,e.getHeightWidth().height);if(o+=1.5*this.MARGIN,o*=this.workspace_.scale,o+=t.Scrollbar.scrollbarThickness,this.height_!=o){for(r=0;e=n[r];r++)e.flyoutRect_&&this.moveRectToBlock_(e.flyoutRect_,e);this.targetWorkspace.toolboxPosition!=this.toolboxPosition_||this.toolboxPosition_!=t.utils.toolbox.Position.TOP||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+o),this.height_=o,this.position()}},t.registry.register(t.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,t.registry.DEFAULT,t.HorizontalFlyout),t.VerticalFlyout=function(e){t.VerticalFlyout.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.VerticalFlyout,t.Flyout),t.VerticalFlyout.registryName="verticalFlyout",t.VerticalFlyout.prototype.setMetrics_=function(t){if(this.isVisible()){var e=this.workspace_.getMetricsManager(),o=e.getScrollMetrics(),n=e.getViewMetrics();e=e.getAbsoluteMetrics(),"number"==typeof t.y&&(this.workspace_.scrollY=-(o.top+(o.height-n.height)*t.y)),this.workspace_.translate(this.workspace_.scrollX+e.left,this.workspace_.scrollY+e.top)}},t.VerticalFlyout.prototype.getX=function(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager(),o=e.getAbsoluteMetrics(),n=e.getViewMetrics();return e=e.getToolboxMetrics(),this.targetWorkspace.toolboxPosition==this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_==t.utils.toolbox.Position.LEFT?e.width:n.width-this.width_:this.toolboxPosition_==t.utils.toolbox.Position.LEFT?0:n.width:this.toolboxPosition_==t.utils.toolbox.Position.LEFT?0:n.width+o.left-this.width_},t.VerticalFlyout.prototype.getY=function(){return 0},t.VerticalFlyout.prototype.position=function(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var t=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=t.height,this.setBackgroundPath_(this.width_-this.CORNER_RADIUS,t.height-2*this.CORNER_RADIUS),t=this.getX();var e=this.getY();this.positionAt_(this.width_,this.height_,t,e)}},t.VerticalFlyout.prototype.setBackgroundPath_=function(e,o){var n=this.toolboxPosition_==t.utils.toolbox.Position.RIGHT,r=e+this.CORNER_RADIUS;(r=["M "+(n?r:0)+",0"]).push("h",n?-e:e),r.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,n?0:1,n?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),r.push("v",Math.max(0,o)),r.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,n?0:1,n?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),r.push("h",n?e:-e),r.push("z"),this.svgBackground_.setAttribute("d",r.join(" "))},t.VerticalFlyout.prototype.scrollToStart=function(){this.workspace_.scrollbar.setY(0)},t.VerticalFlyout.prototype.wheel_=function(e){var o=t.utils.getScrollDeltaPixels(e);if(o.y){var n=this.workspace_.getMetricsManager(),r=n.getScrollMetrics();o=n.getViewMetrics().top-r.top+o.y,this.workspace_.scrollbar.setY(o),t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation()}e.preventDefault(),e.stopPropagation()},t.VerticalFlyout.prototype.layout_=function(t,e){this.workspace_.scale=this.targetWorkspace.scale;for(var o,n=this.MARGIN,r=this.RTL?n:n+this.tabWidth_,i=0;o=t[i];i++)if("block"==o.type){for(var s,a=(o=o.block).getDescendants(!1),l=0;s=a[l];l++)s.isInFlyout=!0;o.render(),a=o.getSvgRoot(),l=o.getHeightWidth(),s=o.outputConnection?r-this.tabWidth_:r,o.moveBy(s,n),s=this.createRect_(o,this.RTL?s-l.width:s,n,l,i),this.addBlockListeners_(a,o,s),n+=l.height+e[i]}else"button"==o.type&&(this.initFlyoutButton_(o.button,r,n),n+=o.button.height+e[i])},t.VerticalFlyout.prototype.isDragTowardWorkspace=function(t){t=Math.atan2(t.y,t.x)/Math.PI*180;var e=this.dragAngleRange_;return t<e&&t>-e||t<-180+e||t>180-e},t.VerticalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect(),o=e.left;return this.toolboxPosition_==t.utils.toolbox.Position.LEFT?new t.utils.Rect(-1e9,1e9,-1e9,o+e.width):new t.utils.Rect(-1e9,1e9,o,1e9)},t.VerticalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.getFlyoutScale();for(var e,o=0,n=this.workspace_.getTopBlocks(!1),r=0;e=n[r];r++){var i=e.getHeightWidth().width;e.outputConnection&&(i-=this.tabWidth_),o=Math.max(o,i)}for(r=0;e=this.buttons_[r];r++)o=Math.max(o,e.width);if(o+=1.5*this.MARGIN+this.tabWidth_,o*=this.workspace_.scale,o+=t.Scrollbar.scrollbarThickness,this.width_!=o){for(r=0;e=n[r];r++){if(this.RTL){i=e.getRelativeToSurfaceXY().x;var s=o/this.workspace_.scale-this.MARGIN;e.outputConnection||(s-=this.tabWidth_),e.moveBy(s-i,0)}e.flyoutRect_&&this.moveRectToBlock_(e.flyoutRect_,e)}if(this.RTL)for(r=0;e=this.buttons_[r];r++)n=e.getPosition().y,e.moveTo(o/this.workspace_.scale-e.width-this.MARGIN-this.tabWidth_,n);this.targetWorkspace.toolboxPosition!=this.toolboxPosition_||this.toolboxPosition_!=t.utils.toolbox.Position.LEFT||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX+o,this.targetWorkspace.scrollY),this.width_=o,this.position()}},t.registry.register(t.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,t.registry.DEFAULT,t.VerticalFlyout),t.FlyoutButton=function(e,o,n,r){this.workspace_=e,this.targetWorkspace_=o,this.text_=n.text,this.position_=new t.utils.Coordinate(0,0),this.isLabel_=r,this.callbackKey_=n.callbackKey||n.callbackkey,this.cssClass_=n["web-class"]||null,this.onMouseUpWrapper_=null,this.info=n},t.FlyoutButton.MARGIN_X=5,t.FlyoutButton.MARGIN_Y=2,t.FlyoutButton.prototype.width=0,t.FlyoutButton.prototype.height=0,t.FlyoutButton.prototype.createDom=function(){var e=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";if(this.cssClass_&&(e+=" "+this.cssClass_),this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:e},this.workspace_.getCanvas()),!this.isLabel_)var o=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.svgGroup_);e=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.svgGroup_);var n=t.utils.dom.createSvgElement(t.utils.Svg.TEXT,{class:this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup_),r=t.utils.replaceMessageReferences(this.text_);this.workspace_.RTL&&(r+="‏"),n.textContent=r,this.isLabel_&&(this.svgText_=n,this.workspace_.getThemeManager().subscribe(this.svgText_,"flyoutForegroundColour","fill"));var i=t.utils.style.getComputedStyle(n,"fontSize"),s=t.utils.style.getComputedStyle(n,"fontWeight"),a=t.utils.style.getComputedStyle(n,"fontFamily");return this.width=t.utils.dom.getFastTextWidthWithSizeString(n,i,s,a),r=t.utils.dom.measureFontMetrics(r,i,s,a),this.height=r.height,this.isLabel_||(this.width+=2*t.FlyoutButton.MARGIN_X,this.height+=2*t.FlyoutButton.MARGIN_Y,o.setAttribute("width",this.width),o.setAttribute("height",this.height)),e.setAttribute("width",this.width),e.setAttribute("height",this.height),n.setAttribute("x",this.width/2),n.setAttribute("y",this.height/2-r.height/2+r.baseline),this.updateTransform_(),this.onMouseUpWrapper_=t.browserEvents.conditionalBind(this.svgGroup_,"mouseup",this,this.onMouseUp_),this.svgGroup_},t.FlyoutButton.prototype.show=function(){this.updateTransform_(),this.svgGroup_.setAttribute("display","block")},t.FlyoutButton.prototype.updateTransform_=function(){this.svgGroup_.setAttribute("transform","translate("+this.position_.x+","+this.position_.y+")")},t.FlyoutButton.prototype.moveTo=function(t,e){this.position_.x=t,this.position_.y=e,this.updateTransform_()},t.FlyoutButton.prototype.isLabel=function(){return this.isLabel_},t.FlyoutButton.prototype.getPosition=function(){return this.position_},t.FlyoutButton.prototype.getButtonText=function(){return this.text_},t.FlyoutButton.prototype.getTargetWorkspace=function(){return this.targetWorkspace_},t.FlyoutButton.prototype.dispose=function(){this.onMouseUpWrapper_&&t.browserEvents.unbind(this.onMouseUpWrapper_),this.svgGroup_&&t.utils.dom.removeNode(this.svgGroup_),this.svgText_&&this.workspace_.getThemeManager().unsubscribe(this.svgText_)},t.FlyoutButton.prototype.onMouseUp_=function(t){(t=this.targetWorkspace_.getGesture(t))&&t.cancel(),this.isLabel_&&this.callbackKey_?console.warn("Labels should not have callbacks. Label text: "+this.text_):this.isLabel_||this.callbackKey_&&this.targetWorkspace_.getButtonCallback(this.callbackKey_)?this.isLabel_||this.targetWorkspace_.getButtonCallback(this.callbackKey_)(this):console.warn("Buttons should have callbacks. Button text: "+this.text_)},t.Css.register(".blocklyFlyoutButton {,fill: #888;,cursor: default;,},.blocklyFlyoutButtonShadow {,fill: #666;,},.blocklyFlyoutButton:hover {,fill: #aaa;,},.blocklyFlyoutLabel {,cursor: default;,},.blocklyFlyoutLabelBackground {,opacity: 0;,}".split(",")),t.Generator=function(t){this.name_=t,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")},t.Generator.NAME_TYPE="generated_function",t.Generator.prototype.INFINITE_LOOP_TRAP=null,t.Generator.prototype.STATEMENT_PREFIX=null,t.Generator.prototype.STATEMENT_SUFFIX=null,t.Generator.prototype.INDENT="  ",t.Generator.prototype.COMMENT_WRAP=60,t.Generator.prototype.ORDER_OVERRIDES=[],t.Generator.prototype.isInitialized=null,t.Generator.prototype.workspaceToCode=function(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=t.getMainWorkspace());var o=[];this.init(e),e=e.getTopBlocks(!0);for(var n,r=0;n=e[r];r++){var i=this.blockToCode(n);Array.isArray(i)&&(i=i[0]),i&&(n.outputConnection&&(i=this.scrubNakedValue(i),this.STATEMENT_PREFIX&&!n.suppressPrefixSuffix&&(i=this.injectId(this.STATEMENT_PREFIX,n)+i),this.STATEMENT_SUFFIX&&!n.suppressPrefixSuffix&&(i+=this.injectId(this.STATEMENT_SUFFIX,n))),o.push(i))}return o=o.join("\n"),(o=(o=(o=this.finish(o)).replace(/^\s+\n/,"")).replace(/\n\s+$/,"\n")).replace(/[ \t]+\n/g,"\n")},t.Generator.prototype.prefixLines=function(t,e){return e+t.replace(/(?!\n$)\n/g,"\n"+e)},t.Generator.prototype.allNestedComments=function(t){var e=[];t=t.getDescendants(!0);for(var o=0;o<t.length;o++){var n=t[o].getCommentText();n&&e.push(n)}return e.length&&e.push(""),e.join("\n")},t.Generator.prototype.blockToCode=function(t,e){if(!1===this.isInitialized&&console.warn("Generator init was not called before blockToCode was called."),!t)return"";if(!t.isEnabled())return e?"":this.blockToCode(t.getNextBlock());if(t.isInsertionMarker())return e?"":this.blockToCode(t.getChildren(!1)[0]);var o=this[t.type];if("function"!=typeof o)throw Error('Language "'+this.name_+'" does not know how to generate  code for block type "'+t.type+'".');if(o=o.call(t,t),Array.isArray(o)){if(!t.outputConnection)throw TypeError("Expecting string from statement block: "+t.type);return[this.scrub_(t,o[0],e),o[1]]}if("string"==typeof o)return this.STATEMENT_PREFIX&&!t.suppressPrefixSuffix&&(o=this.injectId(this.STATEMENT_PREFIX,t)+o),this.STATEMENT_SUFFIX&&!t.suppressPrefixSuffix&&(o+=this.injectId(this.STATEMENT_SUFFIX,t)),this.scrub_(t,o,e);if(null===o)return"";throw SyntaxError("Invalid code generated: "+o)},t.Generator.prototype.valueToCode=function(t,e,o){if(isNaN(o))throw TypeError("Expecting valid order from block: "+t.type);var n=t.getInputTargetBlock(e);if(!n)return"";if(""===(e=this.blockToCode(n)))return"";if(!Array.isArray(e))throw TypeError("Expecting tuple from value block: "+n.type);if(t=e[0],e=e[1],isNaN(e))throw TypeError("Expecting valid order from value block: "+n.type);if(!t)return"";n=!1;var r=Math.floor(o),i=Math.floor(e);if(r<=i&&(r!=i||0!=r&&99!=r))for(n=!0,r=0;r<this.ORDER_OVERRIDES.length;r++)if(this.ORDER_OVERRIDES[r][0]==o&&this.ORDER_OVERRIDES[r][1]==e){n=!1;break}return n&&(t="("+t+")"),t},t.Generator.prototype.statementToCode=function(t,e){if(t=t.getInputTargetBlock(e),"string"!=typeof(e=this.blockToCode(t)))throw TypeError("Expecting code from statement block: "+(t&&t.type));return e&&(e=this.prefixLines(e,this.INDENT)),e},t.Generator.prototype.addLoopTrap=function(t,e){return this.INFINITE_LOOP_TRAP&&(t=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,e),this.INDENT)+t),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(t=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,e),this.INDENT)+t),this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(t+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,e),this.INDENT)),t},t.Generator.prototype.injectId=function(t,e){return e=e.id.replace(/\$/g,"$$$$"),t.replace(/%1/g,"'"+e+"'")},t.Generator.prototype.RESERVED_WORDS_="",t.Generator.prototype.addReservedWords=function(t){this.RESERVED_WORDS_+=t+","},t.Generator.prototype.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",t.Generator.prototype.provideFunction_=function(e,o){if(!this.definitions_[e]){var n,r=this.variableDB_.getDistinctName(e,t.PROCEDURE_CATEGORY_NAME);for(this.functionNames_[e]=r,o=o.join("\n").replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,r);n!=o;)n=o,o=o.replace(/^(( {2})*) {2}/gm,"$1\0");o=o.replace(/\0/g,this.INDENT),this.definitions_[e]=o}return this.functionNames_[e]},t.Generator.prototype.init=function(t){},t.Generator.prototype.scrub_=function(t,e,o){return e},t.Generator.prototype.finish=function(t){return t},t.Generator.prototype.scrubNakedValue=function(t){return t},t.ToolboxItem=function(e,o,n){this.id_=e.toolboxitemid||t.utils.IdGenerator.getNextUniqueId(),this.level_=(this.parent_=n||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=e,this.parentToolbox_=o,this.workspace_=this.parentToolbox_.getWorkspace()},t.ToolboxItem.prototype.init=function(){},t.ToolboxItem.prototype.getDiv=function(){return null},t.ToolboxItem.prototype.getId=function(){return this.id_},t.ToolboxItem.prototype.getParent=function(){return null},t.ToolboxItem.prototype.getLevel=function(){return this.level_},t.ToolboxItem.prototype.isSelectable=function(){return!1},t.ToolboxItem.prototype.isCollapsible=function(){return!1},t.ToolboxItem.prototype.dispose=function(){},t.ToolboxCategory=function(e,o,n){t.ToolboxCategory.superClass_.constructor.call(this,e,o,n),this.name_=t.utils.replaceMessageReferences(e.name),this.colour_=this.getColour_(e),this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.cssConfig_=this.makeDefaultCssConfig_(),t.utils.object.mixin(this.cssConfig_,e.cssconfig||e.cssConfig),this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.parseContents_(e)},t.utils.object.inherits(t.ToolboxCategory,t.ToolboxItem),t.ToolboxCategory.registrationName="category",t.ToolboxCategory.nestedPadding=19,t.ToolboxCategory.borderWidth=8,t.ToolboxCategory.defaultBackgroundColour="#57e",t.ToolboxCategory.prototype.makeDefaultCssConfig_=function(){return{container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"}},t.ToolboxCategory.prototype.parseContents_=function(t){var e=t.contents;if(t.custom)this.flyoutItems_=t.custom;else if(e){t=0;for(var o;o=e[t];t++)this.flyoutItems_.push(o)}},t.ToolboxCategory.prototype.init=function(){this.createDom_(),"true"==this.toolboxItemDef_.hidden&&this.hide()},t.ToolboxCategory.prototype.createDom_=function(){return this.htmlDiv_=this.createContainer_(),t.utils.aria.setRole(this.htmlDiv_,t.utils.aria.Role.TREEITEM),t.utils.aria.setState(this.htmlDiv_,t.utils.aria.State.SELECTED,!1),t.utils.aria.setState(this.htmlDiv_,t.utils.aria.State.LEVEL,this.level_),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),t.utils.aria.setRole(this.iconDom_,t.utils.aria.Role.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_),t.utils.aria.setState(this.htmlDiv_,t.utils.aria.State.LABELLEDBY,this.labelDom_.getAttribute("id")),this.addColourBorder_(this.colour_),this.htmlDiv_},t.ToolboxCategory.prototype.createContainer_=function(){var e=document.createElement("div");return t.utils.dom.addClass(e,this.cssConfig_.container),e},t.ToolboxCategory.prototype.createRowContainer_=function(){var e=document.createElement("div");t.utils.dom.addClass(e,this.cssConfig_.row);var o=t.ToolboxCategory.nestedPadding*this.getLevel();return o=o.toString()+"px",this.workspace_.RTL?e.style.paddingRight=o:e.style.paddingLeft=o,e},t.ToolboxCategory.prototype.createRowContentsContainer_=function(){var e=document.createElement("div");return t.utils.dom.addClass(e,this.cssConfig_.rowcontentcontainer),e},t.ToolboxCategory.prototype.createIconDom_=function(){var e=document.createElement("span");return this.parentToolbox_.isHorizontal()||t.utils.dom.addClass(e,this.cssConfig_.icon),e.style.display="inline-block",e},t.ToolboxCategory.prototype.createLabelDom_=function(e){var o=document.createElement("span");return o.setAttribute("id",this.getId()+".label"),o.textContent=e,t.utils.dom.addClass(o,this.cssConfig_.label),o},t.ToolboxCategory.prototype.refreshTheme=function(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)},t.ToolboxCategory.prototype.addColourBorder_=function(e){e&&(e=t.ToolboxCategory.borderWidth+"px solid "+(e||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=e:this.rowDiv_.style.borderLeft=e)},t.ToolboxCategory.prototype.getColour_=function(t){var e=t.categorystyle||t.categoryStyle;return(t=t.colour)&&e?(console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour'),""):e?this.getColourfromStyle_(e):this.parseColour_(t)},t.ToolboxCategory.prototype.getColourfromStyle_=function(t){var e=this.workspace_.getTheme();if(t&&e){if((e=e.categoryStyles[t])&&e.colour)return this.parseColour_(e.colour);console.warn('Style "'+t+'" must exist and contain a colour value')}return""},t.ToolboxCategory.prototype.getClickTarget=function(){return this.rowDiv_},t.ToolboxCategory.prototype.parseColour_=function(e){if(null==(e=t.utils.replaceMessageReferences(e))||""===e)return"";var o=Number(e);return isNaN(o)?(o=t.utils.colour.parse(e))?o:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+e),""):t.hueToHex(o)},t.ToolboxCategory.prototype.openIcon_=function(e){e&&(t.utils.dom.removeClasses(e,this.cssConfig_.closedicon),t.utils.dom.addClass(e,this.cssConfig_.openicon))},t.ToolboxCategory.prototype.closeIcon_=function(e){e&&(t.utils.dom.removeClasses(e,this.cssConfig_.openicon),t.utils.dom.addClass(e,this.cssConfig_.closedicon))},t.ToolboxCategory.prototype.setVisible_=function(t){this.htmlDiv_.style.display=t?"block":"none",this.isHidden_=!t,this.parentToolbox_.getSelectedItem()==this&&this.parentToolbox_.clearSelection()},t.ToolboxCategory.prototype.hide=function(){this.setVisible_(!1)},t.ToolboxCategory.prototype.show=function(){this.setVisible_(!0)},t.ToolboxCategory.prototype.isVisible=function(){return!this.isHidden_&&this.allAncestorsExpanded_()},t.ToolboxCategory.prototype.allAncestorsExpanded_=function(){for(var t=this;t.getParent();)if(!(t=t.getParent()).isExpanded())return!1;return!0},t.ToolboxCategory.prototype.isSelectable=function(){return this.isVisible()&&!this.isDisabled_},t.ToolboxCategory.prototype.onClick=function(t){},t.ToolboxCategory.prototype.setSelected=function(e){if(e){var o=this.parseColour_(t.ToolboxCategory.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||o,t.utils.dom.addClass(this.rowDiv_,this.cssConfig_.selected)}else this.rowDiv_.style.backgroundColor="",t.utils.dom.removeClass(this.rowDiv_,this.cssConfig_.selected);t.utils.aria.setState(this.htmlDiv_,t.utils.aria.State.SELECTED,e)},t.ToolboxCategory.prototype.setDisabled=function(t){this.isDisabled_=t,this.getDiv().setAttribute("disabled",t),t?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")},t.ToolboxCategory.prototype.getName=function(){return this.name_},t.ToolboxCategory.prototype.getParent=function(){return this.parent_},t.ToolboxCategory.prototype.getDiv=function(){return this.htmlDiv_},t.ToolboxCategory.prototype.getContents=function(){return this.flyoutItems_},t.ToolboxCategory.prototype.updateFlyoutContents=function(e){this.flyoutItems_=[],"string"==typeof e?this.toolboxItemDef_.custom=e:(delete this.toolboxItemDef_.custom,this.toolboxItemDef_.contents=t.utils.toolbox.convertFlyoutDefToJsonArray(e)),this.parseContents_(this.toolboxItemDef_)},t.ToolboxCategory.prototype.dispose=function(){t.utils.dom.removeNode(this.htmlDiv_)},t.Css.register([".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: rgba(255, 255, 255, 0.2);","}",'.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {',"margin: 1px 5px 1px 0;","}",'.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {',"margin: 1px 0 1px 5px;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","padding-right: 0px","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","visibility: hidden;","width: 16px;","}",".blocklyTreeIconClosed {","background-position: -32px -1px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {',"background-position: 0 -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosed {","background-position: -32px -17px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {',"background-position: 0 -17px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeLabel {","cursor: default;","font: 16px sans-serif;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}"]),t.registry.register(t.registry.Type.TOOLBOX_ITEM,t.ToolboxCategory.registrationName,t.ToolboxCategory),t.ToolboxSeparator=function(e,o){t.ToolboxSeparator.superClass_.constructor.call(this,e,o),this.cssConfig_={container:"blocklyTreeSeparator"},t.utils.object.mixin(this.cssConfig_,e.cssconfig||e.cssConfig)},t.utils.object.inherits(t.ToolboxSeparator,t.ToolboxItem),t.ToolboxSeparator.registrationName="sep",t.ToolboxSeparator.prototype.init=function(){this.createDom_()},t.ToolboxSeparator.prototype.createDom_=function(){var e=document.createElement("div");return t.utils.dom.addClass(e,this.cssConfig_.container),this.htmlDiv_=e},t.ToolboxSeparator.prototype.getDiv=function(){return this.htmlDiv_},t.ToolboxSeparator.prototype.dispose=function(){t.utils.dom.removeNode(this.htmlDiv_)},t.Css.register('.blocklyTreeSeparator {,border-bottom: solid #e5e5e5 1px;,height: 0;,margin: 5px 0;,},.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {,border-right: solid #e5e5e5 1px;,border-bottom: none;,height: auto;,margin: 0 5px 0 5px;,padding: 5px 0;,width: 0;,}'.split(",")),t.registry.register(t.registry.Type.TOOLBOX_ITEM,t.ToolboxSeparator.registrationName,t.ToolboxSeparator),t.CollapsibleToolboxCategory=function(e,o,n){this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[],t.CollapsibleToolboxCategory.superClass_.constructor.call(this,e,o,n)},t.utils.object.inherits(t.CollapsibleToolboxCategory,t.ToolboxCategory),t.CollapsibleToolboxCategory.registrationName="collapsibleCategory",t.CollapsibleToolboxCategory.prototype.makeDefaultCssConfig_=function(){var e=t.CollapsibleToolboxCategory.superClass_.makeDefaultCssConfig_.call(this);return e.contents="blocklyToolboxContents",e},t.CollapsibleToolboxCategory.prototype.parseContents_=function(e){var o=e.contents,n=!0;if(e.custom)this.flyoutItems_=e.custom;else if(o){e=0;for(var r;r=o[e];e++)!t.registry.hasItem(t.registry.Type.TOOLBOX_ITEM,r.kind)||r.kind.toLowerCase()==t.ToolboxSeparator.registrationName&&n?(this.flyoutItems_.push(r),n=!0):(this.createToolboxItem_(r),n=!1)}},t.CollapsibleToolboxCategory.prototype.createToolboxItem_=function(e){var o=e.kind;"CATEGORY"==o.toUpperCase()&&t.utils.toolbox.isCategoryCollapsible(e)&&(o=t.CollapsibleToolboxCategory.registrationName),e=new(t.registry.getClass(t.registry.Type.TOOLBOX_ITEM,o))(e,this.parentToolbox_,this),this.toolboxItems_.push(e)},t.CollapsibleToolboxCategory.prototype.init=function(){t.CollapsibleToolboxCategory.superClass_.init.call(this),this.setExpanded("true"==this.toolboxItemDef_.expanded||this.toolboxItemDef_.expanded)},t.CollapsibleToolboxCategory.prototype.createDom_=function(){t.CollapsibleToolboxCategory.superClass_.createDom_.call(this);var e=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(e),t.utils.aria.setRole(this.subcategoriesDiv_,t.utils.aria.Role.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.htmlDiv_},t.CollapsibleToolboxCategory.prototype.createIconDom_=function(){var e=document.createElement("span");return this.parentToolbox_.isHorizontal()||(t.utils.dom.addClass(e,this.cssConfig_.icon),e.style.visibility="visible"),e.style.display="inline-block",e},t.CollapsibleToolboxCategory.prototype.createSubCategoriesDom_=function(e){var o=document.createElement("div");t.utils.dom.addClass(o,this.cssConfig_.contents);for(var n=0;n<e.length;n++){var r=e[n];r.init();var i=r.getDiv();o.appendChild(i),r.getClickTarget&&r.getClickTarget().setAttribute("id",r.getId())}return o},t.CollapsibleToolboxCategory.prototype.setExpanded=function(e){this.expanded_!=e&&((this.expanded_=e)?(this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_)):(this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)),t.utils.aria.setState(this.htmlDiv_,t.utils.aria.State.EXPANDED,e),this.parentToolbox_.handleToolboxItemResize())},t.CollapsibleToolboxCategory.prototype.setVisible_=function(t){this.htmlDiv_.style.display=t?"block":"none";for(var e,o=0;e=this.getChildToolboxItems()[o];o++)e.setVisible_(t);this.isHidden_=!t,this.parentToolbox_.getSelectedItem()==this&&this.parentToolbox_.clearSelection()},t.CollapsibleToolboxCategory.prototype.isExpanded=function(){return this.expanded_},t.CollapsibleToolboxCategory.prototype.isCollapsible=function(){return!0},t.CollapsibleToolboxCategory.prototype.onClick=function(t){this.toggleExpanded()},t.CollapsibleToolboxCategory.prototype.toggleExpanded=function(){this.setExpanded(!this.expanded_)},t.CollapsibleToolboxCategory.prototype.getDiv=function(){return this.htmlDiv_},t.CollapsibleToolboxCategory.prototype.getChildToolboxItems=function(){return this.toolboxItems_},t.registry.register(t.registry.Type.TOOLBOX_ITEM,t.CollapsibleToolboxCategory.registrationName,t.CollapsibleToolboxCategory),t.Events.ToolboxItemSelect=function(e,o,n){t.Events.ToolboxItemSelect.superClass_.constructor.call(this,n),this.oldItem=e,this.newItem=o},t.utils.object.inherits(t.Events.ToolboxItemSelect,t.Events.UiBase),t.Events.ToolboxItemSelect.prototype.type=t.Events.TOOLBOX_ITEM_SELECT,t.Events.ToolboxItemSelect.prototype.toJson=function(){var e=t.Events.ToolboxItemSelect.superClass_.toJson.call(this);return e.oldItem=this.oldItem,e.newItem=this.newItem,e},t.Events.ToolboxItemSelect.prototype.fromJson=function(e){t.Events.ToolboxItemSelect.superClass_.fromJson.call(this,e),this.oldItem=e.oldItem,this.newItem=e.newItem},t.registry.register(t.registry.Type.EVENT,t.Events.TOOLBOX_ITEM_SELECT,t.Events.ToolboxItemSelect),t.Toolbox=function(t){this.workspace_=t,this.toolboxDef_=t.options.languageTree||{contents:[]},this.horizontalLayout_=t.options.horizontalLayout,this.contentsDiv_=this.HtmlDiv=null,this.contents_=[],this.height_=this.width_=0,this.RTL=t.options.RTL,this.flyout_=null,this.contentMap_={},this.toolboxPosition=t.options.toolboxPosition,this.previouslySelectedItem_=this.selectedItem_=null,this.boundEvents_=[]},t.Toolbox.prototype.onShortcut=function(t){return!1},t.Toolbox.prototype.init=function(){var e=this.workspace_,o=e.getParentSvg();this.flyout_=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_),t.utils.dom.insertAfter(this.flyout_.createDom("svg"),o),this.flyout_.init(e),this.render(this.toolboxDef_),(e=e.getThemeManager()).subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),e.subscribe(this.HtmlDiv,"toolboxForegroundColour","color")},t.Toolbox.prototype.createDom_=function(e){e=e.getParentSvg();var o=this.createContainer_();return this.contentsDiv_=this.createContentsContainer_(),this.contentsDiv_.tabIndex=0,t.utils.aria.setRole(this.contentsDiv_,t.utils.aria.Role.TREE),o.appendChild(this.contentsDiv_),e.parentNode.insertBefore(o,e),this.attachEvents_(o,this.contentsDiv_),o},t.Toolbox.prototype.createContainer_=function(){var e=document.createElement("div");return e.setAttribute("layout",this.isHorizontal()?"h":"v"),t.utils.dom.addClass(e,"blocklyToolboxDiv"),t.utils.dom.addClass(e,"blocklyNonSelectable"),e.setAttribute("dir",this.RTL?"RTL":"LTR"),e},t.Toolbox.prototype.createContentsContainer_=function(){var e=document.createElement("div");return t.utils.dom.addClass(e,"blocklyToolboxContents"),this.isHorizontal()&&(e.style.flexDirection="row"),e},t.Toolbox.prototype.attachEvents_=function(e,o){e=t.browserEvents.conditionalBind(e,"click",this,this.onClick_,!1,!0),this.boundEvents_.push(e),o=t.browserEvents.conditionalBind(o,"keydown",this,this.onKeyDown_,!1,!0),this.boundEvents_.push(o)},t.Toolbox.prototype.onClick_=function(e){if(t.utils.isRightButton(e)||e.target==this.HtmlDiv)t.hideChaff(!1);else{var o=e.target.getAttribute("id");o&&(o=this.getToolboxItemById(o)).isSelectable()&&(this.setSelectedItem(o),o.onClick(e)),t.hideChaff(!0)}t.Touch.clearTouchIdentifier()},t.Toolbox.prototype.onKeyDown_=function(e){var o=!1;switch(e.keyCode){case t.utils.KeyCodes.DOWN:o=this.selectNext_();break;case t.utils.KeyCodes.UP:o=this.selectPrevious_();break;case t.utils.KeyCodes.LEFT:o=this.selectParent_();break;case t.utils.KeyCodes.RIGHT:o=this.selectChild_();break;case t.utils.KeyCodes.ENTER:case t.utils.KeyCodes.SPACE:this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),o=!0);break;default:o=!1}!o&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(o=this.selectedItem_.onKeyDown(e)),o&&e.preventDefault()},t.Toolbox.prototype.createFlyout_=function(){var e=this.workspace_,o=new t.Options({parentWorkspace:e,rtl:e.RTL,oneBasedIndex:e.options.oneBasedIndex,horizontalLayout:e.horizontalLayout,renderer:e.options.renderer,rendererOverrides:e.options.rendererOverrides,move:{scrollbars:!0}});return o.toolboxPosition=e.options.toolboxPosition,new(e.horizontalLayout?t.registry.getClassFromOptions(t.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,e.options,!0):t.registry.getClassFromOptions(t.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,e.options,!0))(o)},t.Toolbox.prototype.render=function(t){this.toolboxDef_=t;for(var e=0;e<this.contents_.length;e++){var o=this.contents_[e];o&&o.dispose()}this.contents_=[],this.contentMap_={},this.renderContents_(t.contents),this.position()},t.Toolbox.prototype.renderContents_=function(t){for(var e,o=document.createDocumentFragment(),n=0;e=t[n];n++)this.createToolboxItem_(e,o);this.contentsDiv_.appendChild(o)},t.Toolbox.prototype.createToolboxItem_=function(e,o){var n=e.kind;"CATEGORY"==n.toUpperCase()&&t.utils.toolbox.isCategoryCollapsible(e)&&(n=t.CollapsibleToolboxCategory.registrationName),(n=t.registry.getClass(t.registry.Type.TOOLBOX_ITEM,n.toLowerCase()))&&(e=new n(e,this),this.addToolboxItem_(e),e.init(),(n=e.getDiv())&&o.appendChild(n),e.getClickTarget&&e.getClickTarget().setAttribute("id",e.getId()))},t.Toolbox.prototype.addToolboxItem_=function(t){if(this.contents_.push(t),this.contentMap_[t.getId()]=t,t.isCollapsible())for(var e,o=0;e=t.getChildToolboxItems()[o];o++)this.addToolboxItem_(e)},t.Toolbox.prototype.getToolboxItems=function(){return this.contents_},t.Toolbox.prototype.addStyle=function(e){t.utils.dom.addClass(this.HtmlDiv,e)},t.Toolbox.prototype.removeStyle=function(e){t.utils.dom.removeClass(this.HtmlDiv,e)},t.Toolbox.prototype.getClientRect=function(){if(!this.HtmlDiv)return null;var e=this.HtmlDiv.getBoundingClientRect(),o=e.top,n=o+e.height,r=e.left;return e=r+e.width,this.toolboxPosition==t.utils.toolbox.Position.TOP?new t.utils.Rect(-1e7,n,-1e7,1e7):this.toolboxPosition==t.utils.toolbox.Position.BOTTOM?new t.utils.Rect(o,1e7,-1e7,1e7):this.toolboxPosition==t.utils.toolbox.Position.LEFT?new t.utils.Rect(-1e7,1e7,-1e7,e):new t.utils.Rect(-1e7,1e7,r,1e7)},t.Toolbox.prototype.getToolboxItemById=function(t){return this.contentMap_[t]},t.Toolbox.prototype.getWidth=function(){return this.width_},t.Toolbox.prototype.getHeight=function(){return this.height_},t.Toolbox.prototype.getFlyout=function(){return this.flyout_},t.Toolbox.prototype.getWorkspace=function(){return this.workspace_},t.Toolbox.prototype.getSelectedItem=function(){return this.selectedItem_},t.Toolbox.prototype.getPreviouslySelectedItem=function(){return this.previouslySelectedItem_},t.Toolbox.prototype.isHorizontal=function(){return this.horizontalLayout_},t.Toolbox.prototype.position=function(){var e=this.workspace_.getMetrics(),o=this.HtmlDiv;o&&(this.horizontalLayout_?(o.style.left="0",o.style.height="auto",o.style.width="100%",this.height_=o.offsetHeight,this.width_=e.viewWidth,this.toolboxPosition==t.utils.toolbox.Position.TOP?o.style.top="0":o.style.bottom="0"):(this.toolboxPosition==t.utils.toolbox.Position.RIGHT?o.style.right="0":o.style.left="0",o.style.height="100%",this.width_=o.offsetWidth,this.height_=e.viewHeight),this.flyout_.position())},t.Toolbox.prototype.handleToolboxItemResize=function(){var e=this.workspace_,o=this.HtmlDiv.getBoundingClientRect();e.translate(this.toolboxPosition==t.utils.toolbox.Position.LEFT?e.scrollX+o.width:e.scrollX,this.toolboxPosition==t.utils.toolbox.Position.TOP?e.scrollY+o.height:e.scrollY),t.svgResize(e)},t.Toolbox.prototype.clearSelection=function(){this.setSelectedItem(null)},t.Toolbox.prototype.refreshTheme=function(){for(var t=0;t<this.contents_.length;t++){var e=this.contents_[t];e.refreshTheme&&e.refreshTheme()}},t.Toolbox.prototype.refreshSelection=function(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout_.show(this.selectedItem_.getContents())},t.Toolbox.prototype.setVisible=function(t){this.HtmlDiv.style.display=t?"block":"none"},t.Toolbox.prototype.setSelectedItem=function(t){var e=this.selectedItem_;!t&&!e||t&&!t.isSelectable()||(this.shouldDeselectItem_(e,t)&&null!=e&&this.deselectItem_(e),this.shouldSelectItem_(e,t)&&null!=t&&this.selectItem_(e,t),this.updateFlyout_(e,t),this.fireSelectEvent_(e,t))},t.Toolbox.prototype.shouldDeselectItem_=function(t,e){return null!=t&&(!t.isCollapsible()||t!=e)},t.Toolbox.prototype.shouldSelectItem_=function(t,e){return null!=e&&e!=t},t.Toolbox.prototype.deselectItem_=function(e){this.selectedItem_=null,this.previouslySelectedItem_=e,e.setSelected(!1),t.utils.aria.setState(this.contentsDiv_,t.utils.aria.State.ACTIVEDESCENDANT,"")},t.Toolbox.prototype.selectItem_=function(e,o){this.selectedItem_=o,this.previouslySelectedItem_=e,o.setSelected(!0),t.utils.aria.setState(this.contentsDiv_,t.utils.aria.State.ACTIVEDESCENDANT,o.getId())},t.Toolbox.prototype.selectItemByPosition=function(t){-1<t&&t<this.contents_.length&&(t=this.contents_[t]).isSelectable()&&this.setSelectedItem(t)},t.Toolbox.prototype.updateFlyout_=function(t,e){(t!=e||e.isCollapsible())&&e&&e.getContents().length?(this.flyout_.show(e.getContents()),this.flyout_.scrollToStart()):this.flyout_.hide()},t.Toolbox.prototype.fireSelectEvent_=function(e,o){var n=e&&e.getName(),r=o&&o.getName();e==o&&(r=null),e=new(t.Events.get(t.Events.TOOLBOX_ITEM_SELECT))(n,r,this.workspace_.id),t.Events.fire(e)},t.Toolbox.prototype.selectParent_=function(){return!(!this.selectedItem_||(this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.setExpanded(!1),0):!this.selectedItem_.getParent()||!this.selectedItem_.getParent().isSelectable()||(this.setSelectedItem(this.selectedItem_.getParent()),0)))},t.Toolbox.prototype.selectChild_=function(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;var t=this.selectedItem_;return t.isExpanded()?this.selectNext_():t.setExpanded(!0),!0},t.Toolbox.prototype.selectNext_=function(){if(!this.selectedItem_)return!1;var t=this.contents_.indexOf(this.selectedItem_)+1;if(-1<t&&t<this.contents_.length){for(var e=this.contents_[t];e&&!e.isSelectable();)e=this.contents_[++t];if(e&&e.isSelectable())return this.setSelectedItem(e),!0}return!1},t.Toolbox.prototype.selectPrevious_=function(){if(!this.selectedItem_)return!1;var t=this.contents_.indexOf(this.selectedItem_)-1;if(-1<t&&t<this.contents_.length){for(var e=this.contents_[t];e&&!e.isSelectable();)e=this.contents_[--t];if(e&&e.isSelectable())return this.setSelectedItem(e),!0}return!1},t.Toolbox.prototype.dispose=function(){this.flyout_.dispose();for(var e=0;e<this.contents_.length;e++)this.contents_[e].dispose();for(e=0;e<this.boundEvents_.length;e++)t.browserEvents.unbind(this.boundEvents_[e]);this.boundEvents_=[],this.contents_=[],this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),t.utils.dom.removeNode(this.HtmlDiv)},t.Css.register([".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","padding: 4px 0 4px 0;","position: absolute;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyToolboxContents {","display: flex;","flex-wrap: wrap;","flex-direction: column;","}",".blocklyToolboxContents:focus {","outline: none;","}"]),t.registry.register(t.registry.Type.TOOLBOX,t.registry.DEFAULT,t.Toolbox),t.Events.TrashcanOpen=function(e,o){t.Events.TrashcanOpen.superClass_.constructor.call(this,o),this.isOpen=e},t.utils.object.inherits(t.Events.TrashcanOpen,t.Events.UiBase),t.Events.TrashcanOpen.prototype.type=t.Events.TRASHCAN_OPEN,t.Events.TrashcanOpen.prototype.toJson=function(){var e=t.Events.TrashcanOpen.superClass_.toJson.call(this);return e.isOpen=this.isOpen,e},t.Events.TrashcanOpen.prototype.fromJson=function(e){t.Events.TrashcanOpen.superClass_.fromJson.call(this,e),this.isOpen=e.isOpen},t.registry.register(t.registry.Type.EVENT,t.Events.TRASHCAN_OPEN,t.Events.TrashcanOpen),t.IPlugin=function(){},t.IPositionable=function(){},t.Trashcan=function(e){this.workspace_=e,this.contents_=[],this.flyout=null,0>=this.workspace_.options.maxTrashcanContents||(e=new t.Options({scrollbars:!0,parentWorkspace:this.workspace_,rtl:this.workspace_.RTL,oneBasedIndex:this.workspace_.options.oneBasedIndex,renderer:this.workspace_.options.renderer,rendererOverrides:this.workspace_.options.rendererOverrides,move:{scrollbars:!0}}),this.workspace_.horizontalLayout?(e.toolboxPosition=this.workspace_.toolboxPosition==t.utils.toolbox.Position.TOP?t.utils.toolbox.Position.BOTTOM:t.utils.toolbox.Position.TOP,this.flyout=new(t.registry.getClassFromOptions(t.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace_.options,!0))(e)):(e.toolboxPosition=this.workspace_.toolboxPosition==t.utils.toolbox.Position.RIGHT?t.utils.toolbox.Position.LEFT:t.utils.toolbox.Position.RIGHT,this.flyout=new(t.registry.getClassFromOptions(t.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,this.workspace_.options,!0))(e)),this.workspace_.addChangeListener(this.onDelete_.bind(this)))},t.Trashcan.prototype.WIDTH_=47,t.Trashcan.prototype.BODY_HEIGHT_=44,t.Trashcan.prototype.LID_HEIGHT_=16,t.Trashcan.prototype.MARGIN_BOTTOM_=20,t.Trashcan.prototype.MARGIN_SIDE_=20,t.Trashcan.prototype.MARGIN_HOTSPOT_=10,t.Trashcan.prototype.SPRITE_LEFT_=0,t.Trashcan.prototype.SPRITE_TOP_=32,t.Trashcan.prototype.HAS_BLOCKS_LID_ANGLE_=.1,t.Trashcan.ANIMATION_LENGTH_=80,t.Trashcan.ANIMATION_FRAMES_=4,t.Trashcan.OPACITY_MIN_=.4,t.Trashcan.OPACITY_MAX_=.8,t.Trashcan.MAX_LID_ANGLE_=45,t.Trashcan.prototype.isLidOpen=!1,t.Trashcan.prototype.minOpenness_=0,t.Trashcan.prototype.svgGroup_=null,t.Trashcan.prototype.svgLid_=null,t.Trashcan.prototype.lidTask_=0,t.Trashcan.prototype.lidOpen_=0,t.Trashcan.prototype.left_=0,t.Trashcan.prototype.top_=0,t.Trashcan.prototype.createDom=function(){this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyTrash"},null);var e=String(Math.random()).substring(2),o=t.utils.dom.createSvgElement(t.utils.Svg.CLIPPATH,{id:"blocklyTrashBodyClipPath"+e},this.svgGroup_);t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:this.WIDTH_,height:this.BODY_HEIGHT_,y:this.LID_HEIGHT_},o);var n=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{width:t.SPRITE.width,x:-this.SPRITE_LEFT_,height:t.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashBodyClipPath"+e+")"},this.svgGroup_);return n.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),o=t.utils.dom.createSvgElement(t.utils.Svg.CLIPPATH,{id:"blocklyTrashLidClipPath"+e},this.svgGroup_),t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:this.WIDTH_,height:this.LID_HEIGHT_},o),this.svgLid_=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{width:t.SPRITE.width,x:-this.SPRITE_LEFT_,height:t.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashLidClipPath"+e+")"},this.svgGroup_),this.svgLid_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),t.browserEvents.bind(this.svgGroup_,"mousedown",this,this.blockMouseDownWhenOpenable_),t.browserEvents.bind(this.svgGroup_,"mouseup",this,this.click),t.browserEvents.bind(n,"mouseover",this,this.mouseOver_),t.browserEvents.bind(n,"mouseout",this,this.mouseOut_),this.animateLid_(),this.svgGroup_},t.Trashcan.prototype.init=function(e){return 0<this.workspace_.options.maxTrashcanContents&&(t.utils.dom.insertAfter(this.flyout.createDom(t.utils.Svg.SVG),this.workspace_.getParentSvg()),this.flyout.init(this.workspace_)),this.verticalSpacing_=this.MARGIN_BOTTOM_+e,this.setLidOpen(!1),this.verticalSpacing_+this.BODY_HEIGHT_+this.LID_HEIGHT_},t.Trashcan.prototype.dispose=function(){this.svgGroup_&&(t.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.workspace_=this.svgLid_=null,clearTimeout(this.lidTask_)},t.Trashcan.prototype.hasContents_=function(){return!!this.contents_.length},t.Trashcan.prototype.contentsIsOpen=function(){return this.flyout.isVisible()},t.Trashcan.prototype.openFlyout=function(){if(!this.contentsIsOpen()){for(var e,o=[],n=0;e=this.contents_[n];n++)o[n]=t.Xml.textToDom(e);this.flyout.show(o),this.fireUiEvent_(!0)}},t.Trashcan.prototype.closeFlyout=function(){this.contentsIsOpen()&&(this.flyout.hide(),this.fireUiEvent_(!1))},t.Trashcan.prototype.emptyContents=function(){this.hasContents_()&&(this.contents_.length=0,this.setMinOpenness_(0),this.closeFlyout())},t.Trashcan.prototype.position=function(e,o){if(this.verticalSpacing_){this.left_=e.toolboxMetrics.position==t.utils.toolbox.Position.LEFT||this.workspace_.horizontalLayout&&!this.workspace_.RTL?e.viewMetrics.width+e.absoluteMetrics.left-this.WIDTH_-this.MARGIN_SIDE_-t.Scrollbar.scrollbarThickness:this.MARGIN_SIDE_+t.Scrollbar.scrollbarThickness;var n=this.BODY_HEIGHT_+this.LID_HEIGHT_,r=this.top_=e.absoluteMetrics.top+this.verticalSpacing_,i=e.absoluteMetrics.top+e.viewMetrics.height-n-this.verticalSpacing_;this.top_=(e=e.toolboxMetrics.position!==t.utils.toolbox.Position.BOTTOM)?i:r;for(var s,a=this.getBoundingRectangle(),l=0;s=o[l];l++)a.intersects(s)&&(this.top_=e?s.top-n-this.MARGIN_BOTTOM_:s.bottom+this.MARGIN_BOTTOM_,a=this.getBoundingRectangle(),l=-1);this.top_=t.utils.math.clamp(r,this.top_,i),this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}},t.Trashcan.prototype.getBoundingRectangle=function(){return new t.utils.Rect(this.top_,this.top_+this.BODY_HEIGHT_+this.LID_HEIGHT_,this.left_,this.left_+this.WIDTH_)},t.Trashcan.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect(),o=e.top+this.SPRITE_TOP_-this.MARGIN_HOTSPOT_;return e=e.left+this.SPRITE_LEFT_-this.MARGIN_HOTSPOT_,new t.utils.Rect(o,o+this.LID_HEIGHT_+this.BODY_HEIGHT_+2*this.MARGIN_HOTSPOT_,e,e+this.WIDTH_+2*this.MARGIN_HOTSPOT_)},t.Trashcan.prototype.setLidOpen=function(t){this.isLidOpen!=t&&(clearTimeout(this.lidTask_),this.isLidOpen=t,this.animateLid_())},t.Trashcan.prototype.animateLid_=function(){var e=t.Trashcan.ANIMATION_FRAMES_,o=1/(e+1);this.lidOpen_+=this.isLidOpen?o:-o,this.lidOpen_=Math.min(Math.max(this.lidOpen_,this.minOpenness_),1),this.setLidAngle_(this.lidOpen_*t.Trashcan.MAX_LID_ANGLE_),o=t.Trashcan.OPACITY_MIN_,this.svgGroup_.style.opacity=o+this.lidOpen_*(t.Trashcan.OPACITY_MAX_-o),this.lidOpen_>this.minOpenness_&&1>this.lidOpen_&&(this.lidTask_=setTimeout(this.animateLid_.bind(this),t.Trashcan.ANIMATION_LENGTH_/e))},t.Trashcan.prototype.setLidAngle_=function(e){var o=this.workspace_.toolboxPosition==t.utils.toolbox.Position.RIGHT||this.workspace_.horizontalLayout&&this.workspace_.RTL;this.svgLid_.setAttribute("transform","rotate("+(o?-e:e)+","+(o?4:this.WIDTH_-4)+","+(this.LID_HEIGHT_-2)+")")},t.Trashcan.prototype.setMinOpenness_=function(e){this.minOpenness_=e,this.isLidOpen||this.setLidAngle_(e*t.Trashcan.MAX_LID_ANGLE_)},t.Trashcan.prototype.closeLid=function(){this.setLidOpen(!1)},t.Trashcan.prototype.click=function(){this.hasContents_()&&this.openFlyout()},t.Trashcan.prototype.fireUiEvent_=function(e){e=new(t.Events.get(t.Events.TRASHCAN_OPEN))(e,this.workspace_.id),t.Events.fire(e)},t.Trashcan.prototype.blockMouseDownWhenOpenable_=function(t){!this.contentsIsOpen()&&this.hasContents_()&&t.stopPropagation()},t.Trashcan.prototype.mouseOver_=function(){this.hasContents_()&&this.setLidOpen(!0)},t.Trashcan.prototype.mouseOut_=function(){this.setLidOpen(!1)},t.Trashcan.prototype.onDelete_=function(e){if(!(0>=this.workspace_.options.maxTrashcanContents)&&e.type==t.Events.BLOCK_DELETE&&e.oldXml.tagName&&"shadow"!=e.oldXml.tagName.toLowerCase()&&(e=this.cleanBlockXML_(e.oldXml),-1==this.contents_.indexOf(e))){for(this.contents_.unshift(e);this.contents_.length>this.workspace_.options.maxTrashcanContents;)this.contents_.pop();this.setMinOpenness_(this.HAS_BLOCKS_LID_ANGLE_)}},t.Trashcan.prototype.cleanBlockXML_=function(e){for(var o=e=e.cloneNode(!0);o;){o.removeAttribute&&(o.removeAttribute("x"),o.removeAttribute("y"),o.removeAttribute("id"),o.removeAttribute("disabled"),"comment"==o.nodeName&&(o.removeAttribute("h"),o.removeAttribute("w"),o.removeAttribute("pinned")));var n=o.firstChild||o.nextSibling;if(!n)for(n=o.parentNode;n;){if(n.nextSibling){n=n.nextSibling;break}n=n.parentNode}o=n}return t.Xml.domToText(e)},t.VariablesDynamic={},t.VariablesDynamic.onCreateVariableButtonClick_String=function(e){t.Variables.createVariableButtonHandler(e.getTargetWorkspace(),void 0,"String")},t.VariablesDynamic.onCreateVariableButtonClick_Number=function(e){t.Variables.createVariableButtonHandler(e.getTargetWorkspace(),void 0,"Number")},t.VariablesDynamic.onCreateVariableButtonClick_Colour=function(e){t.Variables.createVariableButtonHandler(e.getTargetWorkspace(),void 0,"Colour")},t.VariablesDynamic.flyoutCategory=function(e){var o=[],n=document.createElement("button");return n.setAttribute("text",t.Msg.NEW_STRING_VARIABLE),n.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),o.push(n),(n=document.createElement("button")).setAttribute("text",t.Msg.NEW_NUMBER_VARIABLE),n.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),o.push(n),(n=document.createElement("button")).setAttribute("text",t.Msg.NEW_COLOUR_VARIABLE),n.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),o.push(n),e.registerButtonCallback("CREATE_VARIABLE_STRING",t.VariablesDynamic.onCreateVariableButtonClick_String),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",t.VariablesDynamic.onCreateVariableButtonClick_Number),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",t.VariablesDynamic.onCreateVariableButtonClick_Colour),e=t.VariablesDynamic.flyoutCategoryBlocks(e),o.concat(e)},t.VariablesDynamic.flyoutCategoryBlocks=function(e){var o=[];if(0<(e=e.getAllVariables()).length){if(t.Blocks.variables_set_dynamic){var n=e[e.length-1],r=t.utils.xml.createElement("block");r.setAttribute("type","variables_set_dynamic"),r.setAttribute("gap",24),r.appendChild(t.Variables.generateVariableFieldDom(n)),o.push(r)}if(t.Blocks.variables_get_dynamic){e.sort(t.VariableModel.compareByName),n=0;for(var i;i=e[n];n++)(r=t.utils.xml.createElement("block")).setAttribute("type","variables_get_dynamic"),r.setAttribute("gap",8),r.appendChild(t.Variables.generateVariableFieldDom(i)),o.push(r)}}return o},t.ZoomControls=function(t){this.workspace_=t,this.zoomResetGroup_=this.zoomOutGroup_=this.zoomInGroup_=this.verticalSpacing_=this.onZoomOutWrapper_=this.onZoomInWrapper_=this.onZoomResetWrapper_=null},t.ZoomControls.prototype.WIDTH_=32,t.ZoomControls.prototype.HEIGHT_=110,t.ZoomControls.prototype.MARGIN_BOTTOM_=20,t.ZoomControls.prototype.MARGIN_SIDE_=20,t.ZoomControls.prototype.svgGroup_=null,t.ZoomControls.prototype.left_=0,t.ZoomControls.prototype.top_=0,t.ZoomControls.prototype.createDom=function(){this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},null);var e=String(Math.random()).substring(2);return this.createZoomOutSvg_(e),this.createZoomInSvg_(e),this.workspace_.isMovable()&&this.createZoomResetSvg_(e),this.svgGroup_},t.ZoomControls.prototype.init=function(t){return this.verticalSpacing_=this.MARGIN_BOTTOM_+t,this.verticalSpacing_+this.HEIGHT_},t.ZoomControls.prototype.dispose=function(){this.svgGroup_&&t.utils.dom.removeNode(this.svgGroup_),this.onZoomResetWrapper_&&t.browserEvents.unbind(this.onZoomResetWrapper_),this.onZoomInWrapper_&&t.browserEvents.unbind(this.onZoomInWrapper_),this.onZoomOutWrapper_&&t.browserEvents.unbind(this.onZoomOutWrapper_)},t.ZoomControls.prototype.getBoundingRectangle=function(){return new t.utils.Rect(this.top_,this.top_+this.HEIGHT_,this.left_,this.left_+this.WIDTH_)},t.ZoomControls.prototype.position=function(e,o){if(this.verticalSpacing_){this.left_=e.toolboxMetrics.position==t.utils.toolbox.Position.LEFT||this.workspace_.horizontalLayout&&!this.workspace_.RTL?e.viewMetrics.width+e.absoluteMetrics.left-this.WIDTH_-this.MARGIN_SIDE_-t.Scrollbar.scrollbarThickness:this.MARGIN_SIDE_+t.Scrollbar.scrollbarThickness;var n=this.top_=e.absoluteMetrics.top+this.verticalSpacing_,r=e.absoluteMetrics.top+e.viewMetrics.height-this.HEIGHT_-this.verticalSpacing_;this.top_=(e=e.toolboxMetrics.position!==t.utils.toolbox.Position.BOTTOM)?r:n,e?(this.zoomInGroup_.setAttribute("transform","translate(0, 43)"),this.zoomOutGroup_.setAttribute("transform","translate(0, 77)")):(this.zoomInGroup_.setAttribute("transform","translate(0, 34)"),this.zoomResetGroup_&&this.zoomResetGroup_.setAttribute("transform","translate(0, 77)"));for(var i,s=this.getBoundingRectangle(),a=0;i=o[a];a++)s.intersects(i)&&(this.top_=e?i.top-this.HEIGHT_-this.MARGIN_BOTTOM_:i.bottom+this.MARGIN_BOTTOM_,s=this.getBoundingRectangle(),a=-1);this.top_=t.utils.math.clamp(n,this.top_,r),this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}},t.ZoomControls.prototype.createZoomOutSvg_=function(e){this.zoomOutGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var o=t.utils.dom.createSvgElement(t.utils.Svg.CLIPPATH,{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup_);t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:32,height:32},o),t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{width:t.SPRITE.width,height:t.SPRITE.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup_).setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),this.onZoomOutWrapper_=t.browserEvents.conditionalBind(this.zoomOutGroup_,"mousedown",null,this.zoom_.bind(this,-1))},t.ZoomControls.prototype.createZoomInSvg_=function(e){this.zoomInGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var o=t.utils.dom.createSvgElement(t.utils.Svg.CLIPPATH,{id:"blocklyZoominClipPath"+e},this.zoomInGroup_);t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:32,height:32},o),t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{width:t.SPRITE.width,height:t.SPRITE.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup_).setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),this.onZoomInWrapper_=t.browserEvents.conditionalBind(this.zoomInGroup_,"mousedown",null,this.zoom_.bind(this,1))},t.ZoomControls.prototype.zoom_=function(e,o){this.workspace_.markFocused(),this.workspace_.zoomCenter(e),this.fireZoomEvent_(),t.Touch.clearTouchIdentifier(),o.stopPropagation(),o.preventDefault()},t.ZoomControls.prototype.createZoomResetSvg_=function(e){this.zoomResetGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var o=t.utils.dom.createSvgElement(t.utils.Svg.CLIPPATH,{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup_);t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:32,height:32},o),t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{width:t.SPRITE.width,height:t.SPRITE.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup_).setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),this.onZoomResetWrapper_=t.browserEvents.conditionalBind(this.zoomResetGroup_,"mousedown",null,this.resetZoom_.bind(this))},t.ZoomControls.prototype.resetZoom_=function(e){this.workspace_.markFocused();var o=Math.log(this.workspace_.options.zoomOptions.startScale/this.workspace_.scale)/Math.log(this.workspace_.options.zoomOptions.scaleSpeed);this.workspace_.beginCanvasTransition(),this.workspace_.zoomCenter(o),this.workspace_.scrollCenter(),setTimeout(this.workspace_.endCanvasTransition.bind(this.workspace_),500),this.fireZoomEvent_(),t.Touch.clearTouchIdentifier(),e.stopPropagation(),e.preventDefault()},t.ZoomControls.prototype.fireZoomEvent_=function(){var e=new(t.Events.get(t.Events.CLICK))(null,this.workspace_.id,"zoom_controls");t.Events.fire(e)},t.Css.register([".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}"]),t.ShortcutItems={},t.ShortcutItems.names={ESCAPE:"escape",DELETE:"delete",COPY:"copy",CUT:"cut",PASTE:"paste",UNDO:"undo",REDO:"redo"},t.ShortcutItems.registerEscape=function(){var e={name:t.ShortcutItems.names.ESCAPE,preconditionFn:function(t){return!t.options.readOnly},callback:function(){return t.hideChaff(),!0}};t.ShortcutRegistry.registry.register(e),t.ShortcutRegistry.registry.addKeyMapping(t.utils.KeyCodes.ESC,e.name)},t.ShortcutItems.registerDelete=function(){var e={name:t.ShortcutItems.names.DELETE,preconditionFn:function(e){return!e.options.readOnly&&t.selected&&t.selected.isDeletable()},callback:function(e,o){return o.preventDefault(),!t.Gesture.inProgress()&&(t.deleteBlock(t.selected),!0)}};t.ShortcutRegistry.registry.register(e),t.ShortcutRegistry.registry.addKeyMapping(t.utils.KeyCodes.DELETE,e.name),t.ShortcutRegistry.registry.addKeyMapping(t.utils.KeyCodes.BACKSPACE,e.name)},t.ShortcutItems.registerCopy=function(){var e={name:t.ShortcutItems.names.COPY,preconditionFn:function(e){return!e.options.readOnly&&!t.Gesture.inProgress()&&t.selected&&t.selected.isDeletable()&&t.selected.isMovable()},callback:function(){return t.hideChaff(),t.copy(t.selected),!0}};t.ShortcutRegistry.registry.register(e);var o=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.C,[t.utils.KeyCodes.CTRL]);t.ShortcutRegistry.registry.addKeyMapping(o,e.name),o=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.C,[t.utils.KeyCodes.ALT]),t.ShortcutRegistry.registry.addKeyMapping(o,e.name),o=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.C,[t.utils.KeyCodes.META]),t.ShortcutRegistry.registry.addKeyMapping(o,e.name)},t.ShortcutItems.registerCut=function(){var e={name:t.ShortcutItems.names.CUT,preconditionFn:function(e){return!e.options.readOnly&&!t.Gesture.inProgress()&&t.selected&&t.selected.isDeletable()&&t.selected.isMovable()&&!t.selected.workspace.isFlyout},callback:function(){return t.copy(t.selected),t.deleteBlock(t.selected),!0}};t.ShortcutRegistry.registry.register(e);var o=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.X,[t.utils.KeyCodes.CTRL]);t.ShortcutRegistry.registry.addKeyMapping(o,e.name),o=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.X,[t.utils.KeyCodes.ALT]),t.ShortcutRegistry.registry.addKeyMapping(o,e.name),o=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.X,[t.utils.KeyCodes.META]),t.ShortcutRegistry.registry.addKeyMapping(o,e.name)},t.ShortcutItems.registerPaste=function(){var e={name:t.ShortcutItems.names.PASTE,preconditionFn:function(e){return!e.options.readOnly&&!t.Gesture.inProgress()},callback:function(){return t.paste()}};t.ShortcutRegistry.registry.register(e);var o=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.V,[t.utils.KeyCodes.CTRL]);t.ShortcutRegistry.registry.addKeyMapping(o,e.name),o=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.V,[t.utils.KeyCodes.ALT]),t.ShortcutRegistry.registry.addKeyMapping(o,e.name),o=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.V,[t.utils.KeyCodes.META]),t.ShortcutRegistry.registry.addKeyMapping(o,e.name)},t.ShortcutItems.registerUndo=function(){var e={name:t.ShortcutItems.names.UNDO,preconditionFn:function(e){return!e.options.readOnly&&!t.Gesture.inProgress()},callback:function(e){return t.hideChaff(),e.undo(!1),!0}};t.ShortcutRegistry.registry.register(e);var o=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.CTRL]);t.ShortcutRegistry.registry.addKeyMapping(o,e.name),o=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.ALT]),t.ShortcutRegistry.registry.addKeyMapping(o,e.name),o=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.META]),t.ShortcutRegistry.registry.addKeyMapping(o,e.name)},t.ShortcutItems.registerRedo=function(){var e={name:t.ShortcutItems.names.REDO,preconditionFn:function(e){return!t.Gesture.inProgress()&&!e.options.readOnly},callback:function(e){return t.hideChaff(),e.undo(!0),!0}};t.ShortcutRegistry.registry.register(e);var o=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.SHIFT,t.utils.KeyCodes.CTRL]);t.ShortcutRegistry.registry.addKeyMapping(o,e.name),o=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.SHIFT,t.utils.KeyCodes.ALT]),t.ShortcutRegistry.registry.addKeyMapping(o,e.name),o=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.SHIFT,t.utils.KeyCodes.META]),t.ShortcutRegistry.registry.addKeyMapping(o,e.name),o=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Y,[t.utils.KeyCodes.CTRL]),t.ShortcutRegistry.registry.addKeyMapping(o,e.name)},t.ShortcutItems.registerDefaultShortcuts=function(){t.ShortcutItems.registerEscape(),t.ShortcutItems.registerDelete(),t.ShortcutItems.registerCopy(),t.ShortcutItems.registerCut(),t.ShortcutItems.registerPaste(),t.ShortcutItems.registerUndo(),t.ShortcutItems.registerRedo()},t.ShortcutItems.registerDefaultShortcuts(),t.ContextMenuItems={},t.ContextMenuItems.registerUndo=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.UNDO},preconditionFn:function(t){return 0<t.workspace.getUndoStack().length?"enabled":"disabled"},callback:function(t){t.workspace.undo(!1)},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},t.ContextMenuItems.registerRedo=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.REDO},preconditionFn:function(t){return 0<t.workspace.getRedoStack().length?"enabled":"disabled"},callback:function(t){t.workspace.undo(!0)},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},t.ContextMenuItems.registerCleanup=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.CLEAN_UP},preconditionFn:function(t){return t.workspace.isMovable()?1<t.workspace.getTopBlocks(!1).length?"enabled":"disabled":"hidden"},callback:function(t){t.workspace.cleanUp()},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},t.ContextMenuItems.toggleOption_=function(t,e){for(var o=0,n=0;n<e.length;n++)for(var r=e[n];r;)setTimeout(r.setCollapsed.bind(r,t),o),r=r.getNextBlock(),o+=10},t.ContextMenuItems.registerCollapse=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.COLLAPSE_ALL},preconditionFn:function(t){if(t.workspace.options.collapse){t=t.workspace.getTopBlocks(!1);for(var e=0;e<t.length;e++)for(var o=t[e];o;){if(!o.isCollapsed())return"enabled";o=o.getNextBlock()}return"disabled"}return"hidden"},callback:function(e){t.ContextMenuItems.toggleOption_(!0,e.workspace.getTopBlocks(!0))},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},t.ContextMenuItems.registerExpand=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.EXPAND_ALL},preconditionFn:function(t){if(t.workspace.options.collapse){t=t.workspace.getTopBlocks(!1);for(var e=0;e<t.length;e++)for(var o=t[e];o;){if(o.isCollapsed())return"enabled";o=o.getNextBlock()}return"disabled"}return"hidden"},callback:function(e){t.ContextMenuItems.toggleOption_(!1,e.workspace.getTopBlocks(!0))},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},t.ContextMenuItems.addDeletableBlocks_=function(e,o){if(e.isDeletable())Array.prototype.push.apply(o,e.getDescendants(!1));else{e=e.getChildren(!1);for(var n=0;n<e.length;n++)t.ContextMenuItems.addDeletableBlocks_(e[n],o)}},t.ContextMenuItems.getDeletableBlocks_=function(e){var o=[];e=e.getTopBlocks(!0);for(var n=0;n<e.length;n++)t.ContextMenuItems.addDeletableBlocks_(e[n],o);return o},t.ContextMenuItems.deleteNext_=function(e,o){t.Events.setGroup(o);var n=e.shift();n&&(n.workspace?(n.dispose(!1,!0),setTimeout(t.ContextMenuItems.deleteNext_,10,e,o)):t.ContextMenuItems.deleteNext_(e,o)),t.Events.setGroup(!1)},t.ContextMenuItems.registerDeleteAll=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){if(e.workspace)return 1==(e=t.ContextMenuItems.getDeletableBlocks_(e.workspace).length)?t.Msg.DELETE_BLOCK:t.Msg.DELETE_X_BLOCKS.replace("%1",String(e))},preconditionFn:function(e){if(e.workspace)return 0<t.ContextMenuItems.getDeletableBlocks_(e.workspace).length?"enabled":"disabled"},callback:function(e){if(e.workspace){e.workspace.cancelCurrentGesture();var o=t.ContextMenuItems.getDeletableBlocks_(e.workspace),n=t.utils.genUid();2>o.length?t.ContextMenuItems.deleteNext_(o,n):t.confirm(t.Msg.DELETE_ALL_BLOCKS.replace("%1",o.length),(function(e){e&&t.ContextMenuItems.deleteNext_(o,n)}))}},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},t.ContextMenuItems.registerWorkspaceOptions_=function(){t.ContextMenuItems.registerUndo(),t.ContextMenuItems.registerRedo(),t.ContextMenuItems.registerCleanup(),t.ContextMenuItems.registerCollapse(),t.ContextMenuItems.registerExpand(),t.ContextMenuItems.registerDeleteAll()},t.ContextMenuItems.registerDuplicate=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.DUPLICATE_BLOCK},preconditionFn:function(t){return!(t=t.block).isInFlyout&&t.isDeletable()&&t.isMovable()?t.isDuplicatable()?"enabled":"disabled":"hidden"},callback:function(e){e.block&&t.duplicate(e.block)},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},t.ContextMenuItems.registerComment=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){return e.block.getCommentIcon()?t.Msg.REMOVE_COMMENT:t.Msg.ADD_COMMENT},preconditionFn:function(e){return e=e.block,t.utils.userAgent.IE||e.isInFlyout||!e.workspace.options.comments||e.isCollapsed()||!e.isEditable()?"hidden":"enabled"},callback:function(t){(t=t.block).getCommentIcon()?t.setCommentText(null):t.setCommentText("")},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockComment",weight:2})},t.ContextMenuItems.registerInline=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){return e.block.getInputsInline()?t.Msg.EXTERNAL_INPUTS:t.Msg.INLINE_INPUTS},preconditionFn:function(e){if(!(e=e.block).isInFlyout&&e.isMovable()&&!e.isCollapsed())for(var o=1;o<e.inputList.length;o++)if(e.inputList[o-1].type!=t.inputTypes.STATEMENT&&e.inputList[o].type!=t.inputTypes.STATEMENT)return"enabled";return"hidden"},callback:function(t){t.block.setInputsInline(!t.block.getInputsInline())},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockInline",weight:3})},t.ContextMenuItems.registerCollapseExpandBlock=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){return e.block.isCollapsed()?t.Msg.EXPAND_BLOCK:t.Msg.COLLAPSE_BLOCK},preconditionFn:function(t){return!(t=t.block).isInFlyout&&t.isMovable()?"enabled":"hidden"},callback:function(t){t.block.setCollapsed(!t.block.isCollapsed())},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},t.ContextMenuItems.registerDisable=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){return e.block.isEnabled()?t.Msg.DISABLE_BLOCK:t.Msg.ENABLE_BLOCK},preconditionFn:function(t){return!(t=t.block).isInFlyout&&t.workspace.options.disable&&t.isEditable()?t.getInheritedDisabled()?"disabled":"enabled":"hidden"},callback:function(e){e=e.block;var o=t.Events.getGroup();o||t.Events.setGroup(!0),e.setEnabled(!e.isEnabled()),o||t.Events.setGroup(!1)},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDisable",weight:5})},t.ContextMenuItems.registerDelete=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){var o=e.block;return e=o.getDescendants(!1).length,(o=o.getNextBlock())&&(e-=o.getDescendants(!1).length),1==e?t.Msg.DELETE_BLOCK:t.Msg.DELETE_X_BLOCKS.replace("%1",String(e))},preconditionFn:function(t){return!t.block.isInFlyout&&t.block.isDeletable()?"enabled":"hidden"},callback:function(e){t.Events.setGroup(!0),e.block.dispose(!0,!0),t.Events.setGroup(!1)},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDelete",weight:6})},t.ContextMenuItems.registerHelp=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.HELP},preconditionFn:function(t){return("function"==typeof(t=t.block).helpUrl?t.helpUrl():t.helpUrl)?"enabled":"hidden"},callback:function(t){t.block.showHelp()},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockHelp",weight:7})},t.ContextMenuItems.registerBlockOptions_=function(){t.ContextMenuItems.registerDuplicate(),t.ContextMenuItems.registerComment(),t.ContextMenuItems.registerInline(),t.ContextMenuItems.registerCollapseExpandBlock(),t.ContextMenuItems.registerDisable(),t.ContextMenuItems.registerDelete(),t.ContextMenuItems.registerHelp()},t.ContextMenuItems.registerDefaultOptions=function(){t.ContextMenuItems.registerWorkspaceOptions_(),t.ContextMenuItems.registerBlockOptions_()},t.ContextMenuItems.registerDefaultOptions(),t.Mutator=function(e){t.Mutator.superClass_.constructor.call(this,null),this.quarkNames_=e},t.utils.object.inherits(t.Mutator,t.Icon),t.Mutator.prototype.workspaceWidth_=0,t.Mutator.prototype.workspaceHeight_=0,t.Mutator.prototype.setBlock=function(t){this.block_=t},t.Mutator.prototype.getWorkspace=function(){return this.workspace_},t.Mutator.prototype.drawIcon_=function(e){t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},e),t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},e),t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},e)},t.Mutator.prototype.iconClick_=function(e){this.block_.isEditable()&&t.Icon.prototype.iconClick_.call(this,e)},t.Mutator.prototype.createEditor_=function(){if(this.svgDialog_=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{x:t.Bubble.BORDER_WIDTH,y:t.Bubble.BORDER_WIDTH},null),this.quarkNames_.length)for(var e,o=t.utils.xml.createElement("xml"),n=0;e=this.quarkNames_[n];n++){var r=t.utils.xml.createElement("block");r.setAttribute("type",e),o.appendChild(r)}else o=null;return(n=new t.Options({disable:!1,parentWorkspace:this.block_.workspace,media:this.block_.workspace.options.pathToMedia,rtl:this.block_.RTL,horizontalLayout:!1,renderer:this.block_.workspace.options.renderer,rendererOverrides:this.block_.workspace.options.rendererOverrides})).toolboxPosition=this.block_.RTL?t.utils.toolbox.Position.RIGHT:t.utils.toolbox.Position.LEFT,(e=!!o)&&(n.languageTree=t.utils.toolbox.convertToolboxDefToJson(o)),this.workspace_=new t.WorkspaceSvg(n),this.workspace_.isMutator=!0,this.workspace_.addChangeListener(t.Events.disableOrphans),o=e?this.workspace_.addFlyout(t.utils.Svg.G):null,n=this.workspace_.createDom("blocklyMutatorBackground"),o&&n.insertBefore(o,this.workspace_.svgBlockCanvas_),this.svgDialog_.appendChild(n),this.svgDialog_},t.Mutator.prototype.updateEditable=function(){t.Mutator.superClass_.updateEditable.call(this),this.block_.isInFlyout||(this.block_.isEditable()?this.iconGroup_&&t.utils.dom.removeClass(this.iconGroup_,"blocklyIconGroupReadonly"):(this.setVisible(!1),this.iconGroup_&&t.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly")))},t.Mutator.prototype.resizeBubble_=function(){var e=2*t.Bubble.BORDER_WIDTH,o=this.workspace_.getCanvas().getBBox(),n=o.width+o.x,r=o.height+3*e,i=this.workspace_.getFlyout();if(i){var s=i.getWorkspace().getMetricsManager().getScrollMetrics();r=Math.max(r,s.height+20),n+=i.getWidth()}this.block_.RTL&&(n=-o.x),n+=3*e,(Math.abs(this.workspaceWidth_-n)>e||Math.abs(this.workspaceHeight_-r)>e)&&(this.workspaceWidth_=n,this.workspaceHeight_=r,this.bubble_.setBubbleSize(n+e,r+e),this.svgDialog_.setAttribute("width",this.workspaceWidth_),this.svgDialog_.setAttribute("height",this.workspaceHeight_),this.workspace_.setCachedParentSvgSize(this.workspaceWidth_,this.workspaceHeight_)),this.block_.RTL&&(e="translate("+this.workspaceWidth_+",0)",this.workspace_.getCanvas().setAttribute("transform",e)),this.workspace_.resize()},t.Mutator.prototype.onBubbleMove_=function(){this.workspace_&&this.workspace_.recordDeleteAreas()},t.Mutator.prototype.setVisible=function(e){if(e!=this.isVisible())if(t.Events.fire(new(t.Events.get(t.Events.BUBBLE_OPEN))(this.block_,e,"mutator")),e){this.bubble_=new t.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,null,null),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerMoveEvent(this.onBubbleMove_.bind(this));var o=this.workspace_.options.languageTree;e=this.workspace_.getFlyout(),o&&(e.init(this.workspace_),e.show(o)),this.rootBlock_=this.block_.decompose(this.workspace_),o=this.rootBlock_.getDescendants(!1);for(var n,r=0;n=o[r];r++)n.render();if(this.rootBlock_.setMovable(!1),this.rootBlock_.setDeletable(!1),e?(o=2*e.CORNER_RADIUS,e=this.rootBlock_.RTL?e.getWidth()+o:o):e=o=16,this.block_.RTL&&(e=-e),this.rootBlock_.moveBy(e,o),this.block_.saveConnections){var i=this,s=this.block_;s.saveConnections(this.rootBlock_),this.sourceListener_=function(){s.saveConnections(i.rootBlock_)},this.block_.workspace.addChangeListener(this.sourceListener_)}this.resizeBubble_(),this.workspace_.addChangeListener(this.workspaceChanged_.bind(this)),this.applyColour()}else this.svgDialog_=null,this.workspace_.dispose(),this.rootBlock_=this.workspace_=null,this.bubble_.dispose(),this.bubble_=null,this.workspaceHeight_=this.workspaceWidth_=0,this.sourceListener_&&(this.block_.workspace.removeChangeListener(this.sourceListener_),this.sourceListener_=null)},t.Mutator.prototype.workspaceChanged_=function(e){if(!(e.isUiEvent||e.type==t.Events.CHANGE&&"disabled"==e.element)){if(!this.workspace_.isDragging()){e=this.workspace_.getTopBlocks(!1);for(var o,n=0;o=e[n];n++){var r=o.getRelativeToSurfaceXY();if(20>r.y&&o.moveBy(0,20-r.y),o.RTL){var i=-20,s=this.workspace_.getFlyout();s&&(i-=s.getWidth()),r.x>i&&o.moveBy(i-r.x,0)}else 20>r.x&&o.moveBy(20-r.x,0)}}if(this.rootBlock_.workspace==this.workspace_){if(t.Events.setGroup(!0),e=(e=(o=this.block_).mutationToDom())&&t.Xml.domToText(e),n=o.rendered,o.rendered=!1,o.compose(this.rootBlock_),o.rendered=n,o.initSvg(),o.rendered&&o.render(),e!=(n=(n=o.mutationToDom())&&t.Xml.domToText(n))){t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(o,"mutation",null,e,n));var a=t.Events.getGroup();setTimeout((function(){t.Events.setGroup(a),o.bumpNeighbours(),t.Events.setGroup(!1)}),t.BUMP_DELAY)}this.workspace_.isDragging()||this.resizeBubble_(),t.Events.setGroup(!1)}}},t.Mutator.prototype.dispose=function(){this.block_.mutator=null,t.Icon.prototype.dispose.call(this)},t.Mutator.prototype.updateBlockStyle=function(){var t=this.workspace_;if(t&&t.getAllBlocks(!1)){for(var e=t.getAllBlocks(!1),o=0;o<e.length;o++){var n=e[o];n.setStyle(n.getStyleName())}if(o=t.getFlyout())for(t=o.workspace_.getAllBlocks(!1),o=0;o<t.length;o++)(n=t[o]).setStyle(n.getStyleName())}},t.Mutator.reconnect=function(t,e,o){if(!t||!t.getSourceBlock().workspace)return!1;o=e.getInput(o).connection;var n=t.targetBlock();return!(n&&n!=e||o.targetConnection==t||(o.isConnected()&&o.disconnect(),o.connect(t),0))},t.Mutator.findParentWs=function(t){var e=null;if(t&&t.options){var o=t.options.parentWorkspace;t.isFlyout?o&&o.options&&(e=o.options.parentWorkspace):o&&(e=o)}return e},t.FieldTextInput=function(e,o,n){this.spellcheck_=!0,t.FieldTextInput.superClass_.constructor.call(this,e,o,n),this.onKeyInputWrapper_=this.onKeyDownWrapper_=this.htmlInput_=null,this.fullBlockClickTarget_=!1,this.workspace_=null},t.utils.object.inherits(t.FieldTextInput,t.Field),t.FieldTextInput.prototype.DEFAULT_VALUE="",t.FieldTextInput.fromJson=function(e){var o=t.utils.replaceMessageReferences(e.text);return new t.FieldTextInput(o,void 0,e)},t.FieldTextInput.prototype.SERIALIZABLE=!0,t.FieldTextInput.BORDERRADIUS=4,t.FieldTextInput.prototype.CURSOR="text",t.FieldTextInput.prototype.configure_=function(e){t.FieldTextInput.superClass_.configure_.call(this,e),"boolean"==typeof e.spellcheck&&(this.spellcheck_=e.spellcheck)},t.FieldTextInput.prototype.initView=function(){if(this.getConstants().FULL_BLOCK_FIELDS){for(var t,e=0,o=0,n=0;t=this.sourceBlock_.inputList[n];n++){for(var r=0;t.fieldRow[r];r++)e++;t.connection&&o++}this.fullBlockClickTarget_=1>=e&&this.sourceBlock_.outputConnection&&!o}else this.fullBlockClickTarget_=!1;this.fullBlockClickTarget_?this.clickTarget_=this.sourceBlock_.getSvgRoot():this.createBorderRect_(),this.createTextElement_()},t.FieldTextInput.prototype.doClassValidation_=function(t){return null==t?null:String(t)},t.FieldTextInput.prototype.doValueInvalid_=function(e){this.isBeingEdited_&&(this.isTextValid_=!1,e=this.value_,this.value_=this.htmlInput_.untypedDefaultValue_,this.sourceBlock_&&t.Events.isEnabled()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,e,this.value_)))},t.FieldTextInput.prototype.doValueUpdate_=function(t){this.isTextValid_=!0,this.value_=t,this.isBeingEdited_||(this.isDirty_=!0)},t.FieldTextInput.prototype.applyColour=function(){this.sourceBlock_&&this.getConstants().FULL_BLOCK_FIELDS&&(this.borderRect_?this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary):this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR))},t.FieldTextInput.prototype.render_=function(){if(t.FieldTextInput.superClass_.render_.call(this),this.isBeingEdited_){this.resizeEditor_();var e=this.htmlInput_;this.isTextValid_?(t.utils.dom.removeClass(e,"blocklyInvalidInput"),t.utils.aria.setState(e,t.utils.aria.State.INVALID,!1)):(t.utils.dom.addClass(e,"blocklyInvalidInput"),t.utils.aria.setState(e,t.utils.aria.State.INVALID,!0))}},t.FieldTextInput.prototype.setSpellcheck=function(t){t!=this.spellcheck_&&(this.spellcheck_=t,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))},t.FieldTextInput.prototype.showEditor_=function(e,o){this.workspace_=this.sourceBlock_.workspace,!(e=o||!1)&&(t.utils.userAgent.MOBILE||t.utils.userAgent.ANDROID||t.utils.userAgent.IPAD)?this.showPromptEditor_():this.showInlineEditor_(e)},t.FieldTextInput.prototype.showPromptEditor_=function(){t.prompt(t.Msg.CHANGE_VALUE_TITLE,this.getText(),function(t){this.setValue(this.getValueFromEditorText_(t))}.bind(this))},t.FieldTextInput.prototype.showInlineEditor_=function(e){t.WidgetDiv.show(this,this.sourceBlock_.RTL,this.widgetDispose_.bind(this)),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,e||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())},t.FieldTextInput.prototype.widgetCreate_=function(){var e=t.WidgetDiv.DIV;t.utils.dom.addClass(this.getClickTarget_(),"editing");var o=document.createElement("input");o.className="blocklyHtmlInput",o.setAttribute("spellcheck",this.spellcheck_);var n=this.workspace_.getScale(),r=this.getConstants().FIELD_TEXT_FONTSIZE*n+"pt";if(e.style.fontSize=r,o.style.fontSize=r,r=t.FieldTextInput.BORDERRADIUS*n+"px",this.fullBlockClickTarget_){r=((r=this.getScaledBBox()).bottom-r.top)/2+"px";var i=this.sourceBlock_.getParent()?this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;o.style.border=1*n+"px solid "+i,e.style.borderRadius=r,e.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(e.style.boxShadow="rgba(255, 255, 255, 0.3) 0px 0px 0px "+4*n+"px")}return o.style.borderRadius=r,e.appendChild(o),o.value=o.defaultValue=this.getEditorText_(this.value_),o.untypedDefaultValue_=this.value_,o.oldValue_=null,this.resizeEditor_(),this.bindInputEvents_(o),o},t.FieldTextInput.prototype.widgetDispose_=function(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_&&this.onFinishEditing_(this.value_),this.unbindInputEvents_();var e=t.WidgetDiv.DIV.style;e.width="auto",e.height="auto",e.fontSize="",e.transition="",e.boxShadow="",this.htmlInput_=null,t.utils.dom.removeClass(this.getClickTarget_(),"editing")},t.FieldTextInput.prototype.bindInputEvents_=function(e){this.onKeyDownWrapper_=t.browserEvents.conditionalBind(e,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper_=t.browserEvents.conditionalBind(e,"input",this,this.onHtmlInputChange_)},t.FieldTextInput.prototype.unbindInputEvents_=function(){this.onKeyDownWrapper_&&(t.browserEvents.unbind(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.onKeyInputWrapper_&&(t.browserEvents.unbind(this.onKeyInputWrapper_),this.onKeyInputWrapper_=null)},t.FieldTextInput.prototype.onHtmlInputKeyDown_=function(e){e.keyCode==t.utils.KeyCodes.ENTER?(t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation()):e.keyCode==t.utils.KeyCodes.ESC?(this.htmlInput_.value=this.htmlInput_.defaultValue,t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation()):e.keyCode==t.utils.KeyCodes.TAB&&(t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation(),this.sourceBlock_.tab(this,!e.shiftKey),e.preventDefault())},t.FieldTextInput.prototype.onHtmlInputChange_=function(e){(e=this.htmlInput_.value)!==this.htmlInput_.oldValue_&&(this.htmlInput_.oldValue_=e,t.Events.setGroup(!0),e=this.getValueFromEditorText_(e),this.setValue(e),this.forceRerender(),this.resizeEditor_(),t.Events.setGroup(!1))},t.FieldTextInput.prototype.setEditorValue_=function(t){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(t)),this.setValue(t)},t.FieldTextInput.prototype.resizeEditor_=function(){var e=t.WidgetDiv.DIV,o=this.getScaledBBox();e.style.width=o.right-o.left+"px",e.style.height=o.bottom-o.top+"px",o=new t.utils.Coordinate(this.sourceBlock_.RTL?o.right-e.offsetWidth:o.left,o.top),e.style.left=o.x+"px",e.style.top=o.y+"px"},t.FieldTextInput.prototype.isTabNavigable=function(){return!0},t.FieldTextInput.prototype.getText_=function(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null},t.FieldTextInput.prototype.getEditorText_=function(t){return String(t)},t.FieldTextInput.prototype.getValueFromEditorText_=function(t){return t},t.fieldRegistry.register("field_input",t.FieldTextInput),t.FieldAngle=function(e,o,n){this.clockwise_=t.FieldAngle.CLOCKWISE,this.offset_=t.FieldAngle.OFFSET,this.wrap_=t.FieldAngle.WRAP,this.round_=t.FieldAngle.ROUND,t.FieldAngle.superClass_.constructor.call(this,e,o,n),this.moveSurfaceWrapper_=this.clickSurfaceWrapper_=this.clickWrapper_=this.line_=this.gauge_=null},t.utils.object.inherits(t.FieldAngle,t.FieldTextInput),t.FieldAngle.prototype.DEFAULT_VALUE=0,t.FieldAngle.fromJson=function(e){return new t.FieldAngle(e.angle,void 0,e)},t.FieldAngle.prototype.SERIALIZABLE=!0,t.FieldAngle.ROUND=15,t.FieldAngle.HALF=50,t.FieldAngle.CLOCKWISE=!1,t.FieldAngle.OFFSET=0,t.FieldAngle.WRAP=360,t.FieldAngle.RADIUS=t.FieldAngle.HALF-1,t.FieldAngle.prototype.configure_=function(e){switch(t.FieldAngle.superClass_.configure_.call(this,e),e.mode){case"compass":this.clockwise_=!0,this.offset_=90;break;case"protractor":this.clockwise_=!1,this.offset_=0}var o=e.clockwise;"boolean"==typeof o&&(this.clockwise_=o),null!=(o=e.offset)&&(o=Number(o),isNaN(o)||(this.offset_=o)),null!=(o=e.wrap)&&(o=Number(o),isNaN(o)||(this.wrap_=o)),null!=(e=e.round)&&(e=Number(e),isNaN(e)||(this.round_=e))},t.FieldAngle.prototype.initView=function(){t.FieldAngle.superClass_.initView.call(this),this.symbol_=t.utils.dom.createSvgElement(t.utils.Svg.TSPAN,{},null),this.symbol_.appendChild(document.createTextNode("°")),this.textElement_.appendChild(this.symbol_)},t.FieldAngle.prototype.render_=function(){t.FieldAngle.superClass_.render_.call(this),this.updateGraph_()},t.FieldAngle.prototype.showEditor_=function(e){t.FieldAngle.superClass_.showEditor_.call(this,e,t.utils.userAgent.MOBILE||t.utils.userAgent.ANDROID||t.utils.userAgent.IPAD),e=this.dropdownCreate_(),t.DropDownDiv.getContentDiv().appendChild(e),t.DropDownDiv.setColour(this.sourceBlock_.style.colourPrimary,this.sourceBlock_.style.colourTertiary),t.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.updateGraph_()},t.FieldAngle.prototype.dropdownCreate_=function(){var e=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",height:2*t.FieldAngle.HALF+"px",width:2*t.FieldAngle.HALF+"px",style:"touch-action: none"},null),o=t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{cx:t.FieldAngle.HALF,cy:t.FieldAngle.HALF,r:t.FieldAngle.RADIUS,class:"blocklyAngleCircle"},e);this.gauge_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyAngleGauge"},e),this.line_=t.utils.dom.createSvgElement(t.utils.Svg.LINE,{x1:t.FieldAngle.HALF,y1:t.FieldAngle.HALF,class:"blocklyAngleLine"},e);for(var n=0;360>n;n+=15)t.utils.dom.createSvgElement(t.utils.Svg.LINE,{x1:t.FieldAngle.HALF+t.FieldAngle.RADIUS,y1:t.FieldAngle.HALF,x2:t.FieldAngle.HALF+t.FieldAngle.RADIUS-(0==n%45?10:5),y2:t.FieldAngle.HALF,class:"blocklyAngleMarks",transform:"rotate("+n+","+t.FieldAngle.HALF+","+t.FieldAngle.HALF+")"},e);return this.clickWrapper_=t.browserEvents.conditionalBind(e,"click",this,this.hide_),this.clickSurfaceWrapper_=t.browserEvents.conditionalBind(o,"click",this,this.onMouseMove_,!0,!0),this.moveSurfaceWrapper_=t.browserEvents.conditionalBind(o,"mousemove",this,this.onMouseMove_,!0,!0),e},t.FieldAngle.prototype.dropdownDispose_=function(){this.clickWrapper_&&(t.browserEvents.unbind(this.clickWrapper_),this.clickWrapper_=null),this.clickSurfaceWrapper_&&(t.browserEvents.unbind(this.clickSurfaceWrapper_),this.clickSurfaceWrapper_=null),this.moveSurfaceWrapper_&&(t.browserEvents.unbind(this.moveSurfaceWrapper_),this.moveSurfaceWrapper_=null),this.line_=this.gauge_=null},t.FieldAngle.prototype.hide_=function(){t.DropDownDiv.hideIfOwner(this),t.WidgetDiv.hide()},t.FieldAngle.prototype.onMouseMove_=function(e){var o=this.gauge_.ownerSVGElement.getBoundingClientRect(),n=e.clientX-o.left-t.FieldAngle.HALF;e=e.clientY-o.top-t.FieldAngle.HALF,o=Math.atan(-e/n),isNaN(o)||(o=t.utils.math.toDegrees(o),0>n?o+=180:0<e&&(o+=360),o=this.clockwise_?this.offset_+360-o:360-(this.offset_-o),this.displayMouseOrKeyboardValue_(o))},t.FieldAngle.prototype.displayMouseOrKeyboardValue_=function(t){this.round_&&(t=Math.round(t/this.round_)*this.round_),(t=this.wrapValue_(t))!=this.value_&&this.setEditorValue_(t)},t.FieldAngle.prototype.updateGraph_=function(){if(this.gauge_){var e=Number(this.getText())+this.offset_,o=t.utils.math.toRadians(e%360);e=["M ",t.FieldAngle.HALF,",",t.FieldAngle.HALF];var n=t.FieldAngle.HALF,r=t.FieldAngle.HALF;if(!isNaN(o)){var i=Number(this.clockwise_),s=t.utils.math.toRadians(this.offset_),a=Math.cos(s)*t.FieldAngle.RADIUS,l=Math.sin(s)*-t.FieldAngle.RADIUS;i&&(o=2*s-o),n+=Math.cos(o)*t.FieldAngle.RADIUS,r-=Math.sin(o)*t.FieldAngle.RADIUS,o=Math.abs(Math.floor((o-s)/Math.PI)%2),i&&(o=1-o),e.push(" l ",a,",",l," A ",t.FieldAngle.RADIUS,",",t.FieldAngle.RADIUS," 0 ",o," ",i," ",n,",",r," z")}this.gauge_.setAttribute("d",e.join("")),this.line_.setAttribute("x2",n),this.line_.setAttribute("y2",r)}},t.FieldAngle.prototype.onHtmlInputKeyDown_=function(e){var o;if(t.FieldAngle.superClass_.onHtmlInputKeyDown_.call(this,e),e.keyCode===t.utils.KeyCodes.LEFT?o=this.sourceBlock_.RTL?1:-1:e.keyCode===t.utils.KeyCodes.RIGHT?o=this.sourceBlock_.RTL?-1:1:e.keyCode===t.utils.KeyCodes.DOWN?o=-1:e.keyCode===t.utils.KeyCodes.UP&&(o=1),o){var n=this.getValue();this.displayMouseOrKeyboardValue_(n+o*this.round_),e.preventDefault(),e.stopPropagation()}},t.FieldAngle.prototype.doClassValidation_=function(t){return t=Number(t),isNaN(t)||!isFinite(t)?null:this.wrapValue_(t)},t.FieldAngle.prototype.wrapValue_=function(t){return 0>(t%=360)&&(t+=360),t>this.wrap_&&(t-=360),t},t.Css.register(".blocklyAngleCircle {,stroke: #444;,stroke-width: 1;,fill: #ddd;,fill-opacity: .8;,},.blocklyAngleMarks {,stroke: #444;,stroke-width: 1;,},.blocklyAngleGauge {,fill: #f88;,fill-opacity: .8;,pointer-events: none;,},.blocklyAngleLine {,stroke: #f00;,stroke-width: 2;,stroke-linecap: round;,pointer-events: none;,}".split(",")),t.fieldRegistry.register("field_angle",t.FieldAngle),t.FieldCheckbox=function(e,o,n){this.checkChar_=null,t.FieldCheckbox.superClass_.constructor.call(this,e,o,n)},t.utils.object.inherits(t.FieldCheckbox,t.Field),t.FieldCheckbox.prototype.DEFAULT_VALUE=!1,t.FieldCheckbox.fromJson=function(e){return new t.FieldCheckbox(e.checked,void 0,e)},t.FieldCheckbox.CHECK_CHAR="✓",t.FieldCheckbox.prototype.SERIALIZABLE=!0,t.FieldCheckbox.prototype.CURSOR="default",t.FieldCheckbox.prototype.configure_=function(e){t.FieldCheckbox.superClass_.configure_.call(this,e),e.checkCharacter&&(this.checkChar_=e.checkCharacter)},t.FieldCheckbox.prototype.initView=function(){t.FieldCheckbox.superClass_.initView.call(this),t.utils.dom.addClass(this.textElement_,"blocklyCheckbox"),this.textElement_.style.display=this.value_?"block":"none"},t.FieldCheckbox.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)},t.FieldCheckbox.prototype.getDisplayText_=function(){return this.checkChar_||t.FieldCheckbox.CHECK_CHAR},t.FieldCheckbox.prototype.setCheckCharacter=function(t){this.checkChar_=t,this.forceRerender()},t.FieldCheckbox.prototype.showEditor_=function(){this.setValue(!this.value_)},t.FieldCheckbox.prototype.doClassValidation_=function(t){return!0===t||"TRUE"===t?"TRUE":!1===t||"FALSE"===t?"FALSE":null},t.FieldCheckbox.prototype.doValueUpdate_=function(t){this.value_=this.convertValueToBool_(t),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")},t.FieldCheckbox.prototype.getValue=function(){return this.value_?"TRUE":"FALSE"},t.FieldCheckbox.prototype.getValueBoolean=function(){return this.value_},t.FieldCheckbox.prototype.getText=function(){return String(this.convertValueToBool_(this.value_))},t.FieldCheckbox.prototype.convertValueToBool_=function(t){return"string"==typeof t?"TRUE"==t:!!t},t.fieldRegistry.register("field_checkbox",t.FieldCheckbox),t.FieldColour=function(e,o,n){t.FieldColour.superClass_.constructor.call(this,e,o,n),this.onKeyDownWrapper_=this.onMouseLeaveWrapper_=this.onMouseEnterWrapper_=this.onMouseMoveWrapper_=this.onClickWrapper_=this.highlightedIndex_=this.picker_=null},t.utils.object.inherits(t.FieldColour,t.Field),t.FieldColour.fromJson=function(e){return new t.FieldColour(e.colour,void 0,e)},t.FieldColour.prototype.SERIALIZABLE=!0,t.FieldColour.prototype.CURSOR="default",t.FieldColour.prototype.isDirty_=!1,t.FieldColour.prototype.colours_=null,t.FieldColour.prototype.titles_=null,t.FieldColour.prototype.columns_=0,t.FieldColour.prototype.configure_=function(e){t.FieldColour.superClass_.configure_.call(this,e),e.colourOptions&&(this.colours_=e.colourOptions,this.titles_=e.colourTitles),e.columns&&(this.columns_=e.columns)},t.FieldColour.prototype.initView=function(){this.size_=new t.utils.Size(this.getConstants().FIELD_COLOUR_DEFAULT_WIDTH,this.getConstants().FIELD_COLOUR_DEFAULT_HEIGHT),this.getConstants().FIELD_COLOUR_FULL_BLOCK?this.clickTarget_=this.sourceBlock_.getSvgRoot():(this.createBorderRect_(),this.borderRect_.style.fillOpacity="1")},t.FieldColour.prototype.applyColour=function(){this.getConstants().FIELD_COLOUR_FULL_BLOCK?(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getValue()),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff")):this.borderRect_&&(this.borderRect_.style.fill=this.getValue())},t.FieldColour.prototype.doClassValidation_=function(e){return"string"!=typeof e?null:t.utils.colour.parse(e)},t.FieldColour.prototype.doValueUpdate_=function(t){this.value_=t,this.borderRect_?this.borderRect_.style.fill=t:this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",t),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff"))},t.FieldColour.prototype.getText=function(){var t=this.value_;return/^#(.)\1(.)\2(.)\3$/.test(t)&&(t="#"+t[1]+t[3]+t[5]),t},t.FieldColour.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),t.FieldColour.prototype.DEFAULT_VALUE=t.FieldColour.COLOURS[0],t.FieldColour.TITLES=[],t.FieldColour.COLUMNS=7,t.FieldColour.prototype.setColours=function(t,e){return this.colours_=t,e&&(this.titles_=e),this},t.FieldColour.prototype.setColumns=function(t){return this.columns_=t,this},t.FieldColour.prototype.showEditor_=function(){this.picker_=this.dropdownCreate_(),t.DropDownDiv.getContentDiv().appendChild(this.picker_),t.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.picker_.focus({preventScroll:!0})},t.FieldColour.prototype.onClick_=function(e){null!==(e=(e=e.target)&&e.label)&&(this.setValue(e),t.DropDownDiv.hideIfOwner(this))},t.FieldColour.prototype.onKeyDown_=function(e){var o=!1;e.keyCode===t.utils.KeyCodes.UP?(this.moveHighlightBy_(0,-1),o=!0):e.keyCode===t.utils.KeyCodes.DOWN?(this.moveHighlightBy_(0,1),o=!0):e.keyCode===t.utils.KeyCodes.LEFT?(this.moveHighlightBy_(-1,0),o=!0):e.keyCode===t.utils.KeyCodes.RIGHT?(this.moveHighlightBy_(1,0),o=!0):e.keyCode===t.utils.KeyCodes.ENTER&&((o=this.getHighlighted_())&&null!==(o=o&&o.label)&&this.setValue(o),t.DropDownDiv.hideWithoutAnimation(),o=!0),o&&e.stopPropagation()},t.FieldColour.prototype.moveHighlightBy_=function(e,o){var n=this.colours_||t.FieldColour.COLOURS,r=this.columns_||t.FieldColour.COLUMNS,i=this.highlightedIndex_%r,s=Math.floor(this.highlightedIndex_/r);i+=e,s+=o,0>e?0>i&&0<s?(i=r-1,s--):0>i&&(i=0):0<e?i>r-1&&s<Math.floor(n.length/r)-1?(i=0,s++):i>r-1&&i--:0>o?0>s&&(s=0):0<o&&s>Math.floor(n.length/r)-1&&(s=Math.floor(n.length/r)-1),this.setHighlightedCell_(this.picker_.childNodes[s].childNodes[i],s*r+i)},t.FieldColour.prototype.onMouseMove_=function(t){var e=(t=t.target)&&Number(t.getAttribute("data-index"));null!==e&&e!==this.highlightedIndex_&&this.setHighlightedCell_(t,e)},t.FieldColour.prototype.onMouseEnter_=function(){this.picker_.focus({preventScroll:!0})},t.FieldColour.prototype.onMouseLeave_=function(){this.picker_.blur();var e=this.getHighlighted_();e&&t.utils.dom.removeClass(e,"blocklyColourHighlighted")},t.FieldColour.prototype.getHighlighted_=function(){var e=this.columns_||t.FieldColour.COLUMNS,o=this.picker_.childNodes[Math.floor(this.highlightedIndex_/e)];return o?o.childNodes[this.highlightedIndex_%e]:null},t.FieldColour.prototype.setHighlightedCell_=function(e,o){var n=this.getHighlighted_();n&&t.utils.dom.removeClass(n,"blocklyColourHighlighted"),t.utils.dom.addClass(e,"blocklyColourHighlighted"),this.highlightedIndex_=o,t.utils.aria.setState(this.picker_,t.utils.aria.State.ACTIVEDESCENDANT,e.getAttribute("id"))},t.FieldColour.prototype.dropdownCreate_=function(){var e=this.columns_||t.FieldColour.COLUMNS,o=this.colours_||t.FieldColour.COLOURS,n=this.titles_||t.FieldColour.TITLES,r=this.getValue(),i=document.createElement("table");i.className="blocklyColourTable",i.tabIndex=0,i.dir="ltr",t.utils.aria.setRole(i,t.utils.aria.Role.GRID),t.utils.aria.setState(i,t.utils.aria.State.EXPANDED,!0),t.utils.aria.setState(i,t.utils.aria.State.ROWCOUNT,Math.floor(o.length/e)),t.utils.aria.setState(i,t.utils.aria.State.COLCOUNT,e);for(var s,a=0;a<o.length;a++){0==a%e&&(s=document.createElement("tr"),t.utils.aria.setRole(s,t.utils.aria.Role.ROW),i.appendChild(s));var l=document.createElement("td");s.appendChild(l),l.label=o[a],l.title=n[a]||o[a],l.id=t.utils.IdGenerator.getNextUniqueId(),l.setAttribute("data-index",a),t.utils.aria.setRole(l,t.utils.aria.Role.GRIDCELL),t.utils.aria.setState(l,t.utils.aria.State.LABEL,o[a]),t.utils.aria.setState(l,t.utils.aria.State.SELECTED,o[a]==r),l.style.backgroundColor=o[a],o[a]==r&&(l.className="blocklyColourSelected",this.highlightedIndex_=a)}return this.onClickWrapper_=t.browserEvents.conditionalBind(i,"click",this,this.onClick_,!0),this.onMouseMoveWrapper_=t.browserEvents.conditionalBind(i,"mousemove",this,this.onMouseMove_,!0),this.onMouseEnterWrapper_=t.browserEvents.conditionalBind(i,"mouseenter",this,this.onMouseEnter_,!0),this.onMouseLeaveWrapper_=t.browserEvents.conditionalBind(i,"mouseleave",this,this.onMouseLeave_,!0),this.onKeyDownWrapper_=t.browserEvents.conditionalBind(i,"keydown",this,this.onKeyDown_),i},t.FieldColour.prototype.dropdownDispose_=function(){this.onClickWrapper_&&(t.browserEvents.unbind(this.onClickWrapper_),this.onClickWrapper_=null),this.onMouseMoveWrapper_&&(t.browserEvents.unbind(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null),this.onMouseEnterWrapper_&&(t.browserEvents.unbind(this.onMouseEnterWrapper_),this.onMouseEnterWrapper_=null),this.onMouseLeaveWrapper_&&(t.browserEvents.unbind(this.onMouseLeaveWrapper_),this.onMouseLeaveWrapper_=null),this.onKeyDownWrapper_&&(t.browserEvents.unbind(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.highlightedIndex_=this.picker_=null},t.Css.register([".blocklyColourTable {","border-collapse: collapse;","display: block;","outline: none;","padding: 1px;","}",".blocklyColourTable>tr>td {","border: .5px solid #888;","box-sizing: border-box;","cursor: pointer;","display: inline-block;","height: 20px;","padding: 0;","width: 20px;","}",".blocklyColourTable>tr>td.blocklyColourHighlighted {","border-color: #eee;","box-shadow: 2px 2px 7px 2px rgba(0,0,0,.3);","position: relative;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border-color: #eee !important;","outline: 1px solid #333;","position: relative;","}"]),t.fieldRegistry.register("field_colour",t.FieldColour),t.FieldDropdown=function(e,o,n){"function"!=typeof e&&t.FieldDropdown.validateOptions_(e),this.menuGenerator_=e,this.suffixField=this.prefixField=this.generatedOptions_=null,this.trimOptions_(),this.selectedOption_=this.getOptions(!1)[0],t.FieldDropdown.superClass_.constructor.call(this,this.selectedOption_[1],o,n),this.svgArrow_=this.arrow_=this.imageElement_=this.menu_=this.selectedMenuItem_=null},t.utils.object.inherits(t.FieldDropdown,t.Field),t.FieldDropdown.fromJson=function(e){return new t.FieldDropdown(e.options,void 0,e)},t.FieldDropdown.prototype.fromXml=function(t){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(t.textContent)},t.FieldDropdown.prototype.SERIALIZABLE=!0,t.FieldDropdown.CHECKMARK_OVERHANG=25,t.FieldDropdown.MAX_MENU_HEIGHT_VH=.45,t.FieldDropdown.IMAGE_Y_OFFSET=5,t.FieldDropdown.IMAGE_Y_PADDING=2*t.FieldDropdown.IMAGE_Y_OFFSET,t.FieldDropdown.ARROW_CHAR=t.utils.userAgent.ANDROID?"▼":"▾",t.FieldDropdown.prototype.CURSOR="default",t.FieldDropdown.prototype.initView=function(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement_=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&t.utils.dom.addClass(this.borderRect_,"blocklyDropdownRect")},t.FieldDropdown.prototype.shouldAddBorderRect_=function(){return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!this.sourceBlock_.isShadow()},t.FieldDropdown.prototype.createTextArrow_=function(){this.arrow_=t.utils.dom.createSvgElement(t.utils.Svg.TSPAN,{},this.textElement_),this.arrow_.appendChild(document.createTextNode(this.sourceBlock_.RTL?t.FieldDropdown.ARROW_CHAR+" ":" "+t.FieldDropdown.ARROW_CHAR)),this.sourceBlock_.RTL?this.textElement_.insertBefore(this.arrow_,this.textContent_):this.textElement_.appendChild(this.arrow_)},t.FieldDropdown.prototype.createSVGArrow_=function(){this.svgArrow_=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)},t.FieldDropdown.prototype.showEditor_=function(e){if(this.menu_=this.dropdownCreate_(),this.menu_.openingCoords=e&&"number"==typeof e.clientX?new t.utils.Coordinate(e.clientX,e.clientY):null,this.menu_.render(t.DropDownDiv.getContentDiv()),e=this.menu_.getElement(),t.utils.dom.addClass(e,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV){e=this.sourceBlock_.isShadow()?this.sourceBlock_.getParent().getColour():this.sourceBlock_.getColour();var o=this.sourceBlock_.isShadow()?this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;t.DropDownDiv.setColour(e,o)}t.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem_&&this.menu_.setHighlighted(this.selectedMenuItem_),this.applyColour()},t.FieldDropdown.prototype.dropdownCreate_=function(){var e=new t.Menu;e.setRole(t.utils.aria.Role.LISTBOX);var o=this.getOptions(!1);this.selectedMenuItem_=null;for(var n=0;n<o.length;n++){var r=o[n][0],i=o[n][1];if("object"==typeof r){var s=new Image(r.width,r.height);s.src=r.src,s.alt=r.alt||"",r=s}(r=new t.MenuItem(r,i)).setRole(t.utils.aria.Role.OPTION),r.setRightToLeft(this.sourceBlock_.RTL),r.setCheckable(!0),e.addChild(r),r.setChecked(i==this.value_),i==this.value_&&(this.selectedMenuItem_=r),r.onAction(this.handleMenuActionEvent_,this)}return e},t.FieldDropdown.prototype.dropdownDispose_=function(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem_=this.menu_=null,this.applyColour()},t.FieldDropdown.prototype.handleMenuActionEvent_=function(e){t.DropDownDiv.hideIfOwner(this,!0),this.onItemSelected_(this.menu_,e)},t.FieldDropdown.prototype.onItemSelected_=function(t,e){this.setValue(e.getValue())},t.FieldDropdown.prototype.trimOptions_=function(){var e=this.menuGenerator_;if(Array.isArray(e)){for(var o=!1,n=0;n<e.length;n++){var r=e[n][0];"string"==typeof r?e[n][0]=t.utils.replaceMessageReferences(r):(null!=r.alt&&(e[n][0].alt=t.utils.replaceMessageReferences(r.alt)),o=!0)}if(!(o||2>e.length)){for(o=[],n=0;n<e.length;n++)o.push(e[n][0]);n=t.utils.string.shortestStringLength(o),r=t.utils.string.commonWordPrefix(o,n);var i=t.utils.string.commonWordSuffix(o,n);!r&&!i||n<=r+i||(r&&(this.prefixField=o[0].substring(0,r-1)),i&&(this.suffixField=o[0].substr(1-i)),this.menuGenerator_=t.FieldDropdown.applyTrim_(e,r,i))}}},t.FieldDropdown.applyTrim_=function(t,e,o){for(var n=[],r=0;r<t.length;r++){var i=t[r][0],s=t[r][1];i=i.substring(e,i.length-o),n[r]=[i,s]}return n},t.FieldDropdown.prototype.isOptionListDynamic=function(){return"function"==typeof this.menuGenerator_},t.FieldDropdown.prototype.getOptions=function(e){return this.isOptionListDynamic()?(this.generatedOptions_&&e||(this.generatedOptions_=this.menuGenerator_.call(this),t.FieldDropdown.validateOptions_(this.generatedOptions_)),this.generatedOptions_):this.menuGenerator_},t.FieldDropdown.prototype.doClassValidation_=function(t){for(var e,o=!1,n=this.getOptions(!0),r=0;e=n[r];r++)if(e[1]==t){o=!0;break}return o?t:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+t),null)},t.FieldDropdown.prototype.doValueUpdate_=function(e){t.FieldDropdown.superClass_.doValueUpdate_.call(this,e),e=this.getOptions(!0);for(var o,n=0;o=e[n];n++)o[1]==this.value_&&(this.selectedOption_=o)},t.FieldDropdown.prototype.applyColour=function(){this.borderRect_&&(this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary),this.menu_?this.borderRect_.setAttribute("fill",this.sourceBlock_.style.colourTertiary):this.borderRect_.setAttribute("fill","transparent")),this.sourceBlock_&&this.arrow_&&(this.sourceBlock_.isShadow()?this.arrow_.style.fill=this.sourceBlock_.style.colourSecondary:this.arrow_.style.fill=this.sourceBlock_.style.colourPrimary)},t.FieldDropdown.prototype.render_=function(){this.textContent_.nodeValue="",this.imageElement_.style.display="none";var t=this.selectedOption_&&this.selectedOption_[0];t&&"object"==typeof t?this.renderSelectedImage_(t):this.renderSelectedText_(),this.positionBorderRect_()},t.FieldDropdown.prototype.renderSelectedImage_=function(e){this.imageElement_.style.display="",this.imageElement_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",e.src),this.imageElement_.setAttribute("height",e.height),this.imageElement_.setAttribute("width",e.width);var o=Number(e.height);e=Number(e.width);var n=!!this.borderRect_,r=Math.max(n?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,o+t.FieldDropdown.IMAGE_Y_PADDING);n=n?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var i=this.svgArrow_?this.positionSVGArrow_(e+n,r/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):t.utils.dom.getFastTextWidth(this.arrow_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);this.size_.width=e+i+2*n,this.size_.height=r;var s=0;this.sourceBlock_.RTL?this.imageElement_.setAttribute("x",n+i):(s=e+i,this.textElement_.setAttribute("text-anchor","end"),this.imageElement_.setAttribute("x",n)),this.imageElement_.setAttribute("y",r/2-o/2),this.positionTextElement_(s+n,e+i)},t.FieldDropdown.prototype.renderSelectedText_=function(){this.textContent_.nodeValue=this.getDisplayText_(),t.utils.dom.addClass(this.textElement_,"blocklyDropdownText"),this.textElement_.setAttribute("text-anchor","start");var e=!!this.borderRect_,o=Math.max(e?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT),n=t.utils.dom.getFastTextWidth(this.textElement_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);e=e?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var r=0;this.svgArrow_&&(r=this.positionSVGArrow_(n+e,o/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_.width=n+r+2*e,this.size_.height=o,this.positionTextElement_(e,n)},t.FieldDropdown.prototype.positionSVGArrow_=function(t,e){if(!this.svgArrow_)return 0;var o=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,n=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,r=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow_.setAttribute("transform","translate("+(this.sourceBlock_.RTL?o:t+n)+","+e+")"),r+n},t.FieldDropdown.prototype.getText_=function(){if(!this.selectedOption_)return null;var t=this.selectedOption_[0];return"object"==typeof t?t.alt:t},t.FieldDropdown.validateOptions_=function(t){if(!Array.isArray(t))throw TypeError("FieldDropdown options must be an array.");if(!t.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var e=!1,o=0;o<t.length;++o){var n=t[o];Array.isArray(n)?"string"!=typeof n[1]?(e=!0,console.error("Invalid option["+o+"]: Each FieldDropdown option id must be a string. Found "+n[1]+" in: ",n)):n[0]&&"string"!=typeof n[0]&&"string"!=typeof n[0].src&&(e=!0,console.error("Invalid option["+o+"]: Each FieldDropdown option must have a string label or image description. Found"+n[0]+" in: ",n)):(e=!0,console.error("Invalid option["+o+"]: Each FieldDropdown option must be an array. Found: ",n))}if(e)throw TypeError("Found invalid FieldDropdown options.")},t.fieldRegistry.register("field_dropdown",t.FieldDropdown),t.FieldLabelSerializable=function(e,o,n){t.FieldLabelSerializable.superClass_.constructor.call(this,e,o,n)},t.utils.object.inherits(t.FieldLabelSerializable,t.FieldLabel),t.FieldLabelSerializable.fromJson=function(e){var o=t.utils.replaceMessageReferences(e.text);return new t.FieldLabelSerializable(o,void 0,e)},t.FieldLabelSerializable.prototype.EDITABLE=!1,t.FieldLabelSerializable.prototype.SERIALIZABLE=!0,t.fieldRegistry.register("field_label_serializable",t.FieldLabelSerializable),t.FieldImage=function(e,o,n,r,i,s,a){if(!e)throw Error("Src value of an image field is required");if(e=t.utils.replaceMessageReferences(e),n=Number(t.utils.replaceMessageReferences(n)),o=Number(t.utils.replaceMessageReferences(o)),isNaN(n)||isNaN(o))throw Error("Height and width values of an image field must cast to numbers.");if(0>=n||0>=o)throw Error("Height and width values of an image field must be greater than 0.");this.flipRtl_=!1,this.altText_="",t.FieldImage.superClass_.constructor.call(this,e,null,a),a||(this.flipRtl_=!!s,this.altText_=t.utils.replaceMessageReferences(r)||""),this.size_=new t.utils.Size(o,n+t.FieldImage.Y_PADDING),this.imageHeight_=n,this.clickHandler_=null,"function"==typeof i&&(this.clickHandler_=i),this.imageElement_=null},t.utils.object.inherits(t.FieldImage,t.Field),t.FieldImage.prototype.DEFAULT_VALUE="",t.FieldImage.fromJson=function(e){return new t.FieldImage(e.src,e.width,e.height,void 0,void 0,void 0,e)},t.FieldImage.Y_PADDING=1,t.FieldImage.prototype.EDITABLE=!1,t.FieldImage.prototype.isDirty_=!1,t.FieldImage.prototype.configure_=function(e){t.FieldImage.superClass_.configure_.call(this,e),this.flipRtl_=!!e.flipRtl,this.altText_=t.utils.replaceMessageReferences(e.alt)||""},t.FieldImage.prototype.initView=function(){this.imageElement_=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{height:this.imageHeight_+"px",width:this.size_.width+"px",alt:this.altText_},this.fieldGroup_),this.imageElement_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.value_),this.clickHandler_&&(this.imageElement_.style.cursor="pointer")},t.FieldImage.prototype.updateSize_=function(){},t.FieldImage.prototype.doClassValidation_=function(t){return"string"!=typeof t?null:t},t.FieldImage.prototype.doValueUpdate_=function(e){this.value_=e,this.imageElement_&&this.imageElement_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",String(this.value_))},t.FieldImage.prototype.getFlipRtl=function(){return this.flipRtl_},t.FieldImage.prototype.setAlt=function(t){t!=this.altText_&&(this.altText_=t||"",this.imageElement_&&this.imageElement_.setAttribute("alt",this.altText_))},t.FieldImage.prototype.showEditor_=function(){this.clickHandler_&&this.clickHandler_(this)},t.FieldImage.prototype.setOnClickHandler=function(t){this.clickHandler_=t},t.FieldImage.prototype.getText_=function(){return this.altText_},t.fieldRegistry.register("field_image",t.FieldImage),t.FieldMultilineInput=function(e,o,n){t.FieldMultilineInput.superClass_.constructor.call(this,e,o,n),this.textGroup_=null,this.maxLines_=1/0,this.isOverflowedY_=!1},t.utils.object.inherits(t.FieldMultilineInput,t.FieldTextInput),t.FieldMultilineInput.prototype.configure_=function(e){t.FieldMultilineInput.superClass_.configure_.call(this,e),e.maxLines&&this.setMaxLines(e.maxLines)},t.FieldMultilineInput.fromJson=function(e){var o=t.utils.replaceMessageReferences(e.text);return new t.FieldMultilineInput(o,void 0,e)},t.FieldMultilineInput.prototype.toXml=function(t){return t.textContent=this.getValue().replace(/\n/g,"&#10;"),t},t.FieldMultilineInput.prototype.fromXml=function(t){this.setValue(t.textContent.replace(/&#10;/g,"\n"))},t.FieldMultilineInput.prototype.initView=function(){this.createBorderRect_(),this.textGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyEditableText"},this.fieldGroup_)},t.FieldMultilineInput.prototype.getDisplayText_=function(){var e=this.getText();if(!e)return t.Field.NBSP;var o=e.split("\n");e="";for(var n=this.isOverflowedY_?this.maxLines_:o.length,r=0;r<n;r++){var i=o[r];i.length>this.maxDisplayLength?i=i.substring(0,this.maxDisplayLength-4)+"...":this.isOverflowedY_&&r===n-1&&(i=i.substring(0,i.length-3)+"..."),e+=i=i.replace(/\s/g,t.Field.NBSP),r!==n-1&&(e+="\n")}return this.sourceBlock_.RTL&&(e+="‏"),e},t.FieldMultilineInput.prototype.doValueUpdate_=function(e){t.FieldMultilineInput.superClass_.doValueUpdate_.call(this,e),this.isOverflowedY_=this.value_.split("\n").length>this.maxLines_},t.FieldMultilineInput.prototype.render_=function(){for(var e;e=this.textGroup_.firstChild;)this.textGroup_.removeChild(e);e=this.getDisplayText_().split("\n");for(var o=0,n=0;n<e.length;n++){var r=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING;t.utils.dom.createSvgElement(t.utils.Svg.TEXT,{class:"blocklyText blocklyMultilineText",x:this.getConstants().FIELD_BORDER_RECT_X_PADDING,y:o+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,dy:this.getConstants().FIELD_TEXT_BASELINE},this.textGroup_).appendChild(document.createTextNode(e[n])),o+=r}this.isBeingEdited_&&(e=this.htmlInput_,this.isOverflowedY_?t.utils.dom.addClass(e,"blocklyHtmlTextAreaInputOverflowedY"):t.utils.dom.removeClass(e,"blocklyHtmlTextAreaInputOverflowedY")),this.updateSize_(),this.isBeingEdited_&&(this.sourceBlock_.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),e=this.htmlInput_,this.isTextValid_?(t.utils.dom.removeClass(e,"blocklyInvalidInput"),t.utils.aria.setState(e,t.utils.aria.State.INVALID,!1)):(t.utils.dom.addClass(e,"blocklyInvalidInput"),t.utils.aria.setState(e,t.utils.aria.State.INVALID,!0)))},t.FieldMultilineInput.prototype.updateSize_=function(){for(var e=this.textGroup_.childNodes,o=0,n=0,r=0;r<e.length;r++){var i=t.utils.dom.getTextWidth(e[r]);i>o&&(o=i),n+=this.getConstants().FIELD_TEXT_HEIGHT+(0<r?this.getConstants().FIELD_BORDER_RECT_Y_PADDING:0)}if(this.isBeingEdited_){e=this.value_.split("\n"),i=t.utils.dom.createSvgElement(t.utils.Svg.TEXT,{class:"blocklyText blocklyMultilineText"});var s=this.getConstants().FIELD_TEXT_FONTSIZE,a=this.getConstants().FIELD_TEXT_FONTWEIGHT,l=this.getConstants().FIELD_TEXT_FONTFAMILY;for(r=0;r<e.length;r++){e[r].length>this.maxDisplayLength&&(e[r]=e[r].substring(0,this.maxDisplayLength)),i.textContent=e[r];var c=t.utils.dom.getFastTextWidth(i,s,a,l);c>o&&(o=c)}o+=this.htmlInput_.offsetWidth-this.htmlInput_.clientWidth}this.borderRect_&&(n+=2*this.getConstants().FIELD_BORDER_RECT_Y_PADDING,o+=2*this.getConstants().FIELD_BORDER_RECT_X_PADDING,this.borderRect_.setAttribute("width",o),this.borderRect_.setAttribute("height",n)),this.size_.width=o,this.size_.height=n,this.positionBorderRect_()},t.FieldMultilineInput.prototype.showEditor_=function(e,o){t.FieldMultilineInput.superClass_.showEditor_.call(this,e,o),this.forceRerender()},t.FieldMultilineInput.prototype.widgetCreate_=function(){var e=t.WidgetDiv.DIV,o=this.workspace_.getScale(),n=document.createElement("textarea");n.className="blocklyHtmlInput blocklyHtmlTextAreaInput",n.setAttribute("spellcheck",this.spellcheck_);var r=this.getConstants().FIELD_TEXT_FONTSIZE*o+"pt";e.style.fontSize=r,n.style.fontSize=r,n.style.borderRadius=t.FieldTextInput.BORDERRADIUS*o+"px",r=this.getConstants().FIELD_BORDER_RECT_X_PADDING*o;var i=this.getConstants().FIELD_BORDER_RECT_Y_PADDING*o/2;return n.style.padding=i+"px "+r+"px "+i+"px "+r+"px",r=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,n.style.lineHeight=r*o+"px",e.appendChild(n),n.value=n.defaultValue=this.getEditorText_(this.value_),n.untypedDefaultValue_=this.value_,n.oldValue_=null,t.utils.userAgent.GECKO?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(n),n},t.FieldMultilineInput.prototype.setMaxLines=function(t){"number"==typeof t&&0<t&&t!==this.maxLines_&&(this.maxLines_=t,this.forceRerender())},t.FieldMultilineInput.prototype.getMaxLines=function(){return this.maxLines_},t.FieldMultilineInput.prototype.onHtmlInputKeyDown_=function(e){e.keyCode!==t.utils.KeyCodes.ENTER&&t.FieldMultilineInput.superClass_.onHtmlInputKeyDown_.call(this,e)},t.Css.register(".blocklyHtmlTextAreaInput {,font-family: monospace;,resize: none;,overflow: hidden;,height: 100%;,text-align: left;,},.blocklyHtmlTextAreaInputOverflowedY {,overflow-y: scroll;,}".split(",")),t.fieldRegistry.register("field_multilinetext",t.FieldMultilineInput),t.FieldNumber=function(e,o,n,r,i,s){this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces_=null,t.FieldNumber.superClass_.constructor.call(this,e,i,s),s||this.setConstraints(o,n,r)},t.utils.object.inherits(t.FieldNumber,t.FieldTextInput),t.FieldNumber.prototype.DEFAULT_VALUE=0,t.FieldNumber.fromJson=function(e){return new t.FieldNumber(e.value,void 0,void 0,void 0,void 0,e)},t.FieldNumber.prototype.SERIALIZABLE=!0,t.FieldNumber.prototype.configure_=function(e){t.FieldNumber.superClass_.configure_.call(this,e),this.setMinInternal_(e.min),this.setMaxInternal_(e.max),this.setPrecisionInternal_(e.precision)},t.FieldNumber.prototype.setConstraints=function(t,e,o){this.setMinInternal_(t),this.setMaxInternal_(e),this.setPrecisionInternal_(o),this.setValue(this.getValue())},t.FieldNumber.prototype.setMin=function(t){this.setMinInternal_(t),this.setValue(this.getValue())},t.FieldNumber.prototype.setMinInternal_=function(t){null==t?this.min_=-1/0:(t=Number(t),isNaN(t)||(this.min_=t))},t.FieldNumber.prototype.getMin=function(){return this.min_},t.FieldNumber.prototype.setMax=function(t){this.setMaxInternal_(t),this.setValue(this.getValue())},t.FieldNumber.prototype.setMaxInternal_=function(t){null==t?this.max_=1/0:(t=Number(t),isNaN(t)||(this.max_=t))},t.FieldNumber.prototype.getMax=function(){return this.max_},t.FieldNumber.prototype.setPrecision=function(t){this.setPrecisionInternal_(t),this.setValue(this.getValue())},t.FieldNumber.prototype.setPrecisionInternal_=function(t){null==t?this.precision_=0:(t=Number(t),isNaN(t)||(this.precision_=t));var e=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}),o=e.indexOf(".");this.decimalPlaces_=-1==o?t?0:null:e.length-o-1},t.FieldNumber.prototype.getPrecision=function(){return this.precision_},t.FieldNumber.prototype.doClassValidation_=function(t){return null===t?null:(t=(t=(t=(t=String(t)).replace(/O/gi,"0")).replace(/,/g,"")).replace(/infinity/i,"Infinity"),t=Number(t||0),isNaN(t)?null:(t=Math.min(Math.max(t,this.min_),this.max_),this.precision_&&isFinite(t)&&(t=Math.round(t/this.precision_)*this.precision_),null!=this.decimalPlaces_&&(t=Number(t.toFixed(this.decimalPlaces_))),t))},t.FieldNumber.prototype.widgetCreate_=function(){var e=t.FieldNumber.superClass_.widgetCreate_.call(this);return-1/0<this.min_&&t.utils.aria.setState(e,t.utils.aria.State.VALUEMIN,this.min_),1/0>this.max_&&t.utils.aria.setState(e,t.utils.aria.State.VALUEMAX,this.max_),e},t.fieldRegistry.register("field_number",t.FieldNumber),t.FieldVariable=function(e,o,n,r,i){this.menuGenerator_=t.FieldVariable.dropdownCreate,this.defaultVariableName="string"==typeof e?e:"",this.size_=new t.utils.Size(0,0),i&&this.configure_(i),o&&this.setValidator(o),i||this.setTypes_(n,r)},t.utils.object.inherits(t.FieldVariable,t.FieldDropdown),t.FieldVariable.fromJson=function(e){var o=t.utils.replaceMessageReferences(e.variable);return new t.FieldVariable(o,void 0,void 0,void 0,e)},t.FieldVariable.prototype.SERIALIZABLE=!0,t.FieldVariable.prototype.configure_=function(e){t.FieldVariable.superClass_.configure_.call(this,e),this.setTypes_(e.variableTypes,e.defaultType)},t.FieldVariable.prototype.initModel=function(){if(!this.variable_){var e=t.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,null,this.defaultVariableName,this.defaultType_);this.doValueUpdate_(e.getId())}},t.FieldVariable.prototype.shouldAddBorderRect_=function(){return t.FieldVariable.superClass_.shouldAddBorderRect_.call(this)&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||"variables_get"!=this.sourceBlock_.type)},t.FieldVariable.prototype.fromXml=function(e){var o=e.getAttribute("id"),n=e.textContent,r=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(o=t.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,o,n,r),null!=r&&r!==o.type)throw Error("Serialized variable type with id '"+o.getId()+"' had type "+o.type+", and does not match variable field that references it: "+t.Xml.domToText(e)+".");this.setValue(o.getId())},t.FieldVariable.prototype.toXml=function(t){return this.initModel(),t.id=this.variable_.getId(),t.textContent=this.variable_.name,this.variable_.type&&t.setAttribute("variabletype",this.variable_.type),t},t.FieldVariable.prototype.setSourceBlock=function(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");t.FieldVariable.superClass_.setSourceBlock.call(this,e)},t.FieldVariable.prototype.getValue=function(){return this.variable_?this.variable_.getId():null},t.FieldVariable.prototype.getText=function(){return this.variable_?this.variable_.name:""},t.FieldVariable.prototype.getVariable=function(){return this.variable_},t.FieldVariable.prototype.getValidator=function(){return this.variable_?this.validator_:null},t.FieldVariable.prototype.doClassValidation_=function(e){if(null===e)return null;var o=t.Variables.getVariable(this.sourceBlock_.workspace,e);return o?(o=o.type,this.typeIsAllowed_(o)?e:(console.warn("Variable type doesn't match this field!  Type was "+o),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)},t.FieldVariable.prototype.doValueUpdate_=function(e){this.variable_=t.Variables.getVariable(this.sourceBlock_.workspace,e),t.FieldVariable.superClass_.doValueUpdate_.call(this,e)},t.FieldVariable.prototype.typeIsAllowed_=function(t){var e=this.getVariableTypes_();if(!e)return!0;for(var o=0;o<e.length;o++)if(t==e[o])return!0;return!1},t.FieldVariable.prototype.getVariableTypes_=function(){var t=this.variableTypes;if(null===t&&this.sourceBlock_&&this.sourceBlock_.workspace)return this.sourceBlock_.workspace.getVariableTypes();if(0==(t=t||[""]).length)throw t=this.getText(),Error("'variableTypes' of field variable "+t+" was an empty list");return t},t.FieldVariable.prototype.setTypes_=function(t,e){if(e=e||"",null==t||null==t)t=null;else{if(!Array.isArray(t))throw Error("'variableTypes' was not an array in the definition of a FieldVariable");for(var o=!1,n=0;n<t.length;n++)t[n]==e&&(o=!0);if(!o)throw Error("Invalid default type '"+e+"' in the definition of a FieldVariable")}this.defaultType_=e,this.variableTypes=t},t.FieldVariable.prototype.refreshVariableName=function(){this.forceRerender()},t.FieldVariable.dropdownCreate=function(){if(!this.variable_)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var e=this.getText(),o=[];if(this.sourceBlock_&&this.sourceBlock_.workspace)for(var n=this.getVariableTypes_(),r=0;r<n.length;r++){var i=this.sourceBlock_.workspace.getVariablesOfType(n[r]);o=o.concat(i)}for(o.sort(t.VariableModel.compareByName),n=[],r=0;r<o.length;r++)n[r]=[o[r].name,o[r].getId()];return n.push([t.Msg.RENAME_VARIABLE,t.RENAME_VARIABLE_ID]),t.Msg.DELETE_VARIABLE&&n.push([t.Msg.DELETE_VARIABLE.replace("%1",e),t.DELETE_VARIABLE_ID]),n},t.FieldVariable.prototype.onItemSelected_=function(e,o){if(e=o.getValue(),this.sourceBlock_&&this.sourceBlock_.workspace){if(e==t.RENAME_VARIABLE_ID)return void t.Variables.renameVariable(this.sourceBlock_.workspace,this.variable_);if(e==t.DELETE_VARIABLE_ID)return void this.sourceBlock_.workspace.deleteVariableById(this.variable_.getId())}this.setValue(e)},t.FieldVariable.prototype.referencesVariables=function(){return!0},t.fieldRegistry.register("field_variable",t.FieldVariable),t.utils.svgPaths={},t.utils.svgPaths.point=function(t,e){return" "+t+","+e+" "},t.utils.svgPaths.curve=function(t,e){return" "+t+e.join("")},t.utils.svgPaths.moveTo=function(t,e){return" M "+t+","+e+" "},t.utils.svgPaths.moveBy=function(t,e){return" m "+t+","+e+" "},t.utils.svgPaths.lineTo=function(t,e){return" l "+t+","+e+" "},t.utils.svgPaths.line=function(t){return" l"+t.join("")},t.utils.svgPaths.lineOnAxis=function(t,e){return" "+t+" "+e+" "},t.utils.svgPaths.arc=function(t,e,o,n){return t+" "+o+" "+o+" "+e+n},t.blockRendering.ConstantProvider=function(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.CORNER_RADIUS=8,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=t.utils.svgPaths.moveBy(0,0),this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_TEXT_BASELINE_CENTER=!t.utils.userAgent.IE&&!t.utils.userAgent.EDGE,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2),this.embossFilterId="",this.embossFilter_=null,this.disabledPatternId="",this.disabledPattern_=null,this.debugFilterId="",this.cssNode_=this.debugFilter_=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2}},t.blockRendering.ConstantProvider.prototype.init=function(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()},t.blockRendering.ConstantProvider.prototype.setTheme=function(t){this.blockStyles={};var e,o=t.blockStyles;for(e in o)this.blockStyles[e]=this.validatedBlockStyle_(o[e]);this.setDynamicProperties_(t)},t.blockRendering.ConstantProvider.prototype.setDynamicProperties_=function(t){this.setFontConstants_(t),this.setComponentConstants_(t),this.ADD_START_HATS=null!=t.startHats?t.startHats:this.ADD_START_HATS},t.blockRendering.ConstantProvider.prototype.setFontConstants_=function(e){this.FIELD_TEXT_FONTFAMILY=e.fontStyle&&null!=e.fontStyle.family?e.fontStyle.family:this.FIELD_TEXT_FONTFAMILY,this.FIELD_TEXT_FONTWEIGHT=e.fontStyle&&null!=e.fontStyle.weight?e.fontStyle.weight:this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTSIZE=e.fontStyle&&null!=e.fontStyle.size?e.fontStyle.size:this.FIELD_TEXT_FONTSIZE,e=t.utils.dom.measureFontMetrics("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=e.height,this.FIELD_TEXT_BASELINE=e.baseline},t.blockRendering.ConstantProvider.prototype.setComponentConstants_=function(t){this.CURSOR_COLOUR=t.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=t.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=t.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(t.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY},t.blockRendering.ConstantProvider.prototype.getBlockStyleForColour=function(t){var e="auto_"+t;return this.blockStyles[e]||(this.blockStyles[e]=this.createBlockStyle_(t)),{style:this.blockStyles[e],name:e}},t.blockRendering.ConstantProvider.prototype.getBlockStyle=function(t){return this.blockStyles[t||""]||(t&&0==t.indexOf("auto_")?this.getBlockStyleForColour(t.substring(5)).style:this.createBlockStyle_("#000000"))},t.blockRendering.ConstantProvider.prototype.createBlockStyle_=function(t){return this.validatedBlockStyle_({colourPrimary:t})},t.blockRendering.ConstantProvider.prototype.validatedBlockStyle_=function(e){var o={};return e&&t.utils.object.mixin(o,e),e=t.utils.parseBlockColour(o.colourPrimary||"#000"),o.colourPrimary=e.hex,o.colourSecondary=o.colourSecondary?t.utils.parseBlockColour(o.colourSecondary).hex:this.generateSecondaryColour_(o.colourPrimary),o.colourTertiary=o.colourTertiary?t.utils.parseBlockColour(o.colourTertiary).hex:this.generateTertiaryColour_(o.colourPrimary),o.hat=o.hat||"",o},t.blockRendering.ConstantProvider.prototype.generateSecondaryColour_=function(e){return t.utils.colour.blend("#fff",e,.6)||e},t.blockRendering.ConstantProvider.prototype.generateTertiaryColour_=function(e){return t.utils.colour.blend("#fff",e,.3)||e},t.blockRendering.ConstantProvider.prototype.dispose=function(){this.embossFilter_&&t.utils.dom.removeNode(this.embossFilter_),this.disabledPattern_&&t.utils.dom.removeNode(this.disabledPattern_),this.debugFilter_&&t.utils.dom.removeNode(this.debugFilter_),this.cssNode_=null},t.blockRendering.ConstantProvider.prototype.makeJaggedTeeth=function(){var e=this.JAGGED_TEETH_HEIGHT,o=this.JAGGED_TEETH_WIDTH;return{height:e,width:o,path:t.utils.svgPaths.line([t.utils.svgPaths.point(o,e/4),t.utils.svgPaths.point(2*-o,e/2),t.utils.svgPaths.point(o,e/4)])}},t.blockRendering.ConstantProvider.prototype.makeStartHat=function(){var e=this.START_HAT_HEIGHT,o=this.START_HAT_WIDTH;return{height:e,width:o,path:t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(30,-e),t.utils.svgPaths.point(70,-e),t.utils.svgPaths.point(o,0)])}},t.blockRendering.ConstantProvider.prototype.makePuzzleTab=function(){function e(e){var r=-(e=e?-1:1),i=n/2,s=i+2.5,a=i+.5,l=t.utils.svgPaths.point(-o,e*i);return i=t.utils.svgPaths.point(o,e*i),t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(0,e*s),t.utils.svgPaths.point(-o,r*a),l])+t.utils.svgPaths.curve("s",[t.utils.svgPaths.point(o,2.5*r),i])}var o=this.TAB_WIDTH,n=this.TAB_HEIGHT,r=e(!0),i=e(!1);return{type:this.SHAPES.PUZZLE,width:o,height:n,pathDown:i,pathUp:r}},t.blockRendering.ConstantProvider.prototype.makeNotch=function(){function e(e){return t.utils.svgPaths.line([t.utils.svgPaths.point(e*r,n),t.utils.svgPaths.point(3*e,0),t.utils.svgPaths.point(e*r,-n)])}var o=this.NOTCH_WIDTH,n=this.NOTCH_HEIGHT,r=(o-3)/2,i=e(1),s=e(-1);return{type:this.SHAPES.NOTCH,width:o,height:n,pathLeft:i,pathRight:s}},t.blockRendering.ConstantProvider.prototype.makeInsideCorners=function(){var e=this.CORNER_RADIUS;return{width:e,height:e,pathTop:t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(-e,e)),pathBottom:t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(e,e))}},t.blockRendering.ConstantProvider.prototype.makeOutsideCorners=function(){var e=this.CORNER_RADIUS,o=t.utils.svgPaths.moveBy(0,e)+t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(e,-e)),n=t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(e,e)),r=t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(-e,-e));return{topLeft:o,topRight:n,bottomRight:t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(-e,e)),bottomLeft:r,rightHeight:e}},t.blockRendering.ConstantProvider.prototype.shapeFor=function(e){switch(e.type){case t.connectionTypes.INPUT_VALUE:case t.connectionTypes.OUTPUT_VALUE:return this.PUZZLE_TAB;case t.connectionTypes.PREVIOUS_STATEMENT:case t.connectionTypes.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}},t.blockRendering.ConstantProvider.prototype.createDom=function(e,o,n){this.injectCSS_(o,n),e=t.utils.dom.createSvgElement(t.utils.Svg.DEFS,{},e),o=t.utils.dom.createSvgElement(t.utils.Svg.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},e),t.utils.dom.createSvgElement(t.utils.Svg.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},o),n=t.utils.dom.createSvgElement(t.utils.Svg.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},o),t.utils.dom.createSvgElement(t.utils.Svg.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},n),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},o),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},o),this.embossFilterId=o.id,this.embossFilter_=o,o=t.utils.dom.createSvgElement(t.utils.Svg.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},e),t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:10,height:10,fill:"#aaa"},o),t.utils.dom.createSvgElement(t.utils.Svg.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},o),this.disabledPatternId=o.id,this.disabledPattern_=o,t.blockRendering.Debug&&(e=t.utils.dom.createSvgElement(t.utils.Svg.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),o=t.utils.dom.createSvgElement(t.utils.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},e),t.utils.dom.createSvgElement(t.utils.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},o),t.utils.dom.createSvgElement(t.utils.Svg.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},e),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),this.debugFilterId=e.id,this.debugFilter_=e)},t.blockRendering.ConstantProvider.prototype.injectCSS_=function(t,e){e=this.getCSS_(e),t="blockly-renderer-style-"+t,this.cssNode_=document.getElementById(t);var o=e.join("\n");this.cssNode_?this.cssNode_.firstChild.textContent=o:((e=document.createElement("style")).id=t,t=document.createTextNode(o),e.appendChild(t),document.head.insertBefore(e,document.head.firstChild),this.cssNode_=e)},t.blockRendering.ConstantProvider.prototype.getCSS_=function(t){return[t+" .blocklyText, ",t+" .blocklyFlyoutLabelText {","font: "+this.FIELD_TEXT_FONTWEIGHT+" "+this.FIELD_TEXT_FONTSIZE+"pt "+this.FIELD_TEXT_FONTFAMILY+";","}",t+" .blocklyText {","fill: #fff;","}",t+" .blocklyNonEditableText>rect,",t+" .blocklyEditableText>rect {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","fill-opacity: .6;","stroke: none;","}",t+" .blocklyNonEditableText>text,",t+" .blocklyEditableText>text {","fill: #000;","}",t+" .blocklyFlyoutLabelText {","fill: #000;","}",t+" .blocklyText.blocklyBubbleText {","fill: #000;","}",t+" .blocklyEditableText:not(.editing):hover>rect {","stroke: #fff;","stroke-width: 2;","}",t+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","}",t+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",t+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",t+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",t+" .blocklyReplaceable .blocklyPathLight,",t+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",t+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"]},t.blockRendering.Types={NONE:0,FIELD:1,HAT:2,ICON:4,SPACER:8,BETWEEN_ROW_SPACER:16,IN_ROW_SPACER:32,EXTERNAL_VALUE_INPUT:64,INPUT:128,INLINE_INPUT:256,STATEMENT_INPUT:512,CONNECTION:1024,PREVIOUS_CONNECTION:2048,NEXT_CONNECTION:4096,OUTPUT_CONNECTION:8192,CORNER:16384,LEFT_SQUARE_CORNER:32768,LEFT_ROUND_CORNER:65536,RIGHT_SQUARE_CORNER:131072,RIGHT_ROUND_CORNER:262144,JAGGED_EDGE:524288,ROW:1048576,TOP_ROW:2097152,BOTTOM_ROW:4194304,INPUT_ROW:8388608},t.blockRendering.Types.LEFT_CORNER=t.blockRendering.Types.LEFT_SQUARE_CORNER|t.blockRendering.Types.LEFT_ROUND_CORNER,t.blockRendering.Types.RIGHT_CORNER=t.blockRendering.Types.RIGHT_SQUARE_CORNER|t.blockRendering.Types.RIGHT_ROUND_CORNER,t.blockRendering.Types.nextTypeValue_=16777216,t.blockRendering.Types.getType=function(e){return Object.prototype.hasOwnProperty.call(t.blockRendering.Types,e)||(t.blockRendering.Types[e]=t.blockRendering.Types.nextTypeValue_,t.blockRendering.Types.nextTypeValue_<<=1),t.blockRendering.Types[e]},t.blockRendering.Types.isField=function(e){return e.type&t.blockRendering.Types.FIELD},t.blockRendering.Types.isHat=function(e){return e.type&t.blockRendering.Types.HAT},t.blockRendering.Types.isIcon=function(e){return e.type&t.blockRendering.Types.ICON},t.blockRendering.Types.isSpacer=function(e){return e.type&t.blockRendering.Types.SPACER},t.blockRendering.Types.isInRowSpacer=function(e){return e.type&t.blockRendering.Types.IN_ROW_SPACER},t.blockRendering.Types.isInput=function(e){return e.type&t.blockRendering.Types.INPUT},t.blockRendering.Types.isExternalInput=function(e){return e.type&t.blockRendering.Types.EXTERNAL_VALUE_INPUT},t.blockRendering.Types.isInlineInput=function(e){return e.type&t.blockRendering.Types.INLINE_INPUT},t.blockRendering.Types.isStatementInput=function(e){return e.type&t.blockRendering.Types.STATEMENT_INPUT},t.blockRendering.Types.isPreviousConnection=function(e){return e.type&t.blockRendering.Types.PREVIOUS_CONNECTION},t.blockRendering.Types.isNextConnection=function(e){return e.type&t.blockRendering.Types.NEXT_CONNECTION},t.blockRendering.Types.isPreviousOrNextConnection=function(e){return e.type&(t.blockRendering.Types.PREVIOUS_CONNECTION|t.blockRendering.Types.NEXT_CONNECTION)},t.blockRendering.Types.isLeftRoundedCorner=function(e){return e.type&t.blockRendering.Types.LEFT_ROUND_CORNER},t.blockRendering.Types.isRightRoundedCorner=function(e){return e.type&t.blockRendering.Types.RIGHT_ROUND_CORNER},t.blockRendering.Types.isLeftSquareCorner=function(e){return e.type&t.blockRendering.Types.LEFT_SQUARE_CORNER},t.blockRendering.Types.isRightSquareCorner=function(e){return e.type&t.blockRendering.Types.RIGHT_SQUARE_CORNER},t.blockRendering.Types.isCorner=function(e){return e.type&t.blockRendering.Types.CORNER},t.blockRendering.Types.isJaggedEdge=function(e){return e.type&t.blockRendering.Types.JAGGED_EDGE},t.blockRendering.Types.isRow=function(e){return e.type&t.blockRendering.Types.ROW},t.blockRendering.Types.isBetweenRowSpacer=function(e){return e.type&t.blockRendering.Types.BETWEEN_ROW_SPACER},t.blockRendering.Types.isTopRow=function(e){return e.type&t.blockRendering.Types.TOP_ROW},t.blockRendering.Types.isBottomRow=function(e){return e.type&t.blockRendering.Types.BOTTOM_ROW},t.blockRendering.Types.isTopOrBottomRow=function(e){return e.type&(t.blockRendering.Types.TOP_ROW|t.blockRendering.Types.BOTTOM_ROW)},t.blockRendering.Types.isInputRow=function(e){return e.type&t.blockRendering.Types.INPUT_ROW},t.blockRendering.Measurable=function(e){this.height=this.width=0,this.type=t.blockRendering.Types.NONE,this.centerline=this.xPos=0,this.constants_=e,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT},t.blockRendering.Connection=function(e,o){t.blockRendering.Connection.superClass_.constructor.call(this,e),this.connectionModel=o,this.shape=this.constants_.shapeFor(o),this.isDynamicShape=!!this.shape.isDynamic,this.type|=t.blockRendering.Types.CONNECTION},t.utils.object.inherits(t.blockRendering.Connection,t.blockRendering.Measurable),t.blockRendering.OutputConnection=function(e,o){t.blockRendering.OutputConnection.superClass_.constructor.call(this,e,o),this.type|=t.blockRendering.Types.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX=0},t.utils.object.inherits(t.blockRendering.OutputConnection,t.blockRendering.Connection),t.blockRendering.PreviousConnection=function(e,o){t.blockRendering.PreviousConnection.superClass_.constructor.call(this,e,o),this.type|=t.blockRendering.Types.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width},t.utils.object.inherits(t.blockRendering.PreviousConnection,t.blockRendering.Connection),t.blockRendering.NextConnection=function(e,o){t.blockRendering.NextConnection.superClass_.constructor.call(this,e,o),this.type|=t.blockRendering.Types.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width},t.utils.object.inherits(t.blockRendering.NextConnection,t.blockRendering.Connection),t.blockRendering.InputConnection=function(e,o){t.blockRendering.InputConnection.superClass_.constructor.call(this,e,o.connection),this.type|=t.blockRendering.Types.INPUT,this.input=o,this.align=o.align,(this.connectedBlock=o.connection&&o.connection.targetBlock()?o.connection.targetBlock():null)?(e=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=e.width,this.connectedBlockHeight=e.height):this.connectedBlockHeight=this.connectedBlockWidth=0,this.connectionOffsetY=this.connectionOffsetX=0},t.utils.object.inherits(t.blockRendering.InputConnection,t.blockRendering.Connection),t.blockRendering.InlineInput=function(e,o){t.blockRendering.InlineInput.superClass_.constructor.call(this,e,o),this.type|=t.blockRendering.Types.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY=this.isDynamicShape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX=this.isDynamicShape?this.shape.connectionOffsetX(this.connectionWidth):0},t.utils.object.inherits(t.blockRendering.InlineInput,t.blockRendering.InputConnection),t.blockRendering.StatementInput=function(e,o){t.blockRendering.StatementInput.superClass_.constructor.call(this,e,o),this.type|=t.blockRendering.Types.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width},t.utils.object.inherits(t.blockRendering.StatementInput,t.blockRendering.InputConnection),t.blockRendering.ExternalValueInput=function(e,o){t.blockRendering.ExternalValueInput.superClass_.constructor.call(this,e,o),this.type|=t.blockRendering.Types.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width},t.utils.object.inherits(t.blockRendering.ExternalValueInput,t.blockRendering.InputConnection),t.blockRendering.Icon=function(e,o){t.blockRendering.Icon.superClass_.constructor.call(this,e),this.icon=o,this.isVisible=o.isVisible(),this.type|=t.blockRendering.Types.ICON,e=o.getCorrectedSize(),this.height=e.height,this.width=e.width},t.utils.object.inherits(t.blockRendering.Icon,t.blockRendering.Measurable),t.blockRendering.JaggedEdge=function(e){t.blockRendering.JaggedEdge.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width},t.utils.object.inherits(t.blockRendering.JaggedEdge,t.blockRendering.Measurable),t.blockRendering.Field=function(e,o,n){t.blockRendering.Field.superClass_.constructor.call(this,e),this.field=o,this.isEditable=o.EDITABLE,this.flipRtl=o.getFlipRtl(),this.type|=t.blockRendering.Types.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width,this.parentInput=n},t.utils.object.inherits(t.blockRendering.Field,t.blockRendering.Measurable),t.blockRendering.Hat=function(e){t.blockRendering.Hat.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height},t.utils.object.inherits(t.blockRendering.Hat,t.blockRendering.Measurable),t.blockRendering.SquareCorner=function(e,o){t.blockRendering.SquareCorner.superClass_.constructor.call(this,e),this.type=(o&&"left"!=o?t.blockRendering.Types.RIGHT_SQUARE_CORNER:t.blockRendering.Types.LEFT_SQUARE_CORNER)|t.blockRendering.Types.CORNER,this.width=this.height=this.constants_.NO_PADDING},t.utils.object.inherits(t.blockRendering.SquareCorner,t.blockRendering.Measurable),t.blockRendering.RoundCorner=function(e,o){t.blockRendering.RoundCorner.superClass_.constructor.call(this,e),this.type=(o&&"left"!=o?t.blockRendering.Types.RIGHT_ROUND_CORNER:t.blockRendering.Types.LEFT_ROUND_CORNER)|t.blockRendering.Types.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2},t.utils.object.inherits(t.blockRendering.RoundCorner,t.blockRendering.Measurable),t.blockRendering.InRowSpacer=function(e,o){t.blockRendering.InRowSpacer.superClass_.constructor.call(this,e),this.type=this.type|t.blockRendering.Types.SPACER|t.blockRendering.Types.IN_ROW_SPACER,this.width=o,this.height=this.constants_.SPACER_DEFAULT_HEIGHT},t.utils.object.inherits(t.blockRendering.InRowSpacer,t.blockRendering.Measurable),t.blockRendering.Row=function(e){this.type=t.blockRendering.Types.ROW,this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=this.hasStatement=this.hasExternalInput=!1,this.constants_=e,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT,this.align=null},t.blockRendering.Row.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.")},t.blockRendering.Row.prototype.getLastInput=function(){for(var e,o=this.elements.length-1;e=this.elements[o];o--)if(t.blockRendering.Types.isInput(e))return e;return null},t.blockRendering.Row.prototype.startsWithElemSpacer=function(){return!0},t.blockRendering.Row.prototype.endsWithElemSpacer=function(){return!0},t.blockRendering.Row.prototype.getFirstSpacer=function(){for(var e,o=0;e=this.elements[o];o++)if(t.blockRendering.Types.isSpacer(e))return e;return null},t.blockRendering.Row.prototype.getLastSpacer=function(){for(var e,o=this.elements.length-1;e=this.elements[o];o--)if(t.blockRendering.Types.isSpacer(e))return e;return null},t.blockRendering.TopRow=function(e){t.blockRendering.TopRow.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.TOP_ROW,this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null},t.utils.object.inherits(t.blockRendering.TopRow,t.blockRendering.Row),t.blockRendering.TopRow.prototype.hasLeftSquareCorner=function(t){var e=(t.hat?"cap"===t.hat:this.constants_.ADD_START_HATS)&&!t.outputConnection&&!t.previousConnection,o=t.getPreviousBlock();return!!t.outputConnection||e||!!o&&o.getNextBlock()==t},t.blockRendering.TopRow.prototype.hasRightSquareCorner=function(t){return!0},t.blockRendering.TopRow.prototype.measure=function(){for(var e,o=0,n=0,r=0,i=0;e=this.elements[i];i++)n+=e.width,t.blockRendering.Types.isSpacer(e)||(t.blockRendering.Types.isHat(e)?r=Math.max(r,e.ascenderHeight):o=Math.max(o,e.height));this.width=Math.max(this.minWidth,n),this.height=Math.max(this.minHeight,o)+r,this.capline=this.ascenderHeight=r,this.widthWithConnectedBlocks=this.width},t.blockRendering.TopRow.prototype.startsWithElemSpacer=function(){return!1},t.blockRendering.TopRow.prototype.endsWithElemSpacer=function(){return!1},t.blockRendering.BottomRow=function(e){t.blockRendering.BottomRow.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.BOTTOM_ROW,this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0},t.utils.object.inherits(t.blockRendering.BottomRow,t.blockRendering.Row),t.blockRendering.BottomRow.prototype.hasLeftSquareCorner=function(t){return!!t.outputConnection||!!t.getNextBlock()},t.blockRendering.BottomRow.prototype.hasRightSquareCorner=function(t){return!0},t.blockRendering.BottomRow.prototype.measure=function(){for(var e,o=0,n=0,r=0,i=0;e=this.elements[i];i++)n+=e.width,t.blockRendering.Types.isSpacer(e)||(t.blockRendering.Types.isNextConnection(e)?r=Math.max(r,e.height):o=Math.max(o,e.height));this.width=Math.max(this.minWidth,n),this.height=Math.max(this.minHeight,o)+r,this.descenderHeight=r,this.widthWithConnectedBlocks=this.width},t.blockRendering.BottomRow.prototype.startsWithElemSpacer=function(){return!1},t.blockRendering.BottomRow.prototype.endsWithElemSpacer=function(){return!1},t.blockRendering.SpacerRow=function(e,o,n){t.blockRendering.SpacerRow.superClass_.constructor.call(this,e),this.type=this.type|t.blockRendering.Types.SPACER|t.blockRendering.Types.BETWEEN_ROW_SPACER,this.width=n,this.height=o,this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.elements=[new t.blockRendering.InRowSpacer(this.constants_,n)]},t.utils.object.inherits(t.blockRendering.SpacerRow,t.blockRendering.Row),t.blockRendering.SpacerRow.prototype.measure=function(){},t.blockRendering.InputRow=function(e){t.blockRendering.InputRow.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.INPUT_ROW,this.connectedBlockWidths=0},t.utils.object.inherits(t.blockRendering.InputRow,t.blockRendering.Row),t.blockRendering.InputRow.prototype.measure=function(){this.width=this.minWidth,this.height=this.minHeight;for(var e,o=0,n=0;e=this.elements[n];n++)this.width+=e.width,t.blockRendering.Types.isInput(e)&&(t.blockRendering.Types.isStatementInput(e)?o+=e.connectedBlockWidth:t.blockRendering.Types.isExternalInput(e)&&0!=e.connectedBlockWidth&&(o+=e.connectedBlockWidth-e.connectionWidth)),t.blockRendering.Types.isSpacer(e)||(this.height=Math.max(this.height,e.height));this.connectedBlockWidths=o,this.widthWithConnectedBlocks=this.width+o},t.blockRendering.InputRow.prototype.endsWithElemSpacer=function(){return!this.hasExternalInput&&!this.hasStatement},t.blockRendering.RenderInfo=function(e,o){this.block_=o,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.outputConnection=o.outputConnection?new t.blockRendering.OutputConnection(this.constants_,o.outputConnection):null,this.isInline=o.getInputsInline()&&!o.isCollapsed(),this.isCollapsed=o.isCollapsed(),this.isInsertionMarker=o.isInsertionMarker(),this.RTL=o.RTL,this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.hiddenIcons=[],this.topRow=new t.blockRendering.TopRow(this.constants_),this.bottomRow=new t.blockRendering.BottomRow(this.constants_),this.startY=this.startX=0},t.blockRendering.RenderInfo.prototype.getRenderer=function(){return this.renderer_},t.blockRendering.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()},t.blockRendering.RenderInfo.prototype.createRows_=function(){this.populateTopRow_(),this.rows.push(this.topRow);var e=new t.blockRendering.InputRow(this.constants_);this.inputRows.push(e);var o=this.block_.getIcons();if(o.length)for(var n,r=0;n=o[r];r++){var i=new t.blockRendering.Icon(this.constants_,n);this.isCollapsed&&n.collapseHidden?this.hiddenIcons.push(i):e.elements.push(i)}for(n=null,r=0;o=this.block_.inputList[r];r++)if(o.isVisible()){for(this.shouldStartNewRow_(o,n)&&(this.rows.push(e),e=new t.blockRendering.InputRow(this.constants_),this.inputRows.push(e)),n=0;i=o.fieldRow[n];n++)e.elements.push(new t.blockRendering.Field(this.constants_,i,o));this.addInput_(o,e),n=o}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new t.blockRendering.JaggedEdge(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)},t.blockRendering.RenderInfo.prototype.populateTopRow_=function(){var e=!!this.block_.previousConnection,o=(this.block_.hat?"cap"===this.block_.hat:this.constants_.ADD_START_HATS)&&!this.outputConnection&&!e;this.topRow.hasLeftSquareCorner(this.block_)?this.topRow.elements.push(new t.blockRendering.SquareCorner(this.constants_)):this.topRow.elements.push(new t.blockRendering.RoundCorner(this.constants_)),o?(e=new t.blockRendering.Hat(this.constants_),this.topRow.elements.push(e),this.topRow.capline=e.ascenderHeight):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new t.blockRendering.PreviousConnection(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0].type==t.inputTypes.STATEMENT&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,this.topRow.hasRightSquareCorner(this.block_)?this.topRow.elements.push(new t.blockRendering.SquareCorner(this.constants_,"right")):this.topRow.elements.push(new t.blockRendering.RoundCorner(this.constants_,"right"))},t.blockRendering.RenderInfo.prototype.populateBottomRow_=function(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type==t.inputTypes.STATEMENT?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new t.blockRendering.SquareCorner(this.constants_)):this.bottomRow.elements.push(new t.blockRendering.RoundCorner(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new t.blockRendering.NextConnection(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new t.blockRendering.SquareCorner(this.constants_,"right")):this.bottomRow.elements.push(new t.blockRendering.RoundCorner(this.constants_,"right"))},t.blockRendering.RenderInfo.prototype.addInput_=function(e,o){this.isInline&&e.type==t.inputTypes.VALUE?(o.elements.push(new t.blockRendering.InlineInput(this.constants_,e)),o.hasInlineInput=!0):e.type==t.inputTypes.STATEMENT?(o.elements.push(new t.blockRendering.StatementInput(this.constants_,e)),o.hasStatement=!0):e.type==t.inputTypes.VALUE?(o.elements.push(new t.blockRendering.ExternalValueInput(this.constants_,e)),o.hasExternalInput=!0):e.type==t.inputTypes.DUMMY&&(o.minHeight=Math.max(o.minHeight,e.getSourceBlock()&&e.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),o.hasDummyInput=!0),null==o.align&&(o.align=e.align)},t.blockRendering.RenderInfo.prototype.shouldStartNewRow_=function(e,o){return!(!o||e.type!=t.inputTypes.STATEMENT&&o.type!=t.inputTypes.STATEMENT&&(e.type!=t.inputTypes.VALUE&&e.type!=t.inputTypes.DUMMY||this.isInline))},t.blockRendering.RenderInfo.prototype.addElemSpacing_=function(){for(var e,o=0;e=this.rows[o];o++){var n=e.elements;if(e.elements=[],e.startsWithElemSpacer()&&e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,n[0]))),n.length){for(var r=0;r<n.length-1;r++){e.elements.push(n[r]);var i=this.getInRowSpacing_(n[r],n[r+1]);e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,i))}e.elements.push(n[n.length-1]),e.endsWithElemSpacer()&&e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(n[n.length-1],null)))}}},t.blockRendering.RenderInfo.prototype.getInRowSpacing_=function(e,o){if(!e&&o&&t.blockRendering.Types.isStatementInput(o))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(e&&t.blockRendering.Types.isInput(e)&&!o){if(t.blockRendering.Types.isExternalInput(e))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isInlineInput(e))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(e))return this.constants_.NO_PADDING}return e&&t.blockRendering.Types.isLeftSquareCorner(e)&&o&&(t.blockRendering.Types.isPreviousConnection(o)||t.blockRendering.Types.isNextConnection(o))?o.notchOffset:e&&t.blockRendering.Types.isLeftRoundedCorner(e)&&o&&(t.blockRendering.Types.isPreviousConnection(o)||t.blockRendering.Types.isNextConnection(o))?o.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},t.blockRendering.RenderInfo.prototype.computeBounds_=function(){for(var t,e=0,o=0,n=0,r=0;t=this.rows[r];r++){if(t.measure(),o=Math.max(o,t.width),t.hasStatement){var i=t.getLastInput();e=Math.max(e,t.width-i.width)}n=Math.max(n,t.widthWithConnectedBlocks)}for(this.statementEdge=e,this.width=o,r=0;t=this.rows[r];r++)t.hasStatement&&(t.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(o,n),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)},t.blockRendering.RenderInfo.prototype.alignRowElements_=function(){for(var e,o=0;e=this.rows[o];o++)if(e.hasStatement)this.alignStatementRow_(e);else{var n=e.width;0<(n=this.getDesiredRowWidth_(e)-n)&&this.addAlignmentPadding_(e,n),t.blockRendering.Types.isTopOrBottomRow(e)&&(e.widthWithConnectedBlocks=e.width)}},t.blockRendering.RenderInfo.prototype.getDesiredRowWidth_=function(t){return this.width-this.startX},t.blockRendering.RenderInfo.prototype.addAlignmentPadding_=function(e,o){var n=e.getFirstSpacer(),r=e.getLastSpacer();(e.hasExternalInput||e.hasStatement)&&(e.widthWithConnectedBlocks+=o),e.align==t.constants.ALIGN.LEFT?r.width+=o:e.align==t.constants.ALIGN.CENTRE?(n.width+=o/2,r.width+=o/2):e.align==t.constants.ALIGN.RIGHT?n.width+=o:r.width+=o,e.width+=o},t.blockRendering.RenderInfo.prototype.alignStatementRow_=function(t){var e=t.getLastInput(),o=t.width-e.width,n=this.statementEdge;0<(o=n-o)&&this.addAlignmentPadding_(t,o),o=t.width,n=this.getDesiredRowWidth_(t),e.width+=n-o,e.height=Math.max(e.height,t.height),t.width+=n-o,t.widthWithConnectedBlocks=Math.max(t.width,this.statementEdge+t.connectedBlockWidths)},t.blockRendering.RenderInfo.prototype.addRowSpacing_=function(){var t=this.rows;this.rows=[];for(var e=0;e<t.length;e++)this.rows.push(t[e]),e!=t.length-1&&this.rows.push(this.makeSpacerRow_(t[e],t[e+1]))},t.blockRendering.RenderInfo.prototype.makeSpacerRow_=function(e,o){var n=this.getSpacerRowHeight_(e,o),r=this.getSpacerRowWidth_(e,o);return n=new t.blockRendering.SpacerRow(this.constants_,n,r),e.hasStatement&&(n.followsStatement=!0),o.hasStatement&&(n.precedesStatement=!0),n},t.blockRendering.RenderInfo.prototype.getSpacerRowWidth_=function(t,e){return this.width-this.startX},t.blockRendering.RenderInfo.prototype.getSpacerRowHeight_=function(t,e){return this.constants_.MEDIUM_PADDING},t.blockRendering.RenderInfo.prototype.getElemCenterline_=function(e,o){return t.blockRendering.Types.isSpacer(o)?e.yPos+o.height/2:t.blockRendering.Types.isBottomRow(e)?(e=e.yPos+e.height-e.descenderHeight,t.blockRendering.Types.isNextConnection(o)?e+o.height/2:e-o.height/2):t.blockRendering.Types.isTopRow(e)?t.blockRendering.Types.isHat(o)?e.capline-o.height/2:e.capline+o.height/2:e.yPos+e.height/2},t.blockRendering.RenderInfo.prototype.recordElemPositions_=function(e){for(var o,n=e.xPos,r=0;o=e.elements[r];r++)t.blockRendering.Types.isSpacer(o)&&(o.height=e.height),o.xPos=n,o.centerline=this.getElemCenterline_(e,o),n+=o.width},t.blockRendering.RenderInfo.prototype.finalize_=function(){for(var t,e=0,o=0,n=0;t=this.rows[n];n++)t.yPos=o,t.xPos=this.startX,o+=t.height,e=Math.max(e,t.widthWithConnectedBlocks),this.recordElemPositions_(t);this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(e=Math.max(e,this.block_.nextConnection.targetBlock().getHeightWidth().width)),this.widthWithChildren=e+this.startX,this.height=o,this.startY=this.topRow.capline,this.bottomRow.baseline=o-this.bottomRow.descenderHeight},t.blockRendering.Debug=function(t){this.debugElements_=[],this.svgRoot_=null,this.constants_=t},t.blockRendering.Debug.config={rowSpacers:!0,elemSpacers:!0,rows:!0,elems:!0,connections:!0,blockBounds:!0,connectedBlockBounds:!0,render:!0},t.blockRendering.Debug.prototype.clearElems=function(){for(var e,o=0;e=this.debugElements_[o];o++)t.utils.dom.removeNode(e);this.debugElements_=[]},t.blockRendering.Debug.prototype.drawSpacerRow=function(e,o,n){if(t.blockRendering.Debug.config.rowSpacers){var r=Math.abs(e.height),i=0>e.height;i&&(o-=r),this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"rowSpacerRect blockRenderDebug",x:n?-(e.xPos+e.width):e.xPos,y:o,width:e.width,height:r,stroke:i?"black":"blue",fill:"blue","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}},t.blockRendering.Debug.prototype.drawSpacerElem=function(e,o,n){if(t.blockRendering.Debug.config.elemSpacers){o=Math.abs(e.width);var r=0>e.width,i=r?e.xPos-o:e.xPos;n&&(i=-(i+o)),this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"elemSpacerRect blockRenderDebug",x:i,y:e.centerline-e.height/2,width:o,height:e.height,stroke:"pink",fill:r?"black":"pink","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}},t.blockRendering.Debug.prototype.drawRenderedElem=function(e,o){if(t.blockRendering.Debug.config.elems){var n=e.xPos;o&&(n=-(n+e.width)),o=e.centerline-e.height/2,this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"rowRenderingRect blockRenderDebug",x:n,y:o,width:e.width,height:e.height,stroke:"black",fill:"none","stroke-width":"1px"},this.svgRoot_)),t.blockRendering.Types.isField(e)&&e.field instanceof t.FieldLabel&&this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"rowRenderingRect blockRenderDebug",x:n,y:o+this.constants_.FIELD_TEXT_BASELINE,width:e.width,height:"0.1px",stroke:"red",fill:"none","stroke-width":"0.5px"},this.svgRoot_))}t.blockRendering.Types.isInput(e)&&t.blockRendering.Debug.config.connections&&this.drawConnection(e.connectionModel)},t.blockRendering.Debug.prototype.drawConnection=function(e){if(t.blockRendering.Debug.config.connections){if(e.type==t.connectionTypes.INPUT_VALUE)var o=4,n="magenta",r="none";else e.type==t.connectionTypes.OUTPUT_VALUE?(o=2,r=n="magenta"):e.type==t.connectionTypes.NEXT_STATEMENT?(o=4,n="goldenrod",r="none"):e.type==t.connectionTypes.PREVIOUS_STATEMENT&&(o=2,r=n="goldenrod");this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{class:"blockRenderDebug",cx:e.offsetInBlock_.x,cy:e.offsetInBlock_.y,r:o,fill:r,stroke:n},this.svgRoot_))}},t.blockRendering.Debug.prototype.drawRenderedRow=function(e,o,n){t.blockRendering.Debug.config.rows&&(this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"elemRenderingRect blockRenderDebug",x:n?-(e.xPos+e.width):e.xPos,y:e.yPos,width:e.width,height:e.height,stroke:"red",fill:"none","stroke-width":"1px"},this.svgRoot_)),t.blockRendering.Types.isTopOrBottomRow(e)||t.blockRendering.Debug.config.connectedBlockBounds&&this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"connectedBlockWidth blockRenderDebug",x:n?-(e.xPos+e.widthWithConnectedBlocks):e.xPos,y:e.yPos,width:e.widthWithConnectedBlocks,height:e.height,stroke:this.randomColour_,fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_)))},t.blockRendering.Debug.prototype.drawRowWithElements=function(e,o,n){for(var r=0,i=e.elements.length;r<i;r++){var s=e.elements[r];s?t.blockRendering.Types.isSpacer(s)?this.drawSpacerElem(s,e.height,n):this.drawRenderedElem(s,n):console.warn("A row has an undefined or null element.",e,s)}this.drawRenderedRow(e,o,n)},t.blockRendering.Debug.prototype.drawBoundingBox=function(e){if(t.blockRendering.Debug.config.blockBounds){var o=e.RTL?-e.width:0;this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blockBoundingBox blockRenderDebug",x:o,y:0,width:e.width,height:e.height,stroke:"black",fill:"none","stroke-width":"1px","stroke-dasharray":"5,5"},this.svgRoot_)),t.blockRendering.Debug.config.connectedBlockBounds&&(o=e.RTL?-e.widthWithChildren:0,this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blockRenderDebug",x:o,y:0,width:e.widthWithChildren,height:e.height,stroke:"#DF57BC",fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_)))}},t.blockRendering.Debug.prototype.drawDebug=function(e,o){this.clearElems(),this.svgRoot_=e.getSvgRoot(),this.randomColour_="#"+Math.floor(16777215*Math.random()).toString(16);for(var n,r=0,i=0;n=o.rows[i];i++)t.blockRendering.Types.isBetweenRowSpacer(n)?this.drawSpacerRow(n,r,o.RTL):this.drawRowWithElements(n,r,o.RTL),r+=n.height;e.previousConnection&&this.drawConnection(e.previousConnection),e.nextConnection&&this.drawConnection(e.nextConnection),e.outputConnection&&this.drawConnection(e.outputConnection),o.rightSide&&this.drawRenderedElem(o.rightSide,o.RTL),this.drawBoundingBox(o),this.drawRender(e.pathObject.svgPath)},t.blockRendering.Debug.prototype.drawRender=function(e){t.blockRendering.Debug.config.render&&(e.setAttribute("filter","url(#"+this.constants_.debugFilterId+")"),setTimeout((function(){e.setAttribute("filter","")}),100))},t.blockRendering.Drawer=function(t,e){this.block_=t,this.info_=e,this.topLeft_=t.getRelativeToSurfaceXY(),this.inlinePath_=this.outlinePath_="",this.constants_=e.getRenderer().getConstants()},t.blockRendering.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),this.block_.pathObject.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),t.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},t.blockRendering.Drawer.prototype.recordSizeOnBlock_=function(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren},t.blockRendering.Drawer.prototype.hideHiddenIcons_=function(){for(var t,e=0;t=this.info_.hiddenIcons[e];e++)t.icon.iconGroup_.setAttribute("display","none")},t.blockRendering.Drawer.prototype.drawOutline_=function(){this.drawTop_();for(var t=1;t<this.info_.rows.length-1;t++){var e=this.info_.rows[t];e.hasJaggedEdge?this.drawJaggedEdge_(e):e.hasStatement?this.drawStatementInput_(e):e.hasExternalInput?this.drawValueInput_(e):this.drawRightSideRow_(e)}this.drawBottom_(),this.drawLeft_()},t.blockRendering.Drawer.prototype.drawTop_=function(){var e=this.info_.topRow,o=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=t.utils.svgPaths.moveBy(e.xPos,this.info_.startY);for(var n,r=0;n=o[r];r++)t.blockRendering.Types.isLeftRoundedCorner(n)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:t.blockRendering.Types.isRightRoundedCorner(n)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:t.blockRendering.Types.isPreviousConnection(n)?this.outlinePath_+=n.shape.pathLeft:t.blockRendering.Types.isHat(n)?this.outlinePath_+=this.constants_.START_HAT.path:t.blockRendering.Types.isSpacer(n)&&(this.outlinePath_+=t.utils.svgPaths.lineOnAxis("h",n.width));this.outlinePath_+=t.utils.svgPaths.lineOnAxis("v",e.height)},t.blockRendering.Drawer.prototype.drawJaggedEdge_=function(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+t.utils.svgPaths.lineOnAxis("v",e.height-this.constants_.JAGGED_TEETH.height)},t.blockRendering.Drawer.prototype.drawValueInput_=function(e){var o=e.getLastInput();this.positionExternalValueConnection_(e);var n="function"==typeof o.shape.pathDown?o.shape.pathDown(o.height):o.shape.pathDown;this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",o.xPos+o.width)+n+t.utils.svgPaths.lineOnAxis("v",e.height-o.connectionHeight)},t.blockRendering.Drawer.prototype.drawStatementInput_=function(e){var o=e.getLastInput(),n=o.xPos+o.notchOffset+o.shape.width;o=o.shape.pathRight+t.utils.svgPaths.lineOnAxis("h",-(o.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var r=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",n)+o+t.utils.svgPaths.lineOnAxis("v",r)+this.constants_.INSIDE_CORNERS.pathBottom+t.utils.svgPaths.lineOnAxis("H",e.xPos+e.width),this.positionStatementInputConnection_(e)},t.blockRendering.Drawer.prototype.drawRightSideRow_=function(e){this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",e.yPos+e.height)},t.blockRendering.Drawer.prototype.drawBottom_=function(){var e=this.info_.bottomRow,o=e.elements;this.positionNextConnection_();for(var n,r=0,i="",s=o.length-1;n=o[s];s--)t.blockRendering.Types.isNextConnection(n)?i+=n.shape.pathRight:t.blockRendering.Types.isLeftSquareCorner(n)?i+=t.utils.svgPaths.lineOnAxis("H",e.xPos):t.blockRendering.Types.isLeftRoundedCorner(n)?i+=this.constants_.OUTSIDE_CORNERS.bottomLeft:t.blockRendering.Types.isRightRoundedCorner(n)?(i+=this.constants_.OUTSIDE_CORNERS.bottomRight,r=this.constants_.OUTSIDE_CORNERS.rightHeight):t.blockRendering.Types.isSpacer(n)&&(i+=t.utils.svgPaths.lineOnAxis("h",-1*n.width));this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",e.baseline-r),this.outlinePath_+=i},t.blockRendering.Drawer.prototype.drawLeft_=function(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){var o=e.connectionOffsetY+e.height;e="function"==typeof e.shape.pathUp?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",o)+e}this.outlinePath_+="z"},t.blockRendering.Drawer.prototype.drawInternals_=function(){for(var e,o=0;e=this.info_.rows[o];o++)for(var n,r=0;n=e.elements[r];r++)t.blockRendering.Types.isInlineInput(n)?this.drawInlineInput_(n):(t.blockRendering.Types.isIcon(n)||t.blockRendering.Types.isField(n))&&this.layoutField_(n)},t.blockRendering.Drawer.prototype.layoutField_=function(e){if(t.blockRendering.Types.isField(e))var o=e.field.getSvgRoot();else t.blockRendering.Types.isIcon(e)&&(o=e.icon.iconGroup_);var n=e.centerline-e.height/2,r=e.xPos,i="";this.info_.RTL&&(r=-(r+e.width),e.flipRtl&&(r+=e.width,i="scale(-1 1)")),t.blockRendering.Types.isIcon(e)?(o.setAttribute("display","block"),o.setAttribute("transform","translate("+r+","+n+")"),e.icon.computeIconLocation()):o.setAttribute("transform","translate("+r+","+n+")"+i),this.info_.isInsertionMarker&&o.setAttribute("display","none")},t.blockRendering.Drawer.prototype.drawInlineInput_=function(e){var o=e.width,n=e.height,r=e.connectionOffsetY,i=e.connectionHeight+r;this.inlinePath_+=t.utils.svgPaths.moveTo(e.xPos+e.connectionWidth,e.centerline-n/2)+t.utils.svgPaths.lineOnAxis("v",r)+e.shape.pathDown+t.utils.svgPaths.lineOnAxis("v",n-i)+t.utils.svgPaths.lineOnAxis("h",o-e.connectionWidth)+t.utils.svgPaths.lineOnAxis("v",-n)+"z",this.positionInlineInputConnection_(e)},t.blockRendering.Drawer.prototype.positionInlineInputConnection_=function(t){var e=t.centerline-t.height/2;if(t.connectionModel){var o=t.xPos+t.connectionWidth+t.connectionOffsetX;this.info_.RTL&&(o*=-1),t.connectionModel.setOffsetInBlock(o,e+t.connectionOffsetY)}},t.blockRendering.Drawer.prototype.positionStatementInputConnection_=function(t){var e=t.getLastInput();if(e.connectionModel){var o=t.xPos+t.statementEdge+e.notchOffset;this.info_.RTL&&(o*=-1),e.connectionModel.setOffsetInBlock(o,t.yPos)}},t.blockRendering.Drawer.prototype.positionExternalValueConnection_=function(t){var e=t.getLastInput();if(e.connectionModel){var o=t.xPos+t.width;this.info_.RTL&&(o*=-1),e.connectionModel.setOffsetInBlock(o,t.yPos)}},t.blockRendering.Drawer.prototype.positionPreviousConnection_=function(){var t=this.info_.topRow;if(t.connection){var e=t.xPos+t.notchOffset;t.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-e:e,0)}},t.blockRendering.Drawer.prototype.positionNextConnection_=function(){var t=this.info_.bottomRow;if(t.connection){var e=t.connection,o=e.xPos;e.connectionModel.setOffsetInBlock(this.info_.RTL?-o:o,t.baseline)}},t.blockRendering.Drawer.prototype.positionOutputConnection_=function(){if(this.info_.outputConnection){var t=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-t:t,this.info_.outputConnection.connectionOffsetY)}},t.Events.MarkerMove=function(e,o,n,r){var i=e?e.workspace.id:void 0;r&&r.getType()==t.ASTNode.types.WORKSPACE&&(i=r.getLocation().id),t.Events.MarkerMove.superClass_.constructor.call(this,i),this.blockId=e?e.id:null,this.oldNode=n,this.newNode=r,this.isCursor=o},t.utils.object.inherits(t.Events.MarkerMove,t.Events.UiBase),t.Events.MarkerMove.prototype.type=t.Events.MARKER_MOVE,t.Events.MarkerMove.prototype.toJson=function(){var e=t.Events.MarkerMove.superClass_.toJson.call(this);return e.isCursor=this.isCursor,e.blockId=this.blockId,e.oldNode=this.oldNode,e.newNode=this.newNode,e},t.Events.MarkerMove.prototype.fromJson=function(e){t.Events.MarkerMove.superClass_.fromJson.call(this,e),this.isCursor=e.isCursor,this.blockId=e.blockId,this.oldNode=e.oldNode,this.newNode=e.newNode},t.registry.register(t.registry.Type.EVENT,t.Events.MARKER_MOVE,t.Events.MarkerMove),t.blockRendering.MarkerSvg=function(t,e,o){this.workspace_=t,this.marker_=o,this.parent_=null,this.constants_=e,this.currentMarkerSvg=null,t=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR,this.colour_=o.colour||t},t.blockRendering.MarkerSvg.CURSOR_CLASS="blocklyCursor",t.blockRendering.MarkerSvg.MARKER_CLASS="blocklyMarker",t.blockRendering.MarkerSvg.HEIGHT_MULTIPLIER=.75,t.blockRendering.MarkerSvg.prototype.getSvgRoot=function(){return this.svgGroup_},t.blockRendering.MarkerSvg.prototype.getMarker=function(){return this.marker_},t.blockRendering.MarkerSvg.prototype.isCursor=function(){return"cursor"==this.marker_.type},t.blockRendering.MarkerSvg.prototype.createDom=function(){var e=this.isCursor()?t.blockRendering.MarkerSvg.CURSOR_CLASS:t.blockRendering.MarkerSvg.MARKER_CLASS;return this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:e},null),this.createDomInternal_(),this.svgGroup_},t.blockRendering.MarkerSvg.prototype.setParent_=function(t){this.isCursor()?(this.parent_&&this.parent_.setCursorSvg(null),t.setCursorSvg(this.getSvgRoot())):(this.parent_&&this.parent_.setMarkerSvg(null),t.setMarkerSvg(this.getSvgRoot())),this.parent_=t},t.blockRendering.MarkerSvg.prototype.draw=function(t,e){if(e){this.constants_=this.workspace_.getRenderer().getConstants();var o=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker_.colour||o,this.applyColour_(e),this.showAtLocation_(e),this.fireMarkerEvent_(t,e),void 0!==(t=this.currentMarkerSvg.childNodes[0])&&t.beginElement&&t.beginElement()}else this.hide()},t.blockRendering.MarkerSvg.prototype.showAtLocation_=function(e){var o=e.getLocation().type;e.getType()==t.ASTNode.types.BLOCK?this.showWithBlock_(e):e.getType()==t.ASTNode.types.OUTPUT?this.showWithOutput_(e):o==t.connectionTypes.INPUT_VALUE?this.showWithInput_(e):o==t.connectionTypes.NEXT_STATEMENT?this.showWithNext_(e):e.getType()==t.ASTNode.types.PREVIOUS?this.showWithPrevious_(e):e.getType()==t.ASTNode.types.FIELD?this.showWithField_(e):e.getType()==t.ASTNode.types.WORKSPACE?this.showWithCoordinates_(e):e.getType()==t.ASTNode.types.STACK&&this.showWithStack_(e)},t.blockRendering.MarkerSvg.prototype.showWithBlockPrevOutput_=function(e){var o=(e=e.getSourceBlock()).width,n=e.height,r=n*t.blockRendering.MarkerSvg.HEIGHT_MULTIPLIER,i=this.constants_.CURSOR_BLOCK_PADDING;if(e.previousConnection){var s=this.constants_.shapeFor(e.previousConnection);this.positionPrevious_(o,i,r,s)}else e.outputConnection?(s=this.constants_.shapeFor(e.outputConnection),this.positionOutput_(o,n,s)):this.positionBlock_(o,i,r);this.setParent_(e),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showWithBlock_=function(t){this.showWithBlockPrevOutput_(t)},t.blockRendering.MarkerSvg.prototype.showWithPrevious_=function(t){this.showWithBlockPrevOutput_(t)},t.blockRendering.MarkerSvg.prototype.showWithOutput_=function(t){this.showWithBlockPrevOutput_(t)},t.blockRendering.MarkerSvg.prototype.showWithCoordinates_=function(t){var e=t.getWsCoordinate();t=e.x,e=e.y,this.workspace_.RTL&&(t-=this.constants_.CURSOR_WS_WIDTH),this.positionLine_(t,e,this.constants_.CURSOR_WS_WIDTH),this.setParent_(this.workspace_),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showWithField_=function(t){var e=(t=t.getLocation()).getSize().width,o=t.getSize().height;this.positionRect_(0,0,e,o),this.setParent_(t),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showWithInput_=function(t){var e=(t=t.getLocation()).getSourceBlock();this.positionInput_(t),this.setParent_(e),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showWithNext_=function(t){var e=t.getLocation();t=e.getSourceBlock();var o=0;e=e.getOffsetInBlock().y;var n=t.getHeightWidth().width;this.workspace_.RTL&&(o=-n),this.positionLine_(o,e,n),this.setParent_(t),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showWithStack_=function(t){var e=(t=t.getLocation()).getHeightWidth(),o=e.width+this.constants_.CURSOR_STACK_PADDING;e=e.height+this.constants_.CURSOR_STACK_PADDING;var n=-this.constants_.CURSOR_STACK_PADDING/2,r=-this.constants_.CURSOR_STACK_PADDING/2,i=n;this.workspace_.RTL&&(i=-(o+n)),this.positionRect_(i,r,o,e),this.setParent_(t),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showCurrent_=function(){this.hide(),this.currentMarkerSvg.style.display=""},t.blockRendering.MarkerSvg.prototype.positionBlock_=function(e,o,n){e=t.utils.svgPaths.moveBy(-o,n)+t.utils.svgPaths.lineOnAxis("V",-o)+t.utils.svgPaths.lineOnAxis("H",e+2*o)+t.utils.svgPaths.lineOnAxis("V",n),this.markerBlock_.setAttribute("d",e),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},t.blockRendering.MarkerSvg.prototype.positionInput_=function(e){var o=e.getOffsetInBlock().x,n=e.getOffsetInBlock().y;e=t.utils.svgPaths.moveTo(0,0)+this.constants_.shapeFor(e).pathDown,this.markerInput_.setAttribute("d",e),this.markerInput_.setAttribute("transform","translate("+o+","+n+")"+(this.workspace_.RTL?" scale(-1 1)":"")),this.currentMarkerSvg=this.markerInput_},t.blockRendering.MarkerSvg.prototype.positionLine_=function(t,e,o){this.markerSvgLine_.setAttribute("x",t),this.markerSvgLine_.setAttribute("y",e),this.markerSvgLine_.setAttribute("width",o),this.currentMarkerSvg=this.markerSvgLine_},t.blockRendering.MarkerSvg.prototype.positionOutput_=function(e,o,n){e=t.utils.svgPaths.moveBy(e,0)+t.utils.svgPaths.lineOnAxis("h",-(e-n.width))+t.utils.svgPaths.lineOnAxis("v",this.constants_.TAB_OFFSET_FROM_TOP)+n.pathDown+t.utils.svgPaths.lineOnAxis("V",o)+t.utils.svgPaths.lineOnAxis("H",e),this.markerBlock_.setAttribute("d",e),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},t.blockRendering.MarkerSvg.prototype.positionPrevious_=function(e,o,n,r){e=t.utils.svgPaths.moveBy(-o,n)+t.utils.svgPaths.lineOnAxis("V",-o)+t.utils.svgPaths.lineOnAxis("H",this.constants_.NOTCH_OFFSET_LEFT)+r.pathLeft+t.utils.svgPaths.lineOnAxis("H",e+2*o)+t.utils.svgPaths.lineOnAxis("V",n),this.markerBlock_.setAttribute("d",e),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},t.blockRendering.MarkerSvg.prototype.positionRect_=function(t,e,o,n){this.markerSvgRect_.setAttribute("x",t),this.markerSvgRect_.setAttribute("y",e),this.markerSvgRect_.setAttribute("width",o),this.markerSvgRect_.setAttribute("height",n),this.currentMarkerSvg=this.markerSvgRect_},t.blockRendering.MarkerSvg.prototype.flipRtl_=function(t){t.setAttribute("transform","scale(-1 1)")},t.blockRendering.MarkerSvg.prototype.hide=function(){this.markerSvgLine_.style.display="none",this.markerSvgRect_.style.display="none",this.markerInput_.style.display="none",this.markerBlock_.style.display="none"},t.blockRendering.MarkerSvg.prototype.fireMarkerEvent_=function(e,o){var n=o.getSourceBlock();e=new(t.Events.get(t.Events.MARKER_MOVE))(n,this.isCursor(),e,o),t.Events.fire(e)},t.blockRendering.MarkerSvg.prototype.getBlinkProperties_=function(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}},t.blockRendering.MarkerSvg.prototype.createDomInternal_=function(){if(this.markerSvg_=t.utils.dom.createSvgElement(t.utils.Svg.G,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_),this.markerSvgLine_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT,style:"display: none"},this.markerSvg_),this.markerSvgRect_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.markerSvg_),this.markerInput_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{transform:"",style:"display: none"},this.markerSvg_),this.markerBlock_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{transform:"",style:"display: none",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){var e=this.getBlinkProperties_();t.utils.dom.createSvgElement(t.utils.Svg.ANIMATE,e,this.markerSvgLine_),t.utils.dom.createSvgElement(t.utils.Svg.ANIMATE,e,this.markerInput_),e.attributeName="stroke",t.utils.dom.createSvgElement(t.utils.Svg.ANIMATE,e,this.markerBlock_)}return this.markerSvg_},t.blockRendering.MarkerSvg.prototype.applyColour_=function(t){this.markerSvgLine_.setAttribute("fill",this.colour_),this.markerSvgRect_.setAttribute("stroke",this.colour_),this.markerInput_.setAttribute("fill",this.colour_),this.markerBlock_.setAttribute("stroke",this.colour_),this.isCursor()&&(t=this.colour_+";transparent;transparent;",this.markerSvgLine_.firstChild.setAttribute("values",t),this.markerInput_.firstChild.setAttribute("values",t),this.markerBlock_.firstChild.setAttribute("values",t))},t.blockRendering.MarkerSvg.prototype.dispose=function(){this.svgGroup_&&t.utils.dom.removeNode(this.svgGroup_)},t.blockRendering.PathObject=function(e,o,n){this.constants=n,this.svgRoot=e,this.svgPath=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyPath"},this.svgRoot),this.style=o,this.markerSvg=this.cursorSvg=null},t.blockRendering.PathObject.prototype.setPath=function(t){this.svgPath.setAttribute("d",t)},t.blockRendering.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)")},t.blockRendering.PathObject.prototype.setCursorSvg=function(t){t?(this.svgRoot.appendChild(t),this.cursorSvg=t):this.cursorSvg=null},t.blockRendering.PathObject.prototype.setMarkerSvg=function(t){t?(this.cursorSvg?this.svgRoot.insertBefore(t,this.cursorSvg):this.svgRoot.appendChild(t),this.markerSvg=t):this.markerSvg=null},t.blockRendering.PathObject.prototype.applyColour=function(t){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(t.isShadow()),this.updateDisabled_(!t.isEnabled()||t.getInheritedDisabled())},t.blockRendering.PathObject.prototype.setStyle=function(t){this.style=t},t.blockRendering.PathObject.prototype.setClass_=function(e,o){o?t.utils.dom.addClass(this.svgRoot,e):t.utils.dom.removeClass(this.svgRoot,e)},t.blockRendering.PathObject.prototype.updateHighlighted=function(t){t?this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"):this.svgPath.setAttribute("filter","none")},t.blockRendering.PathObject.prototype.updateShadow_=function(t){t&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))},t.blockRendering.PathObject.prototype.updateDisabled_=function(t){this.setClass_("blocklyDisabled",t),t&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")},t.blockRendering.PathObject.prototype.updateSelected=function(t){this.setClass_("blocklySelected",t)},t.blockRendering.PathObject.prototype.updateDraggingDelete=function(t){this.setClass_("blocklyDraggingDelete",t)},t.blockRendering.PathObject.prototype.updateInsertionMarker=function(t){this.setClass_("blocklyInsertionMarker",t)},t.blockRendering.PathObject.prototype.updateMovable=function(t){this.setClass_("blocklyDraggable",t)},t.blockRendering.PathObject.prototype.updateReplacementFade=function(t){this.setClass_("blocklyReplaceable",t)},t.blockRendering.PathObject.prototype.updateShapeForInputHighlight=function(t,e){},t.IRegistrable=function(){},t.blockRendering.Renderer=function(t){this.name=t,this.overrides=this.constants_=null},t.blockRendering.Renderer.prototype.getClassName=function(){return this.name+"-renderer"},t.blockRendering.Renderer.prototype.init=function(e,o){this.constants_=this.makeConstants_(),o&&(this.overrides=o,t.utils.object.mixin(this.constants_,o)),this.constants_.setTheme(e),this.constants_.init()},t.blockRendering.Renderer.prototype.createDom=function(t,e){this.constants_.createDom(t,this.name+"-"+e.name,"."+this.getClassName()+"."+e.getClassName())},t.blockRendering.Renderer.prototype.refreshDom=function(e,o){var n=this.getConstants();n.dispose(),this.constants_=this.makeConstants_(),this.overrides&&t.utils.object.mixin(this.constants_,this.overrides),this.constants_.randomIdentifier=n.randomIdentifier,this.constants_.setTheme(o),this.constants_.init(),this.createDom(e,o)},t.blockRendering.Renderer.prototype.dispose=function(){this.constants_&&this.constants_.dispose()},t.blockRendering.Renderer.prototype.makeConstants_=function(){return new t.blockRendering.ConstantProvider},t.blockRendering.Renderer.prototype.makeRenderInfo_=function(e){return new t.blockRendering.RenderInfo(this,e)},t.blockRendering.Renderer.prototype.makeDrawer_=function(e,o){return new t.blockRendering.Drawer(e,o)},t.blockRendering.Renderer.prototype.makeDebugger_=function(){if(!t.blockRendering.Debug)throw Error("Missing require for Blockly.blockRendering.Debug");return new t.blockRendering.Debug(this.getConstants())},t.blockRendering.Renderer.prototype.makeMarkerDrawer=function(e,o){return new t.blockRendering.MarkerSvg(e,this.getConstants(),o)},t.blockRendering.Renderer.prototype.makePathObject=function(e,o){return new t.blockRendering.PathObject(e,o,this.constants_)},t.blockRendering.Renderer.prototype.getConstants=function(){return this.constants_},t.blockRendering.Renderer.prototype.shouldHighlightConnection=function(t){return!0},t.blockRendering.Renderer.prototype.orphanCanConnectAtEnd=function(e,o,n){return n==t.connectionTypes.OUTPUT_VALUE?(n=o.outputConnection,e=t.Connection.lastConnectionInRow(e,o)):(n=o.previousConnection,e=e.lastConnectionInStack()),!!e&&n.getConnectionChecker().canConnect(e,n,!1)},t.blockRendering.Renderer.prototype.getConnectionPreviewMethod=function(e,o,n){return o.type==t.connectionTypes.OUTPUT_VALUE||o.type==t.connectionTypes.PREVIOUS_STATEMENT?!e.isConnected()||this.orphanCanConnectAtEnd(n,e.targetBlock(),o.type)?t.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:t.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:t.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER},t.blockRendering.Renderer.prototype.render=function(e){t.blockRendering.useDebugger&&!e.renderingDebugger&&(e.renderingDebugger=this.makeDebugger_());var o=this.makeRenderInfo_(e);o.measure(),this.makeDrawer_(e,o).draw()},t.geras={},t.geras.ConstantProvider=function(){t.geras.ConstantProvider.superClass_.constructor.call(this),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2},t.utils.object.inherits(t.geras.ConstantProvider,t.blockRendering.ConstantProvider),t.geras.ConstantProvider.prototype.getCSS_=function(e){return t.geras.ConstantProvider.superClass_.getCSS_.call(this,e).concat([e+" .blocklyInsertionMarker>.blocklyPathLight,",e+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"])},t.geras.Highlighter=function(t){this.info_=t,this.inlineSteps_=this.steps_="",this.RTL_=this.info_.RTL,t=t.getRenderer(),this.constants_=t.getConstants(),this.highlightConstants_=t.getHighlightConstants(),this.highlightOffset_=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH},t.geras.Highlighter.prototype.getPath=function(){return this.steps_+"\n"+this.inlineSteps_},t.geras.Highlighter.prototype.drawTopCorner=function(e){this.steps_+=t.utils.svgPaths.moveBy(e.xPos,this.info_.startY);for(var o,n=0;o=e.elements[n];n++)t.blockRendering.Types.isLeftSquareCorner(o)?this.steps_+=this.highlightConstants_.START_POINT:t.blockRendering.Types.isLeftRoundedCorner(o)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):t.blockRendering.Types.isPreviousConnection(o)?this.steps_+=this.notchPaths_.pathLeft:t.blockRendering.Types.isHat(o)?this.steps_+=this.startPaths_.path(this.RTL_):t.blockRendering.Types.isSpacer(o)&&0!=o.width&&(this.steps_+=t.utils.svgPaths.lineOnAxis("H",o.xPos+o.width-this.highlightOffset_));this.steps_+=t.utils.svgPaths.lineOnAxis("H",e.xPos+e.width-this.highlightOffset_)},t.geras.Highlighter.prototype.drawJaggedEdge_=function(e){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+t.utils.svgPaths.lineOnAxis("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset_))},t.geras.Highlighter.prototype.drawValueInput=function(e){var o=e.getLastInput();if(this.RTL_){var n=e.height-o.connectionHeight;this.steps_+=t.utils.svgPaths.moveTo(o.xPos+o.width-this.highlightOffset_,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+t.utils.svgPaths.lineOnAxis("v",n)}else this.steps_+=t.utils.svgPaths.moveTo(o.xPos+o.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)},t.geras.Highlighter.prototype.drawStatementInput=function(e){var o=e.getLastInput();if(this.RTL_){var n=e.height-2*this.insideCornerPaths_.height;this.steps_+=t.utils.svgPaths.moveTo(o.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+t.utils.svgPaths.lineOnAxis("v",n)+this.insideCornerPaths_.pathBottom(this.RTL_)+t.utils.svgPaths.lineTo(e.width-o.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=t.utils.svgPaths.moveTo(o.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+t.utils.svgPaths.lineTo(e.width-o.xPos-this.insideCornerPaths_.width,0)},t.geras.Highlighter.prototype.drawRightSideRow=function(e){var o=e.xPos+e.width-this.highlightOffset_;e.followsStatement&&(this.steps_+=t.utils.svgPaths.lineOnAxis("H",o)),this.RTL_&&(this.steps_+=t.utils.svgPaths.lineOnAxis("H",o),e.height>this.highlightOffset_&&(this.steps_+=t.utils.svgPaths.lineOnAxis("V",e.yPos+e.height-this.highlightOffset_)))},t.geras.Highlighter.prototype.drawBottomRow=function(e){if(this.RTL_)this.steps_+=t.utils.svgPaths.lineOnAxis("V",e.baseline-this.highlightOffset_);else{var o=this.info_.bottomRow.elements[0];t.blockRendering.Types.isLeftSquareCorner(o)?this.steps_+=t.utils.svgPaths.moveTo(e.xPos+this.highlightOffset_,e.baseline-this.highlightOffset_):t.blockRendering.Types.isLeftRoundedCorner(o)&&(this.steps_+=t.utils.svgPaths.moveTo(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}},t.geras.Highlighter.prototype.drawLeft=function(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=t.utils.svgPaths.moveTo(this.info_.startX,e):(this.steps_+=t.utils.svgPaths.moveTo(this.info_.startX+this.highlightOffset_,this.info_.bottomRow.baseline-this.highlightOffset_),this.steps_+=t.utils.svgPaths.lineOnAxis("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(e=this.info_.topRow,t.blockRendering.Types.isLeftRoundedCorner(e.elements[0])?this.steps_+=t.utils.svgPaths.lineOnAxis("V",this.outsideCornerPaths_.height):this.steps_+=t.utils.svgPaths.lineOnAxis("V",e.capline+this.highlightOffset_))},t.geras.Highlighter.prototype.drawInlineInput=function(e){var o=this.highlightOffset_,n=e.xPos+e.connectionWidth,r=e.centerline-e.height/2,i=e.width-e.connectionWidth,s=r+o;this.RTL_?(r=e.connectionOffsetY-o,e=e.height-(e.connectionOffsetY+e.connectionHeight)+o,this.inlineSteps_+=t.utils.svgPaths.moveTo(n-o,s)+t.utils.svgPaths.lineOnAxis("v",r)+this.puzzleTabPaths_.pathDown(this.RTL_)+t.utils.svgPaths.lineOnAxis("v",e)+t.utils.svgPaths.lineOnAxis("h",i)):this.inlineSteps_+=t.utils.svgPaths.moveTo(e.xPos+e.width+o,s)+t.utils.svgPaths.lineOnAxis("v",e.height)+t.utils.svgPaths.lineOnAxis("h",-i)+t.utils.svgPaths.moveTo(n,r+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)},t.geras.InlineInput=function(e,o){t.geras.InlineInput.superClass_.constructor.call(this,e,o),this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)},t.utils.object.inherits(t.geras.InlineInput,t.blockRendering.InlineInput),t.geras.StatementInput=function(e,o){t.geras.StatementInput.superClass_.constructor.call(this,e,o),this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)},t.utils.object.inherits(t.geras.StatementInput,t.blockRendering.StatementInput),t.geras.RenderInfo=function(e,o){t.geras.RenderInfo.superClass_.constructor.call(this,e,o)},t.utils.object.inherits(t.geras.RenderInfo,t.blockRendering.RenderInfo),t.geras.RenderInfo.prototype.getRenderer=function(){return this.renderer_},t.geras.RenderInfo.prototype.populateBottomRow_=function(){t.geras.RenderInfo.superClass_.populateBottomRow_.call(this),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type==t.inputTypes.STATEMENT||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)},t.geras.RenderInfo.prototype.addInput_=function(e,o){this.isInline&&e.type==t.inputTypes.VALUE?(o.elements.push(new t.geras.InlineInput(this.constants_,e)),o.hasInlineInput=!0):e.type==t.inputTypes.STATEMENT?(o.elements.push(new t.geras.StatementInput(this.constants_,e)),o.hasStatement=!0):e.type==t.inputTypes.VALUE?(o.elements.push(new t.blockRendering.ExternalValueInput(this.constants_,e)),o.hasExternalInput=!0):e.type==t.inputTypes.DUMMY&&(o.minHeight=Math.max(o.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),o.hasDummyInput=!0),this.isInline||null!=o.align||(o.align=e.align)},t.geras.RenderInfo.prototype.addElemSpacing_=function(){for(var e,o=!1,n=0;e=this.rows[n];n++)e.hasExternalInput&&(o=!0);for(n=0;e=this.rows[n];n++){var r=e.elements;if(e.elements=[],e.startsWithElemSpacer()&&e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,r[0]))),r.length){for(var i=0;i<r.length-1;i++){e.elements.push(r[i]);var s=this.getInRowSpacing_(r[i],r[i+1]);e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,s))}e.elements.push(r[r.length-1]),e.endsWithElemSpacer()&&(s=this.getInRowSpacing_(r[r.length-1],null),o&&e.hasDummyInput&&(s+=this.constants_.TAB_WIDTH),e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,s)))}}},t.geras.RenderInfo.prototype.getInRowSpacing_=function(e,o){if(!e)return o&&t.blockRendering.Types.isField(o)&&o.isEditable?this.constants_.MEDIUM_PADDING:o&&t.blockRendering.Types.isInlineInput(o)?this.constants_.MEDIUM_LARGE_PADDING:o&&t.blockRendering.Types.isStatementInput(o)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!t.blockRendering.Types.isInput(e)&&(!o||t.blockRendering.Types.isStatementInput(o)))return t.blockRendering.Types.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:t.blockRendering.Types.isIcon(e)?2*this.constants_.LARGE_PADDING+1:t.blockRendering.Types.isHat(e)?this.constants_.NO_PADDING:t.blockRendering.Types.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:t.blockRendering.Types.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:t.blockRendering.Types.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isInput(e)&&!o){if(t.blockRendering.Types.isExternalInput(e))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isInlineInput(e))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(e))return this.constants_.NO_PADDING}if(!t.blockRendering.Types.isInput(e)&&o&&t.blockRendering.Types.isInput(o)){if(t.blockRendering.Types.isField(e)&&e.isEditable){if(t.blockRendering.Types.isInlineInput(o)||t.blockRendering.Types.isExternalInput(o))return this.constants_.SMALL_PADDING}else{if(t.blockRendering.Types.isInlineInput(o)||t.blockRendering.Types.isExternalInput(o))return this.constants_.MEDIUM_LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(o))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(t.blockRendering.Types.isIcon(e)&&o&&!t.blockRendering.Types.isInput(o))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isInlineInput(e)&&o&&t.blockRendering.Types.isField(o))return o.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isLeftSquareCorner(e)&&o){if(t.blockRendering.Types.isHat(o))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isPreviousConnection(o))return o.notchOffset;if(t.blockRendering.Types.isNextConnection(o))return e=(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2,o.notchOffset+e}if(t.blockRendering.Types.isLeftRoundedCorner(e)&&o){if(t.blockRendering.Types.isPreviousConnection(o))return o.notchOffset-this.constants_.CORNER_RADIUS;if(t.blockRendering.Types.isNextConnection(o))return e=(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2,o.notchOffset-this.constants_.CORNER_RADIUS+e}return t.blockRendering.Types.isField(e)&&o&&t.blockRendering.Types.isField(o)&&e.isEditable==o.isEditable||o&&t.blockRendering.Types.isJaggedEdge(o)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},t.geras.RenderInfo.prototype.getSpacerRowHeight_=function(e,o){return t.blockRendering.Types.isTopRow(e)&&t.blockRendering.Types.isBottomRow(o)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:t.blockRendering.Types.isTopRow(e)||t.blockRendering.Types.isBottomRow(o)?this.constants_.NO_PADDING:e.hasExternalInput&&o.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&o.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&o.hasStatement||!e.hasStatement&&o.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},t.geras.RenderInfo.prototype.getElemCenterline_=function(e,o){if(t.blockRendering.Types.isSpacer(o))return e.yPos+o.height/2;if(t.blockRendering.Types.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,t.blockRendering.Types.isNextConnection(o)?e+o.height/2:e-o.height/2;if(t.blockRendering.Types.isTopRow(e))return t.blockRendering.Types.isHat(o)?e.capline-o.height/2:e.capline+o.height/2;var n=e.yPos;return t.blockRendering.Types.isField(o)||t.blockRendering.Types.isIcon(o)?(n+=o.height/2,(e.hasInlineInput||e.hasStatement)&&o.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(n+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):n=t.blockRendering.Types.isInlineInput(o)?n+o.height/2:n+e.height/2,n},t.geras.RenderInfo.prototype.alignRowElements_=function(){if(this.isInline){for(var e,o=0,n=null,r=this.rows.length-1;e=this.rows[r];r--)e.nextRightEdge=o,t.blockRendering.Types.isInputRow(e)&&(e.hasStatement&&this.alignStatementRow_(e),n&&n.hasStatement&&e.width<n.width?e.nextRightEdge=n.width:o=e.width,n=e);for(r=o=0;e=this.rows[r];r++)e.hasStatement?o=this.getDesiredRowWidth_(e):t.blockRendering.Types.isSpacer(e)?e.width=Math.max(o,e.nextRightEdge):(0<(o=Math.max(o,e.nextRightEdge)-e.width)&&this.addAlignmentPadding_(e,o),o=e.width)}else t.geras.RenderInfo.superClass_.alignRowElements_.call(this)},t.geras.RenderInfo.prototype.getDesiredRowWidth_=function(e){return this.isInline&&e.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:t.geras.RenderInfo.superClass_.getDesiredRowWidth_.call(this,e)},t.geras.RenderInfo.prototype.finalize_=function(){for(var t,e=0,o=0,n=0;t=this.rows[n];n++){t.yPos=o,t.xPos=this.startX,o+=t.height,e=Math.max(e,t.widthWithConnectedBlocks);var r=o-this.topRow.ascenderHeight;t==this.bottomRow&&r<this.constants_.MIN_BLOCK_HEIGHT&&(r=this.constants_.MIN_BLOCK_HEIGHT-r,this.bottomRow.height+=r,o+=r),this.recordElemPositions_(t)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(e=Math.max(e,this.block_.nextConnection.targetBlock().getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=o-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=o+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline},t.geras.Drawer=function(e,o){t.geras.Drawer.superClass_.constructor.call(this,e,o),this.highlighter_=new t.geras.Highlighter(o)},t.utils.object.inherits(t.geras.Drawer,t.blockRendering.Drawer),t.geras.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_();var e=this.block_.pathObject;e.setPath(this.outlinePath_+"\n"+this.inlinePath_),e.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&e.flipRTL(),t.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},t.geras.Drawer.prototype.drawTop_=function(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),t.geras.Drawer.superClass_.drawTop_.call(this)},t.geras.Drawer.prototype.drawJaggedEdge_=function(e){this.highlighter_.drawJaggedEdge_(e),t.geras.Drawer.superClass_.drawJaggedEdge_.call(this,e)},t.geras.Drawer.prototype.drawValueInput_=function(e){this.highlighter_.drawValueInput(e),t.geras.Drawer.superClass_.drawValueInput_.call(this,e)},t.geras.Drawer.prototype.drawStatementInput_=function(e){this.highlighter_.drawStatementInput(e),t.geras.Drawer.superClass_.drawStatementInput_.call(this,e)},t.geras.Drawer.prototype.drawRightSideRow_=function(e){this.highlighter_.drawRightSideRow(e),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",e.xPos+e.width)+t.utils.svgPaths.lineOnAxis("V",e.yPos+e.height)},t.geras.Drawer.prototype.drawBottom_=function(){this.highlighter_.drawBottomRow(this.info_.bottomRow),t.geras.Drawer.superClass_.drawBottom_.call(this)},t.geras.Drawer.prototype.drawLeft_=function(){this.highlighter_.drawLeft(),t.geras.Drawer.superClass_.drawLeft_.call(this)},t.geras.Drawer.prototype.drawInlineInput_=function(e){this.highlighter_.drawInlineInput(e),t.geras.Drawer.superClass_.drawInlineInput_.call(this,e)},t.geras.Drawer.prototype.positionInlineInputConnection_=function(t){var e=t.centerline-t.height/2;if(t.connectionModel){var o=t.xPos+t.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(o*=-1),t.connectionModel.setOffsetInBlock(o,e+t.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}},t.geras.Drawer.prototype.positionStatementInputConnection_=function(t){var e=t.getLastInput();if(e.connectionModel){var o=t.xPos+t.statementEdge+e.notchOffset;o=this.info_.RTL?-1*o:o+this.constants_.DARK_PATH_OFFSET,e.connectionModel.setOffsetInBlock(o,t.yPos+this.constants_.DARK_PATH_OFFSET)}},t.geras.Drawer.prototype.positionExternalValueConnection_=function(t){var e=t.getLastInput();if(e.connectionModel){var o=t.xPos+t.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(o*=-1),e.connectionModel.setOffsetInBlock(o,t.yPos)}},t.geras.Drawer.prototype.positionNextConnection_=function(){var t=this.info_.bottomRow;if(t.connection){var e=t.connection,o=e.xPos;e.connectionModel.setOffsetInBlock((this.info_.RTL?-o:o)+this.constants_.DARK_PATH_OFFSET/2,t.baseline+this.constants_.DARK_PATH_OFFSET)}},t.geras.HighlightConstantProvider=function(e){this.constantProvider=e,this.OFFSET=.5,this.START_POINT=t.utils.svgPaths.moveBy(this.OFFSET,this.OFFSET)},t.geras.HighlightConstantProvider.prototype.init=function(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()},t.geras.HighlightConstantProvider.prototype.makeInsideCorner=function(){var e=this.constantProvider.CORNER_RADIUS,o=this.OFFSET,n=(1-Math.SQRT1_2)*(e+o)-o,r=t.utils.svgPaths.moveBy(n,n)+t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(-n-o,e-n)),i=t.utils.svgPaths.arc("a","0 0,0",e+o,t.utils.svgPaths.point(e+o,e+o)),s=t.utils.svgPaths.moveBy(n,-n)+t.utils.svgPaths.arc("a","0 0,0",e+o,t.utils.svgPaths.point(e-n,n+o));return{width:e+o,height:e,pathTop:function(t){return t?r:""},pathBottom:function(t){return t?i:s}}},t.geras.HighlightConstantProvider.prototype.makeOutsideCorner=function(){var e=this.constantProvider.CORNER_RADIUS,o=this.OFFSET,n=(1-Math.SQRT1_2)*(e-o)+o,r=t.utils.svgPaths.moveBy(n,n)+t.utils.svgPaths.arc("a","0 0,1",e-o,t.utils.svgPaths.point(e-n,-n+o)),i=t.utils.svgPaths.moveBy(o,e)+t.utils.svgPaths.arc("a","0 0,1",e-o,t.utils.svgPaths.point(e,-e+o)),s=-n,a=t.utils.svgPaths.moveBy(n,s)+t.utils.svgPaths.arc("a","0 0,1",e-o,t.utils.svgPaths.point(-n+o,-s-e));return{height:e,topLeft:function(t){return t?r:i},bottomLeft:function(){return a}}},t.geras.HighlightConstantProvider.prototype.makePuzzleTab=function(){var e=this.constantProvider.TAB_WIDTH,o=this.constantProvider.TAB_HEIGHT,n=t.utils.svgPaths.moveBy(-2,3.4-o)+t.utils.svgPaths.lineTo(-.45*e,-2.1),r=t.utils.svgPaths.lineOnAxis("v",2.5)+t.utils.svgPaths.moveBy(.97*-e,2.5)+t.utils.svgPaths.curve("q",[t.utils.svgPaths.point(.05*-e,10),t.utils.svgPaths.point(.3*e,9.5)])+t.utils.svgPaths.moveBy(.67*e,-1.9)+t.utils.svgPaths.lineOnAxis("v",2.5),i=t.utils.svgPaths.lineOnAxis("v",-1.5)+t.utils.svgPaths.moveBy(-.92*e,-.5)+t.utils.svgPaths.curve("q",[t.utils.svgPaths.point(-.19*e,-5.5),t.utils.svgPaths.point(0,-11)])+t.utils.svgPaths.moveBy(.92*e,1),s=t.utils.svgPaths.moveBy(-5,o-.7)+t.utils.svgPaths.lineTo(.46*e,-2.1);return{width:e,height:o,pathUp:function(t){return t?n:i},pathDown:function(t){return t?r:s}}},t.geras.HighlightConstantProvider.prototype.makeNotch=function(){return{pathLeft:t.utils.svgPaths.lineOnAxis("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}},t.geras.HighlightConstantProvider.prototype.makeJaggedTeeth=function(){return{pathLeft:t.utils.svgPaths.lineTo(5.1,2.6)+t.utils.svgPaths.moveBy(-10.2,6.8)+t.utils.svgPaths.lineTo(5.1,2.6),height:12,width:10.2}},t.geras.HighlightConstantProvider.prototype.makeStartHat=function(){var e=this.constantProvider.START_HAT.height,o=t.utils.svgPaths.moveBy(25,-8.7)+t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(29.7,-6.2),t.utils.svgPaths.point(57.2,-.5),t.utils.svgPaths.point(75,8.7)]),n=t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(17.8,-9.2),t.utils.svgPaths.point(45.3,-14.9),t.utils.svgPaths.point(75,-8.7)])+t.utils.svgPaths.moveTo(100.5,e+.5);return{path:function(t){return t?o:n}}},t.geras.PathObject=function(e,o,n){this.constants=n,this.svgRoot=e,this.svgPathDark=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"},this.svgRoot),this.svgPath=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyPath"},this.svgRoot),this.svgPathLight=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyPathLight"},this.svgRoot),this.colourDark="#000000",this.style=o},t.utils.object.inherits(t.geras.PathObject,t.blockRendering.PathObject),t.geras.PathObject.prototype.setPath=function(t){this.svgPath.setAttribute("d",t),this.svgPathDark.setAttribute("d",t)},t.geras.PathObject.prototype.setHighlightPath=function(t){this.svgPathLight.setAttribute("d",t)},t.geras.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")},t.geras.PathObject.prototype.applyColour=function(e){this.svgPathLight.style.display="",this.svgPathDark.style.display="",this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),t.geras.PathObject.superClass_.applyColour.call(this,e),this.svgPath.setAttribute("stroke","none")},t.geras.PathObject.prototype.setStyle=function(e){this.style=e,this.colourDark=t.utils.colour.blend("#000",this.style.colourPrimary,.2)||this.colourDark},t.geras.PathObject.prototype.updateHighlighted=function(t){t?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")},t.geras.PathObject.prototype.updateShadow_=function(t){t&&(this.svgPathLight.style.display="none",this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))},t.geras.PathObject.prototype.updateDisabled_=function(e){t.geras.PathObject.superClass_.updateDisabled_.call(this,e),e&&this.svgPath.setAttribute("stroke","none")},t.geras.Renderer=function(e){t.geras.Renderer.superClass_.constructor.call(this,e),this.highlightConstants_=null},t.utils.object.inherits(t.geras.Renderer,t.blockRendering.Renderer),t.geras.Renderer.prototype.init=function(e,o){t.geras.Renderer.superClass_.init.call(this,e,o),this.highlightConstants_=this.makeHighlightConstants_(),this.highlightConstants_.init()},t.geras.Renderer.prototype.refreshDom=function(e,o){t.geras.Renderer.superClass_.refreshDom.call(this,e,o),this.getHighlightConstants().init()},t.geras.Renderer.prototype.makeConstants_=function(){return new t.geras.ConstantProvider},t.geras.Renderer.prototype.makeRenderInfo_=function(e){return new t.geras.RenderInfo(this,e)},t.geras.Renderer.prototype.makeDrawer_=function(e,o){return new t.geras.Drawer(e,o)},t.geras.Renderer.prototype.makePathObject=function(e,o){return new t.geras.PathObject(e,o,this.getConstants())},t.geras.Renderer.prototype.makeHighlightConstants_=function(){return new t.geras.HighlightConstantProvider(this.getConstants())},t.geras.Renderer.prototype.getHighlightConstants=function(){return this.highlightConstants_},t.blockRendering.register("geras",t.geras.Renderer),t.thrasos={},t.thrasos.RenderInfo=function(e,o){t.thrasos.RenderInfo.superClass_.constructor.call(this,e,o)},t.utils.object.inherits(t.thrasos.RenderInfo,t.blockRendering.RenderInfo),t.thrasos.RenderInfo.prototype.getRenderer=function(){return this.renderer_},t.thrasos.RenderInfo.prototype.addElemSpacing_=function(){for(var e,o=!1,n=0;e=this.rows[n];n++)e.hasExternalInput&&(o=!0);for(n=0;e=this.rows[n];n++){var r=e.elements;e.elements=[],e.startsWithElemSpacer()&&e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,r[0])));for(var i=0;i<r.length-1;i++){e.elements.push(r[i]);var s=this.getInRowSpacing_(r[i],r[i+1]);e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,s))}e.elements.push(r[r.length-1]),e.endsWithElemSpacer()&&(s=this.getInRowSpacing_(r[r.length-1],null),o&&e.hasDummyInput&&(s+=this.constants_.TAB_WIDTH),e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,s)))}},t.thrasos.RenderInfo.prototype.getInRowSpacing_=function(e,o){if(!e)return o&&t.blockRendering.Types.isField(o)&&o.isEditable?this.constants_.MEDIUM_PADDING:o&&t.blockRendering.Types.isInlineInput(o)?this.constants_.MEDIUM_LARGE_PADDING:o&&t.blockRendering.Types.isStatementInput(o)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!t.blockRendering.Types.isInput(e)&&!o)return t.blockRendering.Types.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:t.blockRendering.Types.isIcon(e)?2*this.constants_.LARGE_PADDING+1:t.blockRendering.Types.isHat(e)?this.constants_.NO_PADDING:t.blockRendering.Types.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:t.blockRendering.Types.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:t.blockRendering.Types.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isInput(e)&&!o){if(t.blockRendering.Types.isExternalInput(e))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isInlineInput(e))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(e))return this.constants_.NO_PADDING}if(!t.blockRendering.Types.isInput(e)&&o&&t.blockRendering.Types.isInput(o)){if(t.blockRendering.Types.isField(e)&&e.isEditable){if(t.blockRendering.Types.isInlineInput(o)||t.blockRendering.Types.isExternalInput(o))return this.constants_.SMALL_PADDING}else{if(t.blockRendering.Types.isInlineInput(o)||t.blockRendering.Types.isExternalInput(o))return this.constants_.MEDIUM_LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(o))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(t.blockRendering.Types.isIcon(e)&&o&&!t.blockRendering.Types.isInput(o))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isInlineInput(e)&&o&&t.blockRendering.Types.isField(o))return o.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isLeftSquareCorner(e)&&o){if(t.blockRendering.Types.isHat(o))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isPreviousConnection(o)||t.blockRendering.Types.isNextConnection(o))return o.notchOffset}return t.blockRendering.Types.isLeftRoundedCorner(e)&&o?o.notchOffset-this.constants_.CORNER_RADIUS:t.blockRendering.Types.isField(e)&&o&&t.blockRendering.Types.isField(o)&&e.isEditable==o.isEditable||o&&t.blockRendering.Types.isJaggedEdge(o)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},t.thrasos.RenderInfo.prototype.getSpacerRowHeight_=function(e,o){return t.blockRendering.Types.isTopRow(e)&&t.blockRendering.Types.isBottomRow(o)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:t.blockRendering.Types.isTopRow(e)||t.blockRendering.Types.isBottomRow(o)?this.constants_.NO_PADDING:e.hasExternalInput&&o.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&o.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&o.hasStatement||e.hasDummyInput||o.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},t.thrasos.RenderInfo.prototype.getElemCenterline_=function(e,o){if(t.blockRendering.Types.isSpacer(o))return e.yPos+o.height/2;if(t.blockRendering.Types.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,t.blockRendering.Types.isNextConnection(o)?e+o.height/2:e-o.height/2;if(t.blockRendering.Types.isTopRow(e))return t.blockRendering.Types.isHat(o)?e.capline-o.height/2:e.capline+o.height/2;var n=e.yPos;return t.blockRendering.Types.isField(o)&&e.hasStatement?n+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+o.height/2):n+e.height/2},t.thrasos.RenderInfo.prototype.finalize_=function(){for(var t,e=0,o=0,n=0;t=this.rows[n];n++){t.yPos=o,t.xPos=this.startX,o+=t.height,e=Math.max(e,t.widthWithConnectedBlocks);var r=o-this.topRow.ascenderHeight;t==this.bottomRow&&r<this.constants_.MIN_BLOCK_HEIGHT&&(r=this.constants_.MIN_BLOCK_HEIGHT-r,this.bottomRow.height+=r,o+=r),this.recordElemPositions_(t)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(e=Math.max(e,this.block_.nextConnection.targetBlock().getHeightWidth().width)),this.bottomRow.baseline=o-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX,this.height=o,this.startY=this.topRow.capline},t.thrasos.Renderer=function(e){t.thrasos.Renderer.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.thrasos.Renderer,t.blockRendering.Renderer),t.thrasos.Renderer.prototype.makeRenderInfo_=function(e){return new t.thrasos.RenderInfo(this,e)},t.blockRendering.register("thrasos",t.thrasos.Renderer),t.zelos={},t.zelos.ConstantProvider=function(){t.zelos.ConstantProvider.superClass_.constructor.call(this),this.SMALL_PADDING=this.GRID_UNIT=4,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TAB_OFFSET_FROM_TOP=0,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!0,this.FIELD_COLOUR_DEFAULT_WIDTH=2*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=4*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter_=null,this.replacementGlowFilterId="",this.replacementGlowFilter_=null},t.utils.object.inherits(t.zelos.ConstantProvider,t.blockRendering.ConstantProvider),t.zelos.ConstantProvider.prototype.setFontConstants_=function(e){t.zelos.ConstantProvider.superClass_.setFontConstants_.call(this,e),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING},t.zelos.ConstantProvider.prototype.init=function(){t.zelos.ConstantProvider.superClass_.init.call(this),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth},t.zelos.ConstantProvider.prototype.setDynamicProperties_=function(e){t.zelos.ConstantProvider.superClass_.setDynamicProperties_.call(this,e),this.SELECTED_GLOW_COLOUR=e.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;var o=Number(e.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=o&&!isNaN(o)?o:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=e.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(e=Number(e.getComponentStyle("replacementGlowSize")))&&!isNaN(e)?e:this.REPLACEMENT_GLOW_SIZE},t.zelos.ConstantProvider.prototype.dispose=function(){t.zelos.ConstantProvider.superClass_.dispose.call(this),this.selectedGlowFilter_&&t.utils.dom.removeNode(this.selectedGlowFilter_),this.replacementGlowFilter_&&t.utils.dom.removeNode(this.replacementGlowFilter_)},t.zelos.ConstantProvider.prototype.makeStartHat=function(){var e=this.START_HAT_HEIGHT,o=this.START_HAT_WIDTH;return{height:e,width:o,path:t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(25,-e),t.utils.svgPaths.point(71,-e),t.utils.svgPaths.point(o,0)])}},t.zelos.ConstantProvider.prototype.makeHexagonal=function(){function e(e,n,r){var i=e/2;return i=i>o?o:i,r=r?-1:1,e=(n?-1:1)*e/2,t.utils.svgPaths.lineTo(-r*i,e)+t.utils.svgPaths.lineTo(r*i,e)}var o=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width:function(t){return(t/=2)>o?o:t},height:function(t){return t},connectionOffsetY:function(t){return t/2},connectionOffsetX:function(t){return-t},pathDown:function(t){return e(t,!1,!1)},pathUp:function(t){return e(t,!0,!1)},pathRightDown:function(t){return e(t,!1,!0)},pathRightUp:function(t){return e(t,!1,!0)}}},t.zelos.ConstantProvider.prototype.makeRounded=function(){function e(e,o,r){var i=e>n?e-n:0;return e=(e>n?n:e)/2,t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point((o?-1:1)*e,(o?-1:1)*e))+t.utils.svgPaths.lineOnAxis("v",(r?1:-1)*i)+t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point((o?1:-1)*e,(o?-1:1)*e))}var o=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,n=2*o;return{type:this.SHAPES.ROUND,isDynamic:!0,width:function(t){return(t/=2)>o?o:t},height:function(t){return t},connectionOffsetY:function(t){return t/2},connectionOffsetX:function(t){return-t},pathDown:function(t){return e(t,!1,!1)},pathUp:function(t){return e(t,!0,!1)},pathRightDown:function(t){return e(t,!1,!0)},pathRightUp:function(t){return e(t,!1,!0)}}},t.zelos.ConstantProvider.prototype.makeSquared=function(){function e(e,n,r){return e-=2*o,t.utils.svgPaths.arc("a","0 0,1",o,t.utils.svgPaths.point((n?-1:1)*o,(n?-1:1)*o))+t.utils.svgPaths.lineOnAxis("v",(r?1:-1)*e)+t.utils.svgPaths.arc("a","0 0,1",o,t.utils.svgPaths.point((n?1:-1)*o,(n?-1:1)*o))}var o=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width:function(t){return o},height:function(t){return t},connectionOffsetY:function(t){return t/2},connectionOffsetX:function(t){return-t},pathDown:function(t){return e(t,!1,!1)},pathUp:function(t){return e(t,!0,!1)},pathRightDown:function(t){return e(t,!1,!0)},pathRightUp:function(t){return e(t,!1,!0)}}},t.zelos.ConstantProvider.prototype.shapeFor=function(e){var o=e.getCheck();switch(!o&&e.targetConnection&&(o=e.targetConnection.getCheck()),e.type){case t.connectionTypes.INPUT_VALUE:case t.connectionTypes.OUTPUT_VALUE:if(null!=(e=e.getSourceBlock().getOutputShape()))switch(e){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return o&&-1!=o.indexOf("Boolean")?this.HEXAGONAL:(o&&-1!=o.indexOf("Number")||o&&o.indexOf("String"),this.ROUNDED);case t.connectionTypes.PREVIOUS_STATEMENT:case t.connectionTypes.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}},t.zelos.ConstantProvider.prototype.makeNotch=function(){function e(e){return t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(e*i/2,0),t.utils.svgPaths.point(e*i*3/4,a/2),t.utils.svgPaths.point(e*i,a)])+t.utils.svgPaths.line([t.utils.svgPaths.point(e*i,s)])+t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(e*i/4,a/2),t.utils.svgPaths.point(e*i/2,a),t.utils.svgPaths.point(e*i,a)])+t.utils.svgPaths.lineOnAxis("h",e*r)+t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(e*i/2,0),t.utils.svgPaths.point(e*i*3/4,-a/2),t.utils.svgPaths.point(e*i,-a)])+t.utils.svgPaths.line([t.utils.svgPaths.point(e*i,-s)])+t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(e*i/4,-a/2),t.utils.svgPaths.point(e*i/2,-a),t.utils.svgPaths.point(e*i,-a)])}var o=this.NOTCH_WIDTH,n=this.NOTCH_HEIGHT,r=o/3,i=r/3,s=n/2,a=s/2,l=e(1),c=e(-1);return{type:this.SHAPES.NOTCH,width:o,height:n,pathLeft:l,pathRight:c}},t.zelos.ConstantProvider.prototype.makeInsideCorners=function(){var e=this.CORNER_RADIUS,o=t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(-e,e)),n=t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(-e,e));return{width:e,height:e,pathTop:o,pathBottom:t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(e,e)),rightWidth:e,rightHeight:e,pathTopRight:n,pathBottomRight:t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(e,e))}},t.zelos.ConstantProvider.prototype.generateSecondaryColour_=function(e){return t.utils.colour.blend("#000",e,.15)||e},t.zelos.ConstantProvider.prototype.generateTertiaryColour_=function(e){return t.utils.colour.blend("#000",e,.25)||e},t.zelos.ConstantProvider.prototype.createDom=function(e,o,n){t.zelos.ConstantProvider.superClass_.createDom.call(this,e,o,n),e=t.utils.dom.createSvgElement(t.utils.Svg.DEFS,{},e),o=t.utils.dom.createSvgElement(t.utils.Svg.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),t.utils.dom.createSvgElement(t.utils.Svg.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},o),n=t.utils.dom.createSvgElement(t.utils.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},o),t.utils.dom.createSvgElement(t.utils.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},n),t.utils.dom.createSvgElement(t.utils.Svg.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},o),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},o),this.selectedGlowFilterId=o.id,this.selectedGlowFilter_=o,e=t.utils.dom.createSvgElement(t.utils.Svg.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),t.utils.dom.createSvgElement(t.utils.Svg.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},e),o=t.utils.dom.createSvgElement(t.utils.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},e),t.utils.dom.createSvgElement(t.utils.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},o),t.utils.dom.createSvgElement(t.utils.Svg.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},e),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},e),this.replacementGlowFilterId=e.id,this.replacementGlowFilter_=e},t.zelos.ConstantProvider.prototype.getCSS_=function(t){return[t+" .blocklyText,",t+" .blocklyFlyoutLabelText {","font: "+this.FIELD_TEXT_FONTWEIGHT+" "+this.FIELD_TEXT_FONTSIZE+"pt "+this.FIELD_TEXT_FONTFAMILY+";","}",t+" .blocklyText {","fill: #fff;","}",t+" .blocklyNonEditableText>rect:not(.blocklyDropdownRect),",t+" .blocklyEditableText>rect:not(.blocklyDropdownRect) {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","}",t+" .blocklyNonEditableText>text,",t+" .blocklyEditableText>text,",t+" .blocklyNonEditableText>g>text,",t+" .blocklyEditableText>g>text {","fill: #575E75;","}",t+" .blocklyFlyoutLabelText {","fill: #575E75;","}",t+" .blocklyText.blocklyBubbleText {","fill: #575E75;","}",t+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>rect,",t+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",t+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","color: #575E75;","}",t+" .blocklyDropdownText {","fill: #fff !important;","}",t+".blocklyWidgetDiv .goog-menuitem,",t+".blocklyDropDownDiv .goog-menuitem {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","}",t+".blocklyDropDownDiv .goog-menuitem-content {","color: #fff;","}",t+" .blocklyHighlightedConnectionPath {","stroke: "+this.SELECTED_GLOW_COLOUR+";","}",t+" .blocklyDisabled > .blocklyOutlinePath {","fill: url(#blocklyDisabledPattern"+this.randomIdentifier+")","}",t+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"]},t.zelos.TopRow=function(e){t.zelos.TopRow.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.zelos.TopRow,t.blockRendering.TopRow),t.zelos.TopRow.prototype.endsWithElemSpacer=function(){return!1},t.zelos.TopRow.prototype.hasLeftSquareCorner=function(t){var e=(t.hat?"cap"===t.hat:this.constants_.ADD_START_HATS)&&!t.outputConnection&&!t.previousConnection;return!!t.outputConnection||e},t.zelos.TopRow.prototype.hasRightSquareCorner=function(t){return!!t.outputConnection&&!t.statementInputCount&&!t.nextConnection},t.zelos.BottomRow=function(e){t.zelos.BottomRow.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.zelos.BottomRow,t.blockRendering.BottomRow),t.zelos.BottomRow.prototype.endsWithElemSpacer=function(){return!1},t.zelos.BottomRow.prototype.hasLeftSquareCorner=function(t){return!!t.outputConnection},t.zelos.BottomRow.prototype.hasRightSquareCorner=function(t){return!!t.outputConnection&&!t.statementInputCount&&!t.nextConnection},t.zelos.RightConnectionShape=function(e){t.zelos.RightConnectionShape.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.getType("RIGHT_CONNECTION"),this.width=this.height=0},t.utils.object.inherits(t.zelos.RightConnectionShape,t.blockRendering.Measurable),t.zelos.RenderInfo=function(e,o){t.zelos.RenderInfo.superClass_.constructor.call(this,e,o),this.topRow=new t.zelos.TopRow(this.constants_),this.bottomRow=new t.zelos.BottomRow(this.constants_),this.isInline=!0,this.isMultiRow=!o.getInputsInline()||o.isCollapsed(),this.hasStatementInput=0<o.statementInputCount,this.rightSide=this.outputConnection?new t.zelos.RightConnectionShape(this.constants_):null},t.utils.object.inherits(t.zelos.RenderInfo,t.blockRendering.RenderInfo),t.zelos.RenderInfo.prototype.getRenderer=function(){return this.renderer_},t.zelos.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()},t.zelos.RenderInfo.prototype.shouldStartNewRow_=function(e,o){return!!o&&(e.type==t.inputTypes.STATEMENT||o.type==t.inputTypes.STATEMENT||(e.type==t.inputTypes.VALUE||e.type==t.inputTypes.DUMMY)&&(!this.isInline||this.isMultiRow))},t.zelos.RenderInfo.prototype.getDesiredRowWidth_=function(e){return e.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):t.zelos.RenderInfo.superClass_.getDesiredRowWidth_.call(this,e)},t.zelos.RenderInfo.prototype.getInRowSpacing_=function(e,o){return e&&o||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!e&&o&&t.blockRendering.Types.isStatementInput(o)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:e&&t.blockRendering.Types.isLeftRoundedCorner(e)&&o&&(t.blockRendering.Types.isPreviousConnection(o)||t.blockRendering.Types.isNextConnection(o))?o.notchOffset-this.constants_.CORNER_RADIUS:e&&t.blockRendering.Types.isLeftSquareCorner(e)&&o&&t.blockRendering.Types.isHat(o)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING},t.zelos.RenderInfo.prototype.getSpacerRowHeight_=function(e,o){if(t.blockRendering.Types.isTopRow(e)&&t.blockRendering.Types.isBottomRow(o))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;var n=t.blockRendering.Types.isInputRow(e)&&e.hasStatement,r=t.blockRendering.Types.isInputRow(o)&&o.hasStatement;return r||n?(e=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),r&&n?Math.max(e,this.constants_.DUMMY_INPUT_MIN_HEIGHT):e):t.blockRendering.Types.isTopRow(e)?e.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):t.blockRendering.Types.isBottomRow(o)?this.outputConnection?!o.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},t.zelos.RenderInfo.prototype.getSpacerRowWidth_=function(e,o){var n=this.width-this.startX;return t.blockRendering.Types.isInputRow(e)&&e.hasStatement||t.blockRendering.Types.isInputRow(o)&&o.hasStatement?Math.max(n,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):n},t.zelos.RenderInfo.prototype.getElemCenterline_=function(e,o){if(e.hasStatement&&!t.blockRendering.Types.isSpacer(o)&&!t.blockRendering.Types.isStatementInput(o))return e.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(t.blockRendering.Types.isInlineInput(o)){var n=o.connectedBlock;if(n&&n.outputConnection&&n.nextConnection)return e.yPos+n.height/2}return t.zelos.RenderInfo.superClass_.getElemCenterline_.call(this,e,o)},t.zelos.RenderInfo.prototype.addInput_=function(e,o){e.type==t.inputTypes.DUMMY&&o.hasDummyInput&&o.align==t.constants.ALIGN.LEFT&&e.align==t.constants.ALIGN.RIGHT&&(o.rightAlignedDummyInput=e),t.zelos.RenderInfo.superClass_.addInput_.call(this,e,o)},t.zelos.RenderInfo.prototype.addAlignmentPadding_=function(e,o){if(e.rightAlignedDummyInput){for(var n,r,i=0;(r=e.elements[i])&&(t.blockRendering.Types.isSpacer(r)&&(n=r),!t.blockRendering.Types.isField(r)||r.parentInput!=e.rightAlignedDummyInput);i++);if(n)return n.width+=o,void(e.width+=o)}t.zelos.RenderInfo.superClass_.addAlignmentPadding_.call(this,e,o)},t.zelos.RenderInfo.prototype.adjustXPosition_=function(){for(var e=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH,o=e,n=2;n<this.rows.length-1;n+=2){var r=this.rows[n-1],i=this.rows[n],s=this.rows[n+1];if(r=2==n?!!this.topRow.hasPreviousConnection:!!r.followsStatement,s=n+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!s.precedesStatement,t.blockRendering.Types.isInputRow(i)&&i.hasStatement)i.measure(),o=i.width-i.getLastInput().width+e;else if(r&&(2==n||s)&&t.blockRendering.Types.isInputRow(i)&&!i.hasStatement){s=i.xPos,r=null;for(var a,l=0;a=i.elements[l];l++)t.blockRendering.Types.isSpacer(a)&&(r=a),!(r&&(t.blockRendering.Types.isField(a)||t.blockRendering.Types.isInput(a))&&s<o)||t.blockRendering.Types.isField(a)&&(a.field instanceof t.FieldLabel||a.field instanceof t.FieldImage)||(r.width+=o-s),s+=a.width}}},t.zelos.RenderInfo.prototype.finalizeOutputConnection_=function(){if(this.outputConnection&&this.outputConnection.isDynamicShape){for(var t,e=0,o=0;t=this.rows[o];o++)t.yPos=e,e+=t.height;this.height=e,o=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,e=this.outputConnection.shape.height(o),o=this.outputConnection.shape.width(o),this.outputConnection.height=e,this.outputConnection.width=o,this.outputConnection.startX=o,this.outputConnection.connectionOffsetY=this.outputConnection.shape.connectionOffsetY(e),this.outputConnection.connectionOffsetX=this.outputConnection.shape.connectionOffsetX(o),t=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(t=o,this.rightSide.height=e,this.rightSide.width=t,this.rightSide.centerline=e/2,this.rightSide.xPos=this.width+t),this.startX=o,this.width+=o+t,this.widthWithChildren+=o+t}},t.zelos.RenderInfo.prototype.finalizeHorizontalAlignment_=function(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var e,o=0,n=0;e=this.rows[n];n++)if(t.blockRendering.Types.isInputRow(e)){o=e.elements[e.elements.length-2];var r=this.getNegativeSpacing_(e.elements[1]),i=this.getNegativeSpacing_(o);o=r+i;var s=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-o<s&&(r=(o=this.width-s)/2,i=o/2),e.elements.unshift(new t.blockRendering.InRowSpacer(this.constants_,-r)),e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,-i))}if(o)for(this.width-=o,this.widthWithChildren-=o,this.rightSide.xPos-=o,n=0;e=this.rows[n];n++)t.blockRendering.Types.isTopOrBottomRow(e)&&(e.elements[1].width-=o,e.elements[1].widthWithConnectedBlocks-=o),e.width-=o,e.widthWithConnectedBlocks-=o}},t.zelos.RenderInfo.prototype.getNegativeSpacing_=function(e){if(!e)return 0;var o=this.outputConnection.width,n=this.outputConnection.shape.type,r=this.constants_;if(this.isMultiRow&&1<this.inputRows.length)switch(n){case r.SHAPES.ROUND:return n=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,o-(n=this.height/2>n?n:this.height/2)*(1-Math.sin(Math.acos((n-this.constants_.SMALL_PADDING)/n)));default:return 0}if(t.blockRendering.Types.isInlineInput(e)){var i=e.connectedBlock;return e=i?i.pathObject.outputShapeType:e.shape.type,i&&i.outputConnection&&(i.statementInputCount||i.nextConnection)||n==r.SHAPES.HEXAGONAL&&n!=e?0:o-this.constants_.SHAPE_IN_SHAPE_PADDING[n][e]}return t.blockRendering.Types.isField(e)?n==r.SHAPES.ROUND&&e.field instanceof t.FieldTextInput?o-2.75*r.GRID_UNIT:o-this.constants_.SHAPE_IN_SHAPE_PADDING[n][0]:t.blockRendering.Types.isIcon(e)?this.constants_.SMALL_PADDING:0},t.zelos.RenderInfo.prototype.finalizeVerticalAlignment_=function(){if(!this.outputConnection)for(var e=2;e<this.rows.length-1;e+=2){var o=this.rows[e-1],n=this.rows[e],r=this.rows[e+1],i=2==e,s=e+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!r.precedesStatement;if(i?this.topRow.hasPreviousConnection:o.followsStatement){var a=3==n.elements.length&&(n.elements[1].field instanceof t.FieldLabel||n.elements[1].field instanceof t.FieldImage);if(!i&&a)o.height-=this.constants_.SMALL_PADDING,r.height-=this.constants_.SMALL_PADDING,n.height-=this.constants_.MEDIUM_PADDING;else if(i||s){if(s){for(i=!1,s=0;a=n.elements[s];s++)if(t.blockRendering.Types.isInlineInput(a)&&a.connectedBlock&&!a.connectedBlock.isShadow()&&40<=a.connectedBlock.getHeightWidth().height){i=!0;break}i&&(o.height-=this.constants_.SMALL_PADDING,r.height-=this.constants_.SMALL_PADDING)}}else o.height+=this.constants_.SMALL_PADDING}}},t.zelos.RenderInfo.prototype.finalize_=function(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),t.zelos.RenderInfo.superClass_.finalize_.call(this),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)},t.zelos.Drawer=function(e,o){t.zelos.Drawer.superClass_.constructor.call(this,e,o)},t.utils.object.inherits(t.zelos.Drawer,t.blockRendering.Drawer),t.zelos.Drawer.prototype.draw=function(){var e=this.block_.pathObject;e.beginDrawing(),this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),e.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&e.flipRTL(),t.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_(),this.info_.outputConnection&&(e.outputShapeType=this.info_.outputConnection.shape.type),e.endDrawing()},t.zelos.Drawer.prototype.drawOutline_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):t.zelos.Drawer.superClass_.drawOutline_.call(this)},t.zelos.Drawer.prototype.drawLeft_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():t.zelos.Drawer.superClass_.drawLeft_.call(this)},t.zelos.Drawer.prototype.drawRightSideRow_=function(e){if(!(0>=e.height))if(e.precedesStatement||e.followsStatement){var o=this.constants_.INSIDE_CORNERS.rightHeight;o=e.height-(e.precedesStatement?o:0),this.outlinePath_+=(e.followsStatement?this.constants_.INSIDE_CORNERS.pathBottomRight:"")+(0<o?t.utils.svgPaths.lineOnAxis("V",e.yPos+o):"")+(e.precedesStatement?this.constants_.INSIDE_CORNERS.pathTopRight:"")}else this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",e.yPos+e.height)},t.zelos.Drawer.prototype.drawRightDynamicConnection_=function(){this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)},t.zelos.Drawer.prototype.drawLeftDynamicConnection_=function(){this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"},t.zelos.Drawer.prototype.drawFlatTop_=function(){var e=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=t.utils.svgPaths.moveBy(e.xPos,this.info_.startY),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("h",e.width)},t.zelos.Drawer.prototype.drawFlatBottom_=function(){var e=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",e.baseline),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("h",-e.width)},t.zelos.Drawer.prototype.drawInlineInput_=function(e){this.positionInlineInputConnection_(e);var o=e.input.name;if(!e.connectedBlock&&!this.info_.isInsertionMarker){var n=e.width-2*e.connectionWidth;e=t.utils.svgPaths.moveTo(e.xPos+e.connectionWidth,e.centerline-e.height/2)+t.utils.svgPaths.lineOnAxis("h",n)+e.shape.pathRightDown(e.height)+t.utils.svgPaths.lineOnAxis("h",-n)+e.shape.pathUp(e.height)+"z",this.block_.pathObject.setOutlinePath(o,e)}},t.zelos.Drawer.prototype.drawStatementInput_=function(e){var o=e.getLastInput(),n=o.xPos+o.notchOffset+o.shape.width,r=o.shape.pathRight+t.utils.svgPaths.lineOnAxis("h",-(o.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop,i=e.height-2*this.constants_.INSIDE_CORNERS.height;o=this.constants_.INSIDE_CORNERS.pathBottom+t.utils.svgPaths.lineOnAxis("h",o.notchOffset-this.constants_.INSIDE_CORNERS.width)+(o.connectedBottomNextConnection?"":o.shape.pathLeft),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",n)+r+t.utils.svgPaths.lineOnAxis("v",i)+o+t.utils.svgPaths.lineOnAxis("H",e.xPos+e.width),this.positionStatementInputConnection_(e)},t.zelos.MarkerSvg=function(e,o,n){t.zelos.MarkerSvg.superClass_.constructor.call(this,e,o,n)},t.utils.object.inherits(t.zelos.MarkerSvg,t.blockRendering.MarkerSvg),t.zelos.MarkerSvg.prototype.showWithInputOutput_=function(t){var e=t.getSourceBlock();t=t.getLocation().getOffsetInBlock(),this.positionCircle_(t.x,t.y),this.setParent_(e),this.showCurrent_()},t.zelos.MarkerSvg.prototype.showWithOutput_=function(t){this.showWithInputOutput_(t)},t.zelos.MarkerSvg.prototype.showWithInput_=function(t){this.showWithInputOutput_(t)},t.zelos.MarkerSvg.prototype.showWithBlock_=function(t){var e=(t=t.getLocation()).getHeightWidth();this.positionRect_(0,0,e.width,e.height),this.setParent_(t),this.showCurrent_()},t.zelos.MarkerSvg.prototype.positionCircle_=function(t,e){this.markerCircle_.setAttribute("cx",t),this.markerCircle_.setAttribute("cy",e),this.currentMarkerSvg=this.markerCircle_},t.zelos.MarkerSvg.prototype.hide=function(){t.zelos.MarkerSvg.superClass_.hide.call(this),this.markerCircle_.style.display="none"},t.zelos.MarkerSvg.prototype.createDomInternal_=function(){if(t.zelos.MarkerSvg.superClass_.createDomInternal_.call(this),this.markerCircle_=t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{r:this.constants_.CURSOR_RADIUS,style:"display: none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){var e=this.getBlinkProperties_();t.utils.dom.createSvgElement(t.utils.Svg.ANIMATE,e,this.markerCircle_)}return this.markerSvg_},t.zelos.MarkerSvg.prototype.applyColour_=function(e){t.zelos.MarkerSvg.superClass_.applyColour_.call(this,e),this.markerCircle_.setAttribute("fill",this.colour_),this.markerCircle_.setAttribute("stroke",this.colour_),this.isCursor()&&this.markerCircle_.firstChild.setAttribute("values",this.colour_+";transparent;transparent;")},t.zelos.PathObject=function(e,o,n){t.zelos.PathObject.superClass_.constructor.call(this,e,o,n),this.constants=n,this.svgPathSelected_=null,this.outlines_={},this.outputShapeType=this.remainingOutlines_=null},t.utils.object.inherits(t.zelos.PathObject,t.blockRendering.PathObject),t.zelos.PathObject.prototype.setPath=function(e){t.zelos.PathObject.superClass_.setPath.call(this,e),this.svgPathSelected_&&this.svgPathSelected_.setAttribute("d",e)},t.zelos.PathObject.prototype.applyColour=function(e){t.zelos.PathObject.superClass_.applyColour.call(this,e),e.isShadow()&&e.getParent()&&this.svgPath.setAttribute("stroke",e.getParent().style.colourTertiary),e=0;for(var o,n=Object.keys(this.outlines_);o=n[e];e++)this.outlines_[o].setAttribute("fill",this.style.colourTertiary)},t.zelos.PathObject.prototype.flipRTL=function(){t.zelos.PathObject.superClass_.flipRTL.call(this);for(var e,o=0,n=Object.keys(this.outlines_);e=n[o];o++)this.outlines_[e].setAttribute("transform","scale(-1 1)")},t.zelos.PathObject.prototype.updateSelected=function(t){this.setClass_("blocklySelected",t),t?this.svgPathSelected_||(this.svgPathSelected_=this.svgPath.cloneNode(!0),this.svgPathSelected_.setAttribute("fill","none"),this.svgPathSelected_.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected_)):this.svgPathSelected_&&(this.svgRoot.removeChild(this.svgPathSelected_),this.svgPathSelected_=null)},t.zelos.PathObject.prototype.updateReplacementFade=function(t){this.setClass_("blocklyReplaceable",t),t?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")},t.zelos.PathObject.prototype.updateShapeForInputHighlight=function(t,e){t=t.getParentInput().name,(t=this.getOutlinePath_(t))&&(e?t.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):t.removeAttribute("filter"))},t.zelos.PathObject.prototype.beginDrawing=function(){this.remainingOutlines_={};for(var t,e=0,o=Object.keys(this.outlines_);t=o[e];e++)this.remainingOutlines_[t]=1},t.zelos.PathObject.prototype.endDrawing=function(){if(this.remainingOutlines_)for(var t,e=0,o=Object.keys(this.remainingOutlines_);t=o[e];e++)this.removeOutlinePath_(t);this.remainingOutlines_=null},t.zelos.PathObject.prototype.setOutlinePath=function(t,e){(t=this.getOutlinePath_(t)).setAttribute("d",e),t.setAttribute("fill",this.style.colourTertiary)},t.zelos.PathObject.prototype.getOutlinePath_=function(e){return this.outlines_[e]||(this.outlines_[e]=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines_&&delete this.remainingOutlines_[e],this.outlines_[e]},t.zelos.PathObject.prototype.removeOutlinePath_=function(t){this.outlines_[t].parentNode.removeChild(this.outlines_[t]),delete this.outlines_[t]},t.zelos.Renderer=function(e){t.zelos.Renderer.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.zelos.Renderer,t.blockRendering.Renderer),t.zelos.Renderer.prototype.makeConstants_=function(){return new t.zelos.ConstantProvider},t.zelos.Renderer.prototype.makeRenderInfo_=function(e){return new t.zelos.RenderInfo(this,e)},t.zelos.Renderer.prototype.makeDrawer_=function(e,o){return new t.zelos.Drawer(e,o)},t.zelos.Renderer.prototype.makeMarkerDrawer=function(e,o){return new t.zelos.MarkerSvg(e,this.getConstants(),o)},t.zelos.Renderer.prototype.makePathObject=function(e,o){return new t.zelos.PathObject(e,o,this.getConstants())},t.zelos.Renderer.prototype.shouldHighlightConnection=function(e){return e.type!=t.connectionTypes.INPUT_VALUE&&e.type!==t.connectionTypes.OUTPUT_VALUE},t.zelos.Renderer.prototype.getConnectionPreviewMethod=function(e,o,n){return o.type==t.connectionTypes.OUTPUT_VALUE?e.isConnected()?t.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:t.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:t.zelos.Renderer.superClass_.getConnectionPreviewMethod(e,o,n)},t.blockRendering.register("zelos",t.zelos.Renderer),t.Themes.Dark=t.Theme.defineTheme("dark",{base:t.Themes.Classic,componentStyles:{workspaceBackgroundColour:"#1e1e1e",toolboxBackgroundColour:"blackBackground",toolboxForegroundColour:"#fff",flyoutBackgroundColour:"#252526",flyoutForegroundColour:"#ccc",flyoutOpacity:1,scrollbarColour:"#797979",insertionMarkerColour:"#fff",insertionMarkerOpacity:.3,scrollbarOpacity:.4,cursorColour:"#d0d0d0",blackBackground:"#333"}}),t.Themes.Deuteranopia={},t.Themes.Deuteranopia.defaultBlockStyles={colour_blocks:{colourPrimary:"#f2a72c",colourSecondary:"#f1c172",colourTertiary:"#da921c"},list_blocks:{colourPrimary:"#7d65ab",colourSecondary:"#a88be0",colourTertiary:"#66518e"},logic_blocks:{colourPrimary:"#9fd2f1",colourSecondary:"#c0e0f4",colourTertiary:"#74bae5"},loop_blocks:{colourPrimary:"#795a07",colourSecondary:"#ac8726",colourTertiary:"#c4a03f"},math_blocks:{colourPrimary:"#e6da39",colourSecondary:"#f3ec8e",colourTertiary:"#f2eeb7"},procedure_blocks:{colourPrimary:"#590721",colourSecondary:"#8c475d",colourTertiary:"#885464"},text_blocks:{colourPrimary:"#058863",colourSecondary:"#5ecfaf",colourTertiary:"#04684c"},variable_blocks:{colourPrimary:"#47025a",colourSecondary:"#820fa1",colourTertiary:"#8e579d"},variable_dynamic_blocks:{colourPrimary:"#47025a",colourSecondary:"#820fa1",colourTertiary:"#8e579d"}},t.Themes.Deuteranopia.categoryStyles={colour_category:{colour:"#f2a72c"},list_category:{colour:"#7d65ab"},logic_category:{colour:"#9fd2f1"},loop_category:{colour:"#795a07"},math_category:{colour:"#e6da39"},procedure_category:{colour:"#590721"},text_category:{colour:"#058863"},variable_category:{colour:"#47025a"},variable_dynamic_category:{colour:"#47025a"}},t.Themes.Deuteranopia=new t.Theme("deuteranopia",t.Themes.Deuteranopia.defaultBlockStyles,t.Themes.Deuteranopia.categoryStyles),t.Themes.HighContrast={},t.Themes.HighContrast.defaultBlockStyles={colour_blocks:{colourPrimary:"#a52714",colourSecondary:"#FB9B8C",colourTertiary:"#FBE1DD"},list_blocks:{colourPrimary:"#4a148c",colourSecondary:"#AD7BE9",colourTertiary:"#CDB6E9"},logic_blocks:{colourPrimary:"#01579b",colourSecondary:"#64C7FF",colourTertiary:"#C5EAFF"},loop_blocks:{colourPrimary:"#33691e",colourSecondary:"#9AFF78",colourTertiary:"#E1FFD7"},math_blocks:{colourPrimary:"#1a237e",colourSecondary:"#8A9EFF",colourTertiary:"#DCE2FF"},procedure_blocks:{colourPrimary:"#006064",colourSecondary:"#77E6EE",colourTertiary:"#CFECEE"},text_blocks:{colourPrimary:"#004d40",colourSecondary:"#5ae27c",colourTertiary:"#D2FFDD"},variable_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},variable_dynamic_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},hat_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB",hat:"cap"}},t.Themes.HighContrast.categoryStyles={colour_category:{colour:"#a52714"},list_category:{colour:"#4a148c"},logic_category:{colour:"#01579b"},loop_category:{colour:"#33691e"},math_category:{colour:"#1a237e"},procedure_category:{colour:"#006064"},text_category:{colour:"#004d40"},variable_category:{colour:"#880e4f"},variable_dynamic_category:{colour:"#880e4f"}},t.Themes.HighContrast=new t.Theme("highcontrast",t.Themes.HighContrast.defaultBlockStyles,t.Themes.HighContrast.categoryStyles),t.Themes.HighContrast.setComponentStyle("selectedGlowColour","#000000"),t.Themes.HighContrast.setComponentStyle("selectedGlowSize",1),t.Themes.HighContrast.setComponentStyle("replacementGlowColour","#000000"),t.Themes.HighContrast.setFontStyle({family:null,weight:null,size:16}),t.Themes.Tritanopia={},t.Themes.Tritanopia.defaultBlockStyles={colour_blocks:{colourPrimary:"#05427f",colourSecondary:"#2974c0",colourTertiary:"#2d74bb"},list_blocks:{colourPrimary:"#b69ce8",colourSecondary:"#ccbaef",colourTertiary:"#9176c5"},logic_blocks:{colourPrimary:"#9fd2f1",colourSecondary:"#c0e0f4",colourTertiary:"#74bae5"},loop_blocks:{colourPrimary:"#aa1846",colourSecondary:"#d36185",colourTertiary:"#7c1636"},math_blocks:{colourPrimary:"#e6da39",colourSecondary:"#f3ec8e",colourTertiary:"#f2eeb7"},procedure_blocks:{colourPrimary:"#590721",colourSecondary:"#8c475d",colourTertiary:"#885464"},text_blocks:{colourPrimary:"#058863",colourSecondary:"#5ecfaf",colourTertiary:"#04684c"},variable_blocks:{colourPrimary:"#4b2d84",colourSecondary:"#816ea7",colourTertiary:"#83759e"},variable_dynamic_blocks:{colourPrimary:"#4b2d84",colourSecondary:"#816ea7",colourTertiary:"#83759e"}},t.Themes.Tritanopia.categoryStyles={colour_category:{colour:"#05427f"},list_category:{colour:"#b69ce8"},logic_category:{colour:"#9fd2f1"},loop_category:{colour:"#aa1846"},math_category:{colour:"#e6da39"},procedure_category:{colour:"#590721"},text_category:{colour:"#058863"},variable_category:{colour:"#4b2d84"},variable_dynamic_category:{colour:"#4b2d84"}},t.Themes.Tritanopia=new t.Theme("tritanopia",t.Themes.Tritanopia.defaultBlockStyles,t.Themes.Tritanopia.categoryStyles),t.requires={},t})?n.apply(e,r):n)||(t.exports=i)},1003:function(t,e,o){var n,r,i;r=[o(6904)],void 0===(i="function"==typeof(n=function(t){"use strict";return t.Blocks={},t.Blocks})?n.apply(e,r):n)||(t.exports=i)},6904:function(t,e,o){var n,r,i;r=[o(1334)],void 0===(i="function"==typeof(n=function(t){"use strict";return t.Blocks.colour={},t.Constants={},t.Constants.Colour={},t.Constants.Colour.HUE=20,t.defineBlocksWithJsonArray([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]),t.Blocks.lists={},t.Constants.Lists={},t.Constants.Lists.HUE=260,t.defineBlocksWithJsonArray([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),t.Blocks.lists_create_with={init:function(){this.setHelpUrl(t.Msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new t.Mutator(["lists_create_with_item"])),this.setTooltip(t.Msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("items",this.itemCount_),e},domToMutation:function(t){this.itemCount_=parseInt(t.getAttribute("items"),10),this.updateShape_()},decompose:function(t){var e=t.newBlock("lists_create_with_container");e.initSvg();for(var o=e.getInput("STACK").connection,n=0;n<this.itemCount_;n++){var r=t.newBlock("lists_create_with_item");r.initSvg(),o.connect(r.previousConnection),o=r.nextConnection}return e},compose:function(e){var o=e.getInputTargetBlock("STACK");for(e=[];o&&!o.isInsertionMarker();)e.push(o.valueConnection_),o=o.nextConnection&&o.nextConnection.targetBlock();for(o=0;o<this.itemCount_;o++){var n=this.getInput("ADD"+o).connection.targetConnection;n&&-1==e.indexOf(n)&&n.disconnect()}for(this.itemCount_=e.length,this.updateShape_(),o=0;o<this.itemCount_;o++)t.Mutator.reconnect(e[o],this,"ADD"+o)},saveConnections:function(t){t=t.getInputTargetBlock("STACK");for(var e=0;t;){var o=this.getInput("ADD"+e);t.valueConnection_=o&&o.connection.targetConnection,e++,t=t.nextConnection&&t.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(t.Msg.LISTS_CREATE_EMPTY_TITLE);for(var e=0;e<this.itemCount_;e++)if(!this.getInput("ADD"+e)){var o=this.appendValueInput("ADD"+e).setAlign(t.ALIGN_RIGHT);0==e&&o.appendField(t.Msg.LISTS_CREATE_WITH_INPUT_WITH)}for(;this.getInput("ADD"+e);)this.removeInput("ADD"+e),e++}},t.Blocks.lists_create_with_container={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(t.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(t.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}},t.Blocks.lists_create_with_item={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(t.Msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(t.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}},t.Blocks.lists_indexOf={init:function(){var e=[[t.Msg.LISTS_INDEX_OF_FIRST,"FIRST"],[t.Msg.LISTS_INDEX_OF_LAST,"LAST"]];this.setHelpUrl(t.Msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(t.Msg.LISTS_INDEX_OF_INPUT_IN_LIST),this.appendValueInput("FIND").appendField(new t.FieldDropdown(e),"END"),this.setInputsInline(!0);var o=this;this.setTooltip((function(){return t.Msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",o.workspace.options.oneBasedIndex?"0":"-1")}))}},t.Blocks.lists_getIndex={init:function(){var e=[[t.Msg.LISTS_GET_INDEX_GET,"GET"],[t.Msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[t.Msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[t.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[t.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[t.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[t.Msg.LISTS_GET_INDEX_LAST,"LAST"],[t.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(t.Msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),e=new t.FieldDropdown(e,(function(t){t="REMOVE"==t,this.getSourceBlock().updateStatement_(t)})),this.appendValueInput("VALUE").setCheck("Array").appendField(t.Msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(e,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),t.Msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(t.Msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0);var o=this;this.setTooltip((function(){var e=o.getFieldValue("MODE"),n=o.getFieldValue("WHERE"),r="";switch(e+" "+n){case"GET FROM_START":case"GET FROM_END":r=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":r=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":r=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":r=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":r=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":r=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":r=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":r=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":r=t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":r=t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":r=t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":r=t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return"FROM_START"!=n&&"FROM_END"!=n||(r+="  "+("FROM_START"==n?t.Msg.LISTS_INDEX_FROM_START_TOOLTIP:t.Msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",o.workspace.options.oneBasedIndex?"#1":"#0")),r}))},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");e.setAttribute("statement",!this.outputConnection);var o=this.getInput("AT").type==t.INPUT_VALUE;return e.setAttribute("at",o),e},domToMutation:function(t){var e="true"==t.getAttribute("statement");this.updateStatement_(e),t="false"!=t.getAttribute("at"),this.updateAt_(t)},updateStatement_:function(t){t!=!this.outputConnection&&(this.unplug(!0,!0),t?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck("Number"),t.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(t.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var o=new t.FieldDropdown(this.WHERE_OPTIONS,(function(t){var o="FROM_START"==t||"FROM_END"==t;if(o!=e){var n=this.getSourceBlock();return n.updateAt_(o),n.setFieldValue(t,"WHERE"),null}}));this.getInput("AT").appendField(o,"WHERE"),t.Msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}},t.Blocks.lists_setIndex={init:function(){var e=[[t.Msg.LISTS_SET_INDEX_SET,"SET"],[t.Msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[t.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[t.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[t.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[t.Msg.LISTS_GET_INDEX_LAST,"LAST"],[t.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(t.Msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(t.Msg.LISTS_SET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(new t.FieldDropdown(e),"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(t.Msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(t.Msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0);var o=this;this.setTooltip((function(){var e=o.getFieldValue("MODE"),n=o.getFieldValue("WHERE"),r="";switch(e+" "+n){case"SET FROM_START":case"SET FROM_END":r=t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":r=t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":r=t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":r=t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":r=t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":r=t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":r=t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":r=t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return"FROM_START"!=n&&"FROM_END"!=n||(r+="  "+t.Msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",o.workspace.options.oneBasedIndex?"#1":"#0")),r}))},mutationToDom:function(){var e=t.utils.xml.createElement("mutation"),o=this.getInput("AT").type==t.INPUT_VALUE;return e.setAttribute("at",o),e},domToMutation:function(t){t="false"!=t.getAttribute("at"),this.updateAt_(t)},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck("Number"),t.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(t.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var o=new t.FieldDropdown(this.WHERE_OPTIONS,(function(t){var o="FROM_START"==t||"FROM_END"==t;if(o!=e){var n=this.getSourceBlock();return n.updateAt_(o),n.setFieldValue(t,"WHERE"),null}}));this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(o,"WHERE")}},t.Blocks.lists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[t.Msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[t.Msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[t.Msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[t.Msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[t.Msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[t.Msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(t.Msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(t.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),t.Msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(t.Msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(t.Msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){var e=t.utils.xml.createElement("mutation"),o=this.getInput("AT1").type==t.INPUT_VALUE;return e.setAttribute("at1",o),o=this.getInput("AT2").type==t.INPUT_VALUE,e.setAttribute("at2",o),e},domToMutation:function(t){var e="true"==t.getAttribute("at1");t="true"==t.getAttribute("at2"),this.updateAt_(1,e),this.updateAt_(2,t)},updateAt_:function(e,o){this.removeInput("AT"+e),this.removeInput("ORDINAL"+e,!0),o?(this.appendValueInput("AT"+e).setCheck("Number"),t.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+e).appendField(t.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+e);var n=new t.FieldDropdown(this["WHERE_OPTIONS_"+e],(function(t){var n="FROM_START"==t||"FROM_END"==t;if(n!=o){var r=this.getSourceBlock();return r.updateAt_(e,n),r.setFieldValue(t,"WHERE"+e),null}}));this.getInput("AT"+e).appendField(n,"WHERE"+e),1==e&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),t.Msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}},t.Blocks.lists_sort={init:function(){this.jsonInit({message0:t.Msg.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[t.Msg.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[t.Msg.LISTS_SORT_TYPE_TEXT,"TEXT"],[t.Msg.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[t.Msg.LISTS_SORT_ORDER_ASCENDING,"1"],[t.Msg.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:t.Msg.LISTS_SORT_TOOLTIP,helpUrl:t.Msg.LISTS_SORT_HELPURL})}},t.Blocks.lists_split={init:function(){var e=this,o=new t.FieldDropdown([[t.Msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[t.Msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],(function(t){e.updateType_(t)}));this.setHelpUrl(t.Msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(o,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(t.Msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip((function(){var o=e.getFieldValue("MODE");if("SPLIT"==o)return t.Msg.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"==o)return t.Msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+o)}))},updateType_:function(t){if(this.getFieldValue("MODE")!=t){var e=this.getInput("INPUT").connection;e.setShadowDom(null);var o=e.targetBlock();o&&(e.disconnect(),o.isShadow()?o.dispose():this.bumpNeighbours())}"SPLIT"==t?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("mode",this.getFieldValue("MODE")),e},domToMutation:function(t){this.updateType_(t.getAttribute("mode"))}},t.Blocks.logic={},t.Constants.Logic={},t.Constants.Logic.HUE=210,t.defineBlocksWithJsonArray([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["≠","NEQ"],["‏<","LT"],["‏≤","LTE"],["‏>","GT"],["‏≥","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]),t.defineBlocksWithJsonArray([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),t.Constants.Logic.TOOLTIPS_BY_OP={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"},t.Extensions.register("logic_op_tooltip",t.Extensions.buildTooltipForDropdown("OP",t.Constants.Logic.TOOLTIPS_BY_OP)),t.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN={elseifCount_:0,elseCount_:0,suppressPrefixSuffix:!0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var e=t.utils.xml.createElement("mutation");return this.elseifCount_&&e.setAttribute("elseif",this.elseifCount_),this.elseCount_&&e.setAttribute("else",1),e},domToMutation:function(t){this.elseifCount_=parseInt(t.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(t.getAttribute("else"),10)||0,this.rebuildShape_()},decompose:function(t){var e=t.newBlock("controls_if_if");e.initSvg();for(var o=e.nextConnection,n=1;n<=this.elseifCount_;n++){var r=t.newBlock("controls_if_elseif");r.initSvg(),o.connect(r.previousConnection),o=r.nextConnection}return this.elseCount_&&((t=t.newBlock("controls_if_else")).initSvg(),o.connect(t.previousConnection)),e},compose:function(t){t=t.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;for(var e=[null],o=[null],n=null;t&&!t.isInsertionMarker();){switch(t.type){case"controls_if_elseif":this.elseifCount_++,e.push(t.valueConnection_),o.push(t.statementConnection_);break;case"controls_if_else":this.elseCount_++,n=t.statementConnection_;break;default:throw TypeError("Unknown block type: "+t.type)}t=t.nextConnection&&t.nextConnection.targetBlock()}this.updateShape_(),this.reconnectChildBlocks_(e,o,n)},saveConnections:function(t){t=t.nextConnection.targetBlock();for(var e=1;t;){switch(t.type){case"controls_if_elseif":var o=this.getInput("IF"+e),n=this.getInput("DO"+e);t.valueConnection_=o&&o.connection.targetConnection,t.statementConnection_=n&&n.connection.targetConnection,e++;break;case"controls_if_else":n=this.getInput("ELSE"),t.statementConnection_=n&&n.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+t.type)}t=t.nextConnection&&t.nextConnection.targetBlock()}},rebuildShape_:function(){var t=[null],e=[null],o=null;this.getInput("ELSE")&&(o=this.getInput("ELSE").connection.targetConnection);for(var n=1;this.getInput("IF"+n);){var r=this.getInput("IF"+n),i=this.getInput("DO"+n);t.push(r.connection.targetConnection),e.push(i.connection.targetConnection),n++}this.updateShape_(),this.reconnectChildBlocks_(t,e,o)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var e=1;this.getInput("IF"+e);)this.removeInput("IF"+e),this.removeInput("DO"+e),e++;for(e=1;e<=this.elseifCount_;e++)this.appendValueInput("IF"+e).setCheck("Boolean").appendField(t.Msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+e).appendField(t.Msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(t.Msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(e,o,n){for(var r=1;r<=this.elseifCount_;r++)t.Mutator.reconnect(e[r],this,"IF"+r),t.Mutator.reconnect(o[r],this,"DO"+r);t.Mutator.reconnect(n,this,"ELSE")}},t.Extensions.registerMutator("controls_if_mutator",t.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN,null,["controls_if_elseif","controls_if_else"]),t.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION=function(){this.setTooltip(function(){return this.elseifCount_||this.elseCount_?!this.elseifCount_&&this.elseCount_?t.Msg.CONTROLS_IF_TOOLTIP_2:this.elseifCount_&&!this.elseCount_?t.Msg.CONTROLS_IF_TOOLTIP_3:this.elseifCount_&&this.elseCount_?t.Msg.CONTROLS_IF_TOOLTIP_4:"":t.Msg.CONTROLS_IF_TOOLTIP_1}.bind(this))},t.Extensions.register("controls_if_tooltip",t.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION),t.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN={onchange:function(e){this.prevBlocks_||(this.prevBlocks_=[null,null]);var o=this.getInputTargetBlock("A"),n=this.getInputTargetBlock("B");o&&n&&!this.workspace.connectionChecker.doTypeChecks(o.outputConnection,n.outputConnection)&&(t.Events.setGroup(e.group),(e=this.prevBlocks_[0])!==o&&(o.unplug(),!e||e.isDisposed()||e.isShadow()||this.getInput("A").connection.connect(e.outputConnection)),(o=this.prevBlocks_[1])!==n&&(n.unplug(),!o||o.isDisposed()||o.isShadow()||this.getInput("B").connection.connect(o.outputConnection)),this.bumpNeighbours(),t.Events.setGroup(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},t.Constants.Logic.LOGIC_COMPARE_EXTENSION=function(){this.mixin(t.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN)},t.Extensions.register("logic_compare",t.Constants.Logic.LOGIC_COMPARE_EXTENSION),t.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN={prevParentConnection_:null,onchange:function(e){var o=this.getInputTargetBlock("THEN"),n=this.getInputTargetBlock("ELSE"),r=this.outputConnection.targetConnection;if((o||n)&&r)for(var i=0;2>i;i++){var s=1==i?o:n;s&&!s.workspace.connectionChecker.doTypeChecks(s.outputConnection,r)&&(t.Events.setGroup(e.group),r===this.prevParentConnection_?(this.unplug(),r.getSourceBlock().bumpNeighbours()):(s.unplug(),s.bumpNeighbours()),t.Events.setGroup(!1))}this.prevParentConnection_=r}},t.Extensions.registerMixin("logic_ternary",t.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN),t.Blocks.loops={},t.Constants.Loops={},t.Constants.Loops.HUE=120,t.defineBlocksWithJsonArray([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),t.Constants.Loops.WHILE_UNTIL_TOOLTIPS={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"},t.Extensions.register("controls_whileUntil_tooltip",t.Extensions.buildTooltipForDropdown("MODE",t.Constants.Loops.WHILE_UNTIL_TOOLTIPS)),t.Constants.Loops.BREAK_CONTINUE_TOOLTIPS={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"},t.Extensions.register("controls_flow_tooltip",t.Extensions.buildTooltipForDropdown("FLOW",t.Constants.Loops.BREAK_CONTINUE_TOOLTIPS)),t.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN={customContextMenu:function(e){if(!this.isInFlyout){var o=this.getField("VAR").getVariable(),n=o.name;if(!this.isCollapsed()&&null!=n){var r={enabled:!0};r.text=t.Msg.VARIABLES_SET_CREATE_GET.replace("%1",n),o=t.Variables.generateVariableFieldDom(o),(n=t.utils.xml.createElement("block")).setAttribute("type","variables_get"),n.appendChild(o),r.callback=t.ContextMenu.callbackFactory(this,n),e.push(r)}}}},t.Extensions.registerMixin("contextMenu_newGetVariableBlock",t.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN),t.Extensions.register("controls_for_tooltip",t.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),t.Extensions.register("controls_forEach_tooltip",t.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR")),t.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN={LOOP_TYPES:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],suppressPrefixSuffix:!0,getSurroundLoop:function(e){do{if(-1!=t.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.LOOP_TYPES.indexOf(e.type))return e;e=e.getSurroundParent()}while(e);return null},onchange:function(e){if(this.workspace.isDragging&&!this.workspace.isDragging()&&e.type==t.Events.BLOCK_MOVE){var o=t.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(this);if(this.setWarningText(o?null:t.Msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout){var n=t.Events.getGroup();t.Events.setGroup(e.group),this.setEnabled(o),t.Events.setGroup(n)}}}},t.Extensions.registerMixin("controls_flow_in_loop_check",t.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN),t.Blocks.math={},t.Constants.Math={},t.Constants.Math.HUE=230,t.defineBlocksWithJsonArray([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["π","PI"],["e","E"],["φ","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(½)","SQRT1_2"],["∞","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),t.Constants.Math.TOOLTIPS_BY_OP={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"},t.Extensions.register("math_op_tooltip",t.Extensions.buildTooltipForDropdown("OP",t.Constants.Math.TOOLTIPS_BY_OP)),t.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN={mutationToDom:function(){var e=t.utils.xml.createElement("mutation"),o="DIVISIBLE_BY"==this.getFieldValue("PROPERTY");return e.setAttribute("divisor_input",o),e},domToMutation:function(t){t="true"==t.getAttribute("divisor_input"),this.updateShape_(t)},updateShape_:function(t){var e=this.getInput("DIVISOR");t?e||this.appendValueInput("DIVISOR").setCheck("Number"):e&&this.removeInput("DIVISOR")}},t.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION=function(){this.getField("PROPERTY").setValidator((function(t){t="DIVISIBLE_BY"==t,this.getSourceBlock().updateShape_(t)}))},t.Extensions.registerMutator("math_is_divisibleby_mutator",t.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN,t.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION),t.Extensions.register("math_change_tooltip",t.Extensions.buildTooltipWithFieldText("%{BKY_MATH_CHANGE_TOOLTIP}","VAR")),t.Constants.Math.LIST_MODES_MUTATOR_MIXIN={updateType_:function(t){"MODE"==t?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("op",this.getFieldValue("OP")),e},domToMutation:function(t){this.updateType_(t.getAttribute("op"))}},t.Constants.Math.LIST_MODES_MUTATOR_EXTENSION=function(){this.getField("OP").setValidator(function(t){this.updateType_(t)}.bind(this))},t.Extensions.registerMutator("math_modes_of_list_mutator",t.Constants.Math.LIST_MODES_MUTATOR_MIXIN,t.Constants.Math.LIST_MODES_MUTATOR_EXTENSION),t.Blocks.procedures={},t.Blocks.procedures_defnoreturn={init:function(){var e=t.Procedures.findLegalName("",this);(e=new t.FieldTextInput(e,t.Procedures.rename)).setSpellcheck(!1),this.appendDummyInput().appendField(t.Msg.PROCEDURES_DEFNORETURN_TITLE).appendField(e,"NAME").appendField("","PARAMS"),this.setMutator(new t.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&t.Msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(t.Msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(t.Msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:function(e){this.hasStatements_!==e&&(e?(this.appendStatementInput("STACK").appendField(t.Msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=e)},updateParams_:function(){var e="";this.arguments_.length&&(e=t.Msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),t.Events.disable();try{this.setFieldValue(e,"PARAMS")}finally{t.Events.enable()}},mutationToDom:function(e){var o=t.utils.xml.createElement("mutation");e&&o.setAttribute("name",this.getFieldValue("NAME"));for(var n=0;n<this.argumentVarModels_.length;n++){var r=t.utils.xml.createElement("arg"),i=this.argumentVarModels_[n];r.setAttribute("name",i.name),r.setAttribute("varid",i.getId()),e&&this.paramIds_&&r.setAttribute("paramId",this.paramIds_[n]),o.appendChild(r)}return this.hasStatements_||o.setAttribute("statements","false"),o},domToMutation:function(e){this.arguments_=[],this.argumentVarModels_=[];for(var o,n=0;o=e.childNodes[n];n++)if("arg"==o.nodeName.toLowerCase()){var r=o.getAttribute("name");o=o.getAttribute("varid")||o.getAttribute("varId"),this.arguments_.push(r),null!=(o=t.Variables.getOrCreateVariablePackage(this.workspace,o,r,""))?this.argumentVarModels_.push(o):console.log("Failed to create a variable with name "+r+", ignoring.")}this.updateParams_(),t.Procedures.mutateCallers(this),this.setStatements_("false"!==e.getAttribute("statements"))},decompose:function(e){var o=t.utils.xml.createElement("block");o.setAttribute("type","procedures_mutatorcontainer");var n=t.utils.xml.createElement("statement");n.setAttribute("name","STACK"),o.appendChild(n);for(var r=0;r<this.arguments_.length;r++){var i=t.utils.xml.createElement("block");i.setAttribute("type","procedures_mutatorarg");var s=t.utils.xml.createElement("field");s.setAttribute("name","NAME");var a=t.utils.xml.createTextNode(this.arguments_[r]);s.appendChild(a),i.appendChild(s),s=t.utils.xml.createElement("next"),i.appendChild(s),n.appendChild(i),n=s}return e=t.Xml.domToBlock(o,e),"procedures_defreturn"==this.type?e.setFieldValue(this.hasStatements_,"STATEMENTS"):e.removeInput("STATEMENT_INPUT"),t.Procedures.mutateCallers(this),e},compose:function(e){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];for(var o=e.getInputTargetBlock("STACK");o&&!o.isInsertionMarker();){var n=o.getFieldValue("NAME");this.arguments_.push(n),n=this.workspace.getVariable(n,""),this.argumentVarModels_.push(n),this.paramIds_.push(o.id),o=o.nextConnection&&o.nextConnection.targetBlock()}this.updateParams_(),t.Procedures.mutateCallers(this),null!==(e=e.getFieldValue("STATEMENTS"))&&(e="TRUE"==e,this.hasStatements_!=e)&&(e?(this.setStatements_(!0),t.Mutator.reconnect(this.statementConnection_,this,"STACK"),this.statementConnection_=null):(e=this.getInput("STACK").connection,(this.statementConnection_=e.targetConnection)&&((e=e.targetBlock()).unplug(),e.bumpNeighbours()),this.setStatements_(!1)))},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(e,o){var n=this.workspace.getVariableById(e);if(""==n.type){n=n.name,o=this.workspace.getVariableById(o);for(var r=!1,i=0;i<this.argumentVarModels_.length;i++)this.argumentVarModels_[i].getId()==e&&(this.arguments_[i]=o.name,this.argumentVarModels_[i]=o,r=!0);r&&(this.displayRenamedVar_(n,o.name),t.Procedures.mutateCallers(this))}},updateVarName:function(e){for(var o=e.name,n=!1,r=0;r<this.argumentVarModels_.length;r++)if(this.argumentVarModels_[r].getId()==e.getId()){var i=this.arguments_[r];this.arguments_[r]=o,n=!0}n&&(this.displayRenamedVar_(i,o),t.Procedures.mutateCallers(this))},displayRenamedVar_:function(e,o){if(this.updateParams_(),this.mutator&&this.mutator.isVisible())for(var n,r=this.mutator.workspace_.getAllBlocks(!1),i=0;n=r[i];i++)"procedures_mutatorarg"==n.type&&t.Names.equals(e,n.getFieldValue("NAME"))&&n.setFieldValue(o,"NAME")},customContextMenu:function(e){if(!this.isInFlyout){var o={enabled:!0},n=this.getFieldValue("NAME");o.text=t.Msg.PROCEDURES_CREATE_DO.replace("%1",n);var r=t.utils.xml.createElement("mutation");for(r.setAttribute("name",n),n=0;n<this.arguments_.length;n++){var i=t.utils.xml.createElement("arg");i.setAttribute("name",this.arguments_[n]),r.appendChild(i)}if((n=t.utils.xml.createElement("block")).setAttribute("type",this.callType_),n.appendChild(r),o.callback=t.ContextMenu.callbackFactory(this,n),e.push(o),!this.isCollapsed())for(n=0;n<this.argumentVarModels_.length;n++)o={enabled:!0},r=this.argumentVarModels_[n],o.text=t.Msg.VARIABLES_SET_CREATE_GET.replace("%1",r.name),r=t.Variables.generateVariableFieldDom(r),(i=t.utils.xml.createElement("block")).setAttribute("type","variables_get"),i.appendChild(r),o.callback=t.ContextMenu.callbackFactory(this,i),e.push(o)}},callType_:"procedures_callnoreturn"},t.Blocks.procedures_defreturn={init:function(){var e=t.Procedures.findLegalName("",this);(e=new t.FieldTextInput(e,t.Procedures.rename)).setSpellcheck(!1),this.appendDummyInput().appendField(t.Msg.PROCEDURES_DEFRETURN_TITLE).appendField(e,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(t.ALIGN_RIGHT).appendField(t.Msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new t.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&t.Msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(t.Msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(t.Msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:t.Blocks.procedures_defnoreturn.setStatements_,updateParams_:t.Blocks.procedures_defnoreturn.updateParams_,mutationToDom:t.Blocks.procedures_defnoreturn.mutationToDom,domToMutation:t.Blocks.procedures_defnoreturn.domToMutation,decompose:t.Blocks.procedures_defnoreturn.decompose,compose:t.Blocks.procedures_defnoreturn.compose,getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},getVars:t.Blocks.procedures_defnoreturn.getVars,getVarModels:t.Blocks.procedures_defnoreturn.getVarModels,renameVarById:t.Blocks.procedures_defnoreturn.renameVarById,updateVarName:t.Blocks.procedures_defnoreturn.updateVarName,displayRenamedVar_:t.Blocks.procedures_defnoreturn.displayRenamedVar_,customContextMenu:t.Blocks.procedures_defnoreturn.customContextMenu,callType_:"procedures_callreturn"},t.Blocks.procedures_mutatorcontainer={init:function(){this.appendDummyInput().appendField(t.Msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(t.Msg.PROCEDURES_ALLOW_STATEMENTS).appendField(new t.FieldCheckbox("TRUE"),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}},t.Blocks.procedures_mutatorarg={init:function(){var e=new t.FieldTextInput(t.Procedures.DEFAULT_ARG,this.validator_);e.oldShowEditorFn_=e.showEditor_,e.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(t.Msg.PROCEDURES_MUTATORARG_TITLE).appendField(e,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,e.onFinishEditing_=this.deleteIntermediateVars_,e.createdVariables_=[],e.onFinishEditing_("x")},validator_:function(e){var o=this.getSourceBlock(),n=t.Mutator.findParentWs(o.workspace);if(!(e=e.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"")))return null;for(var r=(o.workspace.targetWorkspace||o.workspace).getAllBlocks(!1),i=e.toLowerCase(),s=0;s<r.length;s++)if(r[s].id!=this.getSourceBlock().id){var a=r[s].getFieldValue("NAME");if(a&&a.toLowerCase()==i)return null}return o.isInFlyout||((o=n.getVariable(e,""))&&o.name!=e&&n.renameVariableById(o.getId(),e),o||(o=n.createVariable(e,""))&&this.createdVariables_&&this.createdVariables_.push(o)),e},deleteIntermediateVars_:function(e){var o=t.Mutator.findParentWs(this.getSourceBlock().workspace);if(o)for(var n=0;n<this.createdVariables_.length;n++){var r=this.createdVariables_[n];r.name!=e&&o.deleteVariableById(r.getId())}}},t.Blocks.procedures_callnoreturn={init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(t.Msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(e,o){t.Names.equals(e,this.getProcedureCall())&&(this.setFieldValue(o,"NAME"),this.setTooltip((this.outputConnection?t.Msg.PROCEDURES_CALLRETURN_TOOLTIP:t.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",o)))},setProcedureParameters_:function(e,o){var n=t.Procedures.getDefinition(this.getProcedureCall(),this.workspace),r=n&&n.mutator&&n.mutator.isVisible();if(r||(this.quarkConnections_={},this.quarkIds_=null),o)if(e.join("\n")==this.arguments_.join("\n"))this.quarkIds_=o;else{if(o.length!=e.length)throw RangeError("paramNames and paramIds must be the same length.");this.setCollapsed(!1),this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]),n=this.rendered,this.rendered=!1;for(var i=0;i<this.arguments_.length;i++){var s=this.getInput("ARG"+i);s&&(s=s.connection.targetConnection,this.quarkConnections_[this.quarkIds_[i]]=s,r&&s&&-1==o.indexOf(this.quarkIds_[i])&&(s.disconnect(),s.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(e),this.argumentVarModels_=[],i=0;i<this.arguments_.length;i++)e=t.Variables.getOrCreateVariablePackage(this.workspace,null,this.arguments_[i],""),this.argumentVarModels_.push(e);if(this.updateShape_(),this.quarkIds_=o)for(i=0;i<this.arguments_.length;i++)(o=this.quarkIds_[i])in this.quarkConnections_&&(s=this.quarkConnections_[o],t.Mutator.reconnect(s,this,"ARG"+i)||delete this.quarkConnections_[o]);(this.rendered=n)&&this.render()}},updateShape_:function(){for(var e=0;e<this.arguments_.length;e++){var o=this.getField("ARGNAME"+e);if(o){t.Events.disable();try{o.setValue(this.arguments_[e])}finally{t.Events.enable()}}else o=new t.FieldLabel(this.arguments_[e]),this.appendValueInput("ARG"+e).setAlign(t.ALIGN_RIGHT).appendField(o,"ARGNAME"+e).init()}for(;this.getInput("ARG"+e);)this.removeInput("ARG"+e),e++;(e=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||(e.appendField(t.Msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),e.init()):this.getField("WITH")&&e.removeField("WITH"))},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");e.setAttribute("name",this.getProcedureCall());for(var o=0;o<this.arguments_.length;o++){var n=t.utils.xml.createElement("arg");n.setAttribute("name",this.arguments_[o]),e.appendChild(n)}return e},domToMutation:function(t){var e=t.getAttribute("name");this.renameProcedure(this.getProcedureCall(),e),e=[];for(var o,n=[],r=0;o=t.childNodes[r];r++)"arg"==o.nodeName.toLowerCase()&&(e.push(o.getAttribute("name")),n.push(o.getAttribute("paramId")));this.setProcedureParameters_(e,n)},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(e){if(this.workspace&&!this.workspace.isFlyout&&e.recordUndo)if(e.type==t.Events.BLOCK_CREATE&&-1!=e.ids.indexOf(this.id)){var o=this.getProcedureCall();if(!(o=t.Procedures.getDefinition(o,this.workspace))||o.type==this.defType_&&JSON.stringify(o.getVars())==JSON.stringify(this.arguments_)||(o=null),!o){t.Events.setGroup(e.group),e=t.utils.xml.createElement("xml"),(o=t.utils.xml.createElement("block")).setAttribute("type",this.defType_);var n=this.getRelativeToSurfaceXY(),r=n.y+2*t.SNAP_RADIUS;o.setAttribute("x",n.x+t.SNAP_RADIUS*(this.RTL?-1:1)),o.setAttribute("y",r),n=this.mutationToDom(),o.appendChild(n),(n=t.utils.xml.createElement("field")).setAttribute("name","NAME"),(r=this.getProcedureCall())||(r=t.Procedures.findLegalName("",this),this.renameProcedure("",r)),n.appendChild(t.utils.xml.createTextNode(r)),o.appendChild(n),e.appendChild(o),t.Xml.domToWorkspace(e,this.workspace),t.Events.setGroup(!1)}}else e.type==t.Events.BLOCK_DELETE?(o=this.getProcedureCall(),(o=t.Procedures.getDefinition(o,this.workspace))||(t.Events.setGroup(e.group),this.dispose(!0),t.Events.setGroup(!1))):e.type==t.Events.CHANGE&&"disabled"==e.element&&(o=this.getProcedureCall(),(o=t.Procedures.getDefinition(o,this.workspace))&&o.id==e.blockId&&((o=t.Events.getGroup())&&console.log("Saw an existing group while responding to a definition change"),t.Events.setGroup(e.group),e.newValue?(this.previousEnabledState_=this.isEnabled(),this.setEnabled(!1)):this.setEnabled(this.previousEnabledState_),t.Events.setGroup(o)))},customContextMenu:function(e){if(this.workspace.isMovable()){var o={enabled:!0};o.text=t.Msg.PROCEDURES_HIGHLIGHT_DEF;var n=this.getProcedureCall(),r=this.workspace;o.callback=function(){var e=t.Procedures.getDefinition(n,r);e&&(r.centerOnBlock(e.id),e.select())},e.push(o)}},defType_:"procedures_defnoreturn"},t.Blocks.procedures_callreturn={init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(t.Msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},getProcedureCall:t.Blocks.procedures_callnoreturn.getProcedureCall,renameProcedure:t.Blocks.procedures_callnoreturn.renameProcedure,setProcedureParameters_:t.Blocks.procedures_callnoreturn.setProcedureParameters_,updateShape_:t.Blocks.procedures_callnoreturn.updateShape_,mutationToDom:t.Blocks.procedures_callnoreturn.mutationToDom,domToMutation:t.Blocks.procedures_callnoreturn.domToMutation,getVars:t.Blocks.procedures_callnoreturn.getVars,getVarModels:t.Blocks.procedures_callnoreturn.getVarModels,onchange:t.Blocks.procedures_callnoreturn.onchange,customContextMenu:t.Blocks.procedures_callnoreturn.customContextMenu,defType_:"procedures_defreturn"},t.Blocks.procedures_ifreturn={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(t.Msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(t.Msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(t.Msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("value",Number(this.hasReturnValue_)),e},domToMutation:function(e){this.hasReturnValue_=1==e.getAttribute("value"),this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(t.Msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(e){if(this.workspace.isDragging&&!this.workspace.isDragging()){e=!1;var o=this;do{if(-1!=this.FUNCTION_TYPES.indexOf(o.type)){e=!0;break}o=o.getSurroundParent()}while(o);e?("procedures_defnoreturn"==o.type&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(t.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):"procedures_defreturn"!=o.type||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(t.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null),this.isInFlyout||this.setEnabled(!0)):(this.setWarningText(t.Msg.PROCEDURES_IFRETURN_WARNING),this.isInFlyout||this.getInheritedDisabled()||this.setEnabled(!1))}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]},t.Blocks.texts={},t.Constants.Text={},t.Constants.Text.HUE=160,t.defineBlocksWithJsonArray([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_multiline",message0:"%1 %2",args0:[{type:"field_image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpPU2iAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAdhgAAHYYBXaITgQAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAP1JREFUOE+Vks0KQUEYhjmRIja4ABtZ2dm5A3t3Ia6AUm7CylYuQRaUhZSlLZJiQbFAyRnPN33y01HOW08z8873zpwzM4F3GWOCruvGIE4/rLaV+Nq1hVGMBqzhqlxgCys4wJA65xnogMHsQ5lujnYHTejBBCK2mE4abjCgMGhNxHgDFWjDSG07kdfVa2pZMf4ZyMAdWmpZMfYOsLiDMYMjlMB+K613QISRhTnITnsYg5yUd0DETmEoMlkFOeIT/A58iyK5E18BuTBfgYXfwNJv4P9/oEBerLylOnRhygmGdPpTTBZAPkde61lbQe4moWUvYUZYLfUNftIY4zwA5X2Z9AYnQrEAAAAASUVORK5CYII=",width:12,height:17,alt:"¶"},{type:"field_multilinetext",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),t.Blocks.text_getSubstring={init:function(){this.WHERE_OPTIONS_1=[[t.Msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[t.Msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[t.Msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[t.Msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[t.Msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[t.Msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(t.Msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(t.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),t.Msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(t.Msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(t.Msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){var e=t.utils.xml.createElement("mutation"),o=this.getInput("AT1").type==t.INPUT_VALUE;return e.setAttribute("at1",o),o=this.getInput("AT2").type==t.INPUT_VALUE,e.setAttribute("at2",o),e},domToMutation:function(t){var e="true"==t.getAttribute("at1");t="true"==t.getAttribute("at2"),this.updateAt_(1,e),this.updateAt_(2,t)},updateAt_:function(e,o){this.removeInput("AT"+e),this.removeInput("ORDINAL"+e,!0),o?(this.appendValueInput("AT"+e).setCheck("Number"),t.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+e).appendField(t.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+e),2==e&&t.Msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(t.Msg.TEXT_GET_SUBSTRING_TAIL));var n=new t.FieldDropdown(this["WHERE_OPTIONS_"+e],(function(t){var n="FROM_START"==t||"FROM_END"==t;if(n!=o){var r=this.getSourceBlock();return r.updateAt_(e,n),r.setFieldValue(t,"WHERE"+e),null}}));this.getInput("AT"+e).appendField(n,"WHERE"+e),1==e&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}},t.Blocks.text_changeCase={init:function(){var e=[[t.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[t.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[t.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(t.Msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new t.FieldDropdown(e),"CASE"),this.setOutput(!0,"String"),this.setTooltip(t.Msg.TEXT_CHANGECASE_TOOLTIP)}},t.Blocks.text_trim={init:function(){var e=[[t.Msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[t.Msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[t.Msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(t.Msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new t.FieldDropdown(e),"MODE"),this.setOutput(!0,"String"),this.setTooltip(t.Msg.TEXT_TRIM_TOOLTIP)}},t.Blocks.text_print={init:function(){this.jsonInit({message0:t.Msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:t.Msg.TEXT_PRINT_TOOLTIP,helpUrl:t.Msg.TEXT_PRINT_HELPURL})}},t.Blocks.text_prompt_ext={init:function(){var e=[[t.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[t.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(t.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks");var o=this;e=new t.FieldDropdown(e,(function(t){o.updateType_(t)})),this.appendValueInput("TEXT").appendField(e,"TYPE"),this.setOutput(!0,"String"),this.setTooltip((function(){return"TEXT"==o.getFieldValue("TYPE")?t.Msg.TEXT_PROMPT_TOOLTIP_TEXT:t.Msg.TEXT_PROMPT_TOOLTIP_NUMBER}))},updateType_:function(t){this.outputConnection.setCheck("NUMBER"==t?"Number":"String")},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("type",this.getFieldValue("TYPE")),e},domToMutation:function(t){this.updateType_(t.getAttribute("type"))}},t.Blocks.text_prompt={init:function(){this.mixin(t.Constants.Text.QUOTE_IMAGE_MIXIN);var e=[[t.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[t.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],o=this;this.setHelpUrl(t.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),e=new t.FieldDropdown(e,(function(t){o.updateType_(t)})),this.appendDummyInput().appendField(e,"TYPE").appendField(this.newQuote_(!0)).appendField(new t.FieldTextInput(""),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip((function(){return"TEXT"==o.getFieldValue("TYPE")?t.Msg.TEXT_PROMPT_TOOLTIP_TEXT:t.Msg.TEXT_PROMPT_TOOLTIP_NUMBER}))},updateType_:t.Blocks.text_prompt_ext.updateType_,mutationToDom:t.Blocks.text_prompt_ext.mutationToDom,domToMutation:t.Blocks.text_prompt_ext.domToMutation},t.Blocks.text_count={init:function(){this.jsonInit({message0:t.Msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:t.Msg.TEXT_COUNT_TOOLTIP,helpUrl:t.Msg.TEXT_COUNT_HELPURL})}},t.Blocks.text_replace={init:function(){this.jsonInit({message0:t.Msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:t.Msg.TEXT_REPLACE_TOOLTIP,helpUrl:t.Msg.TEXT_REPLACE_HELPURL})}},t.Blocks.text_reverse={init:function(){this.jsonInit({message0:t.Msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:t.Msg.TEXT_REVERSE_TOOLTIP,helpUrl:t.Msg.TEXT_REVERSE_HELPURL})}},t.Constants.Text.QUOTE_IMAGE_MIXIN={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(t){for(var e,o=0;e=this.inputList[o];o++)for(var n,r=0;n=e.fieldRow[r];r++)if(t==n.name)return e.insertFieldAt(r,this.newQuote_(!0)),void e.insertFieldAt(r+2,this.newQuote_(!1));console.warn('field named "'+t+'" not found in '+this.toDevString())},newQuote_:function(e){return e=this.RTL?!e:e,new t.FieldImage(e?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,this.QUOTE_IMAGE_WIDTH,this.QUOTE_IMAGE_HEIGHT,e?"“":"”")}},t.Constants.Text.TEXT_QUOTES_EXTENSION=function(){this.mixin(t.Constants.Text.QUOTE_IMAGE_MIXIN),this.quoteField_("TEXT")},t.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN={mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("items",this.itemCount_),e},domToMutation:function(t){this.itemCount_=parseInt(t.getAttribute("items"),10),this.updateShape_()},decompose:function(t){var e=t.newBlock("text_create_join_container");e.initSvg();for(var o=e.getInput("STACK").connection,n=0;n<this.itemCount_;n++){var r=t.newBlock("text_create_join_item");r.initSvg(),o.connect(r.previousConnection),o=r.nextConnection}return e},compose:function(e){var o=e.getInputTargetBlock("STACK");for(e=[];o&&!o.isInsertionMarker();)e.push(o.valueConnection_),o=o.nextConnection&&o.nextConnection.targetBlock();for(o=0;o<this.itemCount_;o++){var n=this.getInput("ADD"+o).connection.targetConnection;n&&-1==e.indexOf(n)&&n.disconnect()}for(this.itemCount_=e.length,this.updateShape_(),o=0;o<this.itemCount_;o++)t.Mutator.reconnect(e[o],this,"ADD"+o)},saveConnections:function(t){t=t.getInputTargetBlock("STACK");for(var e=0;t;){var o=this.getInput("ADD"+e);t.valueConnection_=o&&o.connection.targetConnection,e++,t=t.nextConnection&&t.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var e=0;e<this.itemCount_;e++)if(!this.getInput("ADD"+e)){var o=this.appendValueInput("ADD"+e).setAlign(t.ALIGN_RIGHT);0==e&&o.appendField(t.Msg.TEXT_JOIN_TITLE_CREATEWITH)}for(;this.getInput("ADD"+e);)this.removeInput("ADD"+e),e++}},t.Constants.Text.TEXT_JOIN_EXTENSION=function(){this.mixin(t.Constants.Text.QUOTE_IMAGE_MIXIN),this.itemCount_=2,this.updateShape_(),this.setMutator(new t.Mutator(["text_create_join_item"]))},t.Extensions.register("text_append_tooltip",t.Extensions.buildTooltipWithFieldText("%{BKY_TEXT_APPEND_TOOLTIP}","VAR")),t.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION=function(){var e=this;this.setTooltip((function(){return t.Msg.TEXT_INDEXOF_TOOLTIP.replace("%1",e.workspace.options.oneBasedIndex?"0":"-1")}))},t.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN={mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("at",!!this.isAt_),e},domToMutation:function(t){t="false"!=t.getAttribute("at"),this.updateAt_(t)},updateAt_:function(e){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),e&&(this.appendValueInput("AT").setCheck("Number"),t.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(t.Msg.ORDINAL_NUMBER_SUFFIX)),t.Msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(t.Msg.TEXT_CHARAT_TAIL)),this.isAt_=e}},t.Constants.Text.TEXT_CHARAT_EXTENSION=function(){this.getField("WHERE").setValidator((function(t){(t="FROM_START"==t||"FROM_END"==t)!=this.isAt_&&this.getSourceBlock().updateAt_(t)})),this.updateAt_(!0);var e=this;this.setTooltip((function(){var o=e.getFieldValue("WHERE"),n=t.Msg.TEXT_CHARAT_TOOLTIP;return("FROM_START"==o||"FROM_END"==o)&&(o="FROM_START"==o?t.Msg.LISTS_INDEX_FROM_START_TOOLTIP:t.Msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(n+="  "+o.replace("%1",e.workspace.options.oneBasedIndex?"#1":"#0")),n}))},t.Extensions.register("text_indexOf_tooltip",t.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION),t.Extensions.register("text_quotes",t.Constants.Text.TEXT_QUOTES_EXTENSION),t.Extensions.registerMutator("text_join_mutator",t.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN,t.Constants.Text.TEXT_JOIN_EXTENSION),t.Extensions.registerMutator("text_charAt_mutator",t.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN,t.Constants.Text.TEXT_CHARAT_EXTENSION),t.Blocks.variables={},t.Constants.Variables={},t.Constants.Variables.HUE=330,t.defineBlocksWithJsonArray([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),t.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(e){if(this.isInFlyout)"variables_get"!=this.type&&"variables_get_reporter"!=this.type||(o={text:t.Msg.RENAME_VARIABLE,enabled:!0,callback:t.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},i=this.getField("VAR").getText(),r={text:t.Msg.DELETE_VARIABLE.replace("%1",i),enabled:!0,callback:t.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},e.unshift(o),e.unshift(r));else{if("variables_get"==this.type)var o="variables_set",n=t.Msg.VARIABLES_GET_CREATE_SET;else o="variables_get",n=t.Msg.VARIABLES_SET_CREATE_GET;var r={enabled:0<this.workspace.remainingCapacity()},i=this.getField("VAR").getText();r.text=n.replace("%1",i),(n=t.utils.xml.createElement("field")).setAttribute("name","VAR"),n.appendChild(t.utils.xml.createTextNode(i)),(i=t.utils.xml.createElement("block")).setAttribute("type",o),i.appendChild(n),r.callback=t.ContextMenu.callbackFactory(this,i),e.push(r)}}},t.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY=function(e){return function(){var o=e.workspace,n=e.getField("VAR").getVariable();t.Variables.renameVariable(o,n)}},t.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY=function(t){return function(){var e=t.workspace,o=t.getField("VAR").getVariable();e.deleteVariableById(o.getId()),e.refreshToolboxSelection()}},t.Extensions.registerMixin("contextMenu_variableSetterGetter",t.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),t.Constants.VariablesDynamic={},t.Constants.VariablesDynamic.HUE=310,t.defineBlocksWithJsonArray([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),t.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(e){if(this.isInFlyout)"variables_get_dynamic"!=this.type&&"variables_get_reporter_dynamic"!=this.type||(o={text:t.Msg.RENAME_VARIABLE,enabled:!0,callback:t.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},s=this.getField("VAR").getText(),i={text:t.Msg.DELETE_VARIABLE.replace("%1",s),enabled:!0,callback:t.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},e.unshift(o),e.unshift(i));else{var o=this.getFieldValue("VAR"),n=this.workspace.getVariableById(o).type;if("variables_get_dynamic"==this.type){o="variables_set_dynamic";var r=t.Msg.VARIABLES_GET_CREATE_SET}else o="variables_get_dynamic",r=t.Msg.VARIABLES_SET_CREATE_GET;var i={enabled:0<this.workspace.remainingCapacity()},s=this.getField("VAR").getText();i.text=r.replace("%1",s),(r=t.utils.xml.createElement("field")).setAttribute("name","VAR"),r.setAttribute("variabletype",n),r.appendChild(t.utils.xml.createTextNode(s)),(s=t.utils.xml.createElement("block")).setAttribute("type",o),s.appendChild(r),i.callback=t.ContextMenu.callbackFactory(this,s),e.push(i)}},onchange:function(e){e=this.getFieldValue("VAR"),e=t.Variables.getVariable(this.workspace,e),"variables_get_dynamic"==this.type?this.outputConnection.setCheck(e.type):this.getInput("VALUE").connection.setCheck(e.type)}},t.Constants.VariablesDynamic.RENAME_OPTION_CALLBACK_FACTORY=function(e){return function(){var o=e.workspace,n=e.getField("VAR").getVariable();t.Variables.renameVariable(o,n)}},t.Constants.VariablesDynamic.DELETE_OPTION_CALLBACK_FACTORY=function(t){return function(){var e=t.workspace,o=t.getField("VAR").getVariable();e.deleteVariableById(o.getId()),e.refreshToolboxSelection()}},t.Extensions.registerMixin("contextMenu_variableDynamicSetterGetter",t.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),t.Blocks})?n.apply(e,r):n)||(t.exports=i)},6421:function(t,e,o){var n,r,i;r=[o(8256),o(9177),o(1003),o(5466)],void 0===(i="function"==typeof(n=function(t,e,o,n){"use strict";return t.setLocale(e),t.Blocks=t.Blocks||{},Object.keys(o).forEach((function(e){t.Blocks[e]=o[e]})),t.JavaScript=n,t})?n.apply(e,r):n)||(t.exports=i)},8256:function(t,e,o){var n,r,i;r=[o(8013)],void 0===(i="function"==typeof(n=function(t){"use strict";return t.setLocale=function(e){t.Msg=t.Msg||{},Object.keys(e).forEach((function(o){t.Msg[o]=e[o]}))},t})?n.apply(e,r):n)||(t.exports=i)},4948:function(t,e,o){var n,r,i;r=[o(6421)],void 0===(i="function"==typeof(n=function(t){"use strict";return t})?n.apply(e,r):n)||(t.exports=i)},5466:function(t,e,o){var n,r,i;r=[o(8256),o(9274)],void 0===(i="function"==typeof(n=function(t,e){"use strict";return t.JavaScript=e,e})?n.apply(e,r):n)||(t.exports=i)},9274:function(t,e,o){var n,r,i;r=[o(1334)],void 0===(i="function"==typeof(n=function(t){"use strict";return t.JavaScript=new t.Generator("JavaScript"),t.JavaScript.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(t.utils.global).join(",")),t.JavaScript.ORDER_ATOMIC=0,t.JavaScript.ORDER_NEW=1.1,t.JavaScript.ORDER_MEMBER=1.2,t.JavaScript.ORDER_FUNCTION_CALL=2,t.JavaScript.ORDER_INCREMENT=3,t.JavaScript.ORDER_DECREMENT=3,t.JavaScript.ORDER_BITWISE_NOT=4.1,t.JavaScript.ORDER_UNARY_PLUS=4.2,t.JavaScript.ORDER_UNARY_NEGATION=4.3,t.JavaScript.ORDER_LOGICAL_NOT=4.4,t.JavaScript.ORDER_TYPEOF=4.5,t.JavaScript.ORDER_VOID=4.6,t.JavaScript.ORDER_DELETE=4.7,t.JavaScript.ORDER_AWAIT=4.8,t.JavaScript.ORDER_EXPONENTIATION=5,t.JavaScript.ORDER_MULTIPLICATION=5.1,t.JavaScript.ORDER_DIVISION=5.2,t.JavaScript.ORDER_MODULUS=5.3,t.JavaScript.ORDER_SUBTRACTION=6.1,t.JavaScript.ORDER_ADDITION=6.2,t.JavaScript.ORDER_BITWISE_SHIFT=7,t.JavaScript.ORDER_RELATIONAL=8,t.JavaScript.ORDER_IN=8,t.JavaScript.ORDER_INSTANCEOF=8,t.JavaScript.ORDER_EQUALITY=9,t.JavaScript.ORDER_BITWISE_AND=10,t.JavaScript.ORDER_BITWISE_XOR=11,t.JavaScript.ORDER_BITWISE_OR=12,t.JavaScript.ORDER_LOGICAL_AND=13,t.JavaScript.ORDER_LOGICAL_OR=14,t.JavaScript.ORDER_CONDITIONAL=15,t.JavaScript.ORDER_ASSIGNMENT=16,t.JavaScript.ORDER_YIELD=17,t.JavaScript.ORDER_COMMA=18,t.JavaScript.ORDER_NONE=99,t.JavaScript.ORDER_OVERRIDES=[[t.JavaScript.ORDER_FUNCTION_CALL,t.JavaScript.ORDER_MEMBER],[t.JavaScript.ORDER_FUNCTION_CALL,t.JavaScript.ORDER_FUNCTION_CALL],[t.JavaScript.ORDER_MEMBER,t.JavaScript.ORDER_MEMBER],[t.JavaScript.ORDER_MEMBER,t.JavaScript.ORDER_FUNCTION_CALL],[t.JavaScript.ORDER_LOGICAL_NOT,t.JavaScript.ORDER_LOGICAL_NOT],[t.JavaScript.ORDER_MULTIPLICATION,t.JavaScript.ORDER_MULTIPLICATION],[t.JavaScript.ORDER_ADDITION,t.JavaScript.ORDER_ADDITION],[t.JavaScript.ORDER_LOGICAL_AND,t.JavaScript.ORDER_LOGICAL_AND],[t.JavaScript.ORDER_LOGICAL_OR,t.JavaScript.ORDER_LOGICAL_OR]],t.JavaScript.isInitialized=!1,t.JavaScript.init=function(e){t.JavaScript.definitions_=Object.create(null),t.JavaScript.functionNames_=Object.create(null),t.JavaScript.variableDB_?t.JavaScript.variableDB_.reset():t.JavaScript.variableDB_=new t.Names(t.JavaScript.RESERVED_WORDS_),t.JavaScript.variableDB_.setVariableMap(e.getVariableMap());for(var o=[],n=t.Variables.allDeveloperVariables(e),r=0;r<n.length;r++)o.push(t.JavaScript.variableDB_.getName(n[r],t.Names.DEVELOPER_VARIABLE_TYPE));for(e=t.Variables.allUsedVarModels(e),r=0;r<e.length;r++)o.push(t.JavaScript.variableDB_.getName(e[r].getId(),t.VARIABLE_CATEGORY_NAME));o.length&&(t.JavaScript.definitions_.variables="var "+o.join(", ")+";"),this.isInitialized=!0},t.JavaScript.finish=function(e){var o,n=[];for(o in t.JavaScript.definitions_)n.push(t.JavaScript.definitions_[o]);return delete t.JavaScript.definitions_,delete t.JavaScript.functionNames_,t.JavaScript.variableDB_.reset(),n.join("\n\n")+"\n\n\n"+e},t.JavaScript.scrubNakedValue=function(t){return t+";\n"},t.JavaScript.quote_=function(t){return"'"+(t=t.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"))+"'"},t.JavaScript.multiline_quote_=function(e){return e.split(/\n/g).map(t.JavaScript.quote_).join(" + '\\n' +\n")},t.JavaScript.scrub_=function(e,o,n){var r="";if(!e.outputConnection||!e.outputConnection.targetConnection){var i=e.getCommentText();i&&(i=t.utils.string.wrap(i,t.JavaScript.COMMENT_WRAP-3),r+=t.JavaScript.prefixLines(i+"\n","// "));for(var s=0;s<e.inputList.length;s++)e.inputList[s].type==t.inputTypes.VALUE&&(i=e.inputList[s].connection.targetBlock())&&(i=t.JavaScript.allNestedComments(i))&&(r+=t.JavaScript.prefixLines(i,"// "))}return e=e.nextConnection&&e.nextConnection.targetBlock(),r+o+(n=n?"":t.JavaScript.blockToCode(e))},t.JavaScript.getAdjusted=function(e,o,n,r,i){n=n||0,i=i||t.JavaScript.ORDER_NONE,e.workspace.options.oneBasedIndex&&n--;var s=e.workspace.options.oneBasedIndex?"1":"0";if(e=0<n?t.JavaScript.valueToCode(e,o,t.JavaScript.ORDER_ADDITION)||s:0>n?t.JavaScript.valueToCode(e,o,t.JavaScript.ORDER_SUBTRACTION)||s:r?t.JavaScript.valueToCode(e,o,t.JavaScript.ORDER_UNARY_NEGATION)||s:t.JavaScript.valueToCode(e,o,i)||s,t.isNumber(e))e=Number(e)+n,r&&(e=-e);else{if(0<n){e=e+" + "+n;var a=t.JavaScript.ORDER_ADDITION}else 0>n&&(e=e+" - "+-n,a=t.JavaScript.ORDER_SUBTRACTION);r&&(e=n?"-("+e+")":"-"+e,a=t.JavaScript.ORDER_UNARY_NEGATION),a=Math.floor(a),i=Math.floor(i),a&&i>=a&&(e="("+e+")")}return e},t.JavaScript.colour={},t.JavaScript.colour_picker=function(e){return[t.JavaScript.quote_(e.getFieldValue("COLOUR")),t.JavaScript.ORDER_ATOMIC]},t.JavaScript.colour_random=function(e){return[t.JavaScript.provideFunction_("colourRandom",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"() {","  var num = Math.floor(Math.random() * Math.pow(2, 24));","  return '#' + ('00000' + num.toString(16)).substr(-6);","}"])+"()",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.colour_rgb=function(e){var o=t.JavaScript.valueToCode(e,"RED",t.JavaScript.ORDER_NONE)||0,n=t.JavaScript.valueToCode(e,"GREEN",t.JavaScript.ORDER_NONE)||0;return e=t.JavaScript.valueToCode(e,"BLUE",t.JavaScript.ORDER_NONE)||0,[t.JavaScript.provideFunction_("colourRgb",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b) {","  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;","  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;","  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;","  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);","  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);","  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+o+", "+n+", "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.colour_blend=function(e){var o=t.JavaScript.valueToCode(e,"COLOUR1",t.JavaScript.ORDER_NONE)||"'#000000'",n=t.JavaScript.valueToCode(e,"COLOUR2",t.JavaScript.ORDER_NONE)||"'#000000'";return e=t.JavaScript.valueToCode(e,"RATIO",t.JavaScript.ORDER_NONE)||.5,[t.JavaScript.provideFunction_("colourBlend",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(c1, c2, ratio) {","  ratio = Math.max(Math.min(Number(ratio), 1), 0);","  var r1 = parseInt(c1.substring(1, 3), 16);","  var g1 = parseInt(c1.substring(3, 5), 16);","  var b1 = parseInt(c1.substring(5, 7), 16);","  var r2 = parseInt(c2.substring(1, 3), 16);","  var g2 = parseInt(c2.substring(3, 5), 16);","  var b2 = parseInt(c2.substring(5, 7), 16);","  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);","  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);","  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);","  r = ('0' + (r || 0).toString(16)).slice(-2);","  g = ('0' + (g || 0).toString(16)).slice(-2);","  b = ('0' + (b || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+o+", "+n+", "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists={},t.JavaScript.lists_create_empty=function(e){return["[]",t.JavaScript.ORDER_ATOMIC]},t.JavaScript.lists_create_with=function(e){for(var o=Array(e.itemCount_),n=0;n<e.itemCount_;n++)o[n]=t.JavaScript.valueToCode(e,"ADD"+n,t.JavaScript.ORDER_NONE)||"null";return["["+o.join(", ")+"]",t.JavaScript.ORDER_ATOMIC]},t.JavaScript.lists_repeat=function(e){return[t.JavaScript.provideFunction_("listsRepeat",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"])+"("+(t.JavaScript.valueToCode(e,"ITEM",t.JavaScript.ORDER_NONE)||"null")+", "+(e=t.JavaScript.valueToCode(e,"NUM",t.JavaScript.ORDER_NONE)||"0")+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists_length=function(e){return[(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"[]")+".length",t.JavaScript.ORDER_MEMBER]},t.JavaScript.lists_isEmpty=function(e){return["!"+(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"[]")+".length",t.JavaScript.ORDER_LOGICAL_NOT]},t.JavaScript.lists_indexOf=function(e){var o="FIRST"==e.getFieldValue("END")?"indexOf":"lastIndexOf",n=t.JavaScript.valueToCode(e,"FIND",t.JavaScript.ORDER_NONE)||"''";return o=(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"[]")+"."+o+"("+n+")",e.workspace.options.oneBasedIndex?[o+" + 1",t.JavaScript.ORDER_ADDITION]:[o,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists_getIndex=function(e){var o=e.getFieldValue("MODE")||"GET",n=e.getFieldValue("WHERE")||"FROM_START",r=t.JavaScript.valueToCode(e,"VALUE","RANDOM"==n?t.JavaScript.ORDER_NONE:t.JavaScript.ORDER_MEMBER)||"[]";switch(n){case"FIRST":if("GET"==o)return[r+"[0]",t.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==o)return[r+".shift()",t.JavaScript.ORDER_MEMBER];if("REMOVE"==o)return r+".shift();\n";break;case"LAST":if("GET"==o)return[r+".slice(-1)[0]",t.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==o)return[r+".pop()",t.JavaScript.ORDER_MEMBER];if("REMOVE"==o)return r+".pop();\n";break;case"FROM_START":if(e=t.JavaScript.getAdjusted(e,"AT"),"GET"==o)return[r+"["+e+"]",t.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==o)return[r+".splice("+e+", 1)[0]",t.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==o)return r+".splice("+e+", 1);\n";break;case"FROM_END":if(e=t.JavaScript.getAdjusted(e,"AT",1,!0),"GET"==o)return[r+".slice("+e+")[0]",t.JavaScript.ORDER_FUNCTION_CALL];if("GET_REMOVE"==o)return[r+".splice("+e+", 1)[0]",t.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==o)return r+".splice("+e+", 1);";break;case"RANDOM":if(r=t.JavaScript.provideFunction_("listsGetRandomItem",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];","  }","}"])+"("+r+", "+("GET"!=o)+")","GET"==o||"GET_REMOVE"==o)return[r,t.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==o)return r+";\n"}throw Error("Unhandled combination (lists_getIndex).")},t.JavaScript.lists_setIndex=function(e){function o(){if(n.match(/^\w+$/))return"";var e=t.JavaScript.variableDB_.getDistinctName("tmpList",t.VARIABLE_CATEGORY_NAME),o="var "+e+" = "+n+";\n";return n=e,o}var n=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_MEMBER)||"[]",r=e.getFieldValue("MODE")||"GET",i=e.getFieldValue("WHERE")||"FROM_START",s=t.JavaScript.valueToCode(e,"TO",t.JavaScript.ORDER_ASSIGNMENT)||"null";switch(i){case"FIRST":if("SET"==r)return n+"[0] = "+s+";\n";if("INSERT"==r)return n+".unshift("+s+");\n";break;case"LAST":if("SET"==r)return(e=o())+(n+"[")+n+".length - 1] = "+s+";\n";if("INSERT"==r)return n+".push("+s+");\n";break;case"FROM_START":if(i=t.JavaScript.getAdjusted(e,"AT"),"SET"==r)return n+"["+i+"] = "+s+";\n";if("INSERT"==r)return n+".splice("+i+", 0, "+s+");\n";break;case"FROM_END":if(i=t.JavaScript.getAdjusted(e,"AT",1,!1,t.JavaScript.ORDER_SUBTRACTION),e=o(),"SET"==r)return e+(n+"[")+n+".length - "+i+"] = "+s+";\n";if("INSERT"==r)return e+(n+".splice(")+n+".length - "+i+", 0, "+s+");\n";break;case"RANDOM":if(e=o(),e+="var "+(i=t.JavaScript.variableDB_.getDistinctName("tmpX",t.VARIABLE_CATEGORY_NAME))+" = Math.floor(Math.random() * "+n+".length);\n","SET"==r)return e+(n+"[")+i+"] = "+s+";\n";if("INSERT"==r)return e+(n+".splice(")+i+", 0, "+s+");\n"}throw Error("Unhandled combination (lists_setIndex).")},t.JavaScript.lists.getIndex_=function(t,e,o){return"FIRST"==e?"0":"FROM_END"==e?t+".length - 1 - "+o:"LAST"==e?t+".length - 1":o},t.JavaScript.lists_getSublist=function(e){var o=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_MEMBER)||"[]",n=e.getFieldValue("WHERE1"),r=e.getFieldValue("WHERE2");if("FIRST"==n&&"LAST"==r)o+=".slice(0)";else if(o.match(/^\w+$/)||"FROM_END"!=n&&"FROM_START"==r){switch(n){case"FROM_START":var i=t.JavaScript.getAdjusted(e,"AT1");break;case"FROM_END":i=o+".length - "+(i=t.JavaScript.getAdjusted(e,"AT1",1,!1,t.JavaScript.ORDER_SUBTRACTION));break;case"FIRST":i="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(r){case"FROM_START":e=t.JavaScript.getAdjusted(e,"AT2",1);break;case"FROM_END":e=o+".length - "+(e=t.JavaScript.getAdjusted(e,"AT2",0,!1,t.JavaScript.ORDER_SUBTRACTION));break;case"LAST":e=o+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}o=o+".slice("+i+", "+e+")"}else{i=t.JavaScript.getAdjusted(e,"AT1"),e=t.JavaScript.getAdjusted(e,"AT2");var s=t.JavaScript.lists.getIndex_,a={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};o=t.JavaScript.provideFunction_("subsequence"+a[n]+a[r],["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==n||"FROM_START"==n?", at1":"")+("FROM_END"==r||"FROM_START"==r?", at2":"")+") {","  var start = "+s("sequence",n,"at1")+";","  var end = "+s("sequence",r,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+o+("FROM_END"==n||"FROM_START"==n?", "+i:"")+("FROM_END"==r||"FROM_START"==r?", "+e:"")+")"}return[o,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists_sort=function(e){var o=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_FUNCTION_CALL)||"[]",n="1"===e.getFieldValue("DIRECTION")?1:-1;return e=e.getFieldValue("TYPE"),[o+".slice().sort("+t.JavaScript.provideFunction_("listsGetSortCompare",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return Number(a) - Number(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };","  var compare = compareFuncs[type];","  return function(a, b) { return compare(a, b) * direction; }","}"])+'("'+e+'", '+n+"))",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists_split=function(e){var o=t.JavaScript.valueToCode(e,"INPUT",t.JavaScript.ORDER_MEMBER),n=t.JavaScript.valueToCode(e,"DELIM",t.JavaScript.ORDER_NONE)||"''";if("SPLIT"==(e=e.getFieldValue("MODE")))o||(o="''"),e="split";else{if("JOIN"!=e)throw Error("Unknown mode: "+e);o||(o="[]"),e="join"}return[o+"."+e+"("+n+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists_reverse=function(e){return[(t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_FUNCTION_CALL)||"[]")+".slice().reverse()",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.logic={},t.JavaScript.controls_if=function(e){var o=0,n="";t.JavaScript.STATEMENT_PREFIX&&(n+=t.JavaScript.injectId(t.JavaScript.STATEMENT_PREFIX,e));do{var r=t.JavaScript.valueToCode(e,"IF"+o,t.JavaScript.ORDER_NONE)||"false",i=t.JavaScript.statementToCode(e,"DO"+o);t.JavaScript.STATEMENT_SUFFIX&&(i=t.JavaScript.prefixLines(t.JavaScript.injectId(t.JavaScript.STATEMENT_SUFFIX,e),t.JavaScript.INDENT)+i),n+=(0<o?" else ":"")+"if ("+r+") {\n"+i+"}",++o}while(e.getInput("IF"+o));return(e.getInput("ELSE")||t.JavaScript.STATEMENT_SUFFIX)&&(i=t.JavaScript.statementToCode(e,"ELSE"),t.JavaScript.STATEMENT_SUFFIX&&(i=t.JavaScript.prefixLines(t.JavaScript.injectId(t.JavaScript.STATEMENT_SUFFIX,e),t.JavaScript.INDENT)+i),n+=" else {\n"+i+"}"),n+"\n"},t.JavaScript.controls_ifelse=t.JavaScript.controls_if,t.JavaScript.logic_compare=function(e){var o={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[e.getFieldValue("OP")],n="=="==o||"!="==o?t.JavaScript.ORDER_EQUALITY:t.JavaScript.ORDER_RELATIONAL;return[(t.JavaScript.valueToCode(e,"A",n)||"0")+" "+o+" "+(e=t.JavaScript.valueToCode(e,"B",n)||"0"),n]},t.JavaScript.logic_operation=function(e){var o="AND"==e.getFieldValue("OP")?"&&":"||",n="&&"==o?t.JavaScript.ORDER_LOGICAL_AND:t.JavaScript.ORDER_LOGICAL_OR,r=t.JavaScript.valueToCode(e,"A",n);if(e=t.JavaScript.valueToCode(e,"B",n),r||e){var i="&&"==o?"true":"false";r||(r=i),e||(e=i)}else e=r="false";return[r+" "+o+" "+e,n]},t.JavaScript.logic_negate=function(e){var o=t.JavaScript.ORDER_LOGICAL_NOT;return["!"+(t.JavaScript.valueToCode(e,"BOOL",o)||"true"),o]},t.JavaScript.logic_boolean=function(e){return["TRUE"==e.getFieldValue("BOOL")?"true":"false",t.JavaScript.ORDER_ATOMIC]},t.JavaScript.logic_null=function(e){return["null",t.JavaScript.ORDER_ATOMIC]},t.JavaScript.logic_ternary=function(e){return[(t.JavaScript.valueToCode(e,"IF",t.JavaScript.ORDER_CONDITIONAL)||"false")+" ? "+(t.JavaScript.valueToCode(e,"THEN",t.JavaScript.ORDER_CONDITIONAL)||"null")+" : "+(e=t.JavaScript.valueToCode(e,"ELSE",t.JavaScript.ORDER_CONDITIONAL)||"null"),t.JavaScript.ORDER_CONDITIONAL]},t.JavaScript.loops={},t.JavaScript.controls_repeat_ext=function(e){var o=e.getField("TIMES")?String(Number(e.getFieldValue("TIMES"))):t.JavaScript.valueToCode(e,"TIMES",t.JavaScript.ORDER_ASSIGNMENT)||"0",n=t.JavaScript.statementToCode(e,"DO");n=t.JavaScript.addLoopTrap(n,e),e="";var r=t.JavaScript.variableDB_.getDistinctName("count",t.VARIABLE_CATEGORY_NAME),i=o;return o.match(/^\w+$/)||t.isNumber(o)||(e+="var "+(i=t.JavaScript.variableDB_.getDistinctName("repeat_end",t.VARIABLE_CATEGORY_NAME))+" = "+o+";\n"),e+"for (var "+r+" = 0; "+r+" < "+i+"; "+r+"++) {\n"+n+"}\n"},t.JavaScript.controls_repeat=t.JavaScript.controls_repeat_ext,t.JavaScript.controls_whileUntil=function(e){var o="UNTIL"==e.getFieldValue("MODE"),n=t.JavaScript.valueToCode(e,"BOOL",o?t.JavaScript.ORDER_LOGICAL_NOT:t.JavaScript.ORDER_NONE)||"false",r=t.JavaScript.statementToCode(e,"DO");return o&&(n="!"+n),"while ("+n+") {\n"+(r=t.JavaScript.addLoopTrap(r,e))+"}\n"},t.JavaScript.controls_for=function(e){var o=t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.VARIABLE_CATEGORY_NAME),n=t.JavaScript.valueToCode(e,"FROM",t.JavaScript.ORDER_ASSIGNMENT)||"0",r=t.JavaScript.valueToCode(e,"TO",t.JavaScript.ORDER_ASSIGNMENT)||"0",i=t.JavaScript.valueToCode(e,"BY",t.JavaScript.ORDER_ASSIGNMENT)||"1",s=t.JavaScript.statementToCode(e,"DO");if(s=t.JavaScript.addLoopTrap(s,e),t.isNumber(n)&&t.isNumber(r)&&t.isNumber(i)){var a=Number(n)<=Number(r);e="for ("+o+" = "+n+"; "+o+(a?" <= ":" >= ")+r+"; "+o,e=(1==(o=Math.abs(Number(i)))?e+(a?"++":"--"):e+(a?" += ":" -= ")+o)+") {\n"+s+"}\n"}else e="",a=n,n.match(/^\w+$/)||t.isNumber(n)||(e+="var "+(a=t.JavaScript.variableDB_.getDistinctName(o+"_start",t.VARIABLE_CATEGORY_NAME))+" = "+n+";\n"),n=r,r.match(/^\w+$/)||t.isNumber(r)||(e+="var "+(n=t.JavaScript.variableDB_.getDistinctName(o+"_end",t.VARIABLE_CATEGORY_NAME))+" = "+r+";\n"),e+="var "+(r=t.JavaScript.variableDB_.getDistinctName(o+"_inc",t.VARIABLE_CATEGORY_NAME))+" = ",e=(e=t.isNumber(i)?e+(Math.abs(i)+";\n"):e+"Math.abs("+i+");\n")+"if ("+a+" > "+n+") {\n"+(t.JavaScript.INDENT+r)+" = -"+r+";\n",e+="}\n",e+="for ("+o+" = "+a+"; "+r+" >= 0 ? "+o+" <= "+n+" : "+o+" >= "+n+"; "+o+" += "+r+") {\n"+s+"}\n";return e},t.JavaScript.controls_forEach=function(e){var o=t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.VARIABLE_CATEGORY_NAME),n=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_ASSIGNMENT)||"[]",r=t.JavaScript.statementToCode(e,"DO");r=t.JavaScript.addLoopTrap(r,e),e="";var i=n;return n.match(/^\w+$/)||(e+="var "+(i=t.JavaScript.variableDB_.getDistinctName(o+"_list",t.VARIABLE_CATEGORY_NAME))+" = "+n+";\n"),e+"for (var "+(n=t.JavaScript.variableDB_.getDistinctName(o+"_index",t.VARIABLE_CATEGORY_NAME))+" in "+i+") {\n"+(r=t.JavaScript.INDENT+o+" = "+i+"["+n+"];\n"+r)+"}\n"},t.JavaScript.controls_flow_statements=function(e){var o="";if(t.JavaScript.STATEMENT_PREFIX&&(o+=t.JavaScript.injectId(t.JavaScript.STATEMENT_PREFIX,e)),t.JavaScript.STATEMENT_SUFFIX&&(o+=t.JavaScript.injectId(t.JavaScript.STATEMENT_SUFFIX,e)),t.JavaScript.STATEMENT_PREFIX){var n=t.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(e);n&&!n.suppressPrefixSuffix&&(o+=t.JavaScript.injectId(t.JavaScript.STATEMENT_PREFIX,n))}switch(e.getFieldValue("FLOW")){case"BREAK":return o+"break;\n";case"CONTINUE":return o+"continue;\n"}throw Error("Unknown flow statement.")},t.JavaScript.math={},t.JavaScript.math_number=function(e){return[e=Number(e.getFieldValue("NUM")),0<=e?t.JavaScript.ORDER_ATOMIC:t.JavaScript.ORDER_UNARY_NEGATION]},t.JavaScript.math_arithmetic=function(e){var o={ADD:[" + ",t.JavaScript.ORDER_ADDITION],MINUS:[" - ",t.JavaScript.ORDER_SUBTRACTION],MULTIPLY:[" * ",t.JavaScript.ORDER_MULTIPLICATION],DIVIDE:[" / ",t.JavaScript.ORDER_DIVISION],POWER:[null,t.JavaScript.ORDER_NONE]}[e.getFieldValue("OP")],n=o[0];o=o[1];var r=t.JavaScript.valueToCode(e,"A",o)||"0";return e=t.JavaScript.valueToCode(e,"B",o)||"0",n?[r+n+e,o]:["Math.pow("+r+", "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.math_single=function(e){var o=e.getFieldValue("OP");if("NEG"==o)return"-"==(e=t.JavaScript.valueToCode(e,"NUM",t.JavaScript.ORDER_UNARY_NEGATION)||"0")[0]&&(e=" "+e),["-"+e,t.JavaScript.ORDER_UNARY_NEGATION];switch(e="SIN"==o||"COS"==o||"TAN"==o?t.JavaScript.valueToCode(e,"NUM",t.JavaScript.ORDER_DIVISION)||"0":t.JavaScript.valueToCode(e,"NUM",t.JavaScript.ORDER_NONE)||"0",o){case"ABS":var n="Math.abs("+e+")";break;case"ROOT":n="Math.sqrt("+e+")";break;case"LN":n="Math.log("+e+")";break;case"EXP":n="Math.exp("+e+")";break;case"POW10":n="Math.pow(10,"+e+")";break;case"ROUND":n="Math.round("+e+")";break;case"ROUNDUP":n="Math.ceil("+e+")";break;case"ROUNDDOWN":n="Math.floor("+e+")";break;case"SIN":n="Math.sin("+e+" / 180 * Math.PI)";break;case"COS":n="Math.cos("+e+" / 180 * Math.PI)";break;case"TAN":n="Math.tan("+e+" / 180 * Math.PI)"}if(n)return[n,t.JavaScript.ORDER_FUNCTION_CALL];switch(o){case"LOG10":n="Math.log("+e+") / Math.log(10)";break;case"ASIN":n="Math.asin("+e+") / Math.PI * 180";break;case"ACOS":n="Math.acos("+e+") / Math.PI * 180";break;case"ATAN":n="Math.atan("+e+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+o)}return[n,t.JavaScript.ORDER_DIVISION]},t.JavaScript.math_constant=function(e){return{PI:["Math.PI",t.JavaScript.ORDER_MEMBER],E:["Math.E",t.JavaScript.ORDER_MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",t.JavaScript.ORDER_DIVISION],SQRT2:["Math.SQRT2",t.JavaScript.ORDER_MEMBER],SQRT1_2:["Math.SQRT1_2",t.JavaScript.ORDER_MEMBER],INFINITY:["Infinity",t.JavaScript.ORDER_ATOMIC]}[e.getFieldValue("CONSTANT")]},t.JavaScript.math_number_property=function(e){var o=t.JavaScript.valueToCode(e,"NUMBER_TO_CHECK",t.JavaScript.ORDER_MODULUS)||"0",n=e.getFieldValue("PROPERTY");if("PRIME"==n)return[t.JavaScript.provideFunction_("mathIsPrime",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+o+")",t.JavaScript.ORDER_FUNCTION_CALL];switch(n){case"EVEN":var r=o+" % 2 == 0";break;case"ODD":r=o+" % 2 == 1";break;case"WHOLE":r=o+" % 1 == 0";break;case"POSITIVE":r=o+" > 0";break;case"NEGATIVE":r=o+" < 0";break;case"DIVISIBLE_BY":r=o+" % "+(e=t.JavaScript.valueToCode(e,"DIVISOR",t.JavaScript.ORDER_MODULUS)||"0")+" == 0"}return[r,t.JavaScript.ORDER_EQUALITY]},t.JavaScript.math_change=function(e){var o=t.JavaScript.valueToCode(e,"DELTA",t.JavaScript.ORDER_ADDITION)||"0";return(e=t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.VARIABLE_CATEGORY_NAME))+" = (typeof "+e+" == 'number' ? "+e+" : 0) + "+o+";\n"},t.JavaScript.math_round=t.JavaScript.math_single,t.JavaScript.math_trig=t.JavaScript.math_single,t.JavaScript.math_on_list=function(e){var o=e.getFieldValue("OP");switch(o){case"SUM":e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_MEMBER)||"[]",e+=".reduce(function(x, y) {return x + y;})";break;case"MIN":e="Math.min.apply(null, "+(e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]")+")";break;case"MAX":e="Math.max.apply(null, "+(e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]")+")";break;case"AVERAGE":e=(o=t.JavaScript.provideFunction_("mathMean",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]))+"("+(e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]")+")";break;case"MEDIAN":e=(o=t.JavaScript.provideFunction_("mathMedian",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]))+"("+(e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]")+")";break;case"MODE":e=(o=t.JavaScript.provideFunction_("mathModes",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(values) {","  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);","  }","  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]))+"("+(e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]")+")";break;case"STD_DEV":e=(o=t.JavaScript.provideFunction_("mathStandardDeviation",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);","  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]))+"("+(e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]")+")";break;case"RANDOM":e=(o=t.JavaScript.provideFunction_("mathRandomList",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]))+"("+(e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]")+")";break;default:throw Error("Unknown operator: "+o)}return[e,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.math_modulo=function(e){return[(t.JavaScript.valueToCode(e,"DIVIDEND",t.JavaScript.ORDER_MODULUS)||"0")+" % "+(e=t.JavaScript.valueToCode(e,"DIVISOR",t.JavaScript.ORDER_MODULUS)||"0"),t.JavaScript.ORDER_MODULUS]},t.JavaScript.math_constrain=function(e){return["Math.min(Math.max("+(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_NONE)||"0")+", "+(t.JavaScript.valueToCode(e,"LOW",t.JavaScript.ORDER_NONE)||"0")+"), "+(e=t.JavaScript.valueToCode(e,"HIGH",t.JavaScript.ORDER_NONE)||"Infinity")+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.math_random_int=function(e){var o=t.JavaScript.valueToCode(e,"FROM",t.JavaScript.ORDER_NONE)||"0";return e=t.JavaScript.valueToCode(e,"TO",t.JavaScript.ORDER_NONE)||"0",[t.JavaScript.provideFunction_("mathRandomInt",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+o+", "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.math_random_float=function(e){return["Math.random()",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.math_atan2=function(e){var o=t.JavaScript.valueToCode(e,"X",t.JavaScript.ORDER_NONE)||"0";return["Math.atan2("+(t.JavaScript.valueToCode(e,"Y",t.JavaScript.ORDER_NONE)||"0")+", "+o+") / Math.PI * 180",t.JavaScript.ORDER_DIVISION]},t.JavaScript.procedures={},t.JavaScript.procedures_defreturn=function(e){var o=t.JavaScript.variableDB_.getName(e.getFieldValue("NAME"),t.PROCEDURE_CATEGORY_NAME),n="";t.JavaScript.STATEMENT_PREFIX&&(n+=t.JavaScript.injectId(t.JavaScript.STATEMENT_PREFIX,e)),t.JavaScript.STATEMENT_SUFFIX&&(n+=t.JavaScript.injectId(t.JavaScript.STATEMENT_SUFFIX,e)),n&&(n=t.JavaScript.prefixLines(n,t.JavaScript.INDENT));var r="";t.JavaScript.INFINITE_LOOP_TRAP&&(r=t.JavaScript.prefixLines(t.JavaScript.injectId(t.JavaScript.INFINITE_LOOP_TRAP,e),t.JavaScript.INDENT));var i=t.JavaScript.statementToCode(e,"STACK"),s=t.JavaScript.valueToCode(e,"RETURN",t.JavaScript.ORDER_NONE)||"",a="";i&&s&&(a=n),s&&(s=t.JavaScript.INDENT+"return "+s+";\n");for(var l=[],c=e.getVars(),u=0;u<c.length;u++)l[u]=t.JavaScript.variableDB_.getName(c[u],t.VARIABLE_CATEGORY_NAME);return n="function "+o+"("+l.join(", ")+") {\n"+n+r+i+a+s+"}",n=t.JavaScript.scrub_(e,n),t.JavaScript.definitions_["%"+o]=n,null},t.JavaScript.procedures_defnoreturn=t.JavaScript.procedures_defreturn,t.JavaScript.procedures_callreturn=function(e){for(var o=t.JavaScript.variableDB_.getName(e.getFieldValue("NAME"),t.PROCEDURE_CATEGORY_NAME),n=[],r=e.getVars(),i=0;i<r.length;i++)n[i]=t.JavaScript.valueToCode(e,"ARG"+i,t.JavaScript.ORDER_NONE)||"null";return[o+"("+n.join(", ")+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.procedures_callnoreturn=function(e){return t.JavaScript.procedures_callreturn(e)[0]+";\n"},t.JavaScript.procedures_ifreturn=function(e){var o="if ("+(t.JavaScript.valueToCode(e,"CONDITION",t.JavaScript.ORDER_NONE)||"false")+") {\n";return t.JavaScript.STATEMENT_SUFFIX&&(o+=t.JavaScript.prefixLines(t.JavaScript.injectId(t.JavaScript.STATEMENT_SUFFIX,e),t.JavaScript.INDENT)),e.hasReturnValue_?(e=t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_NONE)||"null",o+=t.JavaScript.INDENT+"return "+e+";\n"):o+=t.JavaScript.INDENT+"return;\n",o+"}\n"},t.JavaScript.texts={},t.JavaScript.text=function(e){return[t.JavaScript.quote_(e.getFieldValue("TEXT")),t.JavaScript.ORDER_ATOMIC]},t.JavaScript.text_multiline=function(e){var o=-1!=(e=t.JavaScript.multiline_quote_(e.getFieldValue("TEXT"))).indexOf("+")?t.JavaScript.ORDER_ADDITION:t.JavaScript.ORDER_ATOMIC;return[e,o]},t.JavaScript.text.forceString_=function(e){return t.JavaScript.text.forceString_.strRegExp.test(e)?[e,t.JavaScript.ORDER_ATOMIC]:["String("+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text.forceString_.strRegExp=/^\s*'([^']|\\')*'\s*$/,t.JavaScript.text_join=function(e){switch(e.itemCount_){case 0:return["''",t.JavaScript.ORDER_ATOMIC];case 1:return e=t.JavaScript.valueToCode(e,"ADD0",t.JavaScript.ORDER_NONE)||"''",t.JavaScript.text.forceString_(e);case 2:var o=t.JavaScript.valueToCode(e,"ADD0",t.JavaScript.ORDER_NONE)||"''";return e=t.JavaScript.valueToCode(e,"ADD1",t.JavaScript.ORDER_NONE)||"''",[e=t.JavaScript.text.forceString_(o)[0]+" + "+t.JavaScript.text.forceString_(e)[0],t.JavaScript.ORDER_ADDITION];default:o=Array(e.itemCount_);for(var n=0;n<e.itemCount_;n++)o[n]=t.JavaScript.valueToCode(e,"ADD"+n,t.JavaScript.ORDER_NONE)||"''";return[e="["+o.join(",")+"].join('')",t.JavaScript.ORDER_FUNCTION_CALL]}},t.JavaScript.text_append=function(e){var o=t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.VARIABLE_CATEGORY_NAME);return e=t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_NONE)||"''",o+" += "+t.JavaScript.text.forceString_(e)[0]+";\n"},t.JavaScript.text_length=function(e){return[(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"''")+".length",t.JavaScript.ORDER_MEMBER]},t.JavaScript.text_isEmpty=function(e){return["!"+(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"''")+".length",t.JavaScript.ORDER_LOGICAL_NOT]},t.JavaScript.text_indexOf=function(e){var o="FIRST"==e.getFieldValue("END")?"indexOf":"lastIndexOf",n=t.JavaScript.valueToCode(e,"FIND",t.JavaScript.ORDER_NONE)||"''";return o=(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"''")+"."+o+"("+n+")",e.workspace.options.oneBasedIndex?[o+" + 1",t.JavaScript.ORDER_ADDITION]:[o,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_charAt=function(e){var o=e.getFieldValue("WHERE")||"FROM_START",n=t.JavaScript.valueToCode(e,"VALUE","RANDOM"==o?t.JavaScript.ORDER_NONE:t.JavaScript.ORDER_MEMBER)||"''";switch(o){case"FIRST":return[n+".charAt(0)",t.JavaScript.ORDER_FUNCTION_CALL];case"LAST":return[n+".slice(-1)",t.JavaScript.ORDER_FUNCTION_CALL];case"FROM_START":return[n+".charAt("+(e=t.JavaScript.getAdjusted(e,"AT"))+")",t.JavaScript.ORDER_FUNCTION_CALL];case"FROM_END":return[n+".slice("+(e=t.JavaScript.getAdjusted(e,"AT",1,!0))+").charAt(0)",t.JavaScript.ORDER_FUNCTION_CALL];case"RANDOM":return[t.JavaScript.provideFunction_("textRandomLetter",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(text) {","  var x = Math.floor(Math.random() * text.length);","  return text[x];","}"])+"("+n+")",t.JavaScript.ORDER_FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},t.JavaScript.text.getIndex_=function(t,e,o){return"FIRST"==e?"0":"FROM_END"==e?t+".length - 1 - "+o:"LAST"==e?t+".length - 1":o},t.JavaScript.text_getSubstring=function(e){var o=e.getFieldValue("WHERE1"),n=e.getFieldValue("WHERE2"),r="FROM_END"!=o&&"LAST"!=o&&"FROM_END"!=n&&"LAST"!=n,i=t.JavaScript.valueToCode(e,"STRING",r?t.JavaScript.ORDER_MEMBER:t.JavaScript.ORDER_NONE)||"''";if("FIRST"==o&&"LAST"==n)return[i,t.JavaScript.ORDER_NONE];if(i.match(/^'?\w+'?$/)||r){switch(o){case"FROM_START":r=t.JavaScript.getAdjusted(e,"AT1");break;case"FROM_END":r=i+".length - "+(r=t.JavaScript.getAdjusted(e,"AT1",1,!1,t.JavaScript.ORDER_SUBTRACTION));break;case"FIRST":r="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(n){case"FROM_START":e=t.JavaScript.getAdjusted(e,"AT2",1);break;case"FROM_END":e=i+".length - "+(e=t.JavaScript.getAdjusted(e,"AT2",0,!1,t.JavaScript.ORDER_SUBTRACTION));break;case"LAST":e=i+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}o=i+".slice("+r+", "+e+")"}else{r=t.JavaScript.getAdjusted(e,"AT1"),e=t.JavaScript.getAdjusted(e,"AT2");var s=t.JavaScript.text.getIndex_,a={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};o=t.JavaScript.provideFunction_("subsequence"+a[o]+a[n],["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==o||"FROM_START"==o?", at1":"")+("FROM_END"==n||"FROM_START"==n?", at2":"")+") {","  var start = "+s("sequence",o,"at1")+";","  var end = "+s("sequence",n,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+i+("FROM_END"==o||"FROM_START"==o?", "+r:"")+("FROM_END"==n||"FROM_START"==n?", "+e:"")+")"}return[o,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_changeCase=function(e){var o={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[e.getFieldValue("CASE")];return e=t.JavaScript.valueToCode(e,"TEXT",o?t.JavaScript.ORDER_MEMBER:t.JavaScript.ORDER_NONE)||"''",[o?e+o:t.JavaScript.provideFunction_("textToTitleCase",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(str) {","  return str.replace(/\\S+/g,","      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});","}"])+"("+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_trim=function(e){var o={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[e.getFieldValue("MODE")];return[(t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_MEMBER)||"''")+o,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_print=function(e){return"window.alert("+(t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_NONE)||"''")+");\n"},t.JavaScript.text_prompt_ext=function(e){var o="window.prompt("+(e.getField("TEXT")?t.JavaScript.quote_(e.getFieldValue("TEXT")):t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_NONE)||"''")+")";return"NUMBER"==e.getFieldValue("TYPE")&&(o="Number("+o+")"),[o,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_prompt=t.JavaScript.text_prompt_ext,t.JavaScript.text_count=function(e){var o=t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_NONE)||"''";return e=t.JavaScript.valueToCode(e,"SUB",t.JavaScript.ORDER_NONE)||"''",[t.JavaScript.provideFunction_("textCount",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle) {","  if (needle.length === 0) {","    return haystack.length + 1;","  } else {","    return haystack.split(needle).length - 1;","  }","}"])+"("+o+", "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_replace=function(e){var o=t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_NONE)||"''",n=t.JavaScript.valueToCode(e,"FROM",t.JavaScript.ORDER_NONE)||"''";return e=t.JavaScript.valueToCode(e,"TO",t.JavaScript.ORDER_NONE)||"''",[t.JavaScript.provideFunction_("textReplace",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle, replacement) {",'  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,"\\\\$1")','                 .replace(/\\x08/g,"\\\\x08");',"  return haystack.replace(new RegExp(needle, 'g'), replacement);","}"])+"("+o+", "+n+", "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_reverse=function(e){return[(t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_MEMBER)||"''")+".split('').reverse().join('')",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.variables={},t.JavaScript.variables_get=function(e){return[t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.VARIABLE_CATEGORY_NAME),t.JavaScript.ORDER_ATOMIC]},t.JavaScript.variables_set=function(e){var o=t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_ASSIGNMENT)||"0";return t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.VARIABLE_CATEGORY_NAME)+" = "+o+";\n"},t.JavaScript.variablesDynamic={},t.JavaScript.variables_get_dynamic=t.JavaScript.variables_get,t.JavaScript.variables_set_dynamic=t.JavaScript.variables_set,t.JavaScript})?n.apply(e,r):n)||(t.exports=i)},9177:function(t,e,o){var n,r,i;r=[o(8256)],void 0===(i="function"==typeof(n=function(t){return(t={Msg:{}}).Msg.ADD_COMMENT="Add Comment",t.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",t.Msg.CHANGE_VALUE_TITLE="Change value:",t.Msg.CLEAN_UP="Clean up Blocks",t.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",t.Msg.COLLAPSE_ALL="Collapse Blocks",t.Msg.COLLAPSE_BLOCK="Collapse Block",t.Msg.COLOUR_BLEND_COLOUR1="colour 1",t.Msg.COLOUR_BLEND_COLOUR2="colour 2",t.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",t.Msg.COLOUR_BLEND_RATIO="ratio",t.Msg.COLOUR_BLEND_TITLE="blend",t.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",t.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",t.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",t.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",t.Msg.COLOUR_RANDOM_TITLE="random colour",t.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",t.Msg.COLOUR_RGB_BLUE="blue",t.Msg.COLOUR_RGB_GREEN="green",t.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",t.Msg.COLOUR_RGB_RED="red",t.Msg.COLOUR_RGB_TITLE="colour with",t.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",t.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",t.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",t.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",t.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",t.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",t.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",t.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",t.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",t.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",t.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",t.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",t.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",t.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",t.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",t.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",t.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",t.Msg.CONTROLS_IF_MSG_ELSE="else",t.Msg.CONTROLS_IF_MSG_ELSEIF="else if",t.Msg.CONTROLS_IF_MSG_IF="if",t.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",t.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",t.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",t.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",t.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",t.Msg.CONTROLS_REPEAT_INPUT_DO="do",t.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",t.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",t.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",t.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",t.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",t.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",t.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",t.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",t.Msg.DELETE_BLOCK="Delete Block",t.Msg.DELETE_VARIABLE="Delete the '%1' variable",t.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",t.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",t.Msg.DISABLE_BLOCK="Disable Block",t.Msg.DUPLICATE_BLOCK="Duplicate",t.Msg.DUPLICATE_COMMENT="Duplicate Comment",t.Msg.ENABLE_BLOCK="Enable Block",t.Msg.EXPAND_ALL="Expand Blocks",t.Msg.EXPAND_BLOCK="Expand Block",t.Msg.EXTERNAL_INPUTS="External Inputs",t.Msg.HELP="Help",t.Msg.INLINE_INPUTS="Inline Inputs",t.Msg.IOS_CANCEL="Cancel",t.Msg.IOS_ERROR="Error",t.Msg.IOS_OK="OK",t.Msg.IOS_PROCEDURES_ADD_INPUT="+ Add Input",t.Msg.IOS_PROCEDURES_ALLOW_STATEMENTS="Allow statements",t.Msg.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="This function has duplicate inputs.",t.Msg.IOS_PROCEDURES_INPUTS="INPUTS",t.Msg.IOS_VARIABLES_ADD_BUTTON="Add",t.Msg.IOS_VARIABLES_ADD_VARIABLE="+ Add Variable",t.Msg.IOS_VARIABLES_DELETE_BUTTON="Delete",t.Msg.IOS_VARIABLES_EMPTY_NAME_ERROR="You can't use an empty variable name.",t.Msg.IOS_VARIABLES_RENAME_BUTTON="Rename",t.Msg.IOS_VARIABLES_VARIABLE_NAME="Variable name",t.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",t.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",t.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",t.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",t.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",t.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",t.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",t.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",t.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",t.Msg.LISTS_GET_INDEX_FIRST="first",t.Msg.LISTS_GET_INDEX_FROM_END="# from end",t.Msg.LISTS_GET_INDEX_FROM_START="#",t.Msg.LISTS_GET_INDEX_GET="get",t.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",t.Msg.LISTS_GET_INDEX_LAST="last",t.Msg.LISTS_GET_INDEX_RANDOM="random",t.Msg.LISTS_GET_INDEX_REMOVE="remove",t.Msg.LISTS_GET_INDEX_TAIL="",t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",t.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",t.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",t.Msg.LISTS_GET_SUBLIST_END_LAST="to last",t.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",t.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",t.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",t.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",t.Msg.LISTS_GET_SUBLIST_TAIL="",t.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",t.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",t.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",t.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",t.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",t.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",t.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",t.Msg.LISTS_INLIST="in list",t.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",t.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",t.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",t.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",t.Msg.LISTS_LENGTH_TITLE="length of %1",t.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",t.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",t.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",t.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",t.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",t.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",t.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",t.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",t.Msg.LISTS_SET_INDEX_INPUT_TO="as",t.Msg.LISTS_SET_INDEX_INSERT="insert at",t.Msg.LISTS_SET_INDEX_SET="set",t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",t.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",t.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",t.Msg.LISTS_SORT_ORDER_DESCENDING="descending",t.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",t.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",t.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",t.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",t.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",t.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",t.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",t.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",t.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",t.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",t.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",t.Msg.LOGIC_BOOLEAN_FALSE="false",t.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",t.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",t.Msg.LOGIC_BOOLEAN_TRUE="true",t.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",t.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",t.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",t.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",t.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",t.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",t.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",t.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",t.Msg.LOGIC_NEGATE_TITLE="not %1",t.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",t.Msg.LOGIC_NULL="null",t.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",t.Msg.LOGIC_NULL_TOOLTIP="Returns null.",t.Msg.LOGIC_OPERATION_AND="and",t.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",t.Msg.LOGIC_OPERATION_OR="or",t.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",t.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",t.Msg.LOGIC_TERNARY_CONDITION="test",t.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",t.Msg.LOGIC_TERNARY_IF_FALSE="if false",t.Msg.LOGIC_TERNARY_IF_TRUE="if true",t.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",t.Msg.MATH_ADDITION_SYMBOL="+",t.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",t.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",t.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",t.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",t.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",t.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",t.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",t.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",t.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",t.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",t.Msg.MATH_CHANGE_TITLE="change %1 by %2",t.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",t.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",t.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants: π (3.141…), e (2.718…), φ (1.618…), sqrt(2) (1.414…), sqrt(½) (0.707…), or ∞ (infinity).",t.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",t.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",t.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",t.Msg.MATH_DIVISION_SYMBOL="÷",t.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",t.Msg.MATH_IS_EVEN="is even",t.Msg.MATH_IS_NEGATIVE="is negative",t.Msg.MATH_IS_ODD="is odd",t.Msg.MATH_IS_POSITIVE="is positive",t.Msg.MATH_IS_PRIME="is prime",t.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",t.Msg.MATH_IS_WHOLE="is whole",t.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",t.Msg.MATH_MODULO_TITLE="remainder of %1 ÷ %2",t.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",t.Msg.MATH_MULTIPLICATION_SYMBOL="×",t.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",t.Msg.MATH_NUMBER_TOOLTIP="A number.",t.Msg.MATH_ONLIST_HELPURL="",t.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",t.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",t.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",t.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",t.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",t.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",t.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",t.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",t.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",t.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",t.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",t.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",t.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",t.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",t.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",t.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",t.Msg.MATH_POWER_SYMBOL="^",t.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",t.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",t.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",t.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",t.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",t.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",t.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",t.Msg.MATH_ROUND_OPERATOR_ROUND="round",t.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",t.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",t.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",t.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",t.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",t.Msg.MATH_SINGLE_OP_ROOT="square root",t.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",t.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",t.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",t.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",t.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",t.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",t.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",t.Msg.MATH_SUBTRACTION_SYMBOL="-",t.Msg.MATH_TRIG_ACOS="acos",t.Msg.MATH_TRIG_ASIN="asin",t.Msg.MATH_TRIG_ATAN="atan",t.Msg.MATH_TRIG_COS="cos",t.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",t.Msg.MATH_TRIG_SIN="sin",t.Msg.MATH_TRIG_TAN="tan",t.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",t.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",t.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",t.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",t.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",t.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",t.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",t.Msg.NEW_NUMBER_VARIABLE="Create number variable...",t.Msg.NEW_STRING_VARIABLE="Create string variable...",t.Msg.NEW_VARIABLE="Create variable...",t.Msg.NEW_VARIABLE_TITLE="New variable name:",t.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",t.Msg.ORDINAL_NUMBER_SUFFIX="",t.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",t.Msg.PROCEDURES_BEFORE_PARAMS="with:",t.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",t.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",t.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",t.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",t.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",t.Msg.PROCEDURES_CREATE_DO="Create '%1'",t.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",t.Msg.PROCEDURES_DEFNORETURN_DO="",t.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",t.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",t.Msg.PROCEDURES_DEFNORETURN_TITLE="to",t.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",t.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",t.Msg.PROCEDURES_DEFRETURN_RETURN="return",t.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",t.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",t.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",t.Msg.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",t.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",t.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",t.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",t.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",t.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",t.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",t.Msg.REDO="Redo",t.Msg.REMOVE_COMMENT="Remove Comment",t.Msg.RENAME_VARIABLE="Rename variable...",t.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",t.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",t.Msg.TEXT_APPEND_TITLE="to %1 append text %2",t.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",t.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",t.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",t.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",t.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",t.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",t.Msg.TEXT_CHARAT_FIRST="get first letter",t.Msg.TEXT_CHARAT_FROM_END="get letter # from end",t.Msg.TEXT_CHARAT_FROM_START="get letter #",t.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",t.Msg.TEXT_CHARAT_LAST="get last letter",t.Msg.TEXT_CHARAT_RANDOM="get random letter",t.Msg.TEXT_CHARAT_TAIL="",t.Msg.TEXT_CHARAT_TITLE="in text %1 %2",t.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",t.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",t.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",t.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",t.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",t.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",t.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",t.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",t.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",t.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",t.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",t.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",t.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",t.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",t.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",t.Msg.TEXT_GET_SUBSTRING_TAIL="",t.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",t.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",t.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",t.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",t.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",t.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",t.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",t.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",t.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",t.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",t.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",t.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",t.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",t.Msg.TEXT_LENGTH_TITLE="length of %1",t.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",t.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",t.Msg.TEXT_PRINT_TITLE="print %1",t.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",t.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",t.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",t.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",t.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",t.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",t.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",t.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",t.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",t.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",t.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",t.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",t.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",t.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",t.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",t.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",t.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",t.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",t.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",t.Msg.TODAY="Today",t.Msg.UNDO="Undo",t.Msg.UNNAMED_KEY="unnamed",t.Msg.VARIABLES_DEFAULT_NAME="item",t.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",t.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",t.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",t.Msg.VARIABLES_SET="set %1 to %2",t.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",t.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",t.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",t.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",t.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",t.Msg.WORKSPACE_ARIA_LABEL="Blockly Workspace",t.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",t.Msg.CONTROLS_FOREACH_INPUT_DO=t.Msg.CONTROLS_REPEAT_INPUT_DO,t.Msg.CONTROLS_FOR_INPUT_DO=t.Msg.CONTROLS_REPEAT_INPUT_DO,t.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=t.Msg.CONTROLS_IF_MSG_ELSEIF,t.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=t.Msg.CONTROLS_IF_MSG_ELSE,t.Msg.CONTROLS_IF_IF_TITLE_IF=t.Msg.CONTROLS_IF_MSG_IF,t.Msg.CONTROLS_IF_MSG_THEN=t.Msg.CONTROLS_REPEAT_INPUT_DO,t.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=t.Msg.CONTROLS_REPEAT_INPUT_DO,t.Msg.LISTS_CREATE_WITH_ITEM_TITLE=t.Msg.VARIABLES_DEFAULT_NAME,t.Msg.LISTS_GET_INDEX_HELPURL=t.Msg.LISTS_INDEX_OF_HELPURL,t.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=t.Msg.LISTS_INLIST,t.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=t.Msg.LISTS_INLIST,t.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=t.Msg.LISTS_INLIST,t.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=t.Msg.LISTS_INLIST,t.Msg.MATH_CHANGE_TITLE_ITEM=t.Msg.VARIABLES_DEFAULT_NAME,t.Msg.PROCEDURES_DEFRETURN_COMMENT=t.Msg.PROCEDURES_DEFNORETURN_COMMENT,t.Msg.PROCEDURES_DEFRETURN_DO=t.Msg.PROCEDURES_DEFNORETURN_DO,t.Msg.PROCEDURES_DEFRETURN_PROCEDURE=t.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,t.Msg.PROCEDURES_DEFRETURN_TITLE=t.Msg.PROCEDURES_DEFNORETURN_TITLE,t.Msg.TEXT_APPEND_VARIABLE=t.Msg.VARIABLES_DEFAULT_NAME,t.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=t.Msg.VARIABLES_DEFAULT_NAME,t.Msg.MATH_HUE="230",t.Msg.LOOPS_HUE="120",t.Msg.LISTS_HUE="260",t.Msg.LOGIC_HUE="210",t.Msg.VARIABLES_HUE="330",t.Msg.TEXTS_HUE="160",t.Msg.PROCEDURES_HUE="290",t.Msg.COLOUR_HUE="20",t.Msg.VARIABLES_DYNAMIC_HUE="310",t.Msg})?n.apply(e,r):n)||(t.exports=i)},5149:(t,e,o)=>{"use strict";o.d(e,{lzv:()=>s,Rsn:()=>a,tZ5:()=>l,oqW:()=>c});var n=o(8191);const r={width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",role:"img",focusable:"false"};function i(t,e){return{name:t,render:()=>(0,n.h)("svg",Object.assign(Object.assign({},r),{innerHTML:e}))}}const s=i("BIconArrowRightSquareFill",'<path d="M0 14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2v12zm4.5-6.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5a.5.5 0 0 1 0-1z"/>'),a=i("BIconCheck2Square",'<path d="M3 14.5A1.5 1.5 0 0 1 1.5 13V3A1.5 1.5 0 0 1 3 1.5h8a.5.5 0 0 1 0 1H3a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V8a.5.5 0 0 1 1 0v5a1.5 1.5 0 0 1-1.5 1.5H3z"/><path d="M8.354 10.354l7-7a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0z"/>'),l=i("BIconFileWord",'<path d="M4.879 4.515a.5.5 0 0 1 .606.364l1.036 4.144.997-3.655a.5.5 0 0 1 .964 0l.997 3.655 1.036-4.144a.5.5 0 0 1 .97.242l-1.5 6a.5.5 0 0 1-.967.01L8 7.402l-1.018 3.73a.5.5 0 0 1-.967-.01l-1.5-6a.5.5 0 0 1 .364-.606z"/><path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z"/>'),c=i("BIconGearFill",'<path d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"/>')},1924:(t,e,o)=>{"use strict";var n=o(210),r=o(5559),i=r(n("String.prototype.indexOf"));t.exports=function(t,e){var o=n(t,!!e);return"function"==typeof o&&i(t,".prototype.")>-1?r(o):o}},5559:(t,e,o)=>{"use strict";var n=o(8612),r=o(210),i=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||n.call(s,i),l=r("%Object.getOwnPropertyDescriptor%",!0),c=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(c)try{c({},"a",{value:1})}catch(t){c=null}t.exports=function(t){var e=a(n,s,arguments);if(l&&c){var o=l(e,"length");o.configurable&&c(e,"length",{value:1+u(0,t.length-(arguments.length-1))})}return e};var p=function(){return a(n,i,arguments)};c?c(t.exports,"apply",{value:p}):t.exports.apply=p},1744:(t,e,o)=>{"use strict";o.d(e,{Z:()=>i});var n=o(3645),r=o.n(n)()((function(t){return t[1]}));r.push([t.id,".bg-gray-100[data-v-31ce65be]{background-color:#f7fafc;background-color:rgba(247,250,252,var(--tw-bg-opacity))}.border-gray-200[data-v-31ce65be]{border-color:#edf2f7;border-color:rgba(237,242,247,var(--tw-border-opacity))}.text-gray-400[data-v-31ce65be]{color:#cbd5e0;color:rgba(203,213,224,var(--tw-text-opacity))}.text-gray-500[data-v-31ce65be]{color:#a0aec0;color:rgba(160,174,192,var(--tw-text-opacity))}.text-gray-600[data-v-31ce65be]{color:#718096;color:rgba(113,128,150,var(--tw-text-opacity))}.text-gray-700[data-v-31ce65be]{color:#4a5568;color:rgba(74,85,104,var(--tw-text-opacity))}.text-gray-900[data-v-31ce65be]{color:#1a202c;color:rgba(26,32,44,var(--tw-text-opacity))}@media (prefers-color-scheme:dark){.dark\\:bg-gray-800[data-v-31ce65be]{background-color:#2d3748;background-color:rgba(45,55,72,var(--tw-bg-opacity))}.dark\\:bg-gray-900[data-v-31ce65be]{background-color:#1a202c;background-color:rgba(26,32,44,var(--tw-bg-opacity))}.dark\\:border-gray-700[data-v-31ce65be]{border-color:#4a5568;border-color:rgba(74,85,104,var(--tw-border-opacity))}.dark\\:text-white[data-v-31ce65be]{color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.dark\\:text-gray-400[data-v-31ce65be]{color:#cbd5e0;color:rgba(203,213,224,var(--tw-text-opacity))}}",""]);const i=r},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var o=t(e);return e[2]?"@media ".concat(e[2]," {").concat(o,"}"):o})).join("")},e.i=function(t,o,n){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(n)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(r[s]=!0)}for(var a=0;a<t.length;a++){var l=[].concat(t[a]);n&&r[l[0]]||(o&&(l[2]?l[2]="".concat(o," and ").concat(l[2]):l[2]=o),e.push(l))}},e}},9996:t=>{"use strict";var e=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===o}(t)}(t)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(t,e){return!1!==e.clone&&e.isMergeableObject(t)?l((o=t,Array.isArray(o)?[]:{}),t,e):t;var o}function r(t,e,o){return t.concat(e).map((function(t){return n(t,o)}))}function i(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function s(t,e){try{return e in t}catch(t){return!1}}function a(t,e,o){var r={};return o.isMergeableObject(t)&&i(t).forEach((function(e){r[e]=n(t[e],o)})),i(e).forEach((function(i){(function(t,e){return s(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,i)||(s(t,i)&&o.isMergeableObject(e[i])?r[i]=function(t,e){if(!e.customMerge)return l;var o=e.customMerge(t);return"function"==typeof o?o:l}(i,o)(t[i],e[i],o):r[i]=n(e[i],o))})),r}function l(t,o,i){(i=i||{}).arrayMerge=i.arrayMerge||r,i.isMergeableObject=i.isMergeableObject||e,i.cloneUnlessOtherwiseSpecified=n;var s=Array.isArray(o);return s===Array.isArray(t)?s?i.arrayMerge(t,o,i):a(t,o,i):n(o,i)}l.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,o){return l(t,o,e)}),{})};var c=l;t.exports=c},7648:t=>{"use strict";var e="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,n=Object.prototype.toString,r="[object Function]";t.exports=function(t){var i=this;if("function"!=typeof i||n.call(i)!==r)throw new TypeError(e+i);for(var s,a=o.call(arguments,1),l=function(){if(this instanceof s){var e=i.apply(this,a.concat(o.call(arguments)));return Object(e)===e?e:this}return i.apply(t,a.concat(o.call(arguments)))},c=Math.max(0,i.length-a.length),u=[],p=0;p<c;p++)u.push("$"+p);if(s=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(l),i.prototype){var h=function(){};h.prototype=i.prototype,s.prototype=new h,h.prototype=null}return s}},8612:(t,e,o)=>{"use strict";var n=o(7648);t.exports=Function.prototype.bind||n},210:(t,e,o)=>{"use strict";var n,r=SyntaxError,i=Function,s=TypeError,a=function(t){try{return i('"use strict"; return ('+t+").constructor;")()}catch(t){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(t){l=null}var c=function(){throw new s},u=l?function(){try{return c}catch(t){try{return l(arguments,"callee").get}catch(t){return c}}}():c,p=o(1405)(),h=Object.getPrototypeOf||function(t){return t.__proto__},d={},g="undefined"==typeof Uint8Array?n:h(Uint8Array),_={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":p?h([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?h(h([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p?h((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p?h((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p?h(""[Symbol.iterator]()):n,"%Symbol%":p?Symbol:n,"%SyntaxError%":r,"%ThrowTypeError%":u,"%TypedArray%":g,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},f=function t(e){var o;if("%AsyncFunction%"===e)o=a("async function () {}");else if("%GeneratorFunction%"===e)o=a("function* () {}");else if("%AsyncGeneratorFunction%"===e)o=a("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(o=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var r=t("%AsyncGenerator%");r&&(o=h(r.prototype))}return _[e]=o,o},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=o(8612),y=o(7642),T=v.call(Function.call,Array.prototype.concat),b=v.call(Function.apply,Array.prototype.splice),E=v.call(Function.call,String.prototype.replace),S=v.call(Function.call,String.prototype.slice),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,R=function(t){var e=S(t,0,1),o=S(t,-1);if("%"===e&&"%"!==o)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===o&&"%"!==e)throw new r("invalid intrinsic syntax, expected opening `%`");var n=[];return E(t,C,(function(t,e,o,r){n[n.length]=o?E(r,k,"$1"):e||t})),n},I=function(t,e){var o,n=t;if(y(m,n)&&(n="%"+(o=m[n])[0]+"%"),y(_,n)){var i=_[n];if(i===d&&(i=f(n)),void 0===i&&!e)throw new s("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new r("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new s('"allowMissing" argument must be a boolean');var o=R(t),n=o.length>0?o[0]:"",i=I("%"+n+"%",e),a=i.name,c=i.value,u=!1,p=i.alias;p&&(n=p[0],b(o,T([0,1],p)));for(var h=1,d=!0;h<o.length;h+=1){var g=o[h],f=S(g,0,1),m=S(g,-1);if(('"'===f||"'"===f||"`"===f||'"'===m||"'"===m||"`"===m)&&f!==m)throw new r("property names with quotes must have matching quotes");if("constructor"!==g&&d||(u=!0),y(_,a="%"+(n+="."+g)+"%"))c=_[a];else if(null!=c){if(!(g in c)){if(!e)throw new s("base intrinsic for "+t+" exists, but the property is not available.");return}if(l&&h+1>=o.length){var v=l(c,g);c=(d=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:c[g]}else d=y(c,g),c=c[g];d&&!u&&(_[a]=c)}}return c}},1405:(t,e,o)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,r=o(5419);t.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&r())))}},5419:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),o=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(o))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(t,e);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},7642:(t,e,o)=>{"use strict";var n=o(8612);t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},6486:function(t,e,o){var n;t=o.nmd(t),function(){var r,i="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",l=16,c=32,u=64,p=128,h=256,d=1/0,g=9007199254740991,_=NaN,f=4294967295,m=[["ary",p],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",u],["rearg",h]],v="[object Arguments]",y="[object Array]",T="[object Boolean]",b="[object Date]",E="[object Error]",S="[object Function]",C="[object GeneratorFunction]",k="[object Map]",R="[object Number]",I="[object Object]",w="[object Promise]",N="[object RegExp]",O="[object Set]",x="[object String]",A="[object Symbol]",D="[object WeakMap]",M="[object ArrayBuffer]",L="[object DataView]",B="[object Float32Array]",P="[object Float64Array]",V="[object Int8Array]",F="[object Int16Array]",U="[object Int32Array]",H="[object Uint8Array]",G="[object Uint8ClampedArray]",W="[object Uint16Array]",j="[object Uint32Array]",X=/\b__p \+= '';/g,J=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,z=/[&<>"']/g,Z=RegExp(K.source),$=RegExp(z.source),q=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ot=/^\w*$/,nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rt=/[\\^$.*+?()[\]{}|]/g,it=RegExp(rt.source),st=/^\s+/,at=/\s/,lt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ct=/\{\n\/\* \[wrapped with (.+)\] \*/,ut=/,? & /,pt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ht=/[()=,{}\[\]\/\s]/,dt=/\\(\\)?/g,gt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_t=/\w*$/,ft=/^[-+]0x[0-9a-f]+$/i,mt=/^0b[01]+$/i,vt=/^\[object .+?Constructor\]$/,yt=/^0o[0-7]+$/i,Tt=/^(?:0|[1-9]\d*)$/,bt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Et=/($^)/,St=/['\n\r\u2028\u2029\\]/g,Ct="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",kt="\\u2700-\\u27bf",Rt="a-z\\xdf-\\xf6\\xf8-\\xff",It="A-Z\\xc0-\\xd6\\xd8-\\xde",wt="\\ufe0e\\ufe0f",Nt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ot="['’]",xt="[\\ud800-\\udfff]",At="["+Nt+"]",Dt="["+Ct+"]",Mt="\\d+",Lt="[\\u2700-\\u27bf]",Bt="["+Rt+"]",Pt="[^\\ud800-\\udfff"+Nt+Mt+kt+Rt+It+"]",Vt="\\ud83c[\\udffb-\\udfff]",Ft="[^\\ud800-\\udfff]",Ut="(?:\\ud83c[\\udde6-\\uddff]){2}",Ht="[\\ud800-\\udbff][\\udc00-\\udfff]",Gt="["+It+"]",Wt="(?:"+Bt+"|"+Pt+")",jt="(?:"+Gt+"|"+Pt+")",Xt="(?:['’](?:d|ll|m|re|s|t|ve))?",Jt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Yt="(?:"+Dt+"|"+Vt+")"+"?",Kt="[\\ufe0e\\ufe0f]?",zt=Kt+Yt+("(?:\\u200d(?:"+[Ft,Ut,Ht].join("|")+")"+Kt+Yt+")*"),Zt="(?:"+[Lt,Ut,Ht].join("|")+")"+zt,$t="(?:"+[Ft+Dt+"?",Dt,Ut,Ht,xt].join("|")+")",qt=RegExp(Ot,"g"),Qt=RegExp(Dt,"g"),te=RegExp(Vt+"(?="+Vt+")|"+$t+zt,"g"),ee=RegExp([Gt+"?"+Bt+"+"+Xt+"(?="+[At,Gt,"$"].join("|")+")",jt+"+"+Jt+"(?="+[At,Gt+Wt,"$"].join("|")+")",Gt+"?"+Wt+"+"+Xt,Gt+"+"+Jt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Mt,Zt].join("|"),"g"),oe=RegExp("[\\u200d\\ud800-\\udfff"+Ct+wt+"]"),ne=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,re=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ie=-1,se={};se[B]=se[P]=se[V]=se[F]=se[U]=se[H]=se[G]=se[W]=se[j]=!0,se[v]=se[y]=se[M]=se[T]=se[L]=se[b]=se[E]=se[S]=se[k]=se[R]=se[I]=se[N]=se[O]=se[x]=se[D]=!1;var ae={};ae[v]=ae[y]=ae[M]=ae[L]=ae[T]=ae[b]=ae[B]=ae[P]=ae[V]=ae[F]=ae[U]=ae[k]=ae[R]=ae[I]=ae[N]=ae[O]=ae[x]=ae[A]=ae[H]=ae[G]=ae[W]=ae[j]=!0,ae[E]=ae[S]=ae[D]=!1;var le={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ce=parseFloat,ue=parseInt,pe="object"==typeof o.g&&o.g&&o.g.Object===Object&&o.g,he="object"==typeof self&&self&&self.Object===Object&&self,de=pe||he||Function("return this")(),ge=e&&!e.nodeType&&e,_e=ge&&t&&!t.nodeType&&t,fe=_e&&_e.exports===ge,me=fe&&pe.process,ve=function(){try{var t=_e&&_e.require&&_e.require("util").types;return t||me&&me.binding&&me.binding("util")}catch(t){}}(),ye=ve&&ve.isArrayBuffer,Te=ve&&ve.isDate,be=ve&&ve.isMap,Ee=ve&&ve.isRegExp,Se=ve&&ve.isSet,Ce=ve&&ve.isTypedArray;function ke(t,e,o){switch(o.length){case 0:return t.call(e);case 1:return t.call(e,o[0]);case 2:return t.call(e,o[0],o[1]);case 3:return t.call(e,o[0],o[1],o[2])}return t.apply(e,o)}function Re(t,e,o,n){for(var r=-1,i=null==t?0:t.length;++r<i;){var s=t[r];e(n,s,o(s),t)}return n}function Ie(t,e){for(var o=-1,n=null==t?0:t.length;++o<n&&!1!==e(t[o],o,t););return t}function we(t,e){for(var o=null==t?0:t.length;o--&&!1!==e(t[o],o,t););return t}function Ne(t,e){for(var o=-1,n=null==t?0:t.length;++o<n;)if(!e(t[o],o,t))return!1;return!0}function Oe(t,e){for(var o=-1,n=null==t?0:t.length,r=0,i=[];++o<n;){var s=t[o];e(s,o,t)&&(i[r++]=s)}return i}function xe(t,e){return!!(null==t?0:t.length)&&He(t,e,0)>-1}function Ae(t,e,o){for(var n=-1,r=null==t?0:t.length;++n<r;)if(o(e,t[n]))return!0;return!1}function De(t,e){for(var o=-1,n=null==t?0:t.length,r=Array(n);++o<n;)r[o]=e(t[o],o,t);return r}function Me(t,e){for(var o=-1,n=e.length,r=t.length;++o<n;)t[r+o]=e[o];return t}function Le(t,e,o,n){var r=-1,i=null==t?0:t.length;for(n&&i&&(o=t[++r]);++r<i;)o=e(o,t[r],r,t);return o}function Be(t,e,o,n){var r=null==t?0:t.length;for(n&&r&&(o=t[--r]);r--;)o=e(o,t[r],r,t);return o}function Pe(t,e){for(var o=-1,n=null==t?0:t.length;++o<n;)if(e(t[o],o,t))return!0;return!1}var Ve=Xe("length");function Fe(t,e,o){var n;return o(t,(function(t,o,r){if(e(t,o,r))return n=o,!1})),n}function Ue(t,e,o,n){for(var r=t.length,i=o+(n?1:-1);n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function He(t,e,o){return e==e?function(t,e,o){var n=o-1,r=t.length;for(;++n<r;)if(t[n]===e)return n;return-1}(t,e,o):Ue(t,We,o)}function Ge(t,e,o,n){for(var r=o-1,i=t.length;++r<i;)if(n(t[r],e))return r;return-1}function We(t){return t!=t}function je(t,e){var o=null==t?0:t.length;return o?Ke(t,e)/o:_}function Xe(t){return function(e){return null==e?r:e[t]}}function Je(t){return function(e){return null==t?r:t[e]}}function Ye(t,e,o,n,r){return r(t,(function(t,r,i){o=n?(n=!1,t):e(o,t,r,i)})),o}function Ke(t,e){for(var o,n=-1,i=t.length;++n<i;){var s=e(t[n]);s!==r&&(o=o===r?s:o+s)}return o}function ze(t,e){for(var o=-1,n=Array(t);++o<t;)n[o]=e(o);return n}function Ze(t){return t?t.slice(0,_o(t)+1).replace(st,""):t}function $e(t){return function(e){return t(e)}}function qe(t,e){return De(e,(function(e){return t[e]}))}function Qe(t,e){return t.has(e)}function to(t,e){for(var o=-1,n=t.length;++o<n&&He(e,t[o],0)>-1;);return o}function eo(t,e){for(var o=t.length;o--&&He(e,t[o],0)>-1;);return o}function oo(t,e){for(var o=t.length,n=0;o--;)t[o]===e&&++n;return n}var no=Je({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),ro=Je({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function io(t){return"\\"+le[t]}function so(t){return oe.test(t)}function ao(t){var e=-1,o=Array(t.size);return t.forEach((function(t,n){o[++e]=[n,t]})),o}function lo(t,e){return function(o){return t(e(o))}}function co(t,e){for(var o=-1,n=t.length,r=0,i=[];++o<n;){var s=t[o];s!==e&&s!==a||(t[o]=a,i[r++]=o)}return i}function uo(t){var e=-1,o=Array(t.size);return t.forEach((function(t){o[++e]=t})),o}function po(t){var e=-1,o=Array(t.size);return t.forEach((function(t){o[++e]=[t,t]})),o}function ho(t){return so(t)?function(t){var e=te.lastIndex=0;for(;te.test(t);)++e;return e}(t):Ve(t)}function go(t){return so(t)?function(t){return t.match(te)||[]}(t):function(t){return t.split("")}(t)}function _o(t){for(var e=t.length;e--&&at.test(t.charAt(e)););return e}var fo=Je({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mo=function t(e){var o,n=(e=null==e?de:mo.defaults(de.Object(),e,mo.pick(de,re))).Array,at=e.Date,Ct=e.Error,kt=e.Function,Rt=e.Math,It=e.Object,wt=e.RegExp,Nt=e.String,Ot=e.TypeError,xt=n.prototype,At=kt.prototype,Dt=It.prototype,Mt=e["__core-js_shared__"],Lt=At.toString,Bt=Dt.hasOwnProperty,Pt=0,Vt=(o=/[^.]+$/.exec(Mt&&Mt.keys&&Mt.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"",Ft=Dt.toString,Ut=Lt.call(It),Ht=de._,Gt=wt("^"+Lt.call(Bt).replace(rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=fe?e.Buffer:r,jt=e.Symbol,Xt=e.Uint8Array,Jt=Wt?Wt.allocUnsafe:r,Yt=lo(It.getPrototypeOf,It),Kt=It.create,zt=Dt.propertyIsEnumerable,Zt=xt.splice,$t=jt?jt.isConcatSpreadable:r,te=jt?jt.iterator:r,oe=jt?jt.toStringTag:r,le=function(){try{var t=gi(It,"defineProperty");return t({},"",{}),t}catch(t){}}(),pe=e.clearTimeout!==de.clearTimeout&&e.clearTimeout,he=at&&at.now!==de.Date.now&&at.now,ge=e.setTimeout!==de.setTimeout&&e.setTimeout,_e=Rt.ceil,me=Rt.floor,ve=It.getOwnPropertySymbols,Ve=Wt?Wt.isBuffer:r,Je=e.isFinite,vo=xt.join,yo=lo(It.keys,It),To=Rt.max,bo=Rt.min,Eo=at.now,So=e.parseInt,Co=Rt.random,ko=xt.reverse,Ro=gi(e,"DataView"),Io=gi(e,"Map"),wo=gi(e,"Promise"),No=gi(e,"Set"),Oo=gi(e,"WeakMap"),xo=gi(It,"create"),Ao=Oo&&new Oo,Do={},Mo=Hi(Ro),Lo=Hi(Io),Bo=Hi(wo),Po=Hi(No),Vo=Hi(Oo),Fo=jt?jt.prototype:r,Uo=Fo?Fo.valueOf:r,Ho=Fo?Fo.toString:r;function Go(t){if(ra(t)&&!Ys(t)&&!(t instanceof Jo)){if(t instanceof Xo)return t;if(Bt.call(t,"__wrapped__"))return Gi(t)}return new Xo(t)}var Wo=function(){function t(){}return function(e){if(!na(e))return{};if(Kt)return Kt(e);t.prototype=e;var o=new t;return t.prototype=r,o}}();function jo(){}function Xo(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function Jo(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Yo(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var n=t[e];this.set(n[0],n[1])}}function Ko(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var n=t[e];this.set(n[0],n[1])}}function zo(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var n=t[e];this.set(n[0],n[1])}}function Zo(t){var e=-1,o=null==t?0:t.length;for(this.__data__=new zo;++e<o;)this.add(t[e])}function $o(t){var e=this.__data__=new Ko(t);this.size=e.size}function qo(t,e){var o=Ys(t),n=!o&&Js(t),r=!o&&!n&&$s(t),i=!o&&!n&&!r&&ha(t),s=o||n||r||i,a=s?ze(t.length,Nt):[],l=a.length;for(var c in t)!e&&!Bt.call(t,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||bi(c,l))||a.push(c);return a}function Qo(t){var e=t.length;return e?t[$n(0,e-1)]:r}function tn(t,e){return Vi(Ar(t),un(e,0,t.length))}function en(t){return Vi(Ar(t))}function on(t,e,o){(o!==r&&!Ws(t[e],o)||o===r&&!(e in t))&&ln(t,e,o)}function nn(t,e,o){var n=t[e];Bt.call(t,e)&&Ws(n,o)&&(o!==r||e in t)||ln(t,e,o)}function rn(t,e){for(var o=t.length;o--;)if(Ws(t[o][0],e))return o;return-1}function sn(t,e,o,n){return _n(t,(function(t,r,i){e(n,t,o(t),i)})),n}function an(t,e){return t&&Dr(e,Ma(e),t)}function ln(t,e,o){"__proto__"==e&&le?le(t,e,{configurable:!0,enumerable:!0,value:o,writable:!0}):t[e]=o}function cn(t,e){for(var o=-1,i=e.length,s=n(i),a=null==t;++o<i;)s[o]=a?r:Na(t,e[o]);return s}function un(t,e,o){return t==t&&(o!==r&&(t=t<=o?t:o),e!==r&&(t=t>=e?t:e)),t}function pn(t,e,o,n,i,s){var a,l=1&e,c=2&e,u=4&e;if(o&&(a=i?o(t,n,i,s):o(t)),a!==r)return a;if(!na(t))return t;var p=Ys(t);if(p){if(a=function(t){var e=t.length,o=new t.constructor(e);e&&"string"==typeof t[0]&&Bt.call(t,"index")&&(o.index=t.index,o.input=t.input);return o}(t),!l)return Ar(t,a)}else{var h=mi(t),d=h==S||h==C;if($s(t))return Rr(t,l);if(h==I||h==v||d&&!i){if(a=c||d?{}:yi(t),!l)return c?function(t,e){return Dr(t,fi(t),e)}(t,function(t,e){return t&&Dr(e,La(e),t)}(a,t)):function(t,e){return Dr(t,_i(t),e)}(t,an(a,t))}else{if(!ae[h])return i?t:{};a=function(t,e,o){var n=t.constructor;switch(e){case M:return Ir(t);case T:case b:return new n(+t);case L:return function(t,e){var o=e?Ir(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.byteLength)}(t,o);case B:case P:case V:case F:case U:case H:case G:case W:case j:return wr(t,o);case k:return new n;case R:case x:return new n(t);case N:return function(t){var e=new t.constructor(t.source,_t.exec(t));return e.lastIndex=t.lastIndex,e}(t);case O:return new n;case A:return r=t,Uo?It(Uo.call(r)):{}}var r}(t,h,l)}}s||(s=new $o);var g=s.get(t);if(g)return g;s.set(t,a),ca(t)?t.forEach((function(n){a.add(pn(n,e,o,n,t,s))})):ia(t)&&t.forEach((function(n,r){a.set(r,pn(n,e,o,r,t,s))}));var _=p?r:(u?c?ai:si:c?La:Ma)(t);return Ie(_||t,(function(n,r){_&&(n=t[r=n]),nn(a,r,pn(n,e,o,r,t,s))})),a}function hn(t,e,o){var n=o.length;if(null==t)return!n;for(t=It(t);n--;){var i=o[n],s=e[i],a=t[i];if(a===r&&!(i in t)||!s(a))return!1}return!0}function dn(t,e,o){if("function"!=typeof t)throw new Ot(i);return Mi((function(){t.apply(r,o)}),e)}function gn(t,e,o,n){var r=-1,i=xe,s=!0,a=t.length,l=[],c=e.length;if(!a)return l;o&&(e=De(e,$e(o))),n?(i=Ae,s=!1):e.length>=200&&(i=Qe,s=!1,e=new Zo(e));t:for(;++r<a;){var u=t[r],p=null==o?u:o(u);if(u=n||0!==u?u:0,s&&p==p){for(var h=c;h--;)if(e[h]===p)continue t;l.push(u)}else i(e,p,n)||l.push(u)}return l}Go.templateSettings={escape:q,evaluate:Q,interpolate:tt,variable:"",imports:{_:Go}},Go.prototype=jo.prototype,Go.prototype.constructor=Go,Xo.prototype=Wo(jo.prototype),Xo.prototype.constructor=Xo,Jo.prototype=Wo(jo.prototype),Jo.prototype.constructor=Jo,Yo.prototype.clear=function(){this.__data__=xo?xo(null):{},this.size=0},Yo.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Yo.prototype.get=function(t){var e=this.__data__;if(xo){var o=e[t];return o===s?r:o}return Bt.call(e,t)?e[t]:r},Yo.prototype.has=function(t){var e=this.__data__;return xo?e[t]!==r:Bt.call(e,t)},Yo.prototype.set=function(t,e){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=xo&&e===r?s:e,this},Ko.prototype.clear=function(){this.__data__=[],this.size=0},Ko.prototype.delete=function(t){var e=this.__data__,o=rn(e,t);return!(o<0)&&(o==e.length-1?e.pop():Zt.call(e,o,1),--this.size,!0)},Ko.prototype.get=function(t){var e=this.__data__,o=rn(e,t);return o<0?r:e[o][1]},Ko.prototype.has=function(t){return rn(this.__data__,t)>-1},Ko.prototype.set=function(t,e){var o=this.__data__,n=rn(o,t);return n<0?(++this.size,o.push([t,e])):o[n][1]=e,this},zo.prototype.clear=function(){this.size=0,this.__data__={hash:new Yo,map:new(Io||Ko),string:new Yo}},zo.prototype.delete=function(t){var e=hi(this,t).delete(t);return this.size-=e?1:0,e},zo.prototype.get=function(t){return hi(this,t).get(t)},zo.prototype.has=function(t){return hi(this,t).has(t)},zo.prototype.set=function(t,e){var o=hi(this,t),n=o.size;return o.set(t,e),this.size+=o.size==n?0:1,this},Zo.prototype.add=Zo.prototype.push=function(t){return this.__data__.set(t,s),this},Zo.prototype.has=function(t){return this.__data__.has(t)},$o.prototype.clear=function(){this.__data__=new Ko,this.size=0},$o.prototype.delete=function(t){var e=this.__data__,o=e.delete(t);return this.size=e.size,o},$o.prototype.get=function(t){return this.__data__.get(t)},$o.prototype.has=function(t){return this.__data__.has(t)},$o.prototype.set=function(t,e){var o=this.__data__;if(o instanceof Ko){var n=o.__data__;if(!Io||n.length<199)return n.push([t,e]),this.size=++o.size,this;o=this.__data__=new zo(n)}return o.set(t,e),this.size=o.size,this};var _n=Br(Sn),fn=Br(Cn,!0);function mn(t,e){var o=!0;return _n(t,(function(t,n,r){return o=!!e(t,n,r)})),o}function vn(t,e,o){for(var n=-1,i=t.length;++n<i;){var s=t[n],a=e(s);if(null!=a&&(l===r?a==a&&!pa(a):o(a,l)))var l=a,c=s}return c}function yn(t,e){var o=[];return _n(t,(function(t,n,r){e(t,n,r)&&o.push(t)})),o}function Tn(t,e,o,n,r){var i=-1,s=t.length;for(o||(o=Ti),r||(r=[]);++i<s;){var a=t[i];e>0&&o(a)?e>1?Tn(a,e-1,o,n,r):Me(r,a):n||(r[r.length]=a)}return r}var bn=Pr(),En=Pr(!0);function Sn(t,e){return t&&bn(t,e,Ma)}function Cn(t,e){return t&&En(t,e,Ma)}function kn(t,e){return Oe(e,(function(e){return ta(t[e])}))}function Rn(t,e){for(var o=0,n=(e=Er(e,t)).length;null!=t&&o<n;)t=t[Ui(e[o++])];return o&&o==n?t:r}function In(t,e,o){var n=e(t);return Ys(t)?n:Me(n,o(t))}function wn(t){return null==t?t===r?"[object Undefined]":"[object Null]":oe&&oe in It(t)?function(t){var e=Bt.call(t,oe),o=t[oe];try{t[oe]=r;var n=!0}catch(t){}var i=Ft.call(t);n&&(e?t[oe]=o:delete t[oe]);return i}(t):function(t){return Ft.call(t)}(t)}function Nn(t,e){return t>e}function On(t,e){return null!=t&&Bt.call(t,e)}function xn(t,e){return null!=t&&e in It(t)}function An(t,e,o){for(var i=o?Ae:xe,s=t[0].length,a=t.length,l=a,c=n(a),u=1/0,p=[];l--;){var h=t[l];l&&e&&(h=De(h,$e(e))),u=bo(h.length,u),c[l]=!o&&(e||s>=120&&h.length>=120)?new Zo(l&&h):r}h=t[0];var d=-1,g=c[0];t:for(;++d<s&&p.length<u;){var _=h[d],f=e?e(_):_;if(_=o||0!==_?_:0,!(g?Qe(g,f):i(p,f,o))){for(l=a;--l;){var m=c[l];if(!(m?Qe(m,f):i(t[l],f,o)))continue t}g&&g.push(f),p.push(_)}}return p}function Dn(t,e,o){var n=null==(t=Oi(t,e=Er(e,t)))?t:t[Ui(Qi(e))];return null==n?r:ke(n,t,o)}function Mn(t){return ra(t)&&wn(t)==v}function Ln(t,e,o,n,i){return t===e||(null==t||null==e||!ra(t)&&!ra(e)?t!=t&&e!=e:function(t,e,o,n,i,s){var a=Ys(t),l=Ys(e),c=a?y:mi(t),u=l?y:mi(e),p=(c=c==v?I:c)==I,h=(u=u==v?I:u)==I,d=c==u;if(d&&$s(t)){if(!$s(e))return!1;a=!0,p=!1}if(d&&!p)return s||(s=new $o),a||ha(t)?ri(t,e,o,n,i,s):function(t,e,o,n,r,i,s){switch(o){case L:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case M:return!(t.byteLength!=e.byteLength||!i(new Xt(t),new Xt(e)));case T:case b:case R:return Ws(+t,+e);case E:return t.name==e.name&&t.message==e.message;case N:case x:return t==e+"";case k:var a=ao;case O:var l=1&n;if(a||(a=uo),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;n|=2,s.set(t,e);var u=ri(a(t),a(e),n,r,i,s);return s.delete(t),u;case A:if(Uo)return Uo.call(t)==Uo.call(e)}return!1}(t,e,c,o,n,i,s);if(!(1&o)){var g=p&&Bt.call(t,"__wrapped__"),_=h&&Bt.call(e,"__wrapped__");if(g||_){var f=g?t.value():t,m=_?e.value():e;return s||(s=new $o),i(f,m,o,n,s)}}if(!d)return!1;return s||(s=new $o),function(t,e,o,n,i,s){var a=1&o,l=si(t),c=l.length,u=si(e).length;if(c!=u&&!a)return!1;var p=c;for(;p--;){var h=l[p];if(!(a?h in e:Bt.call(e,h)))return!1}var d=s.get(t),g=s.get(e);if(d&&g)return d==e&&g==t;var _=!0;s.set(t,e),s.set(e,t);var f=a;for(;++p<c;){var m=t[h=l[p]],v=e[h];if(n)var y=a?n(v,m,h,e,t,s):n(m,v,h,t,e,s);if(!(y===r?m===v||i(m,v,o,n,s):y)){_=!1;break}f||(f="constructor"==h)}if(_&&!f){var T=t.constructor,b=e.constructor;T==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof T&&T instanceof T&&"function"==typeof b&&b instanceof b||(_=!1)}return s.delete(t),s.delete(e),_}(t,e,o,n,i,s)}(t,e,o,n,Ln,i))}function Bn(t,e,o,n){var i=o.length,s=i,a=!n;if(null==t)return!s;for(t=It(t);i--;){var l=o[i];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<s;){var c=(l=o[i])[0],u=t[c],p=l[1];if(a&&l[2]){if(u===r&&!(c in t))return!1}else{var h=new $o;if(n)var d=n(u,p,c,t,e,h);if(!(d===r?Ln(p,u,3,n,h):d))return!1}}return!0}function Pn(t){return!(!na(t)||(e=t,Vt&&Vt in e))&&(ta(t)?Gt:vt).test(Hi(t));var e}function Vn(t){return"function"==typeof t?t:null==t?sl:"object"==typeof t?Ys(t)?jn(t[0],t[1]):Wn(t):_l(t)}function Fn(t){if(!Ri(t))return yo(t);var e=[];for(var o in It(t))Bt.call(t,o)&&"constructor"!=o&&e.push(o);return e}function Un(t){if(!na(t))return function(t){var e=[];if(null!=t)for(var o in It(t))e.push(o);return e}(t);var e=Ri(t),o=[];for(var n in t)("constructor"!=n||!e&&Bt.call(t,n))&&o.push(n);return o}function Hn(t,e){return t<e}function Gn(t,e){var o=-1,r=zs(t)?n(t.length):[];return _n(t,(function(t,n,i){r[++o]=e(t,n,i)})),r}function Wn(t){var e=di(t);return 1==e.length&&e[0][2]?wi(e[0][0],e[0][1]):function(o){return o===t||Bn(o,t,e)}}function jn(t,e){return Si(t)&&Ii(e)?wi(Ui(t),e):function(o){var n=Na(o,t);return n===r&&n===e?Oa(o,t):Ln(e,n,3)}}function Xn(t,e,o,n,i){t!==e&&bn(e,(function(s,a){if(i||(i=new $o),na(s))!function(t,e,o,n,i,s,a){var l=Ai(t,o),c=Ai(e,o),u=a.get(c);if(u)return void on(t,o,u);var p=s?s(l,c,o+"",t,e,a):r,h=p===r;if(h){var d=Ys(c),g=!d&&$s(c),_=!d&&!g&&ha(c);p=c,d||g||_?Ys(l)?p=l:Zs(l)?p=Ar(l):g?(h=!1,p=Rr(c,!0)):_?(h=!1,p=wr(c,!0)):p=[]:aa(c)||Js(c)?(p=l,Js(l)?p=Ta(l):na(l)&&!ta(l)||(p=yi(c))):h=!1}h&&(a.set(c,p),i(p,c,n,s,a),a.delete(c));on(t,o,p)}(t,e,a,o,Xn,n,i);else{var l=n?n(Ai(t,a),s,a+"",t,e,i):r;l===r&&(l=s),on(t,a,l)}}),La)}function Jn(t,e){var o=t.length;if(o)return bi(e+=e<0?o:0,o)?t[e]:r}function Yn(t,e,o){e=e.length?De(e,(function(t){return Ys(t)?function(e){return Rn(e,1===t.length?t[0]:t)}:t})):[sl];var n=-1;return e=De(e,$e(pi())),function(t,e){var o=t.length;for(t.sort(e);o--;)t[o]=t[o].value;return t}(Gn(t,(function(t,o,r){return{criteria:De(e,(function(e){return e(t)})),index:++n,value:t}})),(function(t,e){return function(t,e,o){var n=-1,r=t.criteria,i=e.criteria,s=r.length,a=o.length;for(;++n<s;){var l=Nr(r[n],i[n]);if(l)return n>=a?l:l*("desc"==o[n]?-1:1)}return t.index-e.index}(t,e,o)}))}function Kn(t,e,o){for(var n=-1,r=e.length,i={};++n<r;){var s=e[n],a=Rn(t,s);o(a,s)&&or(i,Er(s,t),a)}return i}function zn(t,e,o,n){var r=n?Ge:He,i=-1,s=e.length,a=t;for(t===e&&(e=Ar(e)),o&&(a=De(t,$e(o)));++i<s;)for(var l=0,c=e[i],u=o?o(c):c;(l=r(a,u,l,n))>-1;)a!==t&&Zt.call(a,l,1),Zt.call(t,l,1);return t}function Zn(t,e){for(var o=t?e.length:0,n=o-1;o--;){var r=e[o];if(o==n||r!==i){var i=r;bi(r)?Zt.call(t,r,1):gr(t,r)}}return t}function $n(t,e){return t+me(Co()*(e-t+1))}function qn(t,e){var o="";if(!t||e<1||e>g)return o;do{e%2&&(o+=t),(e=me(e/2))&&(t+=t)}while(e);return o}function Qn(t,e){return Li(Ni(t,e,sl),t+"")}function tr(t){return Qo(Wa(t))}function er(t,e){var o=Wa(t);return Vi(o,un(e,0,o.length))}function or(t,e,o,n){if(!na(t))return t;for(var i=-1,s=(e=Er(e,t)).length,a=s-1,l=t;null!=l&&++i<s;){var c=Ui(e[i]),u=o;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(i!=a){var p=l[c];(u=n?n(p,c,l):r)===r&&(u=na(p)?p:bi(e[i+1])?[]:{})}nn(l,c,u),l=l[c]}return t}var nr=Ao?function(t,e){return Ao.set(t,e),t}:sl,rr=le?function(t,e){return le(t,"toString",{configurable:!0,enumerable:!1,value:nl(e),writable:!0})}:sl;function ir(t){return Vi(Wa(t))}function sr(t,e,o){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(o=o>i?i:o)<0&&(o+=i),i=e>o?0:o-e>>>0,e>>>=0;for(var s=n(i);++r<i;)s[r]=t[r+e];return s}function ar(t,e){var o;return _n(t,(function(t,n,r){return!(o=e(t,n,r))})),!!o}function lr(t,e,o){var n=0,r=null==t?n:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;n<r;){var i=n+r>>>1,s=t[i];null!==s&&!pa(s)&&(o?s<=e:s<e)?n=i+1:r=i}return r}return cr(t,e,sl,o)}function cr(t,e,o,n){var i=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=o(e))!=e,l=null===e,c=pa(e),u=e===r;i<s;){var p=me((i+s)/2),h=o(t[p]),d=h!==r,g=null===h,_=h==h,f=pa(h);if(a)var m=n||_;else m=u?_&&(n||d):l?_&&d&&(n||!g):c?_&&d&&!g&&(n||!f):!g&&!f&&(n?h<=e:h<e);m?i=p+1:s=p}return bo(s,4294967294)}function ur(t,e){for(var o=-1,n=t.length,r=0,i=[];++o<n;){var s=t[o],a=e?e(s):s;if(!o||!Ws(a,l)){var l=a;i[r++]=0===s?0:s}}return i}function pr(t){return"number"==typeof t?t:pa(t)?_:+t}function hr(t){if("string"==typeof t)return t;if(Ys(t))return De(t,hr)+"";if(pa(t))return Ho?Ho.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function dr(t,e,o){var n=-1,r=xe,i=t.length,s=!0,a=[],l=a;if(o)s=!1,r=Ae;else if(i>=200){var c=e?null:qr(t);if(c)return uo(c);s=!1,r=Qe,l=new Zo}else l=e?[]:a;t:for(;++n<i;){var u=t[n],p=e?e(u):u;if(u=o||0!==u?u:0,s&&p==p){for(var h=l.length;h--;)if(l[h]===p)continue t;e&&l.push(p),a.push(u)}else r(l,p,o)||(l!==a&&l.push(p),a.push(u))}return a}function gr(t,e){return null==(t=Oi(t,e=Er(e,t)))||delete t[Ui(Qi(e))]}function _r(t,e,o,n){return or(t,e,o(Rn(t,e)),n)}function fr(t,e,o,n){for(var r=t.length,i=n?r:-1;(n?i--:++i<r)&&e(t[i],i,t););return o?sr(t,n?0:i,n?i+1:r):sr(t,n?i+1:0,n?r:i)}function mr(t,e){var o=t;return o instanceof Jo&&(o=o.value()),Le(e,(function(t,e){return e.func.apply(e.thisArg,Me([t],e.args))}),o)}function vr(t,e,o){var r=t.length;if(r<2)return r?dr(t[0]):[];for(var i=-1,s=n(r);++i<r;)for(var a=t[i],l=-1;++l<r;)l!=i&&(s[i]=gn(s[i]||a,t[l],e,o));return dr(Tn(s,1),e,o)}function yr(t,e,o){for(var n=-1,i=t.length,s=e.length,a={};++n<i;){var l=n<s?e[n]:r;o(a,t[n],l)}return a}function Tr(t){return Zs(t)?t:[]}function br(t){return"function"==typeof t?t:sl}function Er(t,e){return Ys(t)?t:Si(t,e)?[t]:Fi(ba(t))}var Sr=Qn;function Cr(t,e,o){var n=t.length;return o=o===r?n:o,!e&&o>=n?t:sr(t,e,o)}var kr=pe||function(t){return de.clearTimeout(t)};function Rr(t,e){if(e)return t.slice();var o=t.length,n=Jt?Jt(o):new t.constructor(o);return t.copy(n),n}function Ir(t){var e=new t.constructor(t.byteLength);return new Xt(e).set(new Xt(t)),e}function wr(t,e){var o=e?Ir(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.length)}function Nr(t,e){if(t!==e){var o=t!==r,n=null===t,i=t==t,s=pa(t),a=e!==r,l=null===e,c=e==e,u=pa(e);if(!l&&!u&&!s&&t>e||s&&a&&c&&!l&&!u||n&&a&&c||!o&&c||!i)return 1;if(!n&&!s&&!u&&t<e||u&&o&&i&&!n&&!s||l&&o&&i||!a&&i||!c)return-1}return 0}function Or(t,e,o,r){for(var i=-1,s=t.length,a=o.length,l=-1,c=e.length,u=To(s-a,0),p=n(c+u),h=!r;++l<c;)p[l]=e[l];for(;++i<a;)(h||i<s)&&(p[o[i]]=t[i]);for(;u--;)p[l++]=t[i++];return p}function xr(t,e,o,r){for(var i=-1,s=t.length,a=-1,l=o.length,c=-1,u=e.length,p=To(s-l,0),h=n(p+u),d=!r;++i<p;)h[i]=t[i];for(var g=i;++c<u;)h[g+c]=e[c];for(;++a<l;)(d||i<s)&&(h[g+o[a]]=t[i++]);return h}function Ar(t,e){var o=-1,r=t.length;for(e||(e=n(r));++o<r;)e[o]=t[o];return e}function Dr(t,e,o,n){var i=!o;o||(o={});for(var s=-1,a=e.length;++s<a;){var l=e[s],c=n?n(o[l],t[l],l,o,t):r;c===r&&(c=t[l]),i?ln(o,l,c):nn(o,l,c)}return o}function Mr(t,e){return function(o,n){var r=Ys(o)?Re:sn,i=e?e():{};return r(o,t,pi(n,2),i)}}function Lr(t){return Qn((function(e,o){var n=-1,i=o.length,s=i>1?o[i-1]:r,a=i>2?o[2]:r;for(s=t.length>3&&"function"==typeof s?(i--,s):r,a&&Ei(o[0],o[1],a)&&(s=i<3?r:s,i=1),e=It(e);++n<i;){var l=o[n];l&&t(e,l,n,s)}return e}))}function Br(t,e){return function(o,n){if(null==o)return o;if(!zs(o))return t(o,n);for(var r=o.length,i=e?r:-1,s=It(o);(e?i--:++i<r)&&!1!==n(s[i],i,s););return o}}function Pr(t){return function(e,o,n){for(var r=-1,i=It(e),s=n(e),a=s.length;a--;){var l=s[t?a:++r];if(!1===o(i[l],l,i))break}return e}}function Vr(t){return function(e){var o=so(e=ba(e))?go(e):r,n=o?o[0]:e.charAt(0),i=o?Cr(o,1).join(""):e.slice(1);return n[t]()+i}}function Fr(t){return function(e){return Le(tl(Ja(e).replace(qt,"")),t,"")}}function Ur(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var o=Wo(t.prototype),n=t.apply(o,e);return na(n)?n:o}}function Hr(t){return function(e,o,n){var i=It(e);if(!zs(e)){var s=pi(o,3);e=Ma(e),o=function(t){return s(i[t],t,i)}}var a=t(e,o,n);return a>-1?i[s?e[a]:a]:r}}function Gr(t){return ii((function(e){var o=e.length,n=o,s=Xo.prototype.thru;for(t&&e.reverse();n--;){var a=e[n];if("function"!=typeof a)throw new Ot(i);if(s&&!l&&"wrapper"==ci(a))var l=new Xo([],!0)}for(n=l?n:o;++n<o;){var c=ci(a=e[n]),u="wrapper"==c?li(a):r;l=u&&Ci(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[ci(u[0])].apply(l,u[3]):1==a.length&&Ci(a)?l[c]():l.thru(a)}return function(){var t=arguments,n=t[0];if(l&&1==t.length&&Ys(n))return l.plant(n).value();for(var r=0,i=o?e[r].apply(this,t):n;++r<o;)i=e[r].call(this,i);return i}}))}function Wr(t,e,o,i,s,a,l,c,u,h){var d=e&p,g=1&e,_=2&e,f=24&e,m=512&e,v=_?r:Ur(t);return function r(){for(var p=arguments.length,y=n(p),T=p;T--;)y[T]=arguments[T];if(f)var b=ui(r),E=oo(y,b);if(i&&(y=Or(y,i,s,f)),a&&(y=xr(y,a,l,f)),p-=E,f&&p<h){var S=co(y,b);return Zr(t,e,Wr,r.placeholder,o,y,S,c,u,h-p)}var C=g?o:this,k=_?C[t]:t;return p=y.length,c?y=xi(y,c):m&&p>1&&y.reverse(),d&&u<p&&(y.length=u),this&&this!==de&&this instanceof r&&(k=v||Ur(k)),k.apply(C,y)}}function jr(t,e){return function(o,n){return function(t,e,o,n){return Sn(t,(function(t,r,i){e(n,o(t),r,i)})),n}(o,t,e(n),{})}}function Xr(t,e){return function(o,n){var i;if(o===r&&n===r)return e;if(o!==r&&(i=o),n!==r){if(i===r)return n;"string"==typeof o||"string"==typeof n?(o=hr(o),n=hr(n)):(o=pr(o),n=pr(n)),i=t(o,n)}return i}}function Jr(t){return ii((function(e){return e=De(e,$e(pi())),Qn((function(o){var n=this;return t(e,(function(t){return ke(t,n,o)}))}))}))}function Yr(t,e){var o=(e=e===r?" ":hr(e)).length;if(o<2)return o?qn(e,t):e;var n=qn(e,_e(t/ho(e)));return so(e)?Cr(go(n),0,t).join(""):n.slice(0,t)}function Kr(t){return function(e,o,i){return i&&"number"!=typeof i&&Ei(e,o,i)&&(o=i=r),e=fa(e),o===r?(o=e,e=0):o=fa(o),function(t,e,o,r){for(var i=-1,s=To(_e((e-t)/(o||1)),0),a=n(s);s--;)a[r?s:++i]=t,t+=o;return a}(e,o,i=i===r?e<o?1:-1:fa(i),t)}}function zr(t){return function(e,o){return"string"==typeof e&&"string"==typeof o||(e=ya(e),o=ya(o)),t(e,o)}}function Zr(t,e,o,n,i,s,a,l,p,h){var d=8&e;e|=d?c:u,4&(e&=~(d?u:c))||(e&=-4);var g=[t,e,i,d?s:r,d?a:r,d?r:s,d?r:a,l,p,h],_=o.apply(r,g);return Ci(t)&&Di(_,g),_.placeholder=n,Bi(_,t,e)}function $r(t){var e=Rt[t];return function(t,o){if(t=ya(t),(o=null==o?0:bo(ma(o),292))&&Je(t)){var n=(ba(t)+"e").split("e");return+((n=(ba(e(n[0]+"e"+(+n[1]+o)))+"e").split("e"))[0]+"e"+(+n[1]-o))}return e(t)}}var qr=No&&1/uo(new No([,-0]))[1]==d?function(t){return new No(t)}:pl;function Qr(t){return function(e){var o=mi(e);return o==k?ao(e):o==O?po(e):function(t,e){return De(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function ti(t,e,o,s,d,g,_,f){var m=2&e;if(!m&&"function"!=typeof t)throw new Ot(i);var v=s?s.length:0;if(v||(e&=-97,s=d=r),_=_===r?_:To(ma(_),0),f=f===r?f:ma(f),v-=d?d.length:0,e&u){var y=s,T=d;s=d=r}var b=m?r:li(t),E=[t,e,o,s,d,y,T,g,_,f];if(b&&function(t,e){var o=t[1],n=e[1],r=o|n,i=r<131,s=n==p&&8==o||n==p&&o==h&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==o;if(!i&&!s)return t;1&n&&(t[2]=e[2],r|=1&o?0:4);var l=e[3];if(l){var c=t[3];t[3]=c?Or(c,l,e[4]):l,t[4]=c?co(t[3],a):e[4]}(l=e[5])&&(c=t[5],t[5]=c?xr(c,l,e[6]):l,t[6]=c?co(t[5],a):e[6]);(l=e[7])&&(t[7]=l);n&p&&(t[8]=null==t[8]?e[8]:bo(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=r}(E,b),t=E[0],e=E[1],o=E[2],s=E[3],d=E[4],!(f=E[9]=E[9]===r?m?0:t.length:To(E[9]-v,0))&&24&e&&(e&=-25),e&&1!=e)S=8==e||e==l?function(t,e,o){var i=Ur(t);return function s(){for(var a=arguments.length,l=n(a),c=a,u=ui(s);c--;)l[c]=arguments[c];var p=a<3&&l[0]!==u&&l[a-1]!==u?[]:co(l,u);return(a-=p.length)<o?Zr(t,e,Wr,s.placeholder,r,l,p,r,r,o-a):ke(this&&this!==de&&this instanceof s?i:t,this,l)}}(t,e,f):e!=c&&33!=e||d.length?Wr.apply(r,E):function(t,e,o,r){var i=1&e,s=Ur(t);return function e(){for(var a=-1,l=arguments.length,c=-1,u=r.length,p=n(u+l),h=this&&this!==de&&this instanceof e?s:t;++c<u;)p[c]=r[c];for(;l--;)p[c++]=arguments[++a];return ke(h,i?o:this,p)}}(t,e,o,s);else var S=function(t,e,o){var n=1&e,r=Ur(t);return function e(){return(this&&this!==de&&this instanceof e?r:t).apply(n?o:this,arguments)}}(t,e,o);return Bi((b?nr:Di)(S,E),t,e)}function ei(t,e,o,n){return t===r||Ws(t,Dt[o])&&!Bt.call(n,o)?e:t}function oi(t,e,o,n,i,s){return na(t)&&na(e)&&(s.set(e,t),Xn(t,e,r,oi,s),s.delete(e)),t}function ni(t){return aa(t)?r:t}function ri(t,e,o,n,i,s){var a=1&o,l=t.length,c=e.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(t),p=s.get(e);if(u&&p)return u==e&&p==t;var h=-1,d=!0,g=2&o?new Zo:r;for(s.set(t,e),s.set(e,t);++h<l;){var _=t[h],f=e[h];if(n)var m=a?n(f,_,h,e,t,s):n(_,f,h,t,e,s);if(m!==r){if(m)continue;d=!1;break}if(g){if(!Pe(e,(function(t,e){if(!Qe(g,e)&&(_===t||i(_,t,o,n,s)))return g.push(e)}))){d=!1;break}}else if(_!==f&&!i(_,f,o,n,s)){d=!1;break}}return s.delete(t),s.delete(e),d}function ii(t){return Li(Ni(t,r,Ki),t+"")}function si(t){return In(t,Ma,_i)}function ai(t){return In(t,La,fi)}var li=Ao?function(t){return Ao.get(t)}:pl;function ci(t){for(var e=t.name+"",o=Do[e],n=Bt.call(Do,e)?o.length:0;n--;){var r=o[n],i=r.func;if(null==i||i==t)return r.name}return e}function ui(t){return(Bt.call(Go,"placeholder")?Go:t).placeholder}function pi(){var t=Go.iteratee||al;return t=t===al?Vn:t,arguments.length?t(arguments[0],arguments[1]):t}function hi(t,e){var o,n,r=t.__data__;return("string"==(n=typeof(o=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==o:null===o)?r["string"==typeof e?"string":"hash"]:r.map}function di(t){for(var e=Ma(t),o=e.length;o--;){var n=e[o],r=t[n];e[o]=[n,r,Ii(r)]}return e}function gi(t,e){var o=function(t,e){return null==t?r:t[e]}(t,e);return Pn(o)?o:r}var _i=ve?function(t){return null==t?[]:(t=It(t),Oe(ve(t),(function(e){return zt.call(t,e)})))}:vl,fi=ve?function(t){for(var e=[];t;)Me(e,_i(t)),t=Yt(t);return e}:vl,mi=wn;function vi(t,e,o){for(var n=-1,r=(e=Er(e,t)).length,i=!1;++n<r;){var s=Ui(e[n]);if(!(i=null!=t&&o(t,s)))break;t=t[s]}return i||++n!=r?i:!!(r=null==t?0:t.length)&&oa(r)&&bi(s,r)&&(Ys(t)||Js(t))}function yi(t){return"function"!=typeof t.constructor||Ri(t)?{}:Wo(Yt(t))}function Ti(t){return Ys(t)||Js(t)||!!($t&&t&&t[$t])}function bi(t,e){var o=typeof t;return!!(e=null==e?g:e)&&("number"==o||"symbol"!=o&&Tt.test(t))&&t>-1&&t%1==0&&t<e}function Ei(t,e,o){if(!na(o))return!1;var n=typeof e;return!!("number"==n?zs(o)&&bi(e,o.length):"string"==n&&e in o)&&Ws(o[e],t)}function Si(t,e){if(Ys(t))return!1;var o=typeof t;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=t&&!pa(t))||(ot.test(t)||!et.test(t)||null!=e&&t in It(e))}function Ci(t){var e=ci(t),o=Go[e];if("function"!=typeof o||!(e in Jo.prototype))return!1;if(t===o)return!0;var n=li(o);return!!n&&t===n[0]}(Ro&&mi(new Ro(new ArrayBuffer(1)))!=L||Io&&mi(new Io)!=k||wo&&mi(wo.resolve())!=w||No&&mi(new No)!=O||Oo&&mi(new Oo)!=D)&&(mi=function(t){var e=wn(t),o=e==I?t.constructor:r,n=o?Hi(o):"";if(n)switch(n){case Mo:return L;case Lo:return k;case Bo:return w;case Po:return O;case Vo:return D}return e});var ki=Mt?ta:yl;function Ri(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Dt)}function Ii(t){return t==t&&!na(t)}function wi(t,e){return function(o){return null!=o&&(o[t]===e&&(e!==r||t in It(o)))}}function Ni(t,e,o){return e=To(e===r?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=To(r.length-e,0),a=n(s);++i<s;)a[i]=r[e+i];i=-1;for(var l=n(e+1);++i<e;)l[i]=r[i];return l[e]=o(a),ke(t,this,l)}}function Oi(t,e){return e.length<2?t:Rn(t,sr(e,0,-1))}function xi(t,e){for(var o=t.length,n=bo(e.length,o),i=Ar(t);n--;){var s=e[n];t[n]=bi(s,o)?i[s]:r}return t}function Ai(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Di=Pi(nr),Mi=ge||function(t,e){return de.setTimeout(t,e)},Li=Pi(rr);function Bi(t,e,o){var n=e+"";return Li(t,function(t,e){var o=e.length;if(!o)return t;var n=o-1;return e[n]=(o>1?"& ":"")+e[n],e=e.join(o>2?", ":" "),t.replace(lt,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return Ie(m,(function(o){var n="_."+o[0];e&o[1]&&!xe(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(ct);return e?e[1].split(ut):[]}(n),o)))}function Pi(t){var e=0,o=0;return function(){var n=Eo(),i=16-(n-o);if(o=n,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(r,arguments)}}function Vi(t,e){var o=-1,n=t.length,i=n-1;for(e=e===r?n:e;++o<e;){var s=$n(o,i),a=t[s];t[s]=t[o],t[o]=a}return t.length=e,t}var Fi=function(t){var e=Ps(t,(function(t){return 500===o.size&&o.clear(),t})),o=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(nt,(function(t,o,n,r){e.push(n?r.replace(dt,"$1"):o||t)})),e}));function Ui(t){if("string"==typeof t||pa(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Hi(t){if(null!=t){try{return Lt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Gi(t){if(t instanceof Jo)return t.clone();var e=new Xo(t.__wrapped__,t.__chain__);return e.__actions__=Ar(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Wi=Qn((function(t,e){return Zs(t)?gn(t,Tn(e,1,Zs,!0)):[]})),ji=Qn((function(t,e){var o=Qi(e);return Zs(o)&&(o=r),Zs(t)?gn(t,Tn(e,1,Zs,!0),pi(o,2)):[]})),Xi=Qn((function(t,e){var o=Qi(e);return Zs(o)&&(o=r),Zs(t)?gn(t,Tn(e,1,Zs,!0),r,o):[]}));function Ji(t,e,o){var n=null==t?0:t.length;if(!n)return-1;var r=null==o?0:ma(o);return r<0&&(r=To(n+r,0)),Ue(t,pi(e,3),r)}function Yi(t,e,o){var n=null==t?0:t.length;if(!n)return-1;var i=n-1;return o!==r&&(i=ma(o),i=o<0?To(n+i,0):bo(i,n-1)),Ue(t,pi(e,3),i,!0)}function Ki(t){return(null==t?0:t.length)?Tn(t,1):[]}function zi(t){return t&&t.length?t[0]:r}var Zi=Qn((function(t){var e=De(t,Tr);return e.length&&e[0]===t[0]?An(e):[]})),$i=Qn((function(t){var e=Qi(t),o=De(t,Tr);return e===Qi(o)?e=r:o.pop(),o.length&&o[0]===t[0]?An(o,pi(e,2)):[]})),qi=Qn((function(t){var e=Qi(t),o=De(t,Tr);return(e="function"==typeof e?e:r)&&o.pop(),o.length&&o[0]===t[0]?An(o,r,e):[]}));function Qi(t){var e=null==t?0:t.length;return e?t[e-1]:r}var ts=Qn(es);function es(t,e){return t&&t.length&&e&&e.length?zn(t,e):t}var os=ii((function(t,e){var o=null==t?0:t.length,n=cn(t,e);return Zn(t,De(e,(function(t){return bi(t,o)?+t:t})).sort(Nr)),n}));function ns(t){return null==t?t:ko.call(t)}var rs=Qn((function(t){return dr(Tn(t,1,Zs,!0))})),is=Qn((function(t){var e=Qi(t);return Zs(e)&&(e=r),dr(Tn(t,1,Zs,!0),pi(e,2))})),ss=Qn((function(t){var e=Qi(t);return e="function"==typeof e?e:r,dr(Tn(t,1,Zs,!0),r,e)}));function as(t){if(!t||!t.length)return[];var e=0;return t=Oe(t,(function(t){if(Zs(t))return e=To(t.length,e),!0})),ze(e,(function(e){return De(t,Xe(e))}))}function ls(t,e){if(!t||!t.length)return[];var o=as(t);return null==e?o:De(o,(function(t){return ke(e,r,t)}))}var cs=Qn((function(t,e){return Zs(t)?gn(t,e):[]})),us=Qn((function(t){return vr(Oe(t,Zs))})),ps=Qn((function(t){var e=Qi(t);return Zs(e)&&(e=r),vr(Oe(t,Zs),pi(e,2))})),hs=Qn((function(t){var e=Qi(t);return e="function"==typeof e?e:r,vr(Oe(t,Zs),r,e)})),ds=Qn(as);var gs=Qn((function(t){var e=t.length,o=e>1?t[e-1]:r;return o="function"==typeof o?(t.pop(),o):r,ls(t,o)}));function _s(t){var e=Go(t);return e.__chain__=!0,e}function fs(t,e){return e(t)}var ms=ii((function(t){var e=t.length,o=e?t[0]:0,n=this.__wrapped__,i=function(e){return cn(e,t)};return!(e>1||this.__actions__.length)&&n instanceof Jo&&bi(o)?((n=n.slice(o,+o+(e?1:0))).__actions__.push({func:fs,args:[i],thisArg:r}),new Xo(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(r),t}))):this.thru(i)}));var vs=Mr((function(t,e,o){Bt.call(t,o)?++t[o]:ln(t,o,1)}));var ys=Hr(Ji),Ts=Hr(Yi);function bs(t,e){return(Ys(t)?Ie:_n)(t,pi(e,3))}function Es(t,e){return(Ys(t)?we:fn)(t,pi(e,3))}var Ss=Mr((function(t,e,o){Bt.call(t,o)?t[o].push(e):ln(t,o,[e])}));var Cs=Qn((function(t,e,o){var r=-1,i="function"==typeof e,s=zs(t)?n(t.length):[];return _n(t,(function(t){s[++r]=i?ke(e,t,o):Dn(t,e,o)})),s})),ks=Mr((function(t,e,o){ln(t,o,e)}));function Rs(t,e){return(Ys(t)?De:Gn)(t,pi(e,3))}var Is=Mr((function(t,e,o){t[o?0:1].push(e)}),(function(){return[[],[]]}));var ws=Qn((function(t,e){if(null==t)return[];var o=e.length;return o>1&&Ei(t,e[0],e[1])?e=[]:o>2&&Ei(e[0],e[1],e[2])&&(e=[e[0]]),Yn(t,Tn(e,1),[])})),Ns=he||function(){return de.Date.now()};function Os(t,e,o){return e=o?r:e,e=t&&null==e?t.length:e,ti(t,p,r,r,r,r,e)}function xs(t,e){var o;if("function"!=typeof e)throw new Ot(i);return t=ma(t),function(){return--t>0&&(o=e.apply(this,arguments)),t<=1&&(e=r),o}}var As=Qn((function(t,e,o){var n=1;if(o.length){var r=co(o,ui(As));n|=c}return ti(t,n,e,o,r)})),Ds=Qn((function(t,e,o){var n=3;if(o.length){var r=co(o,ui(Ds));n|=c}return ti(e,n,t,o,r)}));function Ms(t,e,o){var n,s,a,l,c,u,p=0,h=!1,d=!1,g=!0;if("function"!=typeof t)throw new Ot(i);function _(e){var o=n,i=s;return n=s=r,p=e,l=t.apply(i,o)}function f(t){return p=t,c=Mi(v,e),h?_(t):l}function m(t){var o=t-u;return u===r||o>=e||o<0||d&&t-p>=a}function v(){var t=Ns();if(m(t))return y(t);c=Mi(v,function(t){var o=e-(t-u);return d?bo(o,a-(t-p)):o}(t))}function y(t){return c=r,g&&n?_(t):(n=s=r,l)}function T(){var t=Ns(),o=m(t);if(n=arguments,s=this,u=t,o){if(c===r)return f(u);if(d)return kr(c),c=Mi(v,e),_(u)}return c===r&&(c=Mi(v,e)),l}return e=ya(e)||0,na(o)&&(h=!!o.leading,a=(d="maxWait"in o)?To(ya(o.maxWait)||0,e):a,g="trailing"in o?!!o.trailing:g),T.cancel=function(){c!==r&&kr(c),p=0,n=u=s=c=r},T.flush=function(){return c===r?l:y(Ns())},T}var Ls=Qn((function(t,e){return dn(t,1,e)})),Bs=Qn((function(t,e,o){return dn(t,ya(e)||0,o)}));function Ps(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Ot(i);var o=function(){var n=arguments,r=e?e.apply(this,n):n[0],i=o.cache;if(i.has(r))return i.get(r);var s=t.apply(this,n);return o.cache=i.set(r,s)||i,s};return o.cache=new(Ps.Cache||zo),o}function Vs(t){if("function"!=typeof t)throw new Ot(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ps.Cache=zo;var Fs=Sr((function(t,e){var o=(e=1==e.length&&Ys(e[0])?De(e[0],$e(pi())):De(Tn(e,1),$e(pi()))).length;return Qn((function(n){for(var r=-1,i=bo(n.length,o);++r<i;)n[r]=e[r].call(this,n[r]);return ke(t,this,n)}))})),Us=Qn((function(t,e){var o=co(e,ui(Us));return ti(t,c,r,e,o)})),Hs=Qn((function(t,e){var o=co(e,ui(Hs));return ti(t,u,r,e,o)})),Gs=ii((function(t,e){return ti(t,h,r,r,r,e)}));function Ws(t,e){return t===e||t!=t&&e!=e}var js=zr(Nn),Xs=zr((function(t,e){return t>=e})),Js=Mn(function(){return arguments}())?Mn:function(t){return ra(t)&&Bt.call(t,"callee")&&!zt.call(t,"callee")},Ys=n.isArray,Ks=ye?$e(ye):function(t){return ra(t)&&wn(t)==M};function zs(t){return null!=t&&oa(t.length)&&!ta(t)}function Zs(t){return ra(t)&&zs(t)}var $s=Ve||yl,qs=Te?$e(Te):function(t){return ra(t)&&wn(t)==b};function Qs(t){if(!ra(t))return!1;var e=wn(t);return e==E||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!aa(t)}function ta(t){if(!na(t))return!1;var e=wn(t);return e==S||e==C||"[object AsyncFunction]"==e||"[object Proxy]"==e}function ea(t){return"number"==typeof t&&t==ma(t)}function oa(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=g}function na(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ra(t){return null!=t&&"object"==typeof t}var ia=be?$e(be):function(t){return ra(t)&&mi(t)==k};function sa(t){return"number"==typeof t||ra(t)&&wn(t)==R}function aa(t){if(!ra(t)||wn(t)!=I)return!1;var e=Yt(t);if(null===e)return!0;var o=Bt.call(e,"constructor")&&e.constructor;return"function"==typeof o&&o instanceof o&&Lt.call(o)==Ut}var la=Ee?$e(Ee):function(t){return ra(t)&&wn(t)==N};var ca=Se?$e(Se):function(t){return ra(t)&&mi(t)==O};function ua(t){return"string"==typeof t||!Ys(t)&&ra(t)&&wn(t)==x}function pa(t){return"symbol"==typeof t||ra(t)&&wn(t)==A}var ha=Ce?$e(Ce):function(t){return ra(t)&&oa(t.length)&&!!se[wn(t)]};var da=zr(Hn),ga=zr((function(t,e){return t<=e}));function _a(t){if(!t)return[];if(zs(t))return ua(t)?go(t):Ar(t);if(te&&t[te])return function(t){for(var e,o=[];!(e=t.next()).done;)o.push(e.value);return o}(t[te]());var e=mi(t);return(e==k?ao:e==O?uo:Wa)(t)}function fa(t){return t?(t=ya(t))===d||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ma(t){var e=fa(t),o=e%1;return e==e?o?e-o:e:0}function va(t){return t?un(ma(t),0,f):0}function ya(t){if("number"==typeof t)return t;if(pa(t))return _;if(na(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=na(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ze(t);var o=mt.test(t);return o||yt.test(t)?ue(t.slice(2),o?2:8):ft.test(t)?_:+t}function Ta(t){return Dr(t,La(t))}function ba(t){return null==t?"":hr(t)}var Ea=Lr((function(t,e){if(Ri(e)||zs(e))Dr(e,Ma(e),t);else for(var o in e)Bt.call(e,o)&&nn(t,o,e[o])})),Sa=Lr((function(t,e){Dr(e,La(e),t)})),Ca=Lr((function(t,e,o,n){Dr(e,La(e),t,n)})),ka=Lr((function(t,e,o,n){Dr(e,Ma(e),t,n)})),Ra=ii(cn);var Ia=Qn((function(t,e){t=It(t);var o=-1,n=e.length,i=n>2?e[2]:r;for(i&&Ei(e[0],e[1],i)&&(n=1);++o<n;)for(var s=e[o],a=La(s),l=-1,c=a.length;++l<c;){var u=a[l],p=t[u];(p===r||Ws(p,Dt[u])&&!Bt.call(t,u))&&(t[u]=s[u])}return t})),wa=Qn((function(t){return t.push(r,oi),ke(Pa,r,t)}));function Na(t,e,o){var n=null==t?r:Rn(t,e);return n===r?o:n}function Oa(t,e){return null!=t&&vi(t,e,xn)}var xa=jr((function(t,e,o){null!=e&&"function"!=typeof e.toString&&(e=Ft.call(e)),t[e]=o}),nl(sl)),Aa=jr((function(t,e,o){null!=e&&"function"!=typeof e.toString&&(e=Ft.call(e)),Bt.call(t,e)?t[e].push(o):t[e]=[o]}),pi),Da=Qn(Dn);function Ma(t){return zs(t)?qo(t):Fn(t)}function La(t){return zs(t)?qo(t,!0):Un(t)}var Ba=Lr((function(t,e,o){Xn(t,e,o)})),Pa=Lr((function(t,e,o,n){Xn(t,e,o,n)})),Va=ii((function(t,e){var o={};if(null==t)return o;var n=!1;e=De(e,(function(e){return e=Er(e,t),n||(n=e.length>1),e})),Dr(t,ai(t),o),n&&(o=pn(o,7,ni));for(var r=e.length;r--;)gr(o,e[r]);return o}));var Fa=ii((function(t,e){return null==t?{}:function(t,e){return Kn(t,e,(function(e,o){return Oa(t,o)}))}(t,e)}));function Ua(t,e){if(null==t)return{};var o=De(ai(t),(function(t){return[t]}));return e=pi(e),Kn(t,o,(function(t,o){return e(t,o[0])}))}var Ha=Qr(Ma),Ga=Qr(La);function Wa(t){return null==t?[]:qe(t,Ma(t))}var ja=Fr((function(t,e,o){return e=e.toLowerCase(),t+(o?Xa(e):e)}));function Xa(t){return Qa(ba(t).toLowerCase())}function Ja(t){return(t=ba(t))&&t.replace(bt,no).replace(Qt,"")}var Ya=Fr((function(t,e,o){return t+(o?"-":"")+e.toLowerCase()})),Ka=Fr((function(t,e,o){return t+(o?" ":"")+e.toLowerCase()})),za=Vr("toLowerCase");var Za=Fr((function(t,e,o){return t+(o?"_":"")+e.toLowerCase()}));var $a=Fr((function(t,e,o){return t+(o?" ":"")+Qa(e)}));var qa=Fr((function(t,e,o){return t+(o?" ":"")+e.toUpperCase()})),Qa=Vr("toUpperCase");function tl(t,e,o){return t=ba(t),(e=o?r:e)===r?function(t){return ne.test(t)}(t)?function(t){return t.match(ee)||[]}(t):function(t){return t.match(pt)||[]}(t):t.match(e)||[]}var el=Qn((function(t,e){try{return ke(t,r,e)}catch(t){return Qs(t)?t:new Ct(t)}})),ol=ii((function(t,e){return Ie(e,(function(e){e=Ui(e),ln(t,e,As(t[e],t))})),t}));function nl(t){return function(){return t}}var rl=Gr(),il=Gr(!0);function sl(t){return t}function al(t){return Vn("function"==typeof t?t:pn(t,1))}var ll=Qn((function(t,e){return function(o){return Dn(o,t,e)}})),cl=Qn((function(t,e){return function(o){return Dn(t,o,e)}}));function ul(t,e,o){var n=Ma(e),r=kn(e,n);null!=o||na(e)&&(r.length||!n.length)||(o=e,e=t,t=this,r=kn(e,Ma(e)));var i=!(na(o)&&"chain"in o&&!o.chain),s=ta(t);return Ie(r,(function(o){var n=e[o];t[o]=n,s&&(t.prototype[o]=function(){var e=this.__chain__;if(i||e){var o=t(this.__wrapped__),r=o.__actions__=Ar(this.__actions__);return r.push({func:n,args:arguments,thisArg:t}),o.__chain__=e,o}return n.apply(t,Me([this.value()],arguments))})})),t}function pl(){}var hl=Jr(De),dl=Jr(Ne),gl=Jr(Pe);function _l(t){return Si(t)?Xe(Ui(t)):function(t){return function(e){return Rn(e,t)}}(t)}var fl=Kr(),ml=Kr(!0);function vl(){return[]}function yl(){return!1}var Tl=Xr((function(t,e){return t+e}),0),bl=$r("ceil"),El=Xr((function(t,e){return t/e}),1),Sl=$r("floor");var Cl,kl=Xr((function(t,e){return t*e}),1),Rl=$r("round"),Il=Xr((function(t,e){return t-e}),0);return Go.after=function(t,e){if("function"!=typeof e)throw new Ot(i);return t=ma(t),function(){if(--t<1)return e.apply(this,arguments)}},Go.ary=Os,Go.assign=Ea,Go.assignIn=Sa,Go.assignInWith=Ca,Go.assignWith=ka,Go.at=Ra,Go.before=xs,Go.bind=As,Go.bindAll=ol,Go.bindKey=Ds,Go.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ys(t)?t:[t]},Go.chain=_s,Go.chunk=function(t,e,o){e=(o?Ei(t,e,o):e===r)?1:To(ma(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var s=0,a=0,l=n(_e(i/e));s<i;)l[a++]=sr(t,s,s+=e);return l},Go.compact=function(t){for(var e=-1,o=null==t?0:t.length,n=0,r=[];++e<o;){var i=t[e];i&&(r[n++]=i)}return r},Go.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),o=arguments[0],r=t;r--;)e[r-1]=arguments[r];return Me(Ys(o)?Ar(o):[o],Tn(e,1))},Go.cond=function(t){var e=null==t?0:t.length,o=pi();return t=e?De(t,(function(t){if("function"!=typeof t[1])throw new Ot(i);return[o(t[0]),t[1]]})):[],Qn((function(o){for(var n=-1;++n<e;){var r=t[n];if(ke(r[0],this,o))return ke(r[1],this,o)}}))},Go.conforms=function(t){return function(t){var e=Ma(t);return function(o){return hn(o,t,e)}}(pn(t,1))},Go.constant=nl,Go.countBy=vs,Go.create=function(t,e){var o=Wo(t);return null==e?o:an(o,e)},Go.curry=function t(e,o,n){var i=ti(e,8,r,r,r,r,r,o=n?r:o);return i.placeholder=t.placeholder,i},Go.curryRight=function t(e,o,n){var i=ti(e,l,r,r,r,r,r,o=n?r:o);return i.placeholder=t.placeholder,i},Go.debounce=Ms,Go.defaults=Ia,Go.defaultsDeep=wa,Go.defer=Ls,Go.delay=Bs,Go.difference=Wi,Go.differenceBy=ji,Go.differenceWith=Xi,Go.drop=function(t,e,o){var n=null==t?0:t.length;return n?sr(t,(e=o||e===r?1:ma(e))<0?0:e,n):[]},Go.dropRight=function(t,e,o){var n=null==t?0:t.length;return n?sr(t,0,(e=n-(e=o||e===r?1:ma(e)))<0?0:e):[]},Go.dropRightWhile=function(t,e){return t&&t.length?fr(t,pi(e,3),!0,!0):[]},Go.dropWhile=function(t,e){return t&&t.length?fr(t,pi(e,3),!0):[]},Go.fill=function(t,e,o,n){var i=null==t?0:t.length;return i?(o&&"number"!=typeof o&&Ei(t,e,o)&&(o=0,n=i),function(t,e,o,n){var i=t.length;for((o=ma(o))<0&&(o=-o>i?0:i+o),(n=n===r||n>i?i:ma(n))<0&&(n+=i),n=o>n?0:va(n);o<n;)t[o++]=e;return t}(t,e,o,n)):[]},Go.filter=function(t,e){return(Ys(t)?Oe:yn)(t,pi(e,3))},Go.flatMap=function(t,e){return Tn(Rs(t,e),1)},Go.flatMapDeep=function(t,e){return Tn(Rs(t,e),d)},Go.flatMapDepth=function(t,e,o){return o=o===r?1:ma(o),Tn(Rs(t,e),o)},Go.flatten=Ki,Go.flattenDeep=function(t){return(null==t?0:t.length)?Tn(t,d):[]},Go.flattenDepth=function(t,e){return(null==t?0:t.length)?Tn(t,e=e===r?1:ma(e)):[]},Go.flip=function(t){return ti(t,512)},Go.flow=rl,Go.flowRight=il,Go.fromPairs=function(t){for(var e=-1,o=null==t?0:t.length,n={};++e<o;){var r=t[e];n[r[0]]=r[1]}return n},Go.functions=function(t){return null==t?[]:kn(t,Ma(t))},Go.functionsIn=function(t){return null==t?[]:kn(t,La(t))},Go.groupBy=Ss,Go.initial=function(t){return(null==t?0:t.length)?sr(t,0,-1):[]},Go.intersection=Zi,Go.intersectionBy=$i,Go.intersectionWith=qi,Go.invert=xa,Go.invertBy=Aa,Go.invokeMap=Cs,Go.iteratee=al,Go.keyBy=ks,Go.keys=Ma,Go.keysIn=La,Go.map=Rs,Go.mapKeys=function(t,e){var o={};return e=pi(e,3),Sn(t,(function(t,n,r){ln(o,e(t,n,r),t)})),o},Go.mapValues=function(t,e){var o={};return e=pi(e,3),Sn(t,(function(t,n,r){ln(o,n,e(t,n,r))})),o},Go.matches=function(t){return Wn(pn(t,1))},Go.matchesProperty=function(t,e){return jn(t,pn(e,1))},Go.memoize=Ps,Go.merge=Ba,Go.mergeWith=Pa,Go.method=ll,Go.methodOf=cl,Go.mixin=ul,Go.negate=Vs,Go.nthArg=function(t){return t=ma(t),Qn((function(e){return Jn(e,t)}))},Go.omit=Va,Go.omitBy=function(t,e){return Ua(t,Vs(pi(e)))},Go.once=function(t){return xs(2,t)},Go.orderBy=function(t,e,o,n){return null==t?[]:(Ys(e)||(e=null==e?[]:[e]),Ys(o=n?r:o)||(o=null==o?[]:[o]),Yn(t,e,o))},Go.over=hl,Go.overArgs=Fs,Go.overEvery=dl,Go.overSome=gl,Go.partial=Us,Go.partialRight=Hs,Go.partition=Is,Go.pick=Fa,Go.pickBy=Ua,Go.property=_l,Go.propertyOf=function(t){return function(e){return null==t?r:Rn(t,e)}},Go.pull=ts,Go.pullAll=es,Go.pullAllBy=function(t,e,o){return t&&t.length&&e&&e.length?zn(t,e,pi(o,2)):t},Go.pullAllWith=function(t,e,o){return t&&t.length&&e&&e.length?zn(t,e,r,o):t},Go.pullAt=os,Go.range=fl,Go.rangeRight=ml,Go.rearg=Gs,Go.reject=function(t,e){return(Ys(t)?Oe:yn)(t,Vs(pi(e,3)))},Go.remove=function(t,e){var o=[];if(!t||!t.length)return o;var n=-1,r=[],i=t.length;for(e=pi(e,3);++n<i;){var s=t[n];e(s,n,t)&&(o.push(s),r.push(n))}return Zn(t,r),o},Go.rest=function(t,e){if("function"!=typeof t)throw new Ot(i);return Qn(t,e=e===r?e:ma(e))},Go.reverse=ns,Go.sampleSize=function(t,e,o){return e=(o?Ei(t,e,o):e===r)?1:ma(e),(Ys(t)?tn:er)(t,e)},Go.set=function(t,e,o){return null==t?t:or(t,e,o)},Go.setWith=function(t,e,o,n){return n="function"==typeof n?n:r,null==t?t:or(t,e,o,n)},Go.shuffle=function(t){return(Ys(t)?en:ir)(t)},Go.slice=function(t,e,o){var n=null==t?0:t.length;return n?(o&&"number"!=typeof o&&Ei(t,e,o)?(e=0,o=n):(e=null==e?0:ma(e),o=o===r?n:ma(o)),sr(t,e,o)):[]},Go.sortBy=ws,Go.sortedUniq=function(t){return t&&t.length?ur(t):[]},Go.sortedUniqBy=function(t,e){return t&&t.length?ur(t,pi(e,2)):[]},Go.split=function(t,e,o){return o&&"number"!=typeof o&&Ei(t,e,o)&&(e=o=r),(o=o===r?f:o>>>0)?(t=ba(t))&&("string"==typeof e||null!=e&&!la(e))&&!(e=hr(e))&&so(t)?Cr(go(t),0,o):t.split(e,o):[]},Go.spread=function(t,e){if("function"!=typeof t)throw new Ot(i);return e=null==e?0:To(ma(e),0),Qn((function(o){var n=o[e],r=Cr(o,0,e);return n&&Me(r,n),ke(t,this,r)}))},Go.tail=function(t){var e=null==t?0:t.length;return e?sr(t,1,e):[]},Go.take=function(t,e,o){return t&&t.length?sr(t,0,(e=o||e===r?1:ma(e))<0?0:e):[]},Go.takeRight=function(t,e,o){var n=null==t?0:t.length;return n?sr(t,(e=n-(e=o||e===r?1:ma(e)))<0?0:e,n):[]},Go.takeRightWhile=function(t,e){return t&&t.length?fr(t,pi(e,3),!1,!0):[]},Go.takeWhile=function(t,e){return t&&t.length?fr(t,pi(e,3)):[]},Go.tap=function(t,e){return e(t),t},Go.throttle=function(t,e,o){var n=!0,r=!0;if("function"!=typeof t)throw new Ot(i);return na(o)&&(n="leading"in o?!!o.leading:n,r="trailing"in o?!!o.trailing:r),Ms(t,e,{leading:n,maxWait:e,trailing:r})},Go.thru=fs,Go.toArray=_a,Go.toPairs=Ha,Go.toPairsIn=Ga,Go.toPath=function(t){return Ys(t)?De(t,Ui):pa(t)?[t]:Ar(Fi(ba(t)))},Go.toPlainObject=Ta,Go.transform=function(t,e,o){var n=Ys(t),r=n||$s(t)||ha(t);if(e=pi(e,4),null==o){var i=t&&t.constructor;o=r?n?new i:[]:na(t)&&ta(i)?Wo(Yt(t)):{}}return(r?Ie:Sn)(t,(function(t,n,r){return e(o,t,n,r)})),o},Go.unary=function(t){return Os(t,1)},Go.union=rs,Go.unionBy=is,Go.unionWith=ss,Go.uniq=function(t){return t&&t.length?dr(t):[]},Go.uniqBy=function(t,e){return t&&t.length?dr(t,pi(e,2)):[]},Go.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?dr(t,r,e):[]},Go.unset=function(t,e){return null==t||gr(t,e)},Go.unzip=as,Go.unzipWith=ls,Go.update=function(t,e,o){return null==t?t:_r(t,e,br(o))},Go.updateWith=function(t,e,o,n){return n="function"==typeof n?n:r,null==t?t:_r(t,e,br(o),n)},Go.values=Wa,Go.valuesIn=function(t){return null==t?[]:qe(t,La(t))},Go.without=cs,Go.words=tl,Go.wrap=function(t,e){return Us(br(e),t)},Go.xor=us,Go.xorBy=ps,Go.xorWith=hs,Go.zip=ds,Go.zipObject=function(t,e){return yr(t||[],e||[],nn)},Go.zipObjectDeep=function(t,e){return yr(t||[],e||[],or)},Go.zipWith=gs,Go.entries=Ha,Go.entriesIn=Ga,Go.extend=Sa,Go.extendWith=Ca,ul(Go,Go),Go.add=Tl,Go.attempt=el,Go.camelCase=ja,Go.capitalize=Xa,Go.ceil=bl,Go.clamp=function(t,e,o){return o===r&&(o=e,e=r),o!==r&&(o=(o=ya(o))==o?o:0),e!==r&&(e=(e=ya(e))==e?e:0),un(ya(t),e,o)},Go.clone=function(t){return pn(t,4)},Go.cloneDeep=function(t){return pn(t,5)},Go.cloneDeepWith=function(t,e){return pn(t,5,e="function"==typeof e?e:r)},Go.cloneWith=function(t,e){return pn(t,4,e="function"==typeof e?e:r)},Go.conformsTo=function(t,e){return null==e||hn(t,e,Ma(e))},Go.deburr=Ja,Go.defaultTo=function(t,e){return null==t||t!=t?e:t},Go.divide=El,Go.endsWith=function(t,e,o){t=ba(t),e=hr(e);var n=t.length,i=o=o===r?n:un(ma(o),0,n);return(o-=e.length)>=0&&t.slice(o,i)==e},Go.eq=Ws,Go.escape=function(t){return(t=ba(t))&&$.test(t)?t.replace(z,ro):t},Go.escapeRegExp=function(t){return(t=ba(t))&&it.test(t)?t.replace(rt,"\\$&"):t},Go.every=function(t,e,o){var n=Ys(t)?Ne:mn;return o&&Ei(t,e,o)&&(e=r),n(t,pi(e,3))},Go.find=ys,Go.findIndex=Ji,Go.findKey=function(t,e){return Fe(t,pi(e,3),Sn)},Go.findLast=Ts,Go.findLastIndex=Yi,Go.findLastKey=function(t,e){return Fe(t,pi(e,3),Cn)},Go.floor=Sl,Go.forEach=bs,Go.forEachRight=Es,Go.forIn=function(t,e){return null==t?t:bn(t,pi(e,3),La)},Go.forInRight=function(t,e){return null==t?t:En(t,pi(e,3),La)},Go.forOwn=function(t,e){return t&&Sn(t,pi(e,3))},Go.forOwnRight=function(t,e){return t&&Cn(t,pi(e,3))},Go.get=Na,Go.gt=js,Go.gte=Xs,Go.has=function(t,e){return null!=t&&vi(t,e,On)},Go.hasIn=Oa,Go.head=zi,Go.identity=sl,Go.includes=function(t,e,o,n){t=zs(t)?t:Wa(t),o=o&&!n?ma(o):0;var r=t.length;return o<0&&(o=To(r+o,0)),ua(t)?o<=r&&t.indexOf(e,o)>-1:!!r&&He(t,e,o)>-1},Go.indexOf=function(t,e,o){var n=null==t?0:t.length;if(!n)return-1;var r=null==o?0:ma(o);return r<0&&(r=To(n+r,0)),He(t,e,r)},Go.inRange=function(t,e,o){return e=fa(e),o===r?(o=e,e=0):o=fa(o),function(t,e,o){return t>=bo(e,o)&&t<To(e,o)}(t=ya(t),e,o)},Go.invoke=Da,Go.isArguments=Js,Go.isArray=Ys,Go.isArrayBuffer=Ks,Go.isArrayLike=zs,Go.isArrayLikeObject=Zs,Go.isBoolean=function(t){return!0===t||!1===t||ra(t)&&wn(t)==T},Go.isBuffer=$s,Go.isDate=qs,Go.isElement=function(t){return ra(t)&&1===t.nodeType&&!aa(t)},Go.isEmpty=function(t){if(null==t)return!0;if(zs(t)&&(Ys(t)||"string"==typeof t||"function"==typeof t.splice||$s(t)||ha(t)||Js(t)))return!t.length;var e=mi(t);if(e==k||e==O)return!t.size;if(Ri(t))return!Fn(t).length;for(var o in t)if(Bt.call(t,o))return!1;return!0},Go.isEqual=function(t,e){return Ln(t,e)},Go.isEqualWith=function(t,e,o){var n=(o="function"==typeof o?o:r)?o(t,e):r;return n===r?Ln(t,e,r,o):!!n},Go.isError=Qs,Go.isFinite=function(t){return"number"==typeof t&&Je(t)},Go.isFunction=ta,Go.isInteger=ea,Go.isLength=oa,Go.isMap=ia,Go.isMatch=function(t,e){return t===e||Bn(t,e,di(e))},Go.isMatchWith=function(t,e,o){return o="function"==typeof o?o:r,Bn(t,e,di(e),o)},Go.isNaN=function(t){return sa(t)&&t!=+t},Go.isNative=function(t){if(ki(t))throw new Ct("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Pn(t)},Go.isNil=function(t){return null==t},Go.isNull=function(t){return null===t},Go.isNumber=sa,Go.isObject=na,Go.isObjectLike=ra,Go.isPlainObject=aa,Go.isRegExp=la,Go.isSafeInteger=function(t){return ea(t)&&t>=-9007199254740991&&t<=g},Go.isSet=ca,Go.isString=ua,Go.isSymbol=pa,Go.isTypedArray=ha,Go.isUndefined=function(t){return t===r},Go.isWeakMap=function(t){return ra(t)&&mi(t)==D},Go.isWeakSet=function(t){return ra(t)&&"[object WeakSet]"==wn(t)},Go.join=function(t,e){return null==t?"":vo.call(t,e)},Go.kebabCase=Ya,Go.last=Qi,Go.lastIndexOf=function(t,e,o){var n=null==t?0:t.length;if(!n)return-1;var i=n;return o!==r&&(i=(i=ma(o))<0?To(n+i,0):bo(i,n-1)),e==e?function(t,e,o){for(var n=o+1;n--;)if(t[n]===e)return n;return n}(t,e,i):Ue(t,We,i,!0)},Go.lowerCase=Ka,Go.lowerFirst=za,Go.lt=da,Go.lte=ga,Go.max=function(t){return t&&t.length?vn(t,sl,Nn):r},Go.maxBy=function(t,e){return t&&t.length?vn(t,pi(e,2),Nn):r},Go.mean=function(t){return je(t,sl)},Go.meanBy=function(t,e){return je(t,pi(e,2))},Go.min=function(t){return t&&t.length?vn(t,sl,Hn):r},Go.minBy=function(t,e){return t&&t.length?vn(t,pi(e,2),Hn):r},Go.stubArray=vl,Go.stubFalse=yl,Go.stubObject=function(){return{}},Go.stubString=function(){return""},Go.stubTrue=function(){return!0},Go.multiply=kl,Go.nth=function(t,e){return t&&t.length?Jn(t,ma(e)):r},Go.noConflict=function(){return de._===this&&(de._=Ht),this},Go.noop=pl,Go.now=Ns,Go.pad=function(t,e,o){t=ba(t);var n=(e=ma(e))?ho(t):0;if(!e||n>=e)return t;var r=(e-n)/2;return Yr(me(r),o)+t+Yr(_e(r),o)},Go.padEnd=function(t,e,o){t=ba(t);var n=(e=ma(e))?ho(t):0;return e&&n<e?t+Yr(e-n,o):t},Go.padStart=function(t,e,o){t=ba(t);var n=(e=ma(e))?ho(t):0;return e&&n<e?Yr(e-n,o)+t:t},Go.parseInt=function(t,e,o){return o||null==e?e=0:e&&(e=+e),So(ba(t).replace(st,""),e||0)},Go.random=function(t,e,o){if(o&&"boolean"!=typeof o&&Ei(t,e,o)&&(e=o=r),o===r&&("boolean"==typeof e?(o=e,e=r):"boolean"==typeof t&&(o=t,t=r)),t===r&&e===r?(t=0,e=1):(t=fa(t),e===r?(e=t,t=0):e=fa(e)),t>e){var n=t;t=e,e=n}if(o||t%1||e%1){var i=Co();return bo(t+i*(e-t+ce("1e-"+((i+"").length-1))),e)}return $n(t,e)},Go.reduce=function(t,e,o){var n=Ys(t)?Le:Ye,r=arguments.length<3;return n(t,pi(e,4),o,r,_n)},Go.reduceRight=function(t,e,o){var n=Ys(t)?Be:Ye,r=arguments.length<3;return n(t,pi(e,4),o,r,fn)},Go.repeat=function(t,e,o){return e=(o?Ei(t,e,o):e===r)?1:ma(e),qn(ba(t),e)},Go.replace=function(){var t=arguments,e=ba(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Go.result=function(t,e,o){var n=-1,i=(e=Er(e,t)).length;for(i||(i=1,t=r);++n<i;){var s=null==t?r:t[Ui(e[n])];s===r&&(n=i,s=o),t=ta(s)?s.call(t):s}return t},Go.round=Rl,Go.runInContext=t,Go.sample=function(t){return(Ys(t)?Qo:tr)(t)},Go.size=function(t){if(null==t)return 0;if(zs(t))return ua(t)?ho(t):t.length;var e=mi(t);return e==k||e==O?t.size:Fn(t).length},Go.snakeCase=Za,Go.some=function(t,e,o){var n=Ys(t)?Pe:ar;return o&&Ei(t,e,o)&&(e=r),n(t,pi(e,3))},Go.sortedIndex=function(t,e){return lr(t,e)},Go.sortedIndexBy=function(t,e,o){return cr(t,e,pi(o,2))},Go.sortedIndexOf=function(t,e){var o=null==t?0:t.length;if(o){var n=lr(t,e);if(n<o&&Ws(t[n],e))return n}return-1},Go.sortedLastIndex=function(t,e){return lr(t,e,!0)},Go.sortedLastIndexBy=function(t,e,o){return cr(t,e,pi(o,2),!0)},Go.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var o=lr(t,e,!0)-1;if(Ws(t[o],e))return o}return-1},Go.startCase=$a,Go.startsWith=function(t,e,o){return t=ba(t),o=null==o?0:un(ma(o),0,t.length),e=hr(e),t.slice(o,o+e.length)==e},Go.subtract=Il,Go.sum=function(t){return t&&t.length?Ke(t,sl):0},Go.sumBy=function(t,e){return t&&t.length?Ke(t,pi(e,2)):0},Go.template=function(t,e,o){var n=Go.templateSettings;o&&Ei(t,e,o)&&(e=r),t=ba(t),e=Ca({},e,n,ei);var i,s,a=Ca({},e.imports,n.imports,ei),l=Ma(a),c=qe(a,l),u=0,p=e.interpolate||Et,h="__p += '",d=wt((e.escape||Et).source+"|"+p.source+"|"+(p===tt?gt:Et).source+"|"+(e.evaluate||Et).source+"|$","g"),g="//# sourceURL="+(Bt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ie+"]")+"\n";t.replace(d,(function(e,o,n,r,a,l){return n||(n=r),h+=t.slice(u,l).replace(St,io),o&&(i=!0,h+="' +\n__e("+o+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=l+e.length,e})),h+="';\n";var _=Bt.call(e,"variable")&&e.variable;if(_){if(ht.test(_))throw new Ct("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(X,""):h).replace(J,"$1").replace(Y,"$1;"),h="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var f=el((function(){return kt(l,g+"return "+h).apply(r,c)}));if(f.source=h,Qs(f))throw f;return f},Go.times=function(t,e){if((t=ma(t))<1||t>g)return[];var o=f,n=bo(t,f);e=pi(e),t-=f;for(var r=ze(n,e);++o<t;)e(o);return r},Go.toFinite=fa,Go.toInteger=ma,Go.toLength=va,Go.toLower=function(t){return ba(t).toLowerCase()},Go.toNumber=ya,Go.toSafeInteger=function(t){return t?un(ma(t),-9007199254740991,g):0===t?t:0},Go.toString=ba,Go.toUpper=function(t){return ba(t).toUpperCase()},Go.trim=function(t,e,o){if((t=ba(t))&&(o||e===r))return Ze(t);if(!t||!(e=hr(e)))return t;var n=go(t),i=go(e);return Cr(n,to(n,i),eo(n,i)+1).join("")},Go.trimEnd=function(t,e,o){if((t=ba(t))&&(o||e===r))return t.slice(0,_o(t)+1);if(!t||!(e=hr(e)))return t;var n=go(t);return Cr(n,0,eo(n,go(e))+1).join("")},Go.trimStart=function(t,e,o){if((t=ba(t))&&(o||e===r))return t.replace(st,"");if(!t||!(e=hr(e)))return t;var n=go(t);return Cr(n,to(n,go(e))).join("")},Go.truncate=function(t,e){var o=30,n="...";if(na(e)){var i="separator"in e?e.separator:i;o="length"in e?ma(e.length):o,n="omission"in e?hr(e.omission):n}var s=(t=ba(t)).length;if(so(t)){var a=go(t);s=a.length}if(o>=s)return t;var l=o-ho(n);if(l<1)return n;var c=a?Cr(a,0,l).join(""):t.slice(0,l);if(i===r)return c+n;if(a&&(l+=c.length-l),la(i)){if(t.slice(l).search(i)){var u,p=c;for(i.global||(i=wt(i.source,ba(_t.exec(i))+"g")),i.lastIndex=0;u=i.exec(p);)var h=u.index;c=c.slice(0,h===r?l:h)}}else if(t.indexOf(hr(i),l)!=l){var d=c.lastIndexOf(i);d>-1&&(c=c.slice(0,d))}return c+n},Go.unescape=function(t){return(t=ba(t))&&Z.test(t)?t.replace(K,fo):t},Go.uniqueId=function(t){var e=++Pt;return ba(t)+e},Go.upperCase=qa,Go.upperFirst=Qa,Go.each=bs,Go.eachRight=Es,Go.first=zi,ul(Go,(Cl={},Sn(Go,(function(t,e){Bt.call(Go.prototype,e)||(Cl[e]=t)})),Cl),{chain:!1}),Go.VERSION="4.17.21",Ie(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Go[t].placeholder=Go})),Ie(["drop","take"],(function(t,e){Jo.prototype[t]=function(o){o=o===r?1:To(ma(o),0);var n=this.__filtered__&&!e?new Jo(this):this.clone();return n.__filtered__?n.__takeCount__=bo(o,n.__takeCount__):n.__views__.push({size:bo(o,f),type:t+(n.__dir__<0?"Right":"")}),n},Jo.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Ie(["filter","map","takeWhile"],(function(t,e){var o=e+1,n=1==o||3==o;Jo.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:pi(t,3),type:o}),e.__filtered__=e.__filtered__||n,e}})),Ie(["head","last"],(function(t,e){var o="take"+(e?"Right":"");Jo.prototype[t]=function(){return this[o](1).value()[0]}})),Ie(["initial","tail"],(function(t,e){var o="drop"+(e?"":"Right");Jo.prototype[t]=function(){return this.__filtered__?new Jo(this):this[o](1)}})),Jo.prototype.compact=function(){return this.filter(sl)},Jo.prototype.find=function(t){return this.filter(t).head()},Jo.prototype.findLast=function(t){return this.reverse().find(t)},Jo.prototype.invokeMap=Qn((function(t,e){return"function"==typeof t?new Jo(this):this.map((function(o){return Dn(o,t,e)}))})),Jo.prototype.reject=function(t){return this.filter(Vs(pi(t)))},Jo.prototype.slice=function(t,e){t=ma(t);var o=this;return o.__filtered__&&(t>0||e<0)?new Jo(o):(t<0?o=o.takeRight(-t):t&&(o=o.drop(t)),e!==r&&(o=(e=ma(e))<0?o.dropRight(-e):o.take(e-t)),o)},Jo.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Jo.prototype.toArray=function(){return this.take(f)},Sn(Jo.prototype,(function(t,e){var o=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),i=Go[n?"take"+("last"==e?"Right":""):e],s=n||/^find/.test(e);i&&(Go.prototype[e]=function(){var e=this.__wrapped__,a=n?[1]:arguments,l=e instanceof Jo,c=a[0],u=l||Ys(e),p=function(t){var e=i.apply(Go,Me([t],a));return n&&h?e[0]:e};u&&o&&"function"==typeof c&&1!=c.length&&(l=u=!1);var h=this.__chain__,d=!!this.__actions__.length,g=s&&!h,_=l&&!d;if(!s&&u){e=_?e:new Jo(this);var f=t.apply(e,a);return f.__actions__.push({func:fs,args:[p],thisArg:r}),new Xo(f,h)}return g&&_?t.apply(this,a):(f=this.thru(p),g?n?f.value()[0]:f.value():f)})})),Ie(["pop","push","shift","sort","splice","unshift"],(function(t){var e=xt[t],o=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);Go.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var r=this.value();return e.apply(Ys(r)?r:[],t)}return this[o]((function(o){return e.apply(Ys(o)?o:[],t)}))}})),Sn(Jo.prototype,(function(t,e){var o=Go[e];if(o){var n=o.name+"";Bt.call(Do,n)||(Do[n]=[]),Do[n].push({name:e,func:o})}})),Do[Wr(r,2).name]=[{name:"wrapper",func:r}],Jo.prototype.clone=function(){var t=new Jo(this.__wrapped__);return t.__actions__=Ar(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ar(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ar(this.__views__),t},Jo.prototype.reverse=function(){if(this.__filtered__){var t=new Jo(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Jo.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,o=Ys(t),n=e<0,r=o?t.length:0,i=function(t,e,o){var n=-1,r=o.length;for(;++n<r;){var i=o[n],s=i.size;switch(i.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=bo(e,t+s);break;case"takeRight":t=To(t,e-s)}}return{start:t,end:e}}(0,r,this.__views__),s=i.start,a=i.end,l=a-s,c=n?a:s-1,u=this.__iteratees__,p=u.length,h=0,d=bo(l,this.__takeCount__);if(!o||!n&&r==l&&d==l)return mr(t,this.__actions__);var g=[];t:for(;l--&&h<d;){for(var _=-1,f=t[c+=e];++_<p;){var m=u[_],v=m.iteratee,y=m.type,T=v(f);if(2==y)f=T;else if(!T){if(1==y)continue t;break t}}g[h++]=f}return g},Go.prototype.at=ms,Go.prototype.chain=function(){return _s(this)},Go.prototype.commit=function(){return new Xo(this.value(),this.__chain__)},Go.prototype.next=function(){this.__values__===r&&(this.__values__=_a(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},Go.prototype.plant=function(t){for(var e,o=this;o instanceof jo;){var n=Gi(o);n.__index__=0,n.__values__=r,e?i.__wrapped__=n:e=n;var i=n;o=o.__wrapped__}return i.__wrapped__=t,e},Go.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Jo){var e=t;return this.__actions__.length&&(e=new Jo(this)),(e=e.reverse()).__actions__.push({func:fs,args:[ns],thisArg:r}),new Xo(e,this.__chain__)}return this.thru(ns)},Go.prototype.toJSON=Go.prototype.valueOf=Go.prototype.value=function(){return mr(this.__wrapped__,this.__actions__)},Go.prototype.first=Go.prototype.head,te&&(Go.prototype[te]=function(){return this}),Go}();de._=mo,(n=function(){return mo}.call(e,o,e,t))===r||(t.exports=n)}.call(this)},2584:()=>{},4865:function(t,e,o){var n,r;void 0===(r="function"==typeof(n=function(){var t,e,o={version:"0.2.0"},n=o.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function r(t,e,o){return t<e?e:t>o?o:t}function i(t){return 100*(-1+t)}function s(t,e,o){var r;return(r="translate3d"===n.positionUsing?{transform:"translate3d("+i(t)+"%,0,0)"}:"translate"===n.positionUsing?{transform:"translate("+i(t)+"%,0)"}:{"margin-left":i(t)+"%"}).transition="all "+e+"ms "+o,r}o.configure=function(t){var e,o;for(e in t)void 0!==(o=t[e])&&t.hasOwnProperty(e)&&(n[e]=o);return this},o.status=null,o.set=function(t){var e=o.isStarted();t=r(t,n.minimum,1),o.status=1===t?null:t;var i=o.render(!e),c=i.querySelector(n.barSelector),u=n.speed,p=n.easing;return i.offsetWidth,a((function(e){""===n.positionUsing&&(n.positionUsing=o.getPositioningCSS()),l(c,s(t,u,p)),1===t?(l(i,{transition:"none",opacity:1}),i.offsetWidth,setTimeout((function(){l(i,{transition:"all "+u+"ms linear",opacity:0}),setTimeout((function(){o.remove(),e()}),u)}),u)):setTimeout(e,u)})),this},o.isStarted=function(){return"number"==typeof o.status},o.start=function(){o.status||o.set(0);var t=function(){setTimeout((function(){o.status&&(o.trickle(),t())}),n.trickleSpeed)};return n.trickle&&t(),this},o.done=function(t){return t||o.status?o.inc(.3+.5*Math.random()).set(1):this},o.inc=function(t){var e=o.status;return e?("number"!=typeof t&&(t=(1-e)*r(Math.random()*e,.1,.95)),e=r(e+t,0,.994),o.set(e)):o.start()},o.trickle=function(){return o.inc(Math.random()*n.trickleRate)},t=0,e=0,o.promise=function(n){return n&&"resolved"!==n.state()?(0===e&&o.start(),t++,e++,n.always((function(){0==--e?(t=0,o.done()):o.set((t-e)/t)})),this):this},o.render=function(t){if(o.isRendered())return document.getElementById("nprogress");u(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=n.template;var r,s=e.querySelector(n.barSelector),a=t?"-100":i(o.status||0),c=document.querySelector(n.parent);return l(s,{transition:"all 0 linear",transform:"translate3d("+a+"%,0,0)"}),n.showSpinner||(r=e.querySelector(n.spinnerSelector))&&d(r),c!=document.body&&u(c,"nprogress-custom-parent"),c.appendChild(e),e},o.remove=function(){p(document.documentElement,"nprogress-busy"),p(document.querySelector(n.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&d(t)},o.isRendered=function(){return!!document.getElementById("nprogress")},o.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var a=function(){var t=[];function e(){var o=t.shift();o&&o(e)}return function(o){t.push(o),1==t.length&&e()}}(),l=function(){var t=["Webkit","O","Moz","ms"],e={};function o(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(t,e){return e.toUpperCase()}))}function n(e){var o=document.body.style;if(e in o)return e;for(var n,r=t.length,i=e.charAt(0).toUpperCase()+e.slice(1);r--;)if((n=t[r]+i)in o)return n;return e}function r(t){return t=o(t),e[t]||(e[t]=n(t))}function i(t,e,o){e=r(e),t.style[e]=o}return function(t,e){var o,n,r=arguments;if(2==r.length)for(o in e)void 0!==(n=e[o])&&e.hasOwnProperty(o)&&i(t,o,n);else i(t,r[1],r[2])}}();function c(t,e){return("string"==typeof t?t:h(t)).indexOf(" "+e+" ")>=0}function u(t,e){var o=h(t),n=o+e;c(o,e)||(t.className=n.substring(1))}function p(t,e){var o,n=h(t);c(t,e)&&(o=n.replace(" "+e+" "," "),t.className=o.substring(1,o.length-1))}function h(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function d(t){t&&t.parentNode&&t.parentNode.removeChild(t)}return o})?n.call(e,o,e,t):n)||(t.exports=r)},631:(t,e,o)=>{var n="function"==typeof Map&&Map.prototype,r=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=n&&r&&"function"==typeof r.get?r.get:null,s=n&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=a&&l&&"function"==typeof l.get?l.get:null,u=a&&Set.prototype.forEach,p="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,h="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,d=Boolean.prototype.valueOf,g=Object.prototype.toString,_=Function.prototype.toString,f=String.prototype.match,m="function"==typeof BigInt?BigInt.prototype.valueOf:null,v=Object.getOwnPropertySymbols,y="function"==typeof Symbol?Symbol.prototype.toString:null,T=Object.prototype.propertyIsEnumerable,b=o(4654).custom,E=b&&R(b)?b:null;function S(t,e,o){var n="double"===(o.quoteStyle||e)?'"':"'";return n+t+n}function C(t){return String(t).replace(/"/g,"&quot;")}function k(t){return"[object Array]"===N(t)}function R(t){return"[object Symbol]"===N(t)}t.exports=function t(e,o,n,r){var a=o||{};if(w(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(w(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=!w(a,"customInspect")||a.customInspect;if("boolean"!=typeof l)throw new TypeError('option "customInspect", if provided, must be `true` or `false`');if(w(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return x(e,a);if("number"==typeof e)return 0===e?1/0/e>0?"0":"-0":String(e);if("bigint"==typeof e)return String(e)+"n";var g=void 0===a.depth?5:a.depth;if(void 0===n&&(n=0),n>=g&&g>0&&"object"==typeof e)return k(e)?"[Array]":"[Object]";var v=function(t,e){var o;if("\t"===t.indent)o="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;o=Array(t.indent+1).join(" ")}return{base:o,prev:Array(e+1).join(o)}}(a,n);if(void 0===r)r=[];else if(O(r,e)>=0)return"[Circular]";function T(e,o,i){if(o&&(r=r.slice()).push(o),i){var s={depth:a.depth};return w(a,"quoteStyle")&&(s.quoteStyle=a.quoteStyle),t(e,s,n+1,r)}return t(e,a,n+1,r)}if("function"==typeof e){var b=function(t){if(t.name)return t.name;var e=f.call(_.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),I=P(e,T);return"[Function"+(b?": "+b:" (anonymous)")+"]"+(I.length>0?" { "+I.join(", ")+" }":"")}if(R(e)){var A=y.call(e);return"object"==typeof e?D(A):A}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(e)){for(var V="<"+String(e.nodeName).toLowerCase(),F=e.attributes||[],U=0;U<F.length;U++)V+=" "+F[U].name+"="+S(C(F[U].value),"double",a);return V+=">",e.childNodes&&e.childNodes.length&&(V+="..."),V+="</"+String(e.nodeName).toLowerCase()+">"}if(k(e)){if(0===e.length)return"[]";var H=P(e,T);return v&&!function(t){for(var e=0;e<t.length;e++)if(O(t[e],"\n")>=0)return!1;return!0}(H)?"["+B(H,v)+"]":"[ "+H.join(", ")+" ]"}if(function(t){return"[object Error]"===N(t)}(e)){var G=P(e,T);return 0===G.length?"["+String(e)+"]":"{ ["+String(e)+"] "+G.join(", ")+" }"}if("object"==typeof e&&l){if(E&&"function"==typeof e[E])return e[E]();if("function"==typeof e.inspect)return e.inspect()}if(function(t){if(!i||!t||"object"!=typeof t)return!1;try{i.call(t);try{c.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var W=[];return s.call(e,(function(t,o){W.push(T(o,e,!0)+" => "+T(t,e))})),L("Map",i.call(e),W,v)}if(function(t){if(!c||!t||"object"!=typeof t)return!1;try{c.call(t);try{i.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var j=[];return u.call(e,(function(t){j.push(T(t,e))})),L("Set",c.call(e),j,v)}if(function(t){if(!p||!t||"object"!=typeof t)return!1;try{p.call(t,p);try{h.call(t,h)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return M("WeakMap");if(function(t){if(!h||!t||"object"!=typeof t)return!1;try{h.call(t,h);try{p.call(t,p)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return M("WeakSet");if(function(t){return"[object Number]"===N(t)}(e))return D(T(Number(e)));if(function(t){return"[object BigInt]"===N(t)}(e))return D(T(m.call(e)));if(function(t){return"[object Boolean]"===N(t)}(e))return D(d.call(e));if(function(t){return"[object String]"===N(t)}(e))return D(T(String(e)));if(!function(t){return"[object Date]"===N(t)}(e)&&!function(t){return"[object RegExp]"===N(t)}(e)){var X=P(e,T);return 0===X.length?"{}":v?"{"+B(X,v)+"}":"{ "+X.join(", ")+" }"}return String(e)};var I=Object.prototype.hasOwnProperty||function(t){return t in this};function w(t,e){return I.call(t,e)}function N(t){return g.call(t)}function O(t,e){if(t.indexOf)return t.indexOf(e);for(var o=0,n=t.length;o<n;o++)if(t[o]===e)return o;return-1}function x(t,e){if(t.length>e.maxStringLength){var o=t.length-e.maxStringLength,n="... "+o+" more character"+(o>1?"s":"");return x(t.slice(0,e.maxStringLength),e)+n}return S(t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,A),"single",e)}function A(t){var e=t.charCodeAt(0),o={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return o?"\\"+o:"\\x"+(e<16?"0":"")+e.toString(16).toUpperCase()}function D(t){return"Object("+t+")"}function M(t){return t+" { ? }"}function L(t,e,o,n){return t+" ("+e+") {"+(n?B(o,n):o.join(", "))+"}"}function B(t,e){if(0===t.length)return"";var o="\n"+e.prev+e.base;return o+t.join(","+o)+"\n"+e.prev}function P(t,e){var o=k(t),n=[];if(o){n.length=t.length;for(var r=0;r<t.length;r++)n[r]=w(t,r)?e(t[r],t):""}for(var i in t)w(t,i)&&(o&&String(Number(i))===i&&i<t.length||(/[^\w$]/.test(i)?n.push(e(i,t)+": "+e(t[i],t)):n.push(i+": "+e(t[i],t))));if("function"==typeof v)for(var s=v(t),a=0;a<s.length;a++)T.call(t,s[a])&&n.push("["+e(s[a])+"]: "+e(t[s[a]],t));return n}},4155:t=>{var e,o,n=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===r||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(o){try{return e.call(null,t,0)}catch(o){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:r}catch(t){e=r}try{o="function"==typeof clearTimeout?clearTimeout:i}catch(t){o=i}}();var a,l=[],c=!1,u=-1;function p(){c&&a&&(c=!1,a.length?l=a.concat(l):u=-1,l.length&&h())}function h(){if(!c){var t=s(p);c=!0;for(var e=l.length;e;){for(a=l,l=[];++u<e;)a&&a[u].run();u=-1,e=l.length}a=null,c=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===i||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)e[o-1]=arguments[o];l.push(new d(t,e)),1!==l.length||c||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},5798:t=>{"use strict";var e=String.prototype.replace,o=/%20/g,n="RFC1738",r="RFC3986";t.exports={default:r,formatters:{RFC1738:function(t){return e.call(t,o,"+")},RFC3986:function(t){return String(t)}},RFC1738:n,RFC3986:r}},129:(t,e,o)=>{"use strict";var n=o(8261),r=o(5235),i=o(5798);t.exports={formats:i,parse:r,stringify:n}},5235:(t,e,o)=>{"use strict";var n=o(2769),r=Object.prototype.hasOwnProperty,i=Array.isArray,s={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},l=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},c=function(t,e,o,n){if(t){var i=o.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/g,a=o.depth>0&&/(\[[^[\]]*])/.exec(i),c=a?i.slice(0,a.index):i,u=[];if(c){if(!o.plainObjects&&r.call(Object.prototype,c)&&!o.allowPrototypes)return;u.push(c)}for(var p=0;o.depth>0&&null!==(a=s.exec(i))&&p<o.depth;){if(p+=1,!o.plainObjects&&r.call(Object.prototype,a[1].slice(1,-1))&&!o.allowPrototypes)return;u.push(a[1])}return a&&u.push("["+i.slice(a.index)+"]"),function(t,e,o,n){for(var r=n?e:l(e,o),i=t.length-1;i>=0;--i){var s,a=t[i];if("[]"===a&&o.parseArrays)s=[].concat(r);else{s=o.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(c,10);o.parseArrays||""!==c?!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&o.parseArrays&&u<=o.arrayLimit?(s=[])[u]=r:s[c]=r:s={0:r}}r=s}return r}(u,e,o,n)}};t.exports=function(t,e){var o=function(t){if(!t)return s;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?s.charset:t.charset;return{allowDots:void 0===t.allowDots?s.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:s.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:s.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:s.comma,decoder:"function"==typeof t.decoder?t.decoder:s.decoder,delimiter:"string"==typeof t.delimiter||n.isRegExp(t.delimiter)?t.delimiter:s.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:s.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:s.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:s.strictNullHandling}}(e);if(""===t||null==t)return o.plainObjects?Object.create(null):{};for(var u="string"==typeof t?function(t,e){var o,c={},u=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,p=e.parameterLimit===1/0?void 0:e.parameterLimit,h=u.split(e.delimiter,p),d=-1,g=e.charset;if(e.charsetSentinel)for(o=0;o<h.length;++o)0===h[o].indexOf("utf8=")&&("utf8=%E2%9C%93"===h[o]?g="utf-8":"utf8=%26%2310003%3B"===h[o]&&(g="iso-8859-1"),d=o,o=h.length);for(o=0;o<h.length;++o)if(o!==d){var _,f,m=h[o],v=m.indexOf("]="),y=-1===v?m.indexOf("="):v+1;-1===y?(_=e.decoder(m,s.decoder,g,"key"),f=e.strictNullHandling?null:""):(_=e.decoder(m.slice(0,y),s.decoder,g,"key"),f=n.maybeMap(l(m.slice(y+1),e),(function(t){return e.decoder(t,s.decoder,g,"value")}))),f&&e.interpretNumericEntities&&"iso-8859-1"===g&&(f=a(f)),m.indexOf("[]=")>-1&&(f=i(f)?[f]:f),r.call(c,_)?c[_]=n.combine(c[_],f):c[_]=f}return c}(t,o):t,p=o.plainObjects?Object.create(null):{},h=Object.keys(u),d=0;d<h.length;++d){var g=h[d],_=c(g,u[g],o,"string"==typeof t);p=n.merge(p,_,o)}return!0===o.allowSparse?p:n.compact(p)}},8261:(t,e,o)=>{"use strict";var n=o(7478),r=o(2769),i=o(5798),s=Object.prototype.hasOwnProperty,a={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},l=Array.isArray,c=Array.prototype.push,u=function(t,e){c.apply(t,l(e)?e:[e])},p=Date.prototype.toISOString,h=i.default,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,format:h,formatter:i.formatters[h],indices:!1,serializeDate:function(t){return p.call(t)},skipNulls:!1,strictNullHandling:!1},g=function t(e,o,i,s,a,c,p,h,g,_,f,m,v,y,T){var b,E=e;if(T.has(e))throw new RangeError("Cyclic object value");if("function"==typeof p?E=p(o,E):E instanceof Date?E=_(E):"comma"===i&&l(E)&&(E=r.maybeMap(E,(function(t){return t instanceof Date?_(t):t}))),null===E){if(s)return c&&!v?c(o,d.encoder,y,"key",f):o;E=""}if("string"==typeof(b=E)||"number"==typeof b||"boolean"==typeof b||"symbol"==typeof b||"bigint"==typeof b||r.isBuffer(E))return c?[m(v?o:c(o,d.encoder,y,"key",f))+"="+m(c(E,d.encoder,y,"value",f))]:[m(o)+"="+m(String(E))];var S,C=[];if(void 0===E)return C;if("comma"===i&&l(E))S=[{value:E.length>0?E.join(",")||null:void 0}];else if(l(p))S=p;else{var k=Object.keys(E);S=h?k.sort(h):k}for(var R=0;R<S.length;++R){var I=S[R],w="object"==typeof I&&void 0!==I.value?I.value:E[I];if(!a||null!==w){var N=l(E)?"function"==typeof i?i(o,I):o:o+(g?"."+I:"["+I+"]");T.set(e,!0);var O=n();u(C,t(w,N,i,s,a,c,p,h,g,_,f,m,v,y,O))}}return C};t.exports=function(t,e){var o,r=t,c=function(t){if(!t)return d;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||d.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var o=i.default;if(void 0!==t.format){if(!s.call(i.formatters,t.format))throw new TypeError("Unknown format option provided.");o=t.format}var n=i.formatters[o],r=d.filter;return("function"==typeof t.filter||l(t.filter))&&(r=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:d.addQueryPrefix,allowDots:void 0===t.allowDots?d.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:d.charsetSentinel,delimiter:void 0===t.delimiter?d.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:d.encode,encoder:"function"==typeof t.encoder?t.encoder:d.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:d.encodeValuesOnly,filter:r,format:o,formatter:n,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:d.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:d.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:d.strictNullHandling}}(e);"function"==typeof c.filter?r=(0,c.filter)("",r):l(c.filter)&&(o=c.filter);var p,h=[];if("object"!=typeof r||null===r)return"";p=e&&e.arrayFormat in a?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var _=a[p];o||(o=Object.keys(r)),c.sort&&o.sort(c.sort);for(var f=n(),m=0;m<o.length;++m){var v=o[m];c.skipNulls&&null===r[v]||u(h,g(r[v],v,_,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,f))}var y=h.join(c.delimiter),T=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?T+="utf8=%26%2310003%3B&":T+="utf8=%E2%9C%93&"),y.length>0?T+y:""}},2769:(t,e,o)=>{"use strict";var n=o(5798),r=Object.prototype.hasOwnProperty,i=Array.isArray,s=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),a=function(t,e){for(var o=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(o[n]=t[n]);return o};t.exports={arrayToObject:a,assign:function(t,e){return Object.keys(e).reduce((function(t,o){return t[o]=e[o],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],o=[],n=0;n<e.length;++n)for(var r=e[n],s=r.obj[r.prop],a=Object.keys(s),l=0;l<a.length;++l){var c=a[l],u=s[c];"object"==typeof u&&null!==u&&-1===o.indexOf(u)&&(e.push({obj:s,prop:c}),o.push(u))}return function(t){for(;t.length>1;){var e=t.pop(),o=e.obj[e.prop];if(i(o)){for(var n=[],r=0;r<o.length;++r)void 0!==o[r]&&n.push(o[r]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,o){var n=t.replace(/\+/g," ");if("iso-8859-1"===o)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},encode:function(t,e,o,r,i){if(0===t.length)return t;var a=t;if("symbol"==typeof t?a=Symbol.prototype.toString.call(t):"string"!=typeof t&&(a=String(t)),"iso-8859-1"===o)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var l="",c=0;c<a.length;++c){var u=a.charCodeAt(c);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||i===n.RFC1738&&(40===u||41===u)?l+=a.charAt(c):u<128?l+=s[u]:u<2048?l+=s[192|u>>6]+s[128|63&u]:u<55296||u>=57344?l+=s[224|u>>12]+s[128|u>>6&63]+s[128|63&u]:(c+=1,u=65536+((1023&u)<<10|1023&a.charCodeAt(c)),l+=s[240|u>>18]+s[128|u>>12&63]+s[128|u>>6&63]+s[128|63&u])}return l},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(i(t)){for(var o=[],n=0;n<t.length;n+=1)o.push(e(t[n]));return o}return e(t)},merge:function t(e,o,n){if(!o)return e;if("object"!=typeof o){if(i(e))e.push(o);else{if(!e||"object"!=typeof e)return[e,o];(n&&(n.plainObjects||n.allowPrototypes)||!r.call(Object.prototype,o))&&(e[o]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(o);var s=e;return i(e)&&!i(o)&&(s=a(e,n)),i(e)&&i(o)?(o.forEach((function(o,i){if(r.call(e,i)){var s=e[i];s&&"object"==typeof s&&o&&"object"==typeof o?e[i]=t(s,o,n):e.push(o)}else e[i]=o})),e):Object.keys(o).reduce((function(e,i){var s=o[i];return r.call(e,i)?e[i]=t(e[i],s,n):e[i]=s,e}),s)}}},7478:(t,e,o)=>{"use strict";var n=o(210),r=o(1924),i=o(631),s=n("%TypeError%"),a=n("%WeakMap%",!0),l=n("%Map%",!0),c=r("WeakMap.prototype.get",!0),u=r("WeakMap.prototype.set",!0),p=r("WeakMap.prototype.has",!0),h=r("Map.prototype.get",!0),d=r("Map.prototype.set",!0),g=r("Map.prototype.has",!0),_=function(t,e){for(var o,n=t;null!==(o=n.next);n=o)if(o.key===e)return n.next=o.next,o.next=t.next,t.next=o,o};t.exports=function(){var t,e,o,n={assert:function(t){if(!n.has(t))throw new s("Side channel does not contain "+i(t))},get:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(t)return c(t,n)}else if(l){if(e)return h(e,n)}else if(o)return function(t,e){var o=_(t,e);return o&&o.value}(o,n)},has:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(t)return p(t,n)}else if(l){if(e)return g(e,n)}else if(o)return function(t,e){return!!_(t,e)}(o,n);return!1},set:function(n,r){a&&n&&("object"==typeof n||"function"==typeof n)?(t||(t=new a),u(t,n,r)):l?(e||(e=new l),d(e,n,r)):(o||(o={key:{},next:null}),function(t,e,o){var n=_(t,e);n?n.value=o:t.next={key:e,next:t.next,value:o}}(o,n,r))}};return n}},3379:(t,e,o)=>{"use strict";var n,r=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},i=function(){var t={};return function(e){if(void 0===t[e]){var o=document.querySelector(e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}t[e]=o}return t[e]}}(),s=[];function a(t){for(var e=-1,o=0;o<s.length;o++)if(s[o].identifier===t){e=o;break}return e}function l(t,e){for(var o={},n=[],r=0;r<t.length;r++){var i=t[r],l=e.base?i[0]+e.base:i[0],c=o[l]||0,u="".concat(l," ").concat(c);o[l]=c+1;var p=a(u),h={css:i[1],media:i[2],sourceMap:i[3]};-1!==p?(s[p].references++,s[p].updater(h)):s.push({identifier:u,updater:f(h,e),references:1}),n.push(u)}return n}function c(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var r=o.nc;r&&(n.nonce=r)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var s=i(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var u,p=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function h(t,e,o,n){var r=o?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=p(e,r);else{var i=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(i,s[e]):t.appendChild(i)}}function d(t,e,o){var n=o.css,r=o.media,i=o.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var g=null,_=0;function f(t,e){var o,n,r;if(e.singleton){var i=_++;o=g||(g=c(e)),n=h.bind(null,o,i,!1),r=h.bind(null,o,i,!0)}else o=c(e),n=d.bind(null,o,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(o)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var o=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<o.length;n++){var r=a(o[n]);s[r].references--}for(var i=l(t,e),c=0;c<o.length;c++){var u=a(o[c]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}o=i}}}},514:(t,e,o)=>{"use strict";o.d(e,{Z:()=>u});var n=o(8191),r={"xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:cc":"http://creativecommons.org/ns#","xmlns:rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","xmlns:svg":"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/svg","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape",width:"400pt",height:"100pt",viewBox:"0 0 141.11112 35.277776",version:"1.1",id:"svg8","inkscape:version":"1.0.1 (3bc2e813f5, 2020-09-07)","sodipodi:docname":"drawing.svg"},i=(0,n.createVNode)("defs",{id:"defs2"},[(0,n.createVNode)("rect",{x:"54.55518",y:"24.534176",width:"50.354645",height:"26.168629",id:"rect31"})],-1),s={id:"metadata5"},a=(0,n.createTextVNode)("image/svg+xml"),l=(0,n.createVNode)("g",{"inkscape:label":"Layer 1","inkscape:groupmode":"layer",id:"layer1"},[(0,n.createVNode)("text",{"xml:space":"preserve",id:"text29",style:{"font-style":"normal","font-variant":"normal","font-weight":"normal","font-stretch":"normal","font-size":"10.5833px","line-height":"1.25","font-family":"Hack","-inkscape-font-specification":"Hack","white-space":"pre","shape-inside":"url(#rect31)",fill:"#000000","fill-opacity":"1",stroke:"none"},transform:"translate(-5.8004283,-19.099933)"}),(0,n.createVNode)("text",{"xml:space":"preserve",style:{"font-style":"normal","font-variant":"normal","font-weight":"normal","font-stretch":"normal","font-size":"10.5833px","line-height":"1.25","font-family":"Uroob","-inkscape-font-specification":"Uroob",fill:"#043343","fill-opacity":"1",stroke:"none","stroke-width":"0.264583"},x:"37.399578",y:"15.290057",id:"text37"},[(0,n.createVNode)("tspan",{"sodipodi:role":"line",id:"tspan35",x:"37.399578",y:"15.290057",style:{"font-style":"normal","font-variant":"normal","font-weight":"normal","font-stretch":"normal","font-family":"Uroob","-inkscape-font-specification":"Uroob",fill:"#043343","fill-opacity":"1","stroke-width":"0.264583"}},"Escape room management"),(0,n.createVNode)("tspan",{"sodipodi:role":"line",x:"37.399578",y:"28.519182",style:{"font-style":"normal","font-variant":"normal","font-weight":"normal","font-stretch":"normal","font-family":"Uroob","-inkscape-font-specification":"Uroob",fill:"#043343","fill-opacity":"1","stroke-width":"0.264583"},id:"tspan39"}," Software")]),(0,n.createVNode)("path",{style:{fill:"#043343","fill-opacity":"1","stroke-width":"0.104513"},d:"M 7.0087854,17.177443 V 2.1928428 H 19.267032 31.525279 v 14.9846002 14.9846 H 19.267032 7.0087854 Z M 16.062137,29.91188 c -0.0013,-0.0408 -0.404459,-0.47476 -0.895999,-0.964355 l -0.893709,-0.890175 0.953019,-0.0286 c 1.233869,-0.03703 1.493931,0.07618 2.594005,1.129247 l 0.865031,0.828065 h 5.316051 c 2.923828,0 5.316051,-0.02625 5.316051,-0.05834 0,-0.03209 -0.347869,-0.403386 -0.773042,-0.825112 l -0.773043,-0.766774 v -1.746502 -1.746502 h 1.503158 1.503158 l -0.07706,-0.370906 c -0.129472,-0.623197 -0.921881,-1.873491 -1.404222,-2.21564 -0.437912,-0.310632 -1.079409,-0.566027 -1.44221,-0.574177 -0.182486,-0.0041 -0.193261,-0.467567 -0.193261,-8.312634 V 5.0611818 h -8.061728 -8.06173 v 5.0937752 5.093775 l 1.352824,-0.0028 1.352825,-0.0028 0.938694,-1.293534 c 1.00351,-1.382854 1.663133,-2.001086 2.305582,-2.160914 0.220037,-0.05474 1.61761,-0.0988 3.105717,-0.09791 3.683114,0.0022 3.497911,-0.08327 4.959253,2.288797 0.972406,1.57842 1.07049,1.931474 0.664899,2.393282 -0.263621,0.300161 -0.791643,0.351639 -1.170303,0.114097 -0.128455,-0.08058 -0.623497,-0.770467 -1.100094,-1.533078 l -0.866542,-1.38658 H 22.06019 c -1.171149,0 -1.125631,-0.118072 -0.438503,1.137444 1.108048,2.02462 1.309968,2.767953 1.544883,5.687225 l 0.131327,1.631986 2.098259,0.08197 c 2.45679,0.09598 3.053199,0.2146 3.638463,0.723677 0.393243,0.342051 0.826236,1.01683 0.831715,1.296152 0.0019,0.09668 -0.873098,0.123636 -4.013546,0.123636 -3.883704,0 -4.025469,-0.0067 -4.304291,-0.20312 -0.381599,-0.268837 -0.463787,-0.598853 -0.688379,-2.764128 -0.104388,-1.006391 -0.219787,-1.860065 -0.256442,-1.897054 -0.03665,-0.03699 -0.362613,0.519371 -0.724351,1.236353 -3.431673,6.80174 -3.308639,6.581145 -3.766025,6.752307 -0.223095,0.08348 -0.754879,0.139614 -1.322767,0.139614 -0.897285,0 -0.945842,-0.01084 -0.880053,-0.196487 0.0383,-0.108067 1.063002,-2.233358 2.277123,-4.722869 1.214122,-2.48951 2.214807,-4.596365 2.223746,-4.681899 0.01901,-0.181929 -1.34707,-3.061042 -1.449408,-3.05473 -0.03809,0.0023 -0.392276,0.431558 -0.78708,0.953799 -0.968074,1.280552 -1.052431,1.31682 -3.062839,1.31682 h -1.575416 v 5.584052 5.584051 l 0.846207,0.844985 0.846208,0.844984 h 1.417703 c 0.779736,0 1.416672,-0.03338 1.415413,-0.07418 z m 0.486939,-18.807876 c -0.475587,-0.259736 -0.791161,-0.689396 -0.945133,-1.2868202 -0.343844,-1.334136 0.91879,-2.646139 2.212486,-2.298993 1.002946,0.269127 1.497159,0.958642 1.431625,1.997376 -0.04694,0.7440802 -0.378129,1.2969932 -0.961856,1.6058202 -0.436403,0.230883 -1.298328,0.222258 -1.737122,-0.01738 z",id:"path116"})],-1);const c={render:function(t,e){var o=(0,n.resolveComponent)("sodipodi:namedview"),c=(0,n.resolveComponent)("dc:format"),u=(0,n.resolveComponent)("dc:type"),p=(0,n.resolveComponent)("dc:title"),h=(0,n.resolveComponent)("cc:Work"),d=(0,n.resolveComponent)("rdf:RDF");return(0,n.openBlock)(),(0,n.createBlock)("svg",r,[i,(0,n.createVNode)(o,{id:"base",pagecolor:"#ffffff",bordercolor:"#666666",borderopacity:"1.0","inkscape:pageopacity":"0.0","inkscape:pageshadow":"2","inkscape:zoom":"1.979899","inkscape:cx":"269.54984","inkscape:cy":"77.280045","inkscape:document-units":"mm","inkscape:current-layer":"layer1","inkscape:document-rotation":"0",showgrid:"false","inkscape:window-width":"1920","inkscape:window-height":"1015","inkscape:window-x":"0","inkscape:window-y":"0","inkscape:window-maximized":"1","inkscape:snap-global":"false",units:"pt"}),(0,n.createVNode)("metadata",s,[(0,n.createVNode)(d,null,{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(h,{"rdf:about":""},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(c,null,{default:(0,n.withCtx)((function(){return[a]})),_:1}),(0,n.createVNode)(u,{"rdf:resource":"http://purl.org/dc/dcmitype/StillImage"}),(0,n.createVNode)(p)]})),_:1})]})),_:1})]),l])}},u=c},7546:(t,e,o)=>{"use strict";o.d(e,{Z:()=>s});var n=o(8191),r={class:"text-sm text-gray-600"};const i={props:["on"],render:function(t,e,o,i,s,a){return(0,n.openBlock)(),(0,n.createBlock)("div",null,[(0,n.createVNode)(n.Transition,{"leave-active-class":"transition ease-in duration-1000","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:(0,n.withCtx)((function(){return[(0,n.withDirectives)((0,n.createVNode)("div",r,[(0,n.renderSlot)(t.$slots,"default")],512),[[n.vShow,o.on]])]})),_:3})])}},s=i},7637:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(8191),r={class:"md:grid md:grid-cols-3 md:gap-6"},i={class:"mt-5 md:mt-0 md:col-span-2"},s={class:"px-4 py-5 sm:p-6 bg-white shadow sm:rounded-lg"};const a={components:{JetSectionTitle:o(5090).Z},render:function(t,e,o,a,l,c){var u=(0,n.resolveComponent)("jet-section-title");return(0,n.openBlock)(),(0,n.createBlock)("div",r,[(0,n.createVNode)(u,null,{title:(0,n.withCtx)((function(){return[(0,n.renderSlot)(t.$slots,"title")]})),description:(0,n.withCtx)((function(){return[(0,n.renderSlot)(t.$slots,"description")]})),_:1}),(0,n.createVNode)("div",i,[(0,n.createVNode)("div",s,[(0,n.renderSlot)(t.$slots,"content")])])])}},l=a},2740:(t,e,o)=>{"use strict";o.d(e,{Z:()=>a});var n=o(8191),r={class:"min-h-screen flex flex-col sm:justify-center items-center pt-6 sm:pt-0 bg-gray-100"},i={class:"w-full sm:max-w-md mt-6 px-6 py-4 bg-white shadow-md overflow-hidden sm:rounded-lg"};const s={render:function(t,e){return(0,n.openBlock)(),(0,n.createBlock)("div",r,[(0,n.createVNode)("div",null,[(0,n.renderSlot)(t.$slots,"logo")]),(0,n.createVNode)("div",i,[(0,n.renderSlot)(t.$slots,"default")])])}},a=s},949:(t,e,o)=>{"use strict";o.d(e,{Z:()=>i});var n=o(8191);const r={components:{logo:o(514).Z},render:function(t,e,o,r,i,s){var a=(0,n.resolveComponent)("logo"),l=(0,n.resolveComponent)("inertia-link");return(0,n.openBlock)(),(0,n.createBlock)(l,{href:"/"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{class:"w-50"})]})),_:1})}},i=r},6245:(t,e,o)=>{"use strict";o.d(e,{Z:()=>i});var n=o(8191);const r={props:{type:{type:String,default:"submit"}},render:function(t,e,o,r,i,s){return(0,n.openBlock)(),(0,n.createBlock)("button",{type:o.type,class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:shadow-outline-gray disabled:opacity-25 transition ease-in-out duration-150"},[(0,n.renderSlot)(t.$slots,"default")],8,["type"])}},i=r},344:(t,e,o)=>{"use strict";o.d(e,{Z:()=>i});var n=o(8191);const r={emits:["update:checked"],props:{checked:{type:[Array,Boolean],default:!1},value:{default:null}},computed:{proxyChecked:{get:function(){return this.checked},set:function(t){this.$emit("update:checked",t)}}},render:function(t,e,o,r,i,s){return(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)("input",{type:"checkbox",value:o.value,"onUpdate:modelValue":e[1]||(e[1]=function(t){return s.proxyChecked=t}),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,8,["value"])),[[n.vModelCheckbox,s.proxyChecked]])}},i=r},2212:(t,e,o)=>{"use strict";o.d(e,{Z:()=>h});var n=o(8191),r={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},i={class:"sm:flex sm:items-start"},s=(0,n.createVNode)("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[(0,n.createVNode)("svg",{class:"h-6 w-6 text-red-600",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},[(0,n.createVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1),a={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},l={class:"text-lg"},c={class:"mt-2"},u={class:"px-6 py-4 bg-gray-100 text-right"};const p={emits:["close"],components:{Modal:o(2649).Z},props:{show:{default:!1},maxWidth:{default:"2xl"},closeable:{default:!0}},methods:{close:function(){this.$emit("close")}},render:function(t,e,o,p,h,d){var g=(0,n.resolveComponent)("modal");return(0,n.openBlock)(),(0,n.createBlock)(g,{show:o.show,"max-width":o.maxWidth,closeable:o.closeable,onClose:d.close},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",r,[(0,n.createVNode)("div",i,[s,(0,n.createVNode)("div",a,[(0,n.createVNode)("h3",l,[(0,n.renderSlot)(t.$slots,"title")]),(0,n.createVNode)("div",c,[(0,n.renderSlot)(t.$slots,"content")])])])]),(0,n.createVNode)("div",u,[(0,n.renderSlot)(t.$slots,"footer")])]})),_:3},8,["show","max-width","closeable","onClose"])}},h=p},6665:(t,e,o)=>{"use strict";o.d(e,{Z:()=>i});var n=o(8191);const r={props:{type:{type:String,default:"button"}},render:function(t,e,o,r,i,s){return(0,n.openBlock)(),(0,n.createBlock)("button",{type:o.type,class:"inline-flex items-center justify-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-500 focus:outline-none focus:border-red-700 focus:shadow-outline-red active:bg-red-600 disabled:opacity-25 transition ease-in-out duration-150"},[(0,n.renderSlot)(t.$slots,"default")],8,["type"])}},i=r},8415:(t,e,o)=>{"use strict";o.d(e,{Z:()=>c});var n=o(8191),r={class:"px-6 py-4"},i={class:"text-lg"},s={class:"mt-4"},a={class:"px-6 py-4 bg-gray-100 text-right"};const l={emits:["close"],components:{Modal:o(2649).Z},props:{show:{default:!1},maxWidth:{default:"2xl"},closeable:{default:!0}},methods:{close:function(){this.$emit("close")}},render:function(t,e,o,l,c,u){var p=(0,n.resolveComponent)("modal");return(0,n.openBlock)(),(0,n.createBlock)(p,{show:o.show,"max-width":o.maxWidth,closeable:o.closeable,onClose:u.close},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",r,[(0,n.createVNode)("div",i,[(0,n.renderSlot)(t.$slots,"title")]),(0,n.createVNode)("div",s,[(0,n.renderSlot)(t.$slots,"content")])]),(0,n.createVNode)("div",a,[(0,n.renderSlot)(t.$slots,"footer")])]})),_:3},8,["show","max-width","closeable","onClose"])}},c=l},9248:(t,e,o)=>{"use strict";o.d(e,{Z:()=>c});var n=o(8191),r={class:"md:grid md:grid-cols-3 md:gap-6"},i={class:"mt-5 md:mt-0 md:col-span-2"},s={class:"grid grid-cols-6 gap-6"},a={key:0,class:"flex items-center justify-end px-4 py-3 bg-gray-50 text-right sm:px-6 shadow sm:rounded-bl-md sm:rounded-br-md"};const l={emits:["submitted"],components:{JetSectionTitle:o(5090).Z},computed:{hasActions:function(){return!!this.$slots.actions}},render:function(t,e,o,l,c,u){var p=(0,n.resolveComponent)("jet-section-title");return(0,n.openBlock)(),(0,n.createBlock)("div",r,[(0,n.createVNode)(p,null,{title:(0,n.withCtx)((function(){return[(0,n.renderSlot)(t.$slots,"title")]})),description:(0,n.withCtx)((function(){return[(0,n.renderSlot)(t.$slots,"description")]})),_:1}),(0,n.createVNode)("div",i,[(0,n.createVNode)("form",{onSubmit:e[1]||(e[1]=(0,n.withModifiers)((function(e){return t.$emit("submitted")}),["prevent"]))},[(0,n.createVNode)("div",{class:["px-4 py-5 bg-white sm:p-6 shadow",u.hasActions?"sm:rounded-tl-md sm:rounded-tr-md":"sm:rounded-md"]},[(0,n.createVNode)("div",s,[(0,n.renderSlot)(t.$slots,"form")])],2),u.hasActions?((0,n.openBlock)(),(0,n.createBlock)("div",a,[(0,n.renderSlot)(t.$slots,"actions")])):(0,n.createCommentVNode)("",!0)],32)])])}},c=l},6824:(t,e,o)=>{"use strict";o.d(e,{Z:()=>i});var n=o(8191);const r={props:["modelValue"],emits:["update:modelValue"],methods:{focus:function(){this.$refs.input.focus()}},render:function(t,e,o,r,i,s){return(0,n.openBlock)(),(0,n.createBlock)("input",{class:"border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm",value:o.modelValue,onInput:e[1]||(e[1]=function(e){return t.$emit("update:modelValue",e.target.value)}),ref:"input"},null,40,["value"])}},i=r},8985:(t,e,o)=>{"use strict";o.d(e,{Z:()=>s});var n=o(8191),r={class:"text-sm text-red-600"};const i={props:["message"],render:function(t,e,o,i,s,a){return(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)("div",null,[(0,n.createVNode)("p",r,(0,n.toDisplayString)(o.message),1)],512)),[[n.vShow,o.message]])}},s=i},3845:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(8191),r={class:"block font-medium text-sm text-gray-700"},i={key:0},s={key:1};const a={props:["value"],render:function(t,e,o,a,l,c){return(0,n.openBlock)(),(0,n.createBlock)("label",r,[o.value?((0,n.openBlock)(),(0,n.createBlock)("span",i,(0,n.toDisplayString)(o.value),1)):((0,n.openBlock)(),(0,n.createBlock)("span",s,[(0,n.renderSlot)(t.$slots,"default")]))])}},l=a},2649:(t,e,o)=>{"use strict";o.d(e,{Z:()=>a});var n=o(8191),r={class:"fixed inset-0 overflow-y-auto px-4 py-6 sm:px-0 z-50","scroll-region":""},i=(0,n.createVNode)("div",{class:"absolute inset-0 bg-gray-500 opacity-75"},null,-1);const s={emits:["close"],props:{show:{default:!1},maxWidth:{default:"2xl"},closeable:{default:!0}},watch:{show:{immediate:!0,handler:function(t){document.body.style.overflow=t?"hidden":null}}},setup:function(t,e){var o=e.emit,r=function(){t.closeable&&o("close")},i=function(e){"Escape"===e.key&&t.show&&r()};return(0,n.onMounted)((function(){return document.addEventListener("keydown",i)})),(0,n.onUnmounted)((function(){return document.removeEventListener("keydown",i)})),{close:r}},computed:{maxWidthClass:function(){return{sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"}[this.maxWidth]}},render:function(t,e,o,s,a,l){return(0,n.openBlock)(),(0,n.createBlock)(n.Teleport,{to:"body"},[(0,n.createVNode)(n.Transition,{"leave-active-class":"duration-200"},{default:(0,n.withCtx)((function(){return[(0,n.withDirectives)((0,n.createVNode)("div",r,[(0,n.createVNode)(n.Transition,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:(0,n.withCtx)((function(){return[(0,n.withDirectives)((0,n.createVNode)("div",{class:"fixed inset-0 transform transition-all",onClick:e[1]||(e[1]=function(){return s.close&&s.close.apply(s,arguments)})},[i],512),[[n.vShow,o.show]])]})),_:1}),(0,n.createVNode)(n.Transition,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:(0,n.withCtx)((function(){return[(0,n.withDirectives)((0,n.createVNode)("div",{class:["mb-6 bg-white rounded-lg overflow-hidden shadow-xl transform transition-all sm:w-full sm:mx-auto",l.maxWidthClass]},[o.show?(0,n.renderSlot)(t.$slots,"default",{key:0}):(0,n.createCommentVNode)("",!0)],2),[[n.vShow,o.show]])]})),_:1})],512),[[n.vShow,o.show]])]})),_:1})])}},a=s},4178:(t,e,o)=>{"use strict";o.d(e,{Z:()=>i});var n=o(8191);const r={props:{type:{type:String,default:"button"}},render:function(t,e,o,r,i,s){return(0,n.openBlock)(),(0,n.createBlock)("button",{type:o.type,class:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:text-gray-800 active:bg-gray-50 disabled:opacity-25 transition ease-in-out duration-150"},[(0,n.renderSlot)(t.$slots,"default")],8,["type"])}},i=r},8137:(t,e,o)=>{"use strict";o.d(e,{Z:()=>a});var n=o(8191),r={class:"hidden sm:block"},i=(0,n.createVNode)("div",{class:"py-8"},[(0,n.createVNode)("div",{class:"border-t border-gray-200"})],-1);const s={render:function(t,e){return(0,n.openBlock)(),(0,n.createBlock)("div",r,[i])}},a=s},5090:(t,e,o)=>{"use strict";o.d(e,{Z:()=>c});var n=o(8191),r={class:"md:col-span-1"},i={class:"px-4 sm:px-0"},s={class:"text-lg font-medium text-gray-900"},a={class:"mt-1 text-sm text-gray-600"};const l={render:function(t,e){return(0,n.openBlock)(),(0,n.createBlock)("div",r,[(0,n.createVNode)("div",i,[(0,n.createVNode)("h3",s,[(0,n.renderSlot)(t.$slots,"title")]),(0,n.createVNode)("p",a,[(0,n.renderSlot)(t.$slots,"description")])])])}},c=l},3186:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(8191),r={key:0},i=(0,n.createVNode)("div",{class:"font-medium text-red-600"},"Whoops! Something went wrong.",-1),s={class:"mt-3 list-disc list-inside text-sm text-red-600"};const a={computed:{errors:function(){return this.$page.props.errors},hasErrors:function(){return Object.keys(this.errors).length>0}},render:function(t,e,o,a,l,c){return c.hasErrors?((0,n.openBlock)(),(0,n.createBlock)("div",r,[i,(0,n.createVNode)("ul",s,[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(c.errors,(function(t,e){return(0,n.openBlock)(),(0,n.createBlock)("li",{key:e},(0,n.toDisplayString)(t),1)})),128))])])):(0,n.createCommentVNode)("",!0)}},l=a},2159:(t,e,o)=>{"use strict";o.d(e,{Z:()=>u});var n=o(8191),r={class:"p-6 sm:px-20 bg-white border-b border-gray-200"},i=(0,n.createVNode)("div",{class:"mt-8 text-2xl"}," Welcome in Escape Room Management application! ",-1),s=(0,n.createVNode)("div",{class:"mt-6 text-gray-500"}," Escape management application provides direct control to your ESP32 devices, You can programmed with them with this application GUI. We hope you will like it. ",-1),a=(0,n.createVNode)("div",{class:"bg-gray-200 bg-opacity-25 grid grid-cols-1 md:grid-cols-2"},[(0,n.createVNode)("div",{class:"p-6 border-t border-gray-200 md:border-t-0 md:border-l"},[(0,n.createVNode)("div",{class:"flex items-center"},[(0,n.createVNode)("svg",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",class:"w-8 h-8 text-gray-400"},[(0,n.createVNode)("path",{d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,n.createVNode)("path",{d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]),(0,n.createVNode)("div",{class:"ml-4 text-lg text-gray-600 leading-7 font-semibold"},[(0,n.createVNode)("a",{href:"/cameras"},"Cameras")])]),(0,n.createVNode)("div",{class:"ml-12"},[(0,n.createVNode)("div",{class:"mt-2 text-sm text-gray-500"}," Escape Room management application gives lot of functionality to improve your Escape Room network. Check them out, see yourself. "),(0,n.createVNode)("span",null,[(0,n.createVNode)("div",{class:"mt-3 flex items-center text-sm font-semibold text-indigo-700"},[(0,n.createVNode)("div",null,"Check Cameras"),(0,n.createVNode)("div",{class:"ml-1 text-indigo-500"},[(0,n.createVNode)("svg",{viewBox:"0 0 20 20",fill:"currentColor",class:"w-4 h-4"},[(0,n.createVNode)("path",{"fill-rule":"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z","clip-rule":"evenodd"})])])])])])])],-1);const l={components:{logo:o(514).Z},render:function(t,e,o,r,i,s){var a=(0,n.resolveComponent)("logo");return(0,n.openBlock)(),(0,n.createBlock)(a)}},c={components:{JetApplicationLogo:l},render:function(t,e,o,l,c,u){var p=(0,n.resolveComponent)("jet-application-logo");return(0,n.openBlock)(),(0,n.createBlock)("div",null,[(0,n.createVNode)("div",r,[(0,n.createVNode)("div",null,[(0,n.createVNode)(p,{class:"block h-12 w-auto"})]),i,s]),a])}},u=c},7063:(t,e,o)=>{"use strict";o.d(e,{Z:()=>At});var n=o(8191),r={class:"min-h-screen bg-gray-100"},i={class:"bg-white border-b border-gray-100"},s={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},a={class:"flex justify-between h-16"},l={class:"flex"},c={class:"flex-shrink-0 flex items-center"},u={class:"hidden space-x-8 sm:-my-px sm:ml-10 sm:flex"},p=(0,n.createTextVNode)(" Dashboard "),h=(0,n.createTextVNode)(" Rooms "),d=(0,n.createTextVNode)(" Devices "),g=(0,n.createTextVNode)(" Programs "),_=(0,n.createTextVNode)(" Cameras "),f={class:"hidden sm:flex sm:items-center sm:ml-6"},m={class:"ml-3 relative"},v={class:"inline-flex rounded-md"},y={type:"button",class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white hover:bg-gray-50 hover:text-gray-700 focus:outline-none focus:bg-gray-50 active:bg-gray-50 transition ease-in-out duration-150"},T=(0,n.createVNode)("svg",{class:"ml-2 -mr-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[(0,n.createVNode)("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),b={class:"w-60"},E=(0,n.createVNode)("div",{class:"block px-4 py-2 text-xs text-gray-400"}," Manage Team ",-1),S=(0,n.createTextVNode)(" Team Settings "),C=(0,n.createTextVNode)(" Create New Team "),k=(0,n.createVNode)("div",{class:"border-t border-gray-100"},null,-1),R=(0,n.createVNode)("div",{class:"block px-4 py-2 text-xs text-gray-400"}," Switch Teams ",-1),I={class:"flex items-center"},w={key:0,class:"mr-2 h-5 w-5 text-green-400",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24"},N=(0,n.createVNode)("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),O={class:"ml-3 relative"},x={key:0,class:"flex text-sm border-2 border-transparent rounded-full focus:outline-none focus:border-gray-300 transition duration-150 ease-in-out"},A={key:1,class:"inline-flex rounded-md"},D={type:"button",class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white hover:text-gray-700 focus:outline-none transition ease-in-out duration-150"},M=(0,n.createVNode)("svg",{class:"ml-2 -mr-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[(0,n.createVNode)("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),L=(0,n.createVNode)("div",{class:"block px-4 py-2 text-xs text-gray-400"}," Manage Account ",-1),B=(0,n.createTextVNode)(" Profile "),P=(0,n.createTextVNode)(" API Tokens "),V=(0,n.createVNode)("div",{class:"border-t border-gray-100"},null,-1),F=(0,n.createTextVNode)(" Log Out "),U={class:"-mr-2 flex items-center sm:hidden"},H={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},G={class:"pt-2 pb-3 space-y-1"},W=(0,n.createTextVNode)(" Dashboard "),j=(0,n.createTextVNode)(" Devices "),X=(0,n.createTextVNode)(" Rooms "),J={class:"pt-4 pb-1 border-t border-gray-200"},Y={class:"flex items-center px-4"},K={key:0,class:"flex-shrink-0 mr-3"},z={class:"font-medium text-base text-gray-800"},Z={class:"font-medium text-sm text-gray-500"},$={class:"mt-3 space-y-1"},q=(0,n.createTextVNode)(" Profile "),Q=(0,n.createTextVNode)(" API Tokens "),tt=(0,n.createTextVNode)(" Log Out "),et=(0,n.createVNode)("div",{class:"border-t border-gray-200"},null,-1),ot=(0,n.createVNode)("div",{class:"block px-4 py-2 text-xs text-gray-400"}," Manage Team ",-1),nt=(0,n.createTextVNode)(" Team Settings "),rt=(0,n.createTextVNode)(" Create New Team "),it=(0,n.createVNode)("div",{class:"border-t border-gray-200"},null,-1),st=(0,n.createVNode)("div",{class:"block px-4 py-2 text-xs text-gray-400"}," Switch Teams ",-1),at={class:"flex items-center"},lt={key:0,class:"mr-2 h-5 w-5 text-green-400",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24"},ct=(0,n.createVNode)("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),ut={key:0,class:"bg-white shadow"},pt={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"};const ht={components:{logo:o(514).Z},render:function(t,e,o,r,i,s){var a=(0,n.resolveComponent)("logo");return(0,n.openBlock)(),(0,n.createBlock)(a)}},dt=ht;var gt={class:"max-w-screen-xl mx-auto py-2 px-3 sm:px-6 lg:px-8"},_t={class:"flex items-center justify-between flex-wrap"},ft={class:"w-0 flex-1 flex items-center min-w-0"},mt={key:0,class:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},vt=(0,n.createVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),yt={key:1,class:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Tt=(0,n.createVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1),bt={class:"ml-3 font-medium text-sm text-white truncate"},Et={class:"flex-shrink-0 sm:ml-3"},St=(0,n.createVNode)("svg",{class:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,n.createVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1);const Ct={data:function(){return{show:!0}},computed:{style:function(){var t;return(null===(t=this.$page.props.jetstream.flash)||void 0===t?void 0:t.bannerStyle)||"success"},message:function(){var t;return(null===(t=this.$page.props.jetstream.flash)||void 0===t?void 0:t.banner)||""}},render:function(t,e,o,r,i,s){return(0,n.openBlock)(),(0,n.createBlock)("div",null,[i.show&&s.message?((0,n.openBlock)(),(0,n.createBlock)("div",{key:0,class:{"bg-indigo-500":"success"==s.style,"bg-red-700":"danger"==s.style}},[(0,n.createVNode)("div",gt,[(0,n.createVNode)("div",_t,[(0,n.createVNode)("div",ft,[(0,n.createVNode)("span",{class:["flex p-2 rounded-lg",{"bg-indigo-600":"success"==s.style,"bg-red-600":"danger"==s.style}]},["success"==s.style?((0,n.openBlock)(),(0,n.createBlock)("svg",mt,[vt])):(0,n.createCommentVNode)("",!0),"danger"==s.style?((0,n.openBlock)(),(0,n.createBlock)("svg",yt,[Tt])):(0,n.createCommentVNode)("",!0)],2),(0,n.createVNode)("p",bt,(0,n.toDisplayString)(s.message),1)]),(0,n.createVNode)("div",Et,[(0,n.createVNode)("button",{type:"button",class:["-mr-1 flex p-2 rounded-md focus:outline-none sm:-mr-2 transition ease-in-out duration-150",{"hover:bg-indigo-600 focus:bg-indigo-600":"success"==s.style,"hover:bg-red-600 focus:bg-red-600":"danger"==s.style}],"aria-label":"Dismiss",onClick:e[1]||(e[1]=(0,n.withModifiers)((function(t){return i.show=!1}),["prevent"]))},[St],2)])])])],2)):(0,n.createCommentVNode)("",!0)])}};var kt={class:"relative"};const Rt={props:{align:{default:"right"},width:{default:"48"},contentClasses:{default:function(){return["py-1","bg-white"]}}},setup:function(){var t=(0,n.ref)(!1),e=function(e){t.value&&27===e.keyCode&&(t.value=!1)};return(0,n.onMounted)((function(){return document.addEventListener("keydown",e)})),(0,n.onUnmounted)((function(){return document.removeEventListener("keydown",e)})),{open:t}},computed:{widthClass:function(){return{48:"w-48"}[this.width.toString()]},alignmentClasses:function(){return"left"===this.align?"origin-top-left left-0":"right"===this.align?"origin-top-right right-0":"origin-top"}},render:function(t,e,o,r,i,s){return(0,n.openBlock)(),(0,n.createBlock)("div",kt,[(0,n.createVNode)("div",{onClick:e[1]||(e[1]=function(t){return r.open=!r.open})},[(0,n.renderSlot)(t.$slots,"trigger")]),(0,n.withDirectives)((0,n.createVNode)("div",{class:"fixed inset-0 z-40",onClick:e[2]||(e[2]=function(t){return r.open=!1})},null,512),[[n.vShow,r.open]]),(0,n.createVNode)(n.Transition,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:(0,n.withCtx)((function(){return[(0,n.withDirectives)((0,n.createVNode)("div",{class:["absolute z-50 mt-2 rounded-md shadow-lg",[s.widthClass,s.alignmentClasses]],style:{display:"none"},onClick:e[3]||(e[3]=function(t){return r.open=!1})},[(0,n.createVNode)("div",{class:["rounded-md ring-1 ring-black ring-opacity-5",o.contentClasses]},[(0,n.renderSlot)(t.$slots,"content")],2)],2),[[n.vShow,r.open]])]})),_:3})])}};var It={key:0,type:"submit",class:"block w-full px-4 py-2 text-sm leading-5 text-gray-700 text-left hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"};const wt={props:["href","as"],render:function(t,e,o,r,i,s){var a=(0,n.resolveComponent)("inertia-link");return(0,n.openBlock)(),(0,n.createBlock)("div",null,["button"==o.as?((0,n.openBlock)(),(0,n.createBlock)("button",It,[(0,n.renderSlot)(t.$slots,"default")])):"a"==o.as?((0,n.openBlock)(),(0,n.createBlock)("a",{key:1,href:o.href,class:"block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"},[(0,n.renderSlot)(t.$slots,"default")],8,["href"])):((0,n.openBlock)(),(0,n.createBlock)(a,{key:2,href:o.href,class:"block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"},{default:(0,n.withCtx)((function(){return[(0,n.renderSlot)(t.$slots,"default")]})),_:3},8,["href"]))])}};const Nt={props:["href","active"],computed:{classes:function(){return this.active?"inline-flex items-center px-1 pt-1 border-b-2 border-indigo-400 text-sm font-medium leading-5 text-gray-900 focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out":"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out"}},render:function(t,e,o,r,i,s){var a=(0,n.resolveComponent)("inertia-link");return(0,n.openBlock)(),(0,n.createBlock)(a,{href:o.href,class:s.classes},{default:(0,n.withCtx)((function(){return[(0,n.renderSlot)(t.$slots,"default")]})),_:3},8,["href","class"])}};const Ot={props:["active","href","as"],computed:{classes:function(){return this.active?"block pl-3 pr-4 py-2 border-l-4 border-indigo-400 text-base font-medium text-indigo-700 bg-indigo-50 focus:outline-none focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700 transition duration-150 ease-in-out":"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300 transition duration-150 ease-in-out"}},render:function(t,e,o,r,i,s){var a=(0,n.resolveComponent)("inertia-link");return(0,n.openBlock)(),(0,n.createBlock)("div",null,["button"==o.as?((0,n.openBlock)(),(0,n.createBlock)("button",{key:0,class:[s.classes,"w-full text-left"]},[(0,n.renderSlot)(t.$slots,"default")],2)):((0,n.openBlock)(),(0,n.createBlock)(a,{key:1,href:o.href,class:s.classes},{default:(0,n.withCtx)((function(){return[(0,n.renderSlot)(t.$slots,"default")]})),_:3},8,["href","class"]))])}},xt={components:{JetApplicationMark:dt,JetBanner:Ct,JetDropdown:Rt,JetDropdownLink:wt,JetNavLink:Nt,JetResponsiveNavLink:Ot},data:function(){return{showingNavigationDropdown:!1}},methods:{switchToTeam:function(t){this.$inertia.put(route("current-team.update"),{team_id:t.id},{preserveState:!1})},logout:function(){this.$inertia.post(route("logout"))}},render:function(t,e,o,ht,dt,gt){var _t=(0,n.resolveComponent)("jet-banner"),ft=(0,n.resolveComponent)("jet-application-mark"),mt=(0,n.resolveComponent)("inertia-link"),vt=(0,n.resolveComponent)("jet-nav-link"),yt=(0,n.resolveComponent)("jet-dropdown-link"),Tt=(0,n.resolveComponent)("jet-dropdown"),bt=(0,n.resolveComponent)("jet-responsive-nav-link");return(0,n.openBlock)(),(0,n.createBlock)("div",null,[(0,n.createVNode)(_t),(0,n.createVNode)("div",r,[(0,n.createVNode)("nav",i,[(0,n.createVNode)("div",s,[(0,n.createVNode)("div",a,[(0,n.createVNode)("div",l,[(0,n.createVNode)("div",c,[(0,n.createVNode)(mt,{href:t.route("dashboard")},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(ft,{class:"block h-9 w-auto"})]})),_:1},8,["href"])]),(0,n.createVNode)("div",u,[(0,n.createVNode)(vt,{href:t.route("dashboard"),active:t.route().current("dashboard")},{default:(0,n.withCtx)((function(){return[p]})),_:1},8,["href","active"]),(0,n.createVNode)(vt,{href:t.route("rooms"),active:t.route().current("rooms")},{default:(0,n.withCtx)((function(){return[h]})),_:1},8,["href","active"]),(0,n.createVNode)(vt,{href:t.route("devices"),active:t.route().current("devices")},{default:(0,n.withCtx)((function(){return[d]})),_:1},8,["href","active"]),(0,n.createVNode)(vt,{href:t.route("programs"),active:t.route().current("programs")},{default:(0,n.withCtx)((function(){return[g]})),_:1},8,["href","active"]),(0,n.createVNode)(vt,{href:t.route("cameras"),active:t.route().current("cameras")},{default:(0,n.withCtx)((function(){return[_]})),_:1},8,["href","active"])])]),(0,n.createVNode)("div",f,[(0,n.createVNode)("div",m,[t.$page.props.jetstream.hasTeamFeatures?((0,n.openBlock)(),(0,n.createBlock)(Tt,{key:0,align:"right",width:"60"},{trigger:(0,n.withCtx)((function(){return[(0,n.createVNode)("span",v,[(0,n.createVNode)("button",y,[(0,n.createTextVNode)((0,n.toDisplayString)(t.$page.props.user.current_team.name)+" ",1),T])])]})),content:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",b,[t.$page.props.jetstream.hasTeamFeatures?((0,n.openBlock)(),(0,n.createBlock)(n.Fragment,{key:0},[E,(0,n.createVNode)(yt,{href:t.route("teams.show",t.$page.props.user.current_team)},{default:(0,n.withCtx)((function(){return[S]})),_:1},8,["href"]),t.$page.props.jetstream.canCreateTeams?((0,n.openBlock)(),(0,n.createBlock)(yt,{key:0,href:t.route("teams.create")},{default:(0,n.withCtx)((function(){return[C]})),_:1},8,["href"])):(0,n.createCommentVNode)("",!0),k,R,((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(t.$page.props.user.all_teams,(function(e){return(0,n.openBlock)(),(0,n.createBlock)("form",{key:e.id,onSubmit:(0,n.withModifiers)((function(t){return gt.switchToTeam(e)}),["prevent"])},[(0,n.createVNode)(yt,{as:"button"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",I,[e.id==t.$page.props.user.current_team_id?((0,n.openBlock)(),(0,n.createBlock)("svg",w,[N])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)("div",null,(0,n.toDisplayString)(e.name),1)])]})),_:2},1024)],40,["onSubmit"])})),128))],64)):(0,n.createCommentVNode)("",!0)])]})),_:1})):(0,n.createCommentVNode)("",!0)]),(0,n.createVNode)("div",O,[(0,n.createVNode)(Tt,{align:"right",width:"48"},{trigger:(0,n.withCtx)((function(){return[t.$page.props.jetstream.managesProfilePhotos?((0,n.openBlock)(),(0,n.createBlock)("button",x,[(0,n.createVNode)("img",{class:"h-8 w-8 rounded-full object-cover",src:t.$page.props.user.profile_photo_url,alt:t.$page.props.user.name},null,8,["src","alt"])])):((0,n.openBlock)(),(0,n.createBlock)("span",A,[(0,n.createVNode)("button",D,[(0,n.createTextVNode)((0,n.toDisplayString)(t.$page.props.user.name)+" ",1),M])]))]})),content:(0,n.withCtx)((function(){return[L,(0,n.createVNode)(yt,{href:t.route("profile.show")},{default:(0,n.withCtx)((function(){return[B]})),_:1},8,["href"]),t.$page.props.jetstream.hasApiFeatures?((0,n.openBlock)(),(0,n.createBlock)(yt,{key:0,href:t.route("api-tokens.index")},{default:(0,n.withCtx)((function(){return[P]})),_:1},8,["href"])):(0,n.createCommentVNode)("",!0),V,(0,n.createVNode)("form",{onSubmit:e[1]||(e[1]=(0,n.withModifiers)((function(){return gt.logout&&gt.logout.apply(gt,arguments)}),["prevent"]))},[(0,n.createVNode)(yt,{as:"button"},{default:(0,n.withCtx)((function(){return[F]})),_:1})],32)]})),_:1})])]),(0,n.createVNode)("div",U,[(0,n.createVNode)("button",{onClick:e[2]||(e[2]=function(t){return dt.showingNavigationDropdown=!dt.showingNavigationDropdown}),class:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition duration-150 ease-in-out"},[((0,n.openBlock)(),(0,n.createBlock)("svg",H,[(0,n.createVNode)("path",{class:{hidden:dt.showingNavigationDropdown,"inline-flex":!dt.showingNavigationDropdown},"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),(0,n.createVNode)("path",{class:{hidden:!dt.showingNavigationDropdown,"inline-flex":dt.showingNavigationDropdown},"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),(0,n.createVNode)("div",{class:[{block:dt.showingNavigationDropdown,hidden:!dt.showingNavigationDropdown},"sm:hidden"]},[(0,n.createVNode)("div",G,[(0,n.createVNode)(bt,{href:t.route("dashboard"),active:t.route().current("dashboard")},{default:(0,n.withCtx)((function(){return[W]})),_:1},8,["href","active"]),(0,n.createVNode)(bt,{href:t.route("dashboard"),active:t.route().current("dashboard")},{default:(0,n.withCtx)((function(){return[j]})),_:1},8,["href","active"]),(0,n.createVNode)(bt,{href:t.route("dashboard"),active:t.route().current("dashboard")},{default:(0,n.withCtx)((function(){return[X]})),_:1},8,["href","active"])]),(0,n.createVNode)("div",J,[(0,n.createVNode)("div",Y,[t.$page.props.jetstream.managesProfilePhotos?((0,n.openBlock)(),(0,n.createBlock)("div",K,[(0,n.createVNode)("img",{class:"h-10 w-10 rounded-full object-cover",src:t.$page.props.user.profile_photo_url,alt:t.$page.props.user.name},null,8,["src","alt"])])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)("div",null,[(0,n.createVNode)("div",z,(0,n.toDisplayString)(t.$page.props.user.name),1),(0,n.createVNode)("div",Z,(0,n.toDisplayString)(t.$page.props.user.email),1)])]),(0,n.createVNode)("div",$,[(0,n.createVNode)(bt,{href:t.route("profile.show"),active:t.route().current("profile.show")},{default:(0,n.withCtx)((function(){return[q]})),_:1},8,["href","active"]),t.$page.props.jetstream.hasApiFeatures?((0,n.openBlock)(),(0,n.createBlock)(bt,{key:0,href:t.route("api-tokens.index"),active:t.route().current("api-tokens.index")},{default:(0,n.withCtx)((function(){return[Q]})),_:1},8,["href","active"])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)("form",{method:"POST",onSubmit:e[3]||(e[3]=(0,n.withModifiers)((function(){return gt.logout&&gt.logout.apply(gt,arguments)}),["prevent"]))},[(0,n.createVNode)(bt,{as:"button"},{default:(0,n.withCtx)((function(){return[tt]})),_:1})],32),t.$page.props.jetstream.hasTeamFeatures?((0,n.openBlock)(),(0,n.createBlock)(n.Fragment,{key:1},[et,ot,(0,n.createVNode)(bt,{href:t.route("teams.show",t.$page.props.user.current_team),active:t.route().current("teams.show")},{default:(0,n.withCtx)((function(){return[nt]})),_:1},8,["href","active"]),(0,n.createVNode)(bt,{href:t.route("teams.create"),active:t.route().current("teams.create")},{default:(0,n.withCtx)((function(){return[rt]})),_:1},8,["href","active"]),it,st,((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(t.$page.props.user.all_teams,(function(e){return(0,n.openBlock)(),(0,n.createBlock)("form",{key:e.id,onSubmit:(0,n.withModifiers)((function(t){return gt.switchToTeam(e)}),["prevent"])},[(0,n.createVNode)(bt,{as:"button"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",at,[e.id==t.$page.props.user.current_team_id?((0,n.openBlock)(),(0,n.createBlock)("svg",lt,[ct])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)("div",null,(0,n.toDisplayString)(e.name),1)])]})),_:2},1024)],40,["onSubmit"])})),128))],64)):(0,n.createCommentVNode)("",!0)])])],2)]),t.$slots.header?((0,n.openBlock)(),(0,n.createBlock)("header",ut,[(0,n.createVNode)("div",pt,[(0,n.renderSlot)(t.$slots,"header")])])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)("main",null,[(0,n.renderSlot)(t.$slots,"default")])])])}},At=xt},1605:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>K});var n=o(8191),r=(0,n.createTextVNode)(" Create API Token "),i=(0,n.createTextVNode)(" API tokens allow third-party services to authenticate with our application on your behalf. "),s={class:"col-span-6 sm:col-span-4"},a={key:0,class:"col-span-6"},l={class:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4"},c={class:"flex items-center"},u={class:"ml-2 text-sm text-gray-600"},p=(0,n.createTextVNode)(" Created. "),h=(0,n.createTextVNode)(" Create "),d={key:0},g={class:"mt-10 sm:mt-0"},_=(0,n.createTextVNode)(" Manage API Tokens "),f=(0,n.createTextVNode)(" You may delete any of your existing tokens if they are no longer needed. "),m={class:"space-y-6"},v={class:"flex items-center"},y={key:0,class:"text-sm text-gray-400"},T=(0,n.createTextVNode)(" API Token "),b=(0,n.createVNode)("div",null," Please copy your new API token. For your security, it won't be shown again. ",-1),E={key:0,class:"mt-4 bg-gray-100 px-4 py-2 rounded font-mono text-sm text-gray-500"},S=(0,n.createTextVNode)(" Close "),C=(0,n.createTextVNode)(" API Token Permissions "),k={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},R={class:"flex items-center"},I={class:"ml-2 text-sm text-gray-600"},w=(0,n.createTextVNode)(" Cancel "),N=(0,n.createTextVNode)(" Save "),O=(0,n.createTextVNode)(" Delete API Token "),x=(0,n.createTextVNode)(" Are you sure you would like to delete this API token? "),A=(0,n.createTextVNode)(" Cancel "),D=(0,n.createTextVNode)(" Delete ");var M=o(7546),L=o(7637),B=o(6245),P=o(2212),V=o(6665),F=o(8415),U=o(9248),H=o(6824),G=o(344),W=o(8985),j=o(3845),X=o(4178),J=o(8137);const Y={components:{JetActionMessage:M.Z,JetActionSection:L.Z,JetButton:B.Z,JetConfirmationModal:P.Z,JetDangerButton:V.Z,JetDialogModal:F.Z,JetFormSection:U.Z,JetInput:H.Z,JetCheckbox:G.Z,JetInputError:W.Z,JetLabel:j.Z,JetSecondaryButton:X.Z,JetSectionBorder:J.Z},props:["tokens","availablePermissions","defaultPermissions"],data:function(){return{createApiTokenForm:this.$inertia.form({name:"",permissions:this.defaultPermissions}),updateApiTokenForm:this.$inertia.form({permissions:[]}),deleteApiTokenForm:this.$inertia.form(),displayingToken:!1,managingPermissionsFor:null,apiTokenBeingDeleted:null}},methods:{createApiToken:function(){var t=this;this.createApiTokenForm.post(route("api-tokens.store"),{preserveScroll:!0,onSuccess:function(){t.displayingToken=!0,t.createApiTokenForm.reset()}})},manageApiTokenPermissions:function(t){this.updateApiTokenForm.permissions=t.abilities,this.managingPermissionsFor=t},updateApiToken:function(){var t=this;this.updateApiTokenForm.put(route("api-tokens.update",this.managingPermissionsFor),{preserveScroll:!0,preserveState:!0,onSuccess:function(){return t.managingPermissionsFor=null}})},confirmApiTokenDeletion:function(t){this.apiTokenBeingDeleted=t},deleteApiToken:function(){var t=this;this.deleteApiTokenForm.delete(route("api-tokens.destroy",this.apiTokenBeingDeleted),{preserveScroll:!0,preserveState:!0,onSuccess:function(){return t.apiTokenBeingDeleted=null}})}},render:function(t,e,o,M,L,B){var P=(0,n.resolveComponent)("jet-label"),V=(0,n.resolveComponent)("jet-input"),F=(0,n.resolveComponent)("jet-input-error"),U=(0,n.resolveComponent)("jet-checkbox"),H=(0,n.resolveComponent)("jet-action-message"),G=(0,n.resolveComponent)("jet-button"),W=(0,n.resolveComponent)("jet-form-section"),j=(0,n.resolveComponent)("jet-section-border"),X=(0,n.resolveComponent)("jet-action-section"),J=(0,n.resolveComponent)("jet-secondary-button"),Y=(0,n.resolveComponent)("jet-dialog-modal"),K=(0,n.resolveComponent)("jet-danger-button"),z=(0,n.resolveComponent)("jet-confirmation-modal");return(0,n.openBlock)(),(0,n.createBlock)("div",null,[(0,n.createVNode)(W,{onSubmitted:B.createApiToken},{title:(0,n.withCtx)((function(){return[r]})),description:(0,n.withCtx)((function(){return[i]})),form:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",s,[(0,n.createVNode)(P,{for:"name",value:"Name"}),(0,n.createVNode)(V,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:L.createApiTokenForm.name,"onUpdate:modelValue":e[1]||(e[1]=function(t){return L.createApiTokenForm.name=t}),autofocus:""},null,8,["modelValue"]),(0,n.createVNode)(F,{message:L.createApiTokenForm.errors.name,class:"mt-2"},null,8,["message"])]),o.availablePermissions.length>0?((0,n.openBlock)(),(0,n.createBlock)("div",a,[(0,n.createVNode)(P,{for:"permissions",value:"Permissions"}),(0,n.createVNode)("div",l,[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(o.availablePermissions,(function(t){return(0,n.openBlock)(),(0,n.createBlock)("div",{key:t},[(0,n.createVNode)("label",c,[(0,n.createVNode)(U,{value:t,checked:L.createApiTokenForm.permissions,"onUpdate:checked":e[2]||(e[2]=function(t){return L.createApiTokenForm.permissions=t})},null,8,["value","checked"]),(0,n.createVNode)("span",u,(0,n.toDisplayString)(t),1)])])})),128))])])):(0,n.createCommentVNode)("",!0)]})),actions:(0,n.withCtx)((function(){return[(0,n.createVNode)(H,{on:L.createApiTokenForm.recentlySuccessful,class:"mr-3"},{default:(0,n.withCtx)((function(){return[p]})),_:1},8,["on"]),(0,n.createVNode)(G,{class:{"opacity-25":L.createApiTokenForm.processing},disabled:L.createApiTokenForm.processing},{default:(0,n.withCtx)((function(){return[h]})),_:1},8,["class","disabled"])]})),_:1},8,["onSubmitted"]),o.tokens.length>0?((0,n.openBlock)(),(0,n.createBlock)("div",d,[(0,n.createVNode)(j),(0,n.createVNode)("div",g,[(0,n.createVNode)(X,null,{title:(0,n.withCtx)((function(){return[_]})),description:(0,n.withCtx)((function(){return[f]})),content:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",m,[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(o.tokens,(function(t){return(0,n.openBlock)(),(0,n.createBlock)("div",{class:"flex items-center justify-between",key:t.id},[(0,n.createVNode)("div",null,(0,n.toDisplayString)(t.name),1),(0,n.createVNode)("div",v,[t.last_used_ago?((0,n.openBlock)(),(0,n.createBlock)("div",y," Last used "+(0,n.toDisplayString)(t.last_used_ago),1)):(0,n.createCommentVNode)("",!0),o.availablePermissions.length>0?((0,n.openBlock)(),(0,n.createBlock)("button",{key:1,class:"cursor-pointer ml-6 text-sm text-gray-400 underline",onClick:function(e){return B.manageApiTokenPermissions(t)}}," Permissions ",8,["onClick"])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)("button",{class:"cursor-pointer ml-6 text-sm text-red-500",onClick:function(e){return B.confirmApiTokenDeletion(t)}}," Delete ",8,["onClick"])])])})),128))])]})),_:1})])])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(Y,{show:L.displayingToken,onClose:e[4]||(e[4]=function(t){return L.displayingToken=!1})},{title:(0,n.withCtx)((function(){return[T]})),content:(0,n.withCtx)((function(){return[b,t.$page.props.jetstream.flash.token?((0,n.openBlock)(),(0,n.createBlock)("div",E,(0,n.toDisplayString)(t.$page.props.jetstream.flash.token),1)):(0,n.createCommentVNode)("",!0)]})),footer:(0,n.withCtx)((function(){return[(0,n.createVNode)(J,{onClick:e[3]||(e[3]=function(t){return L.displayingToken=!1})},{default:(0,n.withCtx)((function(){return[S]})),_:1})]})),_:1},8,["show"]),(0,n.createVNode)(Y,{show:L.managingPermissionsFor,onClose:e[7]||(e[7]=function(t){return L.managingPermissionsFor=null})},{title:(0,n.withCtx)((function(){return[C]})),content:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",k,[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(o.availablePermissions,(function(t){return(0,n.openBlock)(),(0,n.createBlock)("div",{key:t},[(0,n.createVNode)("label",R,[(0,n.createVNode)(U,{value:t,checked:L.updateApiTokenForm.permissions,"onUpdate:checked":e[5]||(e[5]=function(t){return L.updateApiTokenForm.permissions=t})},null,8,["value","checked"]),(0,n.createVNode)("span",I,(0,n.toDisplayString)(t),1)])])})),128))])]})),footer:(0,n.withCtx)((function(){return[(0,n.createVNode)(J,{onClick:e[6]||(e[6]=function(t){return L.managingPermissionsFor=null})},{default:(0,n.withCtx)((function(){return[w]})),_:1}),(0,n.createVNode)(G,{class:["ml-2",{"opacity-25":L.updateApiTokenForm.processing}],onClick:B.updateApiToken,disabled:L.updateApiTokenForm.processing},{default:(0,n.withCtx)((function(){return[N]})),_:1},8,["onClick","class","disabled"])]})),_:1},8,["show"]),(0,n.createVNode)(z,{show:L.apiTokenBeingDeleted,onClose:e[9]||(e[9]=function(t){return L.apiTokenBeingDeleted=null})},{title:(0,n.withCtx)((function(){return[O]})),content:(0,n.withCtx)((function(){return[x]})),footer:(0,n.withCtx)((function(){return[(0,n.createVNode)(J,{onClick:e[8]||(e[8]=function(t){return L.apiTokenBeingDeleted=null})},{default:(0,n.withCtx)((function(){return[A]})),_:1}),(0,n.createVNode)(K,{class:["ml-2",{"opacity-25":L.deleteApiTokenForm.processing}],onClick:B.deleteApiToken,disabled:L.deleteApiTokenForm.processing},{default:(0,n.withCtx)((function(){return[D]})),_:1},8,["onClick","class","disabled"])]})),_:1},8,["show"])])}},K=Y},1201:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>c});var n=o(8191),r=(0,n.createVNode)("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," API Tokens ",-1),i={class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"};var s=o(1605),a=o(7063);const l={props:["tokens","availablePermissions","defaultPermissions"],components:{ApiTokenManager:s.default,AppLayout:a.Z},render:function(t,e,o,s,a,l){var c=(0,n.resolveComponent)("api-token-manager"),u=(0,n.resolveComponent)("app-layout");return(0,n.openBlock)(),(0,n.createBlock)(u,null,{header:(0,n.withCtx)((function(){return[r]})),default:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",null,[(0,n.createVNode)("div",i,[(0,n.createVNode)(c,{tokens:o.tokens,"available-permissions":o.availablePermissions,"default-permissions":o.defaultPermissions},null,8,["tokens","available-permissions","default-permissions"])])])]})),_:1})}},c=l},5362:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>g});var n=o(8191),r=(0,n.createVNode)("div",{class:"mb-4 text-sm text-gray-600"}," This is a secure area of the application. Please confirm your password before continuing. ",-1),i={class:"flex justify-end mt-4"},s=(0,n.createTextVNode)(" Confirm ");var a=o(2740),l=o(949),c=o(6245),u=o(6824),p=o(3845),h=o(3186);const d={components:{JetAuthenticationCard:a.Z,JetAuthenticationCardLogo:l.Z,JetButton:c.Z,JetInput:u.Z,JetLabel:p.Z,JetValidationErrors:h.Z},data:function(){return{form:this.$inertia.form({password:""})}},methods:{submit:function(){var t=this;this.form.post(this.route("password.confirm"),{onFinish:function(){return t.form.reset()}})}},render:function(t,e,o,a,l,c){var u=(0,n.resolveComponent)("jet-authentication-card-logo"),p=(0,n.resolveComponent)("jet-validation-errors"),h=(0,n.resolveComponent)("jet-label"),d=(0,n.resolveComponent)("jet-input"),g=(0,n.resolveComponent)("jet-button"),_=(0,n.resolveComponent)("jet-authentication-card");return(0,n.openBlock)(),(0,n.createBlock)(_,null,{logo:(0,n.withCtx)((function(){return[(0,n.createVNode)(u)]})),default:(0,n.withCtx)((function(){return[r,(0,n.createVNode)(p,{class:"mb-4"}),(0,n.createVNode)("form",{onSubmit:e[2]||(e[2]=(0,n.withModifiers)((function(){return c.submit&&c.submit.apply(c,arguments)}),["prevent"]))},[(0,n.createVNode)("div",null,[(0,n.createVNode)(h,{for:"password",value:"Password"}),(0,n.createVNode)(d,{id:"password",type:"password",class:"mt-1 block w-full",modelValue:l.form.password,"onUpdate:modelValue":e[1]||(e[1]=function(t){return l.form.password=t}),required:"",autocomplete:"current-password",autofocus:""},null,8,["modelValue"])]),(0,n.createVNode)("div",i,[(0,n.createVNode)(g,{class:["ml-4",{"opacity-25":l.form.processing}],disabled:l.form.processing},{default:(0,n.withCtx)((function(){return[s]})),_:1},8,["class","disabled"])])],32)]})),_:1})}},g=d},9195:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>_});var n=o(8191),r=(0,n.createVNode)("div",{class:"mb-4 text-sm text-gray-600"}," Forgot your password? No problem. Just let us know your email address and we will email you a password reset link that will allow you to choose a new one. ",-1),i={key:0,class:"mb-4 font-medium text-sm text-green-600"},s={class:"flex items-center justify-end mt-4"},a=(0,n.createTextVNode)(" Email Password Reset Link ");var l=o(2740),c=o(949),u=o(6245),p=o(6824),h=o(3845),d=o(3186);const g={components:{JetAuthenticationCard:l.Z,JetAuthenticationCardLogo:c.Z,JetButton:u.Z,JetInput:p.Z,JetLabel:h.Z,JetValidationErrors:d.Z},props:{status:String},data:function(){return{form:this.$inertia.form({email:""})}},methods:{submit:function(){this.form.post(this.route("password.email"))}},render:function(t,e,o,l,c,u){var p=(0,n.resolveComponent)("jet-authentication-card-logo"),h=(0,n.resolveComponent)("jet-validation-errors"),d=(0,n.resolveComponent)("jet-label"),g=(0,n.resolveComponent)("jet-input"),_=(0,n.resolveComponent)("jet-button"),f=(0,n.resolveComponent)("jet-authentication-card");return(0,n.openBlock)(),(0,n.createBlock)(f,null,{logo:(0,n.withCtx)((function(){return[(0,n.createVNode)(p)]})),default:(0,n.withCtx)((function(){return[r,o.status?((0,n.openBlock)(),(0,n.createBlock)("div",i,(0,n.toDisplayString)(o.status),1)):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(h,{class:"mb-4"}),(0,n.createVNode)("form",{onSubmit:e[2]||(e[2]=(0,n.withModifiers)((function(){return u.submit&&u.submit.apply(u,arguments)}),["prevent"]))},[(0,n.createVNode)("div",null,[(0,n.createVNode)(d,{for:"email",value:"Email"}),(0,n.createVNode)(g,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:c.form.email,"onUpdate:modelValue":e[1]||(e[1]=function(t){return c.form.email=t}),required:"",autofocus:""},null,8,["modelValue"])]),(0,n.createVNode)("div",s,[(0,n.createVNode)(_,{class:{"opacity-25":c.form.processing},disabled:c.form.processing},{default:(0,n.withCtx)((function(){return[a]})),_:1},8,["class","disabled"])])],32)]})),_:1})}},_=g},2436:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>S});var n=o(8191),r={key:0,class:"mb-4 font-medium text-sm text-green-600"},i={class:"mt-4"},s={class:"block mt-4"},a={class:"flex items-center"},l=(0,n.createVNode)("span",{class:"ml-2 text-sm text-gray-600"},"Remember me",-1),c={class:"flex items-center justify-end mt-4"},u=(0,n.createTextVNode)(" Forgot your password? "),p=(0,n.createTextVNode)(" Log in ");var h=o(2740),d=o(949),g=o(6245),_=o(6824),f=o(344),m=o(3845),v=o(3186);function y(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function T(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?y(Object(o),!0).forEach((function(e){b(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):y(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function b(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}const E={components:{JetAuthenticationCard:h.Z,JetAuthenticationCardLogo:d.Z,JetButton:g.Z,JetInput:_.Z,JetCheckbox:f.Z,JetLabel:m.Z,JetValidationErrors:v.Z},props:{canResetPassword:Boolean,status:String},data:function(){return{form:this.$inertia.form({email:"",password:"",remember:!1})}},methods:{submit:function(){var t=this;this.form.transform((function(e){return T(T({},e),{},{remember:t.form.remember?"on":""})})).post(this.route("login"),{onFinish:function(){return t.form.reset("password")}})}},render:function(t,e,o,h,d,g){var _=(0,n.resolveComponent)("jet-authentication-card-logo"),f=(0,n.resolveComponent)("jet-validation-errors"),m=(0,n.resolveComponent)("jet-label"),v=(0,n.resolveComponent)("jet-input"),y=(0,n.resolveComponent)("jet-checkbox"),T=(0,n.resolveComponent)("inertia-link"),b=(0,n.resolveComponent)("jet-button"),E=(0,n.resolveComponent)("jet-authentication-card");return(0,n.openBlock)(),(0,n.createBlock)(E,null,{logo:(0,n.withCtx)((function(){return[(0,n.createVNode)(_)]})),default:(0,n.withCtx)((function(){return[(0,n.createVNode)(f,{class:"mb-4"}),o.status?((0,n.openBlock)(),(0,n.createBlock)("div",r,(0,n.toDisplayString)(o.status),1)):(0,n.createCommentVNode)("",!0),(0,n.createVNode)("form",{onSubmit:e[4]||(e[4]=(0,n.withModifiers)((function(){return g.submit&&g.submit.apply(g,arguments)}),["prevent"]))},[(0,n.createVNode)("div",null,[(0,n.createVNode)(m,{for:"email",value:"Email"}),(0,n.createVNode)(v,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:d.form.email,"onUpdate:modelValue":e[1]||(e[1]=function(t){return d.form.email=t}),required:"",autofocus:""},null,8,["modelValue"])]),(0,n.createVNode)("div",i,[(0,n.createVNode)(m,{for:"password",value:"Password"}),(0,n.createVNode)(v,{id:"password",type:"password",class:"mt-1 block w-full",modelValue:d.form.password,"onUpdate:modelValue":e[2]||(e[2]=function(t){return d.form.password=t}),required:"",autocomplete:"current-password"},null,8,["modelValue"])]),(0,n.createVNode)("div",s,[(0,n.createVNode)("label",a,[(0,n.createVNode)(y,{name:"remember",checked:d.form.remember,"onUpdate:checked":e[3]||(e[3]=function(t){return d.form.remember=t})},null,8,["checked"]),l])]),(0,n.createVNode)("div",c,[o.canResetPassword?((0,n.openBlock)(),(0,n.createBlock)(T,{key:0,href:t.route("password.request"),class:"underline text-sm text-gray-600 hover:text-gray-900"},{default:(0,n.withCtx)((function(){return[u]})),_:1},8,["href"])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(b,{class:["ml-4",{"opacity-25":d.form.processing}],disabled:d.form.processing},{default:(0,n.withCtx)((function(){return[p]})),_:1},8,["class","disabled"])])],32)]})),_:1})}},S=E},3616:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>S});var n=o(8191),r={class:"mt-4"},i={class:"mt-4"},s={class:"mt-4"},a={key:0,class:"mt-4"},l={class:"flex items-center"},c={class:"ml-2"},u=(0,n.createTextVNode)(" I agree to the "),p=(0,n.createTextVNode)(" and "),h={class:"flex items-center justify-end mt-4"},d=(0,n.createTextVNode)(" Already registered? "),g=(0,n.createTextVNode)(" Register ");var _=o(2740),f=o(949),m=o(6245),v=o(6824),y=o(344),T=o(3845),b=o(3186);const E={components:{JetAuthenticationCard:_.Z,JetAuthenticationCardLogo:f.Z,JetButton:m.Z,JetInput:v.Z,JetCheckbox:y.Z,JetLabel:T.Z,JetValidationErrors:b.Z},data:function(){return{form:this.$inertia.form({name:"",email:"",password:"",password_confirmation:"",terms:!1})}},methods:{submit:function(){var t=this;this.form.post(this.route("register"),{onFinish:function(){return t.form.reset("password","password_confirmation")}})}},render:function(t,e,o,_,f,m){var v=(0,n.resolveComponent)("jet-authentication-card-logo"),y=(0,n.resolveComponent)("jet-validation-errors"),T=(0,n.resolveComponent)("jet-label"),b=(0,n.resolveComponent)("jet-input"),E=(0,n.resolveComponent)("jet-checkbox"),S=(0,n.resolveComponent)("inertia-link"),C=(0,n.resolveComponent)("jet-button"),k=(0,n.resolveComponent)("jet-authentication-card");return(0,n.openBlock)(),(0,n.createBlock)(k,null,{logo:(0,n.withCtx)((function(){return[(0,n.createVNode)(v)]})),default:(0,n.withCtx)((function(){return[(0,n.createVNode)(y,{class:"mb-4"}),(0,n.createVNode)("form",{onSubmit:e[6]||(e[6]=(0,n.withModifiers)((function(){return m.submit&&m.submit.apply(m,arguments)}),["prevent"]))},[(0,n.createVNode)("div",null,[(0,n.createVNode)(T,{for:"name",value:"Name"}),(0,n.createVNode)(b,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:f.form.name,"onUpdate:modelValue":e[1]||(e[1]=function(t){return f.form.name=t}),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"])]),(0,n.createVNode)("div",r,[(0,n.createVNode)(T,{for:"email",value:"Email"}),(0,n.createVNode)(b,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:f.form.email,"onUpdate:modelValue":e[2]||(e[2]=function(t){return f.form.email=t}),required:""},null,8,["modelValue"])]),(0,n.createVNode)("div",i,[(0,n.createVNode)(T,{for:"password",value:"Password"}),(0,n.createVNode)(b,{id:"password",type:"password",class:"mt-1 block w-full",modelValue:f.form.password,"onUpdate:modelValue":e[3]||(e[3]=function(t){return f.form.password=t}),required:"",autocomplete:"new-password"},null,8,["modelValue"])]),(0,n.createVNode)("div",s,[(0,n.createVNode)(T,{for:"password_confirmation",value:"Confirm Password"}),(0,n.createVNode)(b,{id:"password_confirmation",type:"password",class:"mt-1 block w-full",modelValue:f.form.password_confirmation,"onUpdate:modelValue":e[4]||(e[4]=function(t){return f.form.password_confirmation=t}),required:"",autocomplete:"new-password"},null,8,["modelValue"])]),t.$page.props.jetstream.hasTermsAndPrivacyPolicyFeature?((0,n.openBlock)(),(0,n.createBlock)("div",a,[(0,n.createVNode)(T,{for:"terms"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",l,[(0,n.createVNode)(E,{name:"terms",id:"terms",checked:f.form.terms,"onUpdate:checked":e[5]||(e[5]=function(t){return f.form.terms=t})},null,8,["checked"]),(0,n.createVNode)("div",c,[u,(0,n.createVNode)("a",{target:"_blank",href:t.route("terms.show"),class:"underline text-sm text-gray-600 hover:text-gray-900"},"Terms of Service",8,["href"]),p,(0,n.createVNode)("a",{target:"_blank",href:t.route("policy.show"),class:"underline text-sm text-gray-600 hover:text-gray-900"},"Privacy Policy",8,["href"])])])]})),_:1})])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)("div",h,[(0,n.createVNode)(S,{href:t.route("login"),class:"underline text-sm text-gray-600 hover:text-gray-900"},{default:(0,n.withCtx)((function(){return[d]})),_:1},8,["href"]),(0,n.createVNode)(C,{class:["ml-4",{"opacity-25":f.form.processing}],disabled:f.form.processing},{default:(0,n.withCtx)((function(){return[g]})),_:1},8,["class","disabled"])])],32)]})),_:1})}},S=E},8957:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>_});var n=o(8191),r={class:"mt-4"},i={class:"mt-4"},s={class:"flex items-center justify-end mt-4"},a=(0,n.createTextVNode)(" Reset Password ");var l=o(2740),c=o(949),u=o(6245),p=o(6824),h=o(3845),d=o(3186);const g={components:{JetAuthenticationCard:l.Z,JetAuthenticationCardLogo:c.Z,JetButton:u.Z,JetInput:p.Z,JetLabel:h.Z,JetValidationErrors:d.Z},props:{email:String,token:String},data:function(){return{form:this.$inertia.form({token:this.token,email:this.email,password:"",password_confirmation:""})}},methods:{submit:function(){var t=this;this.form.post(this.route("password.update"),{onFinish:function(){return t.form.reset("password","password_confirmation")}})}},render:function(t,e,o,l,c,u){var p=(0,n.resolveComponent)("jet-authentication-card-logo"),h=(0,n.resolveComponent)("jet-validation-errors"),d=(0,n.resolveComponent)("jet-label"),g=(0,n.resolveComponent)("jet-input"),_=(0,n.resolveComponent)("jet-button"),f=(0,n.resolveComponent)("jet-authentication-card");return(0,n.openBlock)(),(0,n.createBlock)(f,null,{logo:(0,n.withCtx)((function(){return[(0,n.createVNode)(p)]})),default:(0,n.withCtx)((function(){return[(0,n.createVNode)(h,{class:"mb-4"}),(0,n.createVNode)("form",{onSubmit:e[4]||(e[4]=(0,n.withModifiers)((function(){return u.submit&&u.submit.apply(u,arguments)}),["prevent"]))},[(0,n.createVNode)("div",null,[(0,n.createVNode)(d,{for:"email",value:"Email"}),(0,n.createVNode)(g,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:c.form.email,"onUpdate:modelValue":e[1]||(e[1]=function(t){return c.form.email=t}),required:"",autofocus:""},null,8,["modelValue"])]),(0,n.createVNode)("div",r,[(0,n.createVNode)(d,{for:"password",value:"Password"}),(0,n.createVNode)(g,{id:"password",type:"password",class:"mt-1 block w-full",modelValue:c.form.password,"onUpdate:modelValue":e[2]||(e[2]=function(t){return c.form.password=t}),required:"",autocomplete:"new-password"},null,8,["modelValue"])]),(0,n.createVNode)("div",i,[(0,n.createVNode)(d,{for:"password_confirmation",value:"Confirm Password"}),(0,n.createVNode)(g,{id:"password_confirmation",type:"password",class:"mt-1 block w-full",modelValue:c.form.password_confirmation,"onUpdate:modelValue":e[3]||(e[3]=function(t){return c.form.password_confirmation=t}),required:"",autocomplete:"new-password"},null,8,["modelValue"])]),(0,n.createVNode)("div",s,[(0,n.createVNode)(_,{class:{"opacity-25":c.form.processing},disabled:c.form.processing},{default:(0,n.withCtx)((function(){return[a]})),_:1},8,["class","disabled"])])],32)]})),_:1})}},_=g},2459:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>T});var n=o(8191),r={class:"mb-4 text-sm text-gray-600"},i=(0,n.createTextVNode)(" Please confirm access to your account by entering the authentication code provided by your authenticator application. "),s=(0,n.createTextVNode)(" Please confirm access to your account by entering one of your emergency recovery codes. "),a={key:0},l={key:1},c={class:"flex items-center justify-end mt-4"},u=(0,n.createTextVNode)(" Use a recovery code "),p=(0,n.createTextVNode)(" Use an authentication code "),h=(0,n.createTextVNode)(" Log in ");var d=o(2740),g=o(949),_=o(6245),f=o(6824),m=o(3845),v=o(3186);const y={components:{JetAuthenticationCard:d.Z,JetAuthenticationCardLogo:g.Z,JetButton:_.Z,JetInput:f.Z,JetLabel:m.Z,JetValidationErrors:v.Z},data:function(){return{recovery:!1,form:this.$inertia.form({code:"",recovery_code:""})}},methods:{toggleRecovery:function(){var t=this;this.recovery^=!0,this.$nextTick((function(){t.recovery?(t.$refs.recovery_code.focus(),t.form.code=""):(t.$refs.code.focus(),t.form.recovery_code="")}))},submit:function(){this.form.post(this.route("two-factor.login"))}},render:function(t,e,o,d,g,_){var f=(0,n.resolveComponent)("jet-authentication-card-logo"),m=(0,n.resolveComponent)("jet-validation-errors"),v=(0,n.resolveComponent)("jet-label"),y=(0,n.resolveComponent)("jet-input"),T=(0,n.resolveComponent)("jet-button"),b=(0,n.resolveComponent)("jet-authentication-card");return(0,n.openBlock)(),(0,n.createBlock)(b,null,{logo:(0,n.withCtx)((function(){return[(0,n.createVNode)(f)]})),default:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",r,[g.recovery?((0,n.openBlock)(),(0,n.createBlock)(n.Fragment,{key:1},[s],64)):((0,n.openBlock)(),(0,n.createBlock)(n.Fragment,{key:0},[i],64))]),(0,n.createVNode)(m,{class:"mb-4"}),(0,n.createVNode)("form",{onSubmit:e[4]||(e[4]=(0,n.withModifiers)((function(){return _.submit&&_.submit.apply(_,arguments)}),["prevent"]))},[g.recovery?((0,n.openBlock)(),(0,n.createBlock)("div",l,[(0,n.createVNode)(v,{for:"recovery_code",value:"Recovery Code"}),(0,n.createVNode)(y,{ref:"recovery_code",id:"recovery_code",type:"text",class:"mt-1 block w-full",modelValue:g.form.recovery_code,"onUpdate:modelValue":e[2]||(e[2]=function(t){return g.form.recovery_code=t}),autocomplete:"one-time-code"},null,8,["modelValue"])])):((0,n.openBlock)(),(0,n.createBlock)("div",a,[(0,n.createVNode)(v,{for:"code",value:"Code"}),(0,n.createVNode)(y,{ref:"code",id:"code",type:"text",inputmode:"numeric",class:"mt-1 block w-full",modelValue:g.form.code,"onUpdate:modelValue":e[1]||(e[1]=function(t){return g.form.code=t}),autofocus:"",autocomplete:"one-time-code"},null,8,["modelValue"])])),(0,n.createVNode)("div",c,[(0,n.createVNode)("button",{type:"button",class:"text-sm text-gray-600 hover:text-gray-900 underline cursor-pointer",onClick:e[3]||(e[3]=(0,n.withModifiers)((function(){return _.toggleRecovery&&_.toggleRecovery.apply(_,arguments)}),["prevent"]))},[g.recovery?((0,n.openBlock)(),(0,n.createBlock)(n.Fragment,{key:1},[p],64)):((0,n.openBlock)(),(0,n.createBlock)(n.Fragment,{key:0},[u],64))]),(0,n.createVNode)(T,{class:["ml-4",{"opacity-25":g.form.processing}],disabled:g.form.processing},{default:(0,n.withCtx)((function(){return[h]})),_:1},8,["class","disabled"])])],32)]})),_:1})}},T=y},8546:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>d});var n=o(8191),r=(0,n.createVNode)("div",{class:"mb-4 text-sm text-gray-600"}," Thanks for signing up! Before getting started, could you verify your email address by clicking on the link we just emailed to you? If you didn't receive the email, we will gladly send you another. ",-1),i={key:0,class:"mb-4 font-medium text-sm text-green-600"},s={class:"mt-4 flex items-center justify-between"},a=(0,n.createTextVNode)(" Resend Verification Email "),l=(0,n.createTextVNode)("Log Out");var c=o(2740),u=o(949),p=o(6245);const h={components:{JetAuthenticationCard:c.Z,JetAuthenticationCardLogo:u.Z,JetButton:p.Z},props:{status:String},data:function(){return{form:this.$inertia.form()}},methods:{submit:function(){this.form.post(this.route("verification.send"))}},computed:{verificationLinkSent:function(){return"verification-link-sent"===this.status}},render:function(t,e,o,c,u,p){var h=(0,n.resolveComponent)("jet-authentication-card-logo"),d=(0,n.resolveComponent)("jet-button"),g=(0,n.resolveComponent)("inertia-link"),_=(0,n.resolveComponent)("jet-authentication-card");return(0,n.openBlock)(),(0,n.createBlock)(_,null,{logo:(0,n.withCtx)((function(){return[(0,n.createVNode)(h)]})),default:(0,n.withCtx)((function(){return[r,p.verificationLinkSent?((0,n.openBlock)(),(0,n.createBlock)("div",i," A new verification link has been sent to the email address you provided during registration. ")):(0,n.createCommentVNode)("",!0),(0,n.createVNode)("form",{onSubmit:e[1]||(e[1]=(0,n.withModifiers)((function(){return p.submit&&p.submit.apply(p,arguments)}),["prevent"]))},[(0,n.createVNode)("div",s,[(0,n.createVNode)(d,{class:{"opacity-25":u.form.processing},disabled:u.form.processing},{default:(0,n.withCtx)((function(){return[a]})),_:1},8,["class","disabled"]),(0,n.createVNode)(g,{href:t.route("logout"),method:"post",as:"button",class:"underline text-sm text-gray-600 hover:text-gray-900"},{default:(0,n.withCtx)((function(){return[l]})),_:1},8,["href"])])],32)]})),_:1})}},d=h},8305:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>p});var n=o(8191),r=(0,n.createVNode)("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Dashboard ",-1),i={class:"py-12"},s={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},a={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"};var l=o(7063),c=o(2159);const u={components:{AppLayout:l.Z,Welcome:c.Z},render:function(t,e,o,l,c,u){var p=(0,n.resolveComponent)("welcome"),h=(0,n.resolveComponent)("app-layout");return(0,n.openBlock)(),(0,n.createBlock)(h,null,{header:(0,n.withCtx)((function(){return[r]})),default:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",i,[(0,n.createVNode)("div",s,[(0,n.createVNode)("div",a,[(0,n.createVNode)(p)])])])]})),_:1})}},p=u},3697:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>l});var n=o(8191),r={class:"font-sans text-gray-900 antialiased"},i={class:"pt-4 bg-gray-100"},s={class:"min-h-screen flex flex-col items-center pt-6 sm:pt-0"};const a={props:["policy"],components:{JetAuthenticationCardLogo:o(949).Z},render:function(t,e,o,a,l,c){var u=(0,n.resolveComponent)("jet-authentication-card-logo");return(0,n.openBlock)(),(0,n.createBlock)("div",r,[(0,n.createVNode)("div",i,[(0,n.createVNode)("div",s,[(0,n.createVNode)("div",null,[(0,n.createVNode)(u)]),(0,n.createVNode)("div",{innerHTML:o.policy,class:"w-full sm:max-w-2xl mt-6 p-6 bg-white shadow-md overflow-hidden sm:rounded-lg prose"},null,8,["innerHTML"])])])])}},l=a},9473:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>b});var n=o(8191),r=(0,n.createTextVNode)(" Delete Account "),i=(0,n.createTextVNode)(" Permanently delete your account. "),s=(0,n.createVNode)("div",{class:"max-w-xl text-sm text-gray-600"}," Once your account is deleted, all of its resources and data will be permanently deleted. Before deleting your account, please download any data or information that you wish to retain. ",-1),a={class:"mt-5"},l=(0,n.createTextVNode)(" Delete Account "),c=(0,n.createTextVNode)(" Delete Account "),u=(0,n.createTextVNode)(" Are you sure you want to delete your account? Once your account is deleted, all of its resources and data will be permanently deleted. Please enter your password to confirm you would like to permanently delete your account. "),p={class:"mt-4"},h=(0,n.createTextVNode)(" Cancel "),d=(0,n.createTextVNode)(" Delete Account ");var g=o(7637),_=o(8415),f=o(6665),m=o(6824),v=o(8985),y=o(4178);const T={components:{JetActionSection:g.Z,JetDangerButton:f.Z,JetDialogModal:_.Z,JetInput:m.Z,JetInputError:v.Z,JetSecondaryButton:y.Z},data:function(){return{confirmingUserDeletion:!1,form:this.$inertia.form({password:""})}},methods:{confirmUserDeletion:function(){var t=this;this.confirmingUserDeletion=!0,setTimeout((function(){return t.$refs.password.focus()}),250)},deleteUser:function(){var t=this;this.form.delete(route("current-user.destroy"),{preserveScroll:!0,onSuccess:function(){return t.closeModal()},onError:function(){return t.$refs.password.focus()},onFinish:function(){return t.form.reset()}})},closeModal:function(){this.confirmingUserDeletion=!1,this.form.reset()}},render:function(t,e,o,g,_,f){var m=(0,n.resolveComponent)("jet-danger-button"),v=(0,n.resolveComponent)("jet-input"),y=(0,n.resolveComponent)("jet-input-error"),T=(0,n.resolveComponent)("jet-secondary-button"),b=(0,n.resolveComponent)("jet-dialog-modal"),E=(0,n.resolveComponent)("jet-action-section");return(0,n.openBlock)(),(0,n.createBlock)(E,null,{title:(0,n.withCtx)((function(){return[r]})),description:(0,n.withCtx)((function(){return[i]})),content:(0,n.withCtx)((function(){return[s,(0,n.createVNode)("div",a,[(0,n.createVNode)(m,{onClick:f.confirmUserDeletion},{default:(0,n.withCtx)((function(){return[l]})),_:1},8,["onClick"])]),(0,n.createVNode)(b,{show:_.confirmingUserDeletion,onClose:f.closeModal},{title:(0,n.withCtx)((function(){return[c]})),content:(0,n.withCtx)((function(){return[u,(0,n.createVNode)("div",p,[(0,n.createVNode)(v,{type:"password",class:"mt-1 block w-3/4",placeholder:"Password",ref:"password",modelValue:_.form.password,"onUpdate:modelValue":e[1]||(e[1]=function(t){return _.form.password=t}),onKeyup:(0,n.withKeys)(f.deleteUser,["enter"])},null,8,["modelValue","onKeyup"]),(0,n.createVNode)(y,{message:_.form.errors.password,class:"mt-2"},null,8,["message"])])]})),footer:(0,n.withCtx)((function(){return[(0,n.createVNode)(T,{onClick:f.closeModal},{default:(0,n.withCtx)((function(){return[h]})),_:1},8,["onClick"]),(0,n.createVNode)(m,{class:["ml-2",{"opacity-25":_.form.processing}],onClick:f.deleteUser,disabled:_.form.processing},{default:(0,n.withCtx)((function(){return[d]})),_:1},8,["onClick","class","disabled"])]})),_:1},8,["show","onClose"])]})),_:1})}},b=T},9993:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>L});var n=o(8191),r=(0,n.createTextVNode)(" Browser Sessions "),i=(0,n.createTextVNode)(" Manage and log out your active sessions on other browsers and devices. "),s=(0,n.createVNode)("div",{class:"max-w-xl text-sm text-gray-600"}," If necessary, you may log out of all of your other browser sessions across all of your devices. Some of your recent sessions are listed below; however, this list may not be exhaustive. If you feel your account has been compromised, you should also update your password. ",-1),a={key:0,class:"mt-5 space-y-6"},l={key:0,fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",stroke:"currentColor",class:"w-8 h-8 text-gray-500"},c=(0,n.createVNode)("path",{d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},null,-1),u={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"w-8 h-8 text-gray-500"},p=(0,n.createVNode)("path",{d:"M0 0h24v24H0z",stroke:"none"},null,-1),h=(0,n.createVNode)("rect",{x:"7",y:"4",width:"10",height:"16",rx:"1"},null,-1),d=(0,n.createVNode)("path",{d:"M11 5h2M12 17v.01"},null,-1),g={class:"ml-3"},_={class:"text-sm text-gray-600"},f={class:"text-xs text-gray-500"},m={key:0,class:"text-green-500 font-semibold"},v={key:1},y={class:"flex items-center mt-5"},T=(0,n.createTextVNode)(" Log Out Other Browser Sessions "),b=(0,n.createTextVNode)(" Done. "),E=(0,n.createTextVNode)(" Log Out Other Browser Sessions "),S=(0,n.createTextVNode)(" Please enter your password to confirm you would like to log out of your other browser sessions across all of your devices. "),C={class:"mt-4"},k=(0,n.createTextVNode)(" Cancel "),R=(0,n.createTextVNode)(" Log Out Other Browser Sessions ");var I=o(7546),w=o(7637),N=o(6245),O=o(8415),x=o(6824),A=o(8985),D=o(4178);const M={props:["sessions"],components:{JetActionMessage:I.Z,JetActionSection:w.Z,JetButton:N.Z,JetDialogModal:O.Z,JetInput:x.Z,JetInputError:A.Z,JetSecondaryButton:D.Z},data:function(){return{confirmingLogout:!1,form:this.$inertia.form({password:""})}},methods:{confirmLogout:function(){var t=this;this.confirmingLogout=!0,setTimeout((function(){return t.$refs.password.focus()}),250)},logoutOtherBrowserSessions:function(){var t=this;this.form.delete(route("other-browser-sessions.destroy"),{preserveScroll:!0,onSuccess:function(){return t.closeModal()},onError:function(){return t.$refs.password.focus()},onFinish:function(){return t.form.reset()}})},closeModal:function(){this.confirmingLogout=!1,this.form.reset()}},render:function(t,e,o,I,w,N){var O=(0,n.resolveComponent)("jet-button"),x=(0,n.resolveComponent)("jet-action-message"),A=(0,n.resolveComponent)("jet-input"),D=(0,n.resolveComponent)("jet-input-error"),M=(0,n.resolveComponent)("jet-secondary-button"),L=(0,n.resolveComponent)("jet-dialog-modal"),B=(0,n.resolveComponent)("jet-action-section");return(0,n.openBlock)(),(0,n.createBlock)(B,null,{title:(0,n.withCtx)((function(){return[r]})),description:(0,n.withCtx)((function(){return[i]})),content:(0,n.withCtx)((function(){return[s,o.sessions.length>0?((0,n.openBlock)(),(0,n.createBlock)("div",a,[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(o.sessions,(function(t,e){return(0,n.openBlock)(),(0,n.createBlock)("div",{class:"flex items-center",key:e},[(0,n.createVNode)("div",null,[t.agent.is_desktop?((0,n.openBlock)(),(0,n.createBlock)("svg",l,[c])):((0,n.openBlock)(),(0,n.createBlock)("svg",u,[p,h,d]))]),(0,n.createVNode)("div",g,[(0,n.createVNode)("div",_,(0,n.toDisplayString)(t.agent.platform)+" - "+(0,n.toDisplayString)(t.agent.browser),1),(0,n.createVNode)("div",null,[(0,n.createVNode)("div",f,[(0,n.createTextVNode)((0,n.toDisplayString)(t.ip_address)+", ",1),t.is_current_device?((0,n.openBlock)(),(0,n.createBlock)("span",m,"This device")):((0,n.openBlock)(),(0,n.createBlock)("span",v,"Last active "+(0,n.toDisplayString)(t.last_active),1))])])])])})),128))])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)("div",y,[(0,n.createVNode)(O,{onClick:N.confirmLogout},{default:(0,n.withCtx)((function(){return[T]})),_:1},8,["onClick"]),(0,n.createVNode)(x,{on:w.form.recentlySuccessful,class:"ml-3"},{default:(0,n.withCtx)((function(){return[b]})),_:1},8,["on"])]),(0,n.createVNode)(L,{show:w.confirmingLogout,onClose:N.closeModal},{title:(0,n.withCtx)((function(){return[E]})),content:(0,n.withCtx)((function(){return[S,(0,n.createVNode)("div",C,[(0,n.createVNode)(A,{type:"password",class:"mt-1 block w-3/4",placeholder:"Password",ref:"password",modelValue:w.form.password,"onUpdate:modelValue":e[1]||(e[1]=function(t){return w.form.password=t}),onKeyup:(0,n.withKeys)(N.logoutOtherBrowserSessions,["enter"])},null,8,["modelValue","onKeyup"]),(0,n.createVNode)(D,{message:w.form.errors.password,class:"mt-2"},null,8,["message"])])]})),footer:(0,n.withCtx)((function(){return[(0,n.createVNode)(M,{onClick:N.closeModal},{default:(0,n.withCtx)((function(){return[k]})),_:1},8,["onClick"]),(0,n.createVNode)(O,{class:["ml-2",{"opacity-25":w.form.processing}],onClick:N.logoutOtherBrowserSessions,disabled:w.form.processing},{default:(0,n.withCtx)((function(){return[R]})),_:1},8,["onClick","class","disabled"])]})),_:1},8,["show","onClose"])]})),_:1})}},L=M},9505:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>m});var n=o(8191),r=(0,n.createVNode)("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Profile ",-1),i={class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"},s={key:0},a={key:1},l={key:2};var c=o(7063),u=o(9473),p=o(8137),h=o(9993),d=o(9430),g=o(5029),_=o(7580);const f={props:["sessions"],components:{AppLayout:c.Z,DeleteUserForm:u.default,JetSectionBorder:p.Z,LogoutOtherBrowserSessionsForm:h.default,TwoFactorAuthenticationForm:d.default,UpdatePasswordForm:g.default,UpdateProfileInformationForm:_.default},render:function(t,e,o,c,u,p){var h=(0,n.resolveComponent)("update-profile-information-form"),d=(0,n.resolveComponent)("jet-section-border"),g=(0,n.resolveComponent)("update-password-form"),_=(0,n.resolveComponent)("two-factor-authentication-form"),f=(0,n.resolveComponent)("logout-other-browser-sessions-form"),m=(0,n.resolveComponent)("delete-user-form"),v=(0,n.resolveComponent)("app-layout");return(0,n.openBlock)(),(0,n.createBlock)(v,null,{header:(0,n.withCtx)((function(){return[r]})),default:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",null,[(0,n.createVNode)("div",i,[t.$page.props.jetstream.canUpdateProfileInformation?((0,n.openBlock)(),(0,n.createBlock)("div",s,[(0,n.createVNode)(h,{user:t.$page.props.user},null,8,["user"]),(0,n.createVNode)(d)])):(0,n.createCommentVNode)("",!0),t.$page.props.jetstream.canUpdatePassword?((0,n.openBlock)(),(0,n.createBlock)("div",a,[(0,n.createVNode)(g,{class:"mt-10 sm:mt-0"}),(0,n.createVNode)(d)])):(0,n.createCommentVNode)("",!0),t.$page.props.jetstream.canManageTwoFactorAuthentication?((0,n.openBlock)(),(0,n.createBlock)("div",l,[(0,n.createVNode)(_,{class:"mt-10 sm:mt-0"}),(0,n.createVNode)(d)])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(f,{sessions:o.sessions,class:"mt-10 sm:mt-0"},null,8,["sessions"]),t.$page.props.jetstream.hasAccountDeletionFeatures?((0,n.openBlock)(),(0,n.createBlock)(n.Fragment,{key:3},[(0,n.createVNode)(d),(0,n.createVNode)(m,{class:"mt-10 sm:mt-0"})],64)):(0,n.createCommentVNode)("",!0)])])]})),_:1})}},m=f},9430:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>M});var n=o(8191),r=(0,n.createTextVNode)(" Two Factor Authentication "),i=(0,n.createTextVNode)(" Add additional security to your account using two factor authentication. "),s={key:0,class:"text-lg font-medium text-gray-900"},a={key:1,class:"text-lg font-medium text-gray-900"},l=(0,n.createVNode)("div",{class:"mt-3 max-w-xl text-sm text-gray-600"},[(0,n.createVNode)("p",null," When two factor authentication is enabled, you will be prompted for a secure, random token during authentication. You may retrieve this token from your phone's Google Authenticator application. ")],-1),c={key:2},u={key:0},p=(0,n.createVNode)("div",{class:"mt-4 max-w-xl text-sm text-gray-600"},[(0,n.createVNode)("p",{class:"font-semibold"}," Two factor authentication is now enabled. Scan the following QR code using your phone's authenticator application. ")],-1),h={key:1},d=(0,n.createVNode)("div",{class:"mt-4 max-w-xl text-sm text-gray-600"},[(0,n.createVNode)("p",{class:"font-semibold"}," Store these recovery codes in a secure password manager. They can be used to recover access to your account if your two factor authentication device is lost. ")],-1),g={class:"grid gap-1 max-w-xl mt-4 px-4 py-4 font-mono text-sm bg-gray-100 rounded-lg"},_={class:"mt-5"},f={key:0},m=(0,n.createTextVNode)(" Enable "),v={key:1},y=(0,n.createTextVNode)(" Regenerate Recovery Codes "),T=(0,n.createTextVNode)(" Show Recovery Codes "),b=(0,n.createTextVNode)(" Disable ");var E=o(7637),S=o(6245),C={class:"mt-4"},k=(0,n.createTextVNode)(" Cancel ");var R=o(8415),I=o(6824),w=o(8985),N=o(4178);const O={emits:["confirmed"],props:{title:{default:"Confirm Password"},content:{default:"For your security, please confirm your password to continue."},button:{default:"Confirm"}},components:{JetButton:S.Z,JetDialogModal:R.Z,JetInput:I.Z,JetInputError:w.Z,JetSecondaryButton:N.Z},data:function(){return{confirmingPassword:!1,form:{password:"",error:""}}},methods:{startConfirmingPassword:function(){var t=this;axios.get(route("password.confirmation")).then((function(e){e.data.confirmed?t.$emit("confirmed"):(t.confirmingPassword=!0,setTimeout((function(){return t.$refs.password.focus()}),250))}))},confirmPassword:function(){var t=this;this.form.processing=!0,axios.post(route("password.confirm"),{password:this.form.password}).then((function(){t.form.processing=!1,t.closeModal(),t.$nextTick((function(){return t.$emit("confirmed")}))})).catch((function(e){t.form.processing=!1,t.form.error=e.response.data.errors.password[0],t.$refs.password.focus()}))},closeModal:function(){this.confirmingPassword=!1,this.form.password="",this.form.error=""}},render:function(t,e,o,r,i,s){var a=(0,n.resolveComponent)("jet-input"),l=(0,n.resolveComponent)("jet-input-error"),c=(0,n.resolveComponent)("jet-secondary-button"),u=(0,n.resolveComponent)("jet-button"),p=(0,n.resolveComponent)("jet-dialog-modal");return(0,n.openBlock)(),(0,n.createBlock)("span",null,[(0,n.createVNode)("span",{onClick:e[1]||(e[1]=function(){return s.startConfirmingPassword&&s.startConfirmingPassword.apply(s,arguments)})},[(0,n.renderSlot)(t.$slots,"default")]),(0,n.createVNode)(p,{show:i.confirmingPassword,onClose:s.closeModal},{title:(0,n.withCtx)((function(){return[(0,n.createTextVNode)((0,n.toDisplayString)(o.title),1)]})),content:(0,n.withCtx)((function(){return[(0,n.createTextVNode)((0,n.toDisplayString)(o.content)+" ",1),(0,n.createVNode)("div",C,[(0,n.createVNode)(a,{type:"password",class:"mt-1 block w-3/4",placeholder:"Password",ref:"password",modelValue:i.form.password,"onUpdate:modelValue":e[2]||(e[2]=function(t){return i.form.password=t}),onKeyup:(0,n.withKeys)(s.confirmPassword,["enter"])},null,8,["modelValue","onKeyup"]),(0,n.createVNode)(l,{message:i.form.error,class:"mt-2"},null,8,["message"])])]})),footer:(0,n.withCtx)((function(){return[(0,n.createVNode)(c,{onClick:s.closeModal},{default:(0,n.withCtx)((function(){return[k]})),_:1},8,["onClick"]),(0,n.createVNode)(u,{class:["ml-2",{"opacity-25":i.form.processing}],onClick:s.confirmPassword,disabled:i.form.processing},{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)((0,n.toDisplayString)(o.button),1)]})),_:1},8,["onClick","class","disabled"])]})),_:1},8,["show","onClose"])])}},x=O;var A=o(6665);const D={components:{JetActionSection:E.Z,JetButton:S.Z,JetConfirmsPassword:x,JetDangerButton:A.Z,JetSecondaryButton:N.Z},data:function(){return{enabling:!1,disabling:!1,qrCode:null,recoveryCodes:[]}},methods:{enableTwoFactorAuthentication:function(){var t=this;this.enabling=!0,this.$inertia.post("/user/two-factor-authentication",{},{preserveScroll:!0,onSuccess:function(){return Promise.all([t.showQrCode(),t.showRecoveryCodes()])},onFinish:function(){return t.enabling=!1}})},showQrCode:function(){var t=this;return axios.get("/user/two-factor-qr-code").then((function(e){t.qrCode=e.data.svg}))},showRecoveryCodes:function(){var t=this;return axios.get("/user/two-factor-recovery-codes").then((function(e){t.recoveryCodes=e.data}))},regenerateRecoveryCodes:function(){var t=this;axios.post("/user/two-factor-recovery-codes").then((function(e){t.showRecoveryCodes()}))},disableTwoFactorAuthentication:function(){var t=this;this.disabling=!0,this.$inertia.delete("/user/two-factor-authentication",{preserveScroll:!0,onSuccess:function(){return t.disabling=!1}})}},computed:{twoFactorEnabled:function(){return!this.enabling&&this.$page.props.user.two_factor_enabled}},render:function(t,e,o,E,S,C){var k=(0,n.resolveComponent)("jet-button"),R=(0,n.resolveComponent)("jet-confirms-password"),I=(0,n.resolveComponent)("jet-secondary-button"),w=(0,n.resolveComponent)("jet-danger-button"),N=(0,n.resolveComponent)("jet-action-section");return(0,n.openBlock)(),(0,n.createBlock)(N,null,{title:(0,n.withCtx)((function(){return[r]})),description:(0,n.withCtx)((function(){return[i]})),content:(0,n.withCtx)((function(){return[C.twoFactorEnabled?((0,n.openBlock)(),(0,n.createBlock)("h3",s," You have enabled two factor authentication. ")):((0,n.openBlock)(),(0,n.createBlock)("h3",a," You have not enabled two factor authentication. ")),l,C.twoFactorEnabled?((0,n.openBlock)(),(0,n.createBlock)("div",c,[S.qrCode?((0,n.openBlock)(),(0,n.createBlock)("div",u,[p,(0,n.createVNode)("div",{class:"mt-4 dark:p-4 dark:w-56 dark:bg-white",innerHTML:S.qrCode},null,8,["innerHTML"])])):(0,n.createCommentVNode)("",!0),S.recoveryCodes.length>0?((0,n.openBlock)(),(0,n.createBlock)("div",h,[d,(0,n.createVNode)("div",g,[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(S.recoveryCodes,(function(t){return(0,n.openBlock)(),(0,n.createBlock)("div",{key:t},(0,n.toDisplayString)(t),1)})),128))])])):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)("div",_,[C.twoFactorEnabled?((0,n.openBlock)(),(0,n.createBlock)("div",v,[(0,n.createVNode)(R,{onConfirmed:C.regenerateRecoveryCodes},{default:(0,n.withCtx)((function(){return[S.recoveryCodes.length>0?((0,n.openBlock)(),(0,n.createBlock)(I,{key:0,class:"mr-3"},{default:(0,n.withCtx)((function(){return[y]})),_:1})):(0,n.createCommentVNode)("",!0)]})),_:1},8,["onConfirmed"]),(0,n.createVNode)(R,{onConfirmed:C.showRecoveryCodes},{default:(0,n.withCtx)((function(){return[0===S.recoveryCodes.length?((0,n.openBlock)(),(0,n.createBlock)(I,{key:0,class:"mr-3"},{default:(0,n.withCtx)((function(){return[T]})),_:1})):(0,n.createCommentVNode)("",!0)]})),_:1},8,["onConfirmed"]),(0,n.createVNode)(R,{onConfirmed:C.disableTwoFactorAuthentication},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(w,{class:{"opacity-25":S.disabling},disabled:S.disabling},{default:(0,n.withCtx)((function(){return[b]})),_:1},8,["class","disabled"])]})),_:1},8,["onConfirmed"])])):((0,n.openBlock)(),(0,n.createBlock)("div",f,[(0,n.createVNode)(R,{onConfirmed:C.enableTwoFactorAuthentication},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(k,{type:"button",class:{"opacity-25":S.enabling},disabled:S.enabling},{default:(0,n.withCtx)((function(){return[m]})),_:1},8,["class","disabled"])]})),_:1},8,["onConfirmed"])]))])]})),_:1})}},M=D},5029:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>v});var n=o(8191),r=(0,n.createTextVNode)(" Update Password "),i=(0,n.createTextVNode)(" Ensure your account is using a long, random password to stay secure. "),s={class:"col-span-6 sm:col-span-4"},a={class:"col-span-6 sm:col-span-4"},l={class:"col-span-6 sm:col-span-4"},c=(0,n.createTextVNode)(" Saved. "),u=(0,n.createTextVNode)(" Save ");var p=o(7546),h=o(6245),d=o(9248),g=o(6824),_=o(8985),f=o(3845);const m={components:{JetActionMessage:p.Z,JetButton:h.Z,JetFormSection:d.Z,JetInput:g.Z,JetInputError:_.Z,JetLabel:f.Z},data:function(){return{form:this.$inertia.form({current_password:"",password:"",password_confirmation:""})}},methods:{updatePassword:function(){var t=this;this.form.put(route("user-password.update"),{errorBag:"updatePassword",preserveScroll:!0,onSuccess:function(){return t.form.reset()},onError:function(){t.form.errors.password&&(t.form.reset("password","password_confirmation"),t.$refs.password.focus()),t.form.errors.current_password&&(t.form.reset("current_password"),t.$refs.current_password.focus())}})}},render:function(t,e,o,p,h,d){var g=(0,n.resolveComponent)("jet-label"),_=(0,n.resolveComponent)("jet-input"),f=(0,n.resolveComponent)("jet-input-error"),m=(0,n.resolveComponent)("jet-action-message"),v=(0,n.resolveComponent)("jet-button"),y=(0,n.resolveComponent)("jet-form-section");return(0,n.openBlock)(),(0,n.createBlock)(y,{onSubmitted:d.updatePassword},{title:(0,n.withCtx)((function(){return[r]})),description:(0,n.withCtx)((function(){return[i]})),form:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",s,[(0,n.createVNode)(g,{for:"current_password",value:"Current Password"}),(0,n.createVNode)(_,{id:"current_password",type:"password",class:"mt-1 block w-full",modelValue:h.form.current_password,"onUpdate:modelValue":e[1]||(e[1]=function(t){return h.form.current_password=t}),ref:"current_password",autocomplete:"current-password"},null,8,["modelValue"]),(0,n.createVNode)(f,{message:h.form.errors.current_password,class:"mt-2"},null,8,["message"])]),(0,n.createVNode)("div",a,[(0,n.createVNode)(g,{for:"password",value:"New Password"}),(0,n.createVNode)(_,{id:"password",type:"password",class:"mt-1 block w-full",modelValue:h.form.password,"onUpdate:modelValue":e[2]||(e[2]=function(t){return h.form.password=t}),ref:"password",autocomplete:"new-password"},null,8,["modelValue"]),(0,n.createVNode)(f,{message:h.form.errors.password,class:"mt-2"},null,8,["message"])]),(0,n.createVNode)("div",l,[(0,n.createVNode)(g,{for:"password_confirmation",value:"Confirm Password"}),(0,n.createVNode)(_,{id:"password_confirmation",type:"password",class:"mt-1 block w-full",modelValue:h.form.password_confirmation,"onUpdate:modelValue":e[3]||(e[3]=function(t){return h.form.password_confirmation=t}),autocomplete:"new-password"},null,8,["modelValue"]),(0,n.createVNode)(f,{message:h.form.errors.password_confirmation,class:"mt-2"},null,8,["message"])])]})),actions:(0,n.withCtx)((function(){return[(0,n.createVNode)(m,{on:h.form.recentlySuccessful,class:"mr-3"},{default:(0,n.withCtx)((function(){return[c]})),_:1},8,["on"]),(0,n.createVNode)(v,{class:{"opacity-25":h.form.processing},disabled:h.form.processing},{default:(0,n.withCtx)((function(){return[u]})),_:1},8,["class","disabled"])]})),_:1},8,["onSubmitted"])}},v=m},7580:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>S});var n=o(8191),r=(0,n.createTextVNode)(" Profile Information "),i=(0,n.createTextVNode)(" Update your account's profile information and email address. "),s={key:0,class:"col-span-6 sm:col-span-4"},a={class:"mt-2"},l={class:"mt-2"},c=(0,n.createTextVNode)(" Select A New Photo "),u=(0,n.createTextVNode)(" Remove Photo "),p={class:"col-span-6 sm:col-span-4"},h={class:"col-span-6 sm:col-span-4"},d=(0,n.createTextVNode)(" Saved. "),g=(0,n.createTextVNode)(" Save ");var _=o(6245),f=o(9248),m=o(6824),v=o(8985),y=o(3845),T=o(7546),b=o(4178);const E={components:{JetActionMessage:T.Z,JetButton:_.Z,JetFormSection:f.Z,JetInput:m.Z,JetInputError:v.Z,JetLabel:y.Z,JetSecondaryButton:b.Z},props:["user"],data:function(){return{form:this.$inertia.form({_method:"PUT",name:this.user.name,email:this.user.email,photo:null}),photoPreview:null}},methods:{updateProfileInformation:function(){this.$refs.photo&&(this.form.photo=this.$refs.photo.files[0]),this.form.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0})},selectNewPhoto:function(){this.$refs.photo.click()},updatePhotoPreview:function(){var t=this,e=new FileReader;e.onload=function(e){t.photoPreview=e.target.result},e.readAsDataURL(this.$refs.photo.files[0])},deletePhoto:function(){var t=this;this.$inertia.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:function(){return t.photoPreview=null}})}},render:function(t,e,o,_,f,m){var v=(0,n.resolveComponent)("jet-label"),y=(0,n.resolveComponent)("jet-secondary-button"),T=(0,n.resolveComponent)("jet-input-error"),b=(0,n.resolveComponent)("jet-input"),E=(0,n.resolveComponent)("jet-action-message"),S=(0,n.resolveComponent)("jet-button"),C=(0,n.resolveComponent)("jet-form-section");return(0,n.openBlock)(),(0,n.createBlock)(C,{onSubmitted:m.updateProfileInformation},{title:(0,n.withCtx)((function(){return[r]})),description:(0,n.withCtx)((function(){return[i]})),form:(0,n.withCtx)((function(){return[t.$page.props.jetstream.managesProfilePhotos?((0,n.openBlock)(),(0,n.createBlock)("div",s,[(0,n.createVNode)("input",{type:"file",class:"hidden",ref:"photo",onChange:e[1]||(e[1]=function(){return m.updatePhotoPreview&&m.updatePhotoPreview.apply(m,arguments)})},null,544),(0,n.createVNode)(v,{for:"photo",value:"Photo"}),(0,n.withDirectives)((0,n.createVNode)("div",a,[(0,n.createVNode)("img",{src:o.user.profile_photo_url,alt:o.user.name,class:"rounded-full h-20 w-20 object-cover"},null,8,["src","alt"])],512),[[n.vShow,!f.photoPreview]]),(0,n.withDirectives)((0,n.createVNode)("div",l,[(0,n.createVNode)("span",{class:"block rounded-full w-20 h-20",style:"background-size: cover; background-repeat: no-repeat; background-position: center center; background-image: url('"+f.photoPreview+"');"},null,4)],512),[[n.vShow,f.photoPreview]]),(0,n.createVNode)(y,{class:"mt-2 mr-2",type:"button",onClick:(0,n.withModifiers)(m.selectNewPhoto,["prevent"])},{default:(0,n.withCtx)((function(){return[c]})),_:1},8,["onClick"]),o.user.profile_photo_path?((0,n.openBlock)(),(0,n.createBlock)(y,{key:0,type:"button",class:"mt-2",onClick:(0,n.withModifiers)(m.deletePhoto,["prevent"])},{default:(0,n.withCtx)((function(){return[u]})),_:1},8,["onClick"])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(T,{message:f.form.errors.photo,class:"mt-2"},null,8,["message"])])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)("div",p,[(0,n.createVNode)(v,{for:"name",value:"Name"}),(0,n.createVNode)(b,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:f.form.name,"onUpdate:modelValue":e[2]||(e[2]=function(t){return f.form.name=t}),autocomplete:"name"},null,8,["modelValue"]),(0,n.createVNode)(T,{message:f.form.errors.name,class:"mt-2"},null,8,["message"])]),(0,n.createVNode)("div",h,[(0,n.createVNode)(v,{for:"email",value:"Email"}),(0,n.createVNode)(b,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:f.form.email,"onUpdate:modelValue":e[3]||(e[3]=function(t){return f.form.email=t})},null,8,["modelValue"]),(0,n.createVNode)(T,{message:f.form.errors.email,class:"mt-2"},null,8,["message"])])]})),actions:(0,n.withCtx)((function(){return[(0,n.createVNode)(E,{on:f.form.recentlySuccessful,class:"mr-3"},{default:(0,n.withCtx)((function(){return[d]})),_:1},8,["on"]),(0,n.createVNode)(S,{class:{"opacity-25":f.form.processing},disabled:f.form.processing},{default:(0,n.withCtx)((function(){return[g]})),_:1},8,["class","disabled"])]})),_:1},8,["onSubmitted"])}},S=E},6498:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>c});var n=o(8191),r=(0,n.createVNode)("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Create Team ",-1),i={class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"};var s=o(7063),a=o(4570);const l={components:{AppLayout:s.Z,CreateTeamForm:a.default},render:function(t,e,o,s,a,l){var c=(0,n.resolveComponent)("create-team-form"),u=(0,n.resolveComponent)("app-layout");return(0,n.openBlock)(),(0,n.createBlock)(u,null,{header:(0,n.withCtx)((function(){return[r]})),default:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",null,[(0,n.createVNode)("div",i,[(0,n.createVNode)(c)])])]})),_:1})}},c=l},4570:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>v});var n=o(8191),r=(0,n.createTextVNode)(" Team Details "),i=(0,n.createTextVNode)(" Create a new team to collaborate with others on projects. "),s={class:"col-span-6"},a={class:"flex items-center mt-2"},l={class:"ml-4 leading-tight"},c={class:"text-gray-700 text-sm"},u={class:"col-span-6 sm:col-span-4"},p=(0,n.createTextVNode)(" Create ");var h=o(6245),d=o(9248),g=o(6824),_=o(8985),f=o(3845);const m={components:{JetButton:h.Z,JetFormSection:d.Z,JetInput:g.Z,JetInputError:_.Z,JetLabel:f.Z},data:function(){return{form:this.$inertia.form({name:""})}},methods:{createTeam:function(){this.form.post(route("teams.store"),{errorBag:"createTeam",preserveScroll:!0})}},render:function(t,e,o,h,d,g){var _=(0,n.resolveComponent)("jet-label"),f=(0,n.resolveComponent)("jet-input"),m=(0,n.resolveComponent)("jet-input-error"),v=(0,n.resolveComponent)("jet-button"),y=(0,n.resolveComponent)("jet-form-section");return(0,n.openBlock)(),(0,n.createBlock)(y,{onSubmitted:g.createTeam},{title:(0,n.withCtx)((function(){return[r]})),description:(0,n.withCtx)((function(){return[i]})),form:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",s,[(0,n.createVNode)(_,{value:"Team Owner"}),(0,n.createVNode)("div",a,[(0,n.createVNode)("img",{class:"w-12 h-12 rounded-full object-cover",src:t.$page.props.user.profile_photo_url,alt:t.$page.props.user.name},null,8,["src","alt"]),(0,n.createVNode)("div",l,[(0,n.createVNode)("div",null,(0,n.toDisplayString)(t.$page.props.user.name),1),(0,n.createVNode)("div",c,(0,n.toDisplayString)(t.$page.props.user.email),1)])])]),(0,n.createVNode)("div",u,[(0,n.createVNode)(_,{for:"name",value:"Team Name"}),(0,n.createVNode)(f,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:d.form.name,"onUpdate:modelValue":e[1]||(e[1]=function(t){return d.form.name=t}),autofocus:""},null,8,["modelValue"]),(0,n.createVNode)(m,{message:d.form.errors.name,class:"mt-2"},null,8,["message"])])]})),actions:(0,n.withCtx)((function(){return[(0,n.createVNode)(v,{class:{"opacity-25":d.form.processing},disabled:d.form.processing},{default:(0,n.withCtx)((function(){return[p]})),_:1},8,["class","disabled"])]})),_:1},8,["onSubmitted"])}},v=m},1578:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>v});var n=o(8191),r=(0,n.createTextVNode)(" Delete Team "),i=(0,n.createTextVNode)(" Permanently delete this team. "),s=(0,n.createVNode)("div",{class:"max-w-xl text-sm text-gray-600"}," Once a team is deleted, all of its resources and data will be permanently deleted. Before deleting this team, please download any data or information regarding this team that you wish to retain. ",-1),a={class:"mt-5"},l=(0,n.createTextVNode)(" Delete Team "),c=(0,n.createTextVNode)(" Delete Team "),u=(0,n.createTextVNode)(" Are you sure you want to delete this team? Once a team is deleted, all of its resources and data will be permanently deleted. "),p=(0,n.createTextVNode)(" Cancel "),h=(0,n.createTextVNode)(" Delete Team ");var d=o(7637),g=o(2212),_=o(6665),f=o(4178);const m={props:["team"],components:{JetActionSection:d.Z,JetConfirmationModal:g.Z,JetDangerButton:_.Z,JetSecondaryButton:f.Z},data:function(){return{confirmingTeamDeletion:!1,deleting:!1,form:this.$inertia.form()}},methods:{confirmTeamDeletion:function(){this.confirmingTeamDeletion=!0},deleteTeam:function(){this.form.delete(route("teams.destroy",this.team),{errorBag:"deleteTeam"})}},render:function(t,e,o,d,g,_){var f=(0,n.resolveComponent)("jet-danger-button"),m=(0,n.resolveComponent)("jet-secondary-button"),v=(0,n.resolveComponent)("jet-confirmation-modal"),y=(0,n.resolveComponent)("jet-action-section");return(0,n.openBlock)(),(0,n.createBlock)(y,null,{title:(0,n.withCtx)((function(){return[r]})),description:(0,n.withCtx)((function(){return[i]})),content:(0,n.withCtx)((function(){return[s,(0,n.createVNode)("div",a,[(0,n.createVNode)(f,{onClick:_.confirmTeamDeletion},{default:(0,n.withCtx)((function(){return[l]})),_:1},8,["onClick"])]),(0,n.createVNode)(v,{show:g.confirmingTeamDeletion,onClose:e[2]||(e[2]=function(t){return g.confirmingTeamDeletion=!1})},{title:(0,n.withCtx)((function(){return[c]})),content:(0,n.withCtx)((function(){return[u]})),footer:(0,n.withCtx)((function(){return[(0,n.createVNode)(m,{onClick:e[1]||(e[1]=function(t){return g.confirmingTeamDeletion=!1})},{default:(0,n.withCtx)((function(){return[p]})),_:1}),(0,n.createVNode)(f,{class:["ml-2",{"opacity-25":g.form.processing}],onClick:_.deleteTeam,disabled:g.form.processing},{default:(0,n.withCtx)((function(){return[h]})),_:1},8,["onClick","class","disabled"])]})),_:1},8,["show"])]})),_:1})}},v=m},9657:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>h});var n=o(8191),r=(0,n.createVNode)("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Team Settings ",-1),i={class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"};var s=o(2105),a=o(7063),l=o(1578),c=o(8137),u=o(2627);const p={props:["team","availableRoles","permissions"],components:{AppLayout:a.Z,DeleteTeamForm:l.default,JetSectionBorder:c.Z,TeamMemberManager:s.default,UpdateTeamNameForm:u.default},render:function(t,e,o,s,a,l){var c=(0,n.resolveComponent)("update-team-name-form"),u=(0,n.resolveComponent)("team-member-manager"),p=(0,n.resolveComponent)("jet-section-border"),h=(0,n.resolveComponent)("delete-team-form"),d=(0,n.resolveComponent)("app-layout");return(0,n.openBlock)(),(0,n.createBlock)(d,null,{header:(0,n.withCtx)((function(){return[r]})),default:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",null,[(0,n.createVNode)("div",i,[(0,n.createVNode)(c,{team:o.team,permissions:o.permissions},null,8,["team","permissions"]),(0,n.createVNode)(u,{class:"mt-10 sm:mt-0",team:o.team,"available-roles":o.availableRoles,"user-permissions":o.permissions},null,8,["team","available-roles","user-permissions"]),o.permissions.canDeleteTeam&&!o.team.personal_team?((0,n.openBlock)(),(0,n.createBlock)(n.Fragment,{key:0},[(0,n.createVNode)(p),(0,n.createVNode)(h,{class:"mt-10 sm:mt-0",team:o.team},null,8,["team"])],64)):(0,n.createCommentVNode)("",!0)])])]})),_:1})}},h=p},2105:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>at});var n=o(8191),r={key:0},i=(0,n.createTextVNode)(" Add Team Member "),s=(0,n.createTextVNode)(" Add a new team member to your team, allowing them to collaborate with you. "),a=(0,n.createVNode)("div",{class:"col-span-6"},[(0,n.createVNode)("div",{class:"max-w-xl text-sm text-gray-600"}," Please provide the email address of the person you would like to add to this team. ")],-1),l={class:"col-span-6 sm:col-span-4"},c={key:0,class:"col-span-6 lg:col-span-4"},u={class:"relative z-0 mt-1 border border-gray-200 rounded-lg cursor-pointer"},p={class:"flex items-center"},h={key:0,class:"ml-2 h-5 w-5 text-green-400",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24"},d=(0,n.createVNode)("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),g={class:"mt-2 text-xs text-gray-600"},_=(0,n.createTextVNode)(" Added. "),f=(0,n.createTextVNode)(" Add "),m={key:1},v=(0,n.createTextVNode)(" Pending Team Invitations "),y=(0,n.createTextVNode)(" These people have been invited to your team and have been sent an invitation email. They may join the team by accepting the email invitation. "),T={class:"space-y-6"},b={class:"text-gray-600"},E={class:"flex items-center"},S={key:2},C=(0,n.createTextVNode)(" Team Members "),k=(0,n.createTextVNode)(" All of the people that are part of this team. "),R={class:"space-y-6"},I={class:"flex items-center"},w={class:"ml-4"},N={class:"flex items-center"},O={key:1,class:"ml-2 text-sm text-gray-400"},x=(0,n.createTextVNode)(" Manage Role "),A={key:0},D={class:"relative z-0 mt-1 border border-gray-200 rounded-lg cursor-pointer"},M={class:"flex items-center"},L={key:0,class:"ml-2 h-5 w-5 text-green-400",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24"},B=(0,n.createVNode)("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),P={class:"mt-2 text-xs text-gray-600"},V=(0,n.createTextVNode)(" Cancel "),F=(0,n.createTextVNode)(" Save "),U=(0,n.createTextVNode)(" Leave Team "),H=(0,n.createTextVNode)(" Are you sure you would like to leave this team? "),G=(0,n.createTextVNode)(" Cancel "),W=(0,n.createTextVNode)(" Leave "),j=(0,n.createTextVNode)(" Remove Team Member "),X=(0,n.createTextVNode)(" Are you sure you would like to remove this person from the team? "),J=(0,n.createTextVNode)(" Cancel "),Y=(0,n.createTextVNode)(" Remove ");var K=o(7546),z=o(7637),Z=o(6245),$=o(2212),q=o(6665),Q=o(8415),tt=o(9248),et=o(6824),ot=o(8985),nt=o(3845),rt=o(4178),it=o(8137);const st={components:{JetActionMessage:K.Z,JetActionSection:z.Z,JetButton:Z.Z,JetConfirmationModal:$.Z,JetDangerButton:q.Z,JetDialogModal:Q.Z,JetFormSection:tt.Z,JetInput:et.Z,JetInputError:ot.Z,JetLabel:nt.Z,JetSecondaryButton:rt.Z,JetSectionBorder:it.Z},props:["team","availableRoles","userPermissions"],data:function(){return{addTeamMemberForm:this.$inertia.form({email:"",role:null}),updateRoleForm:this.$inertia.form({role:null}),leaveTeamForm:this.$inertia.form(),removeTeamMemberForm:this.$inertia.form(),currentlyManagingRole:!1,managingRoleFor:null,confirmingLeavingTeam:!1,teamMemberBeingRemoved:null}},methods:{addTeamMember:function(){var t=this;this.addTeamMemberForm.post(route("team-members.store",this.team),{errorBag:"addTeamMember",preserveScroll:!0,onSuccess:function(){return t.addTeamMemberForm.reset()}})},cancelTeamInvitation:function(t){this.$inertia.delete(route("team-invitations.destroy",t),{preserveScroll:!0})},manageRole:function(t){this.managingRoleFor=t,this.updateRoleForm.role=t.membership.role,this.currentlyManagingRole=!0},updateRole:function(){var t=this;this.updateRoleForm.put(route("team-members.update",[this.team,this.managingRoleFor]),{preserveScroll:!0,onSuccess:function(){return t.currentlyManagingRole=!1}})},confirmLeavingTeam:function(){this.confirmingLeavingTeam=!0},leaveTeam:function(){this.leaveTeamForm.delete(route("team-members.destroy",[this.team,this.$page.props.user]))},confirmTeamMemberRemoval:function(t){this.teamMemberBeingRemoved=t},removeTeamMember:function(){var t=this;this.removeTeamMemberForm.delete(route("team-members.destroy",[this.team,this.teamMemberBeingRemoved]),{errorBag:"removeTeamMember",preserveScroll:!0,preserveState:!0,onSuccess:function(){return t.teamMemberBeingRemoved=null}})},displayableRole:function(t){return this.availableRoles.find((function(e){return e.key===t})).name}},render:function(t,e,o,K,z,Z){var $=(0,n.resolveComponent)("jet-section-border"),q=(0,n.resolveComponent)("jet-label"),Q=(0,n.resolveComponent)("jet-input"),tt=(0,n.resolveComponent)("jet-input-error"),et=(0,n.resolveComponent)("jet-action-message"),ot=(0,n.resolveComponent)("jet-button"),nt=(0,n.resolveComponent)("jet-form-section"),rt=(0,n.resolveComponent)("jet-action-section"),it=(0,n.resolveComponent)("jet-secondary-button"),st=(0,n.resolveComponent)("jet-dialog-modal"),at=(0,n.resolveComponent)("jet-danger-button"),lt=(0,n.resolveComponent)("jet-confirmation-modal");return(0,n.openBlock)(),(0,n.createBlock)("div",null,[o.userPermissions.canAddTeamMembers?((0,n.openBlock)(),(0,n.createBlock)("div",r,[(0,n.createVNode)($),(0,n.createVNode)(nt,{onSubmitted:Z.addTeamMember},{title:(0,n.withCtx)((function(){return[i]})),description:(0,n.withCtx)((function(){return[s]})),form:(0,n.withCtx)((function(){return[a,(0,n.createVNode)("div",l,[(0,n.createVNode)(q,{for:"email",value:"Email"}),(0,n.createVNode)(Q,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:z.addTeamMemberForm.email,"onUpdate:modelValue":e[1]||(e[1]=function(t){return z.addTeamMemberForm.email=t})},null,8,["modelValue"]),(0,n.createVNode)(tt,{message:z.addTeamMemberForm.errors.email,class:"mt-2"},null,8,["message"])]),o.availableRoles.length>0?((0,n.openBlock)(),(0,n.createBlock)("div",c,[(0,n.createVNode)(q,{for:"roles",value:"Role"}),(0,n.createVNode)(tt,{message:z.addTeamMemberForm.errors.role,class:"mt-2"},null,8,["message"]),(0,n.createVNode)("div",u,[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(o.availableRoles,(function(t,e){return(0,n.openBlock)(),(0,n.createBlock)("button",{type:"button",class:["relative px-4 py-3 inline-flex w-full rounded-lg focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue",{"border-t border-gray-200 rounded-t-none":e>0,"rounded-b-none":e!=Object.keys(o.availableRoles).length-1}],onClick:function(e){return z.addTeamMemberForm.role=t.key},key:t.key},[(0,n.createVNode)("div",{class:{"opacity-50":z.addTeamMemberForm.role&&z.addTeamMemberForm.role!=t.key}},[(0,n.createVNode)("div",p,[(0,n.createVNode)("div",{class:["text-sm text-gray-600",{"font-semibold":z.addTeamMemberForm.role==t.key}]},(0,n.toDisplayString)(t.name),3),z.addTeamMemberForm.role==t.key?((0,n.openBlock)(),(0,n.createBlock)("svg",h,[d])):(0,n.createCommentVNode)("",!0)]),(0,n.createVNode)("div",g,(0,n.toDisplayString)(t.description),1)],2)],10,["onClick"])})),128))])])):(0,n.createCommentVNode)("",!0)]})),actions:(0,n.withCtx)((function(){return[(0,n.createVNode)(et,{on:z.addTeamMemberForm.recentlySuccessful,class:"mr-3"},{default:(0,n.withCtx)((function(){return[_]})),_:1},8,["on"]),(0,n.createVNode)(ot,{class:{"opacity-25":z.addTeamMemberForm.processing},disabled:z.addTeamMemberForm.processing},{default:(0,n.withCtx)((function(){return[f]})),_:1},8,["class","disabled"])]})),_:1},8,["onSubmitted"])])):(0,n.createCommentVNode)("",!0),o.team.team_invitations.length>0&&o.userPermissions.canAddTeamMembers?((0,n.openBlock)(),(0,n.createBlock)("div",m,[(0,n.createVNode)($),(0,n.createVNode)(rt,{class:"mt-10 sm:mt-0"},{title:(0,n.withCtx)((function(){return[v]})),description:(0,n.withCtx)((function(){return[y]})),content:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",T,[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(o.team.team_invitations,(function(t){return(0,n.openBlock)(),(0,n.createBlock)("div",{class:"flex items-center justify-between",key:t.id},[(0,n.createVNode)("div",b,(0,n.toDisplayString)(t.email),1),(0,n.createVNode)("div",E,[o.userPermissions.canRemoveTeamMembers?((0,n.openBlock)(),(0,n.createBlock)("button",{key:0,class:"cursor-pointer ml-6 text-sm text-red-500 focus:outline-none",onClick:function(e){return Z.cancelTeamInvitation(t)}}," Cancel ",8,["onClick"])):(0,n.createCommentVNode)("",!0)])])})),128))])]})),_:1})])):(0,n.createCommentVNode)("",!0),o.team.users.length>0?((0,n.openBlock)(),(0,n.createBlock)("div",S,[(0,n.createVNode)($),(0,n.createVNode)(rt,{class:"mt-10 sm:mt-0"},{title:(0,n.withCtx)((function(){return[C]})),description:(0,n.withCtx)((function(){return[k]})),content:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",R,[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(o.team.users,(function(r){return(0,n.openBlock)(),(0,n.createBlock)("div",{class:"flex items-center justify-between",key:r.id},[(0,n.createVNode)("div",I,[(0,n.createVNode)("img",{class:"w-8 h-8 rounded-full",src:r.profile_photo_url,alt:r.name},null,8,["src","alt"]),(0,n.createVNode)("div",w,(0,n.toDisplayString)(r.name),1)]),(0,n.createVNode)("div",N,[o.userPermissions.canAddTeamMembers&&o.availableRoles.length?((0,n.openBlock)(),(0,n.createBlock)("button",{key:0,class:"ml-2 text-sm text-gray-400 underline",onClick:function(t){return Z.manageRole(r)}},(0,n.toDisplayString)(Z.displayableRole(r.membership.role)),9,["onClick"])):o.availableRoles.length?((0,n.openBlock)(),(0,n.createBlock)("div",O,(0,n.toDisplayString)(Z.displayableRole(r.membership.role)),1)):(0,n.createCommentVNode)("",!0),t.$page.props.user.id===r.id?((0,n.openBlock)(),(0,n.createBlock)("button",{key:2,class:"cursor-pointer ml-6 text-sm text-red-500",onClick:e[2]||(e[2]=function(){return Z.confirmLeavingTeam&&Z.confirmLeavingTeam.apply(Z,arguments)})}," Leave ")):(0,n.createCommentVNode)("",!0),o.userPermissions.canRemoveTeamMembers?((0,n.openBlock)(),(0,n.createBlock)("button",{key:3,class:"cursor-pointer ml-6 text-sm text-red-500",onClick:function(t){return Z.confirmTeamMemberRemoval(r)}}," Remove ",8,["onClick"])):(0,n.createCommentVNode)("",!0)])])})),128))])]})),_:1})])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(st,{show:z.currentlyManagingRole,onClose:e[4]||(e[4]=function(t){return z.currentlyManagingRole=!1})},{title:(0,n.withCtx)((function(){return[x]})),content:(0,n.withCtx)((function(){return[z.managingRoleFor?((0,n.openBlock)(),(0,n.createBlock)("div",A,[(0,n.createVNode)("div",D,[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(o.availableRoles,(function(t,e){return(0,n.openBlock)(),(0,n.createBlock)("button",{type:"button",class:["relative px-4 py-3 inline-flex w-full rounded-lg focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue",{"border-t border-gray-200 rounded-t-none":e>0,"rounded-b-none":e!==Object.keys(o.availableRoles).length-1}],onClick:function(e){return z.updateRoleForm.role=t.key},key:t.key},[(0,n.createVNode)("div",{class:{"opacity-50":z.updateRoleForm.role&&z.updateRoleForm.role!==t.key}},[(0,n.createVNode)("div",M,[(0,n.createVNode)("div",{class:["text-sm text-gray-600",{"font-semibold":z.updateRoleForm.role===t.key}]},(0,n.toDisplayString)(t.name),3),z.updateRoleForm.role===t.key?((0,n.openBlock)(),(0,n.createBlock)("svg",L,[B])):(0,n.createCommentVNode)("",!0)]),(0,n.createVNode)("div",P,(0,n.toDisplayString)(t.description),1)],2)],10,["onClick"])})),128))])])):(0,n.createCommentVNode)("",!0)]})),footer:(0,n.withCtx)((function(){return[(0,n.createVNode)(it,{onClick:e[3]||(e[3]=function(t){return z.currentlyManagingRole=!1})},{default:(0,n.withCtx)((function(){return[V]})),_:1}),(0,n.createVNode)(ot,{class:["ml-2",{"opacity-25":z.updateRoleForm.processing}],onClick:Z.updateRole,disabled:z.updateRoleForm.processing},{default:(0,n.withCtx)((function(){return[F]})),_:1},8,["onClick","class","disabled"])]})),_:1},8,["show"]),(0,n.createVNode)(lt,{show:z.confirmingLeavingTeam,onClose:e[6]||(e[6]=function(t){return z.confirmingLeavingTeam=!1})},{title:(0,n.withCtx)((function(){return[U]})),content:(0,n.withCtx)((function(){return[H]})),footer:(0,n.withCtx)((function(){return[(0,n.createVNode)(it,{onClick:e[5]||(e[5]=function(t){return z.confirmingLeavingTeam=!1})},{default:(0,n.withCtx)((function(){return[G]})),_:1}),(0,n.createVNode)(at,{class:["ml-2",{"opacity-25":z.leaveTeamForm.processing}],onClick:Z.leaveTeam,disabled:z.leaveTeamForm.processing},{default:(0,n.withCtx)((function(){return[W]})),_:1},8,["onClick","class","disabled"])]})),_:1},8,["show"]),(0,n.createVNode)(lt,{show:z.teamMemberBeingRemoved,onClose:e[8]||(e[8]=function(t){return z.teamMemberBeingRemoved=null})},{title:(0,n.withCtx)((function(){return[j]})),content:(0,n.withCtx)((function(){return[X]})),footer:(0,n.withCtx)((function(){return[(0,n.createVNode)(it,{onClick:e[7]||(e[7]=function(t){return z.teamMemberBeingRemoved=null})},{default:(0,n.withCtx)((function(){return[J]})),_:1}),(0,n.createVNode)(at,{class:["ml-2",{"opacity-25":z.removeTeamMemberForm.processing}],onClick:Z.removeTeamMember,disabled:z.removeTeamMemberForm.processing},{default:(0,n.withCtx)((function(){return[Y]})),_:1},8,["onClick","class","disabled"])]})),_:1},8,["show"])])}},at=st},2627:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>T});var n=o(8191),r=(0,n.createTextVNode)(" Team Name "),i=(0,n.createTextVNode)(" The team's name and owner information. "),s={class:"col-span-6"},a={class:"flex items-center mt-2"},l={class:"ml-4 leading-tight"},c={class:"text-gray-700 text-sm"},u={class:"col-span-6 sm:col-span-4"},p=(0,n.createTextVNode)(" Saved. "),h=(0,n.createTextVNode)(" Save ");var d=o(7546),g=o(6245),_=o(9248),f=o(6824),m=o(8985),v=o(3845);const y={components:{JetActionMessage:d.Z,JetButton:g.Z,JetFormSection:_.Z,JetInput:f.Z,JetInputError:m.Z,JetLabel:v.Z},props:["team","permissions"],data:function(){return{form:this.$inertia.form({name:this.team.name})}},methods:{updateTeamName:function(){this.form.put(route("teams.update",this.team),{errorBag:"updateTeamName",preserveScroll:!0})}},render:function(t,e,o,d,g,_){var f=(0,n.resolveComponent)("jet-label"),m=(0,n.resolveComponent)("jet-input"),v=(0,n.resolveComponent)("jet-input-error"),y=(0,n.resolveComponent)("jet-action-message"),T=(0,n.resolveComponent)("jet-button"),b=(0,n.resolveComponent)("jet-form-section");return(0,n.openBlock)(),(0,n.createBlock)(b,{onSubmitted:_.updateTeamName},(0,n.createSlots)({title:(0,n.withCtx)((function(){return[r]})),description:(0,n.withCtx)((function(){return[i]})),form:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",s,[(0,n.createVNode)(f,{value:"Team Owner"}),(0,n.createVNode)("div",a,[(0,n.createVNode)("img",{class:"w-12 h-12 rounded-full object-cover",src:o.team.owner.profile_photo_url,alt:o.team.owner.name},null,8,["src","alt"]),(0,n.createVNode)("div",l,[(0,n.createVNode)("div",null,(0,n.toDisplayString)(o.team.owner.name),1),(0,n.createVNode)("div",c,(0,n.toDisplayString)(o.team.owner.email),1)])])]),(0,n.createVNode)("div",u,[(0,n.createVNode)(f,{for:"name",value:"Team Name"}),(0,n.createVNode)(m,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:g.form.name,"onUpdate:modelValue":e[1]||(e[1]=function(t){return g.form.name=t}),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled"]),(0,n.createVNode)(v,{message:g.form.errors.name,class:"mt-2"},null,8,["message"])])]})),_:2},[o.permissions.canUpdateTeam?{name:"actions",fn:(0,n.withCtx)((function(){return[(0,n.createVNode)(y,{on:g.form.recentlySuccessful,class:"mr-3"},{default:(0,n.withCtx)((function(){return[p]})),_:1},8,["on"]),(0,n.createVNode)(T,{class:{"opacity-25":g.form.processing},disabled:g.form.processing},{default:(0,n.withCtx)((function(){return[h]})),_:1},8,["class","disabled"])]}))}:void 0]),1032,["onSubmitted"])}},T=y},9741:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>l});var n=o(8191),r={class:"font-sans text-gray-900 antialiased"},i={class:"pt-4 bg-gray-100"},s={class:"min-h-screen flex flex-col items-center pt-6 sm:pt-0"};const a={props:["terms"],components:{JetAuthenticationCardLogo:o(949).Z},render:function(t,e,o,a,l,c){var u=(0,n.resolveComponent)("jet-authentication-card-logo");return(0,n.openBlock)(),(0,n.createBlock)("div",r,[(0,n.createVNode)("div",i,[(0,n.createVNode)("div",s,[(0,n.createVNode)("div",null,[(0,n.createVNode)(u)]),(0,n.createVNode)("div",{innerHTML:o.terms,class:"w-full sm:max-w-2xl mt-6 p-6 bg-white shadow-md overflow-hidden sm:rounded-lg prose"},null,8,["innerHTML"])])])])}},l=a},2538:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>w});var n=o(8191),r=(0,n.withScopeId)("data-v-31ce65be");(0,n.pushScopeId)("data-v-31ce65be");var i={class:"relative flex items-top justify-center min-h-screen bg-gray-100 dark:bg-gray-900 sm:items-center sm:pt-0"},s={key:0,class:"hidden fixed top-0 right-0 px-6 py-4 sm:block"},a=(0,n.createTextVNode)(" Dashboard "),l=(0,n.createTextVNode)(" Log in "),c=(0,n.createTextVNode)(" Register "),u={class:"max-w-6xl mx-auto sm:px-6 lg:px-8"},p={class:"flex justify-center pt-8 sm:justify-start sm:pt-0"},h={class:"mt-8 bg-white dark:bg-gray-800 overflow-hidden shadow sm:rounded-lg"},d={class:"grid grid-cols-1 md:grid-cols-2"},g={class:"p-6"},_={class:"flex items-center"},f=(0,n.createVNode)("div",{class:"ml-4 text-lg leading-7 font-semibold"},[(0,n.createVNode)("a",{href:"",class:"underline text-gray-900 dark:text-white"},"Documentation")],-1),m=(0,n.createVNode)("div",{class:"ml-12"},[(0,n.createVNode)("div",{class:"mt-2 text-gray-600 dark:text-gray-400 text-sm"}," Laravel has wonderful, thorough documentation covering every aspect of the framework. Whether you are new to the framework or have previous experience with Laravel, we recommend reading all of the documentation from beginning to end. ")],-1),v={class:"flex justify-center mt-4 sm:items-center sm:justify-between"},y={class:"ml-4 text-center text-sm text-gray-500 sm:text-right sm:ml-0"};(0,n.popScopeId)();var T=r((function(t,e,o,T,b,E){var S=(0,n.resolveComponent)("inertia-link"),C=(0,n.resolveComponent)("JetAuthenticationCardLogo"),k=(0,n.resolveComponent)("BIconFileWord");return(0,n.openBlock)(),(0,n.createBlock)("div",i,[o.canLogin?((0,n.openBlock)(),(0,n.createBlock)("div",s,[t.$page.props.user?((0,n.openBlock)(),(0,n.createBlock)(S,{key:0,href:"/dashboard",class:"text-sm text-gray-700 underline"},{default:r((function(){return[a]})),_:1})):((0,n.openBlock)(),(0,n.createBlock)(n.Fragment,{key:1},[(0,n.createVNode)(S,{href:t.route("login"),class:"text-sm text-gray-700 underline"},{default:r((function(){return[l]})),_:1},8,["href"]),o.canRegister?((0,n.openBlock)(),(0,n.createBlock)(S,{key:0,href:t.route("register"),class:"ml-4 text-sm text-gray-700 underline"},{default:r((function(){return[c]})),_:1},8,["href"])):(0,n.createCommentVNode)("",!0)],64))])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)("div",u,[(0,n.createVNode)("div",p,[(0,n.createVNode)(C)]),(0,n.createVNode)("div",h,[(0,n.createVNode)("div",d,[(0,n.createVNode)("div",g,[(0,n.createVNode)("div",_,[(0,n.createVNode)(k,{class:"underline text-gray-900 dark:text-white"}),f]),m])])]),(0,n.createVNode)("div",v,[(0,n.createVNode)("div",y," Laravel version: "+(0,n.toDisplayString)(o.laravelVersion),1)])])])})),b=o(949),E=o(5149);const S={components:{JetAuthenticationCardLogo:b.Z,BIconFileWord:E.tZ5},props:{canLogin:Boolean,canRegister:Boolean,laravelVersion:String}};var C=o(3379),k=o.n(C),R=o(1744),I={insert:"head",singleton:!1};k()(R.Z,I);R.Z.locals;S.render=T,S.__scopeId="data-v-31ce65be";const w=S},4460:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>T});var n=o(8191),r=(0,n.createVNode)("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Cameras ",-1),i={class:"py-12"},s={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},a={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},l={class:"bg-white shadow-md rounded my-6"},c={class:"min-w-max w-full table-auto"},u=(0,n.createVNode)("thead",null,[(0,n.createVNode)("tr",null,[(0,n.createVNode)("th",{class:"w-1/4 ..."},"#"),(0,n.createVNode)("th",{class:"w-1/3 ..."},"Name:"),(0,n.createVNode)("th",{class:"w-1/3 ..."},"Camera Show")])],-1),p=(0,n.createTextVNode)("Show camera "),h=(0,n.createVNode)("i",{class:"bi bi-trash"},null,-1),d=(0,n.createVNode)("tfoot",null,[(0,n.createVNode)("tr",null,[(0,n.createVNode)("td",{class:"w-1/3 ..."}),(0,n.createVNode)("td",{class:"w-1/3 ..."}),(0,n.createVNode)("td",{class:"w-1/5 ..."})])],-1);o(9680),o(9669);var g=o(7063),_=(o(2159),o(3845)),f=o(6245),m=o(6824),v=o(5149);const y={props:{cameras:{type:Array,required:!0}},data:function(){return{add_name:""}},mounted:function(){},components:{Button:f.Z,AppLayout:g.Z,JetButton:f.Z,JetInput:m.Z,JetLabel:_.Z,BIconArrowRightSquareFill:v.lzv},methods:{open_camera:function(t){var e=this,o=0,n=0;this.cameras.forEach((function(r){r.id==t&&(o=e.cameras[n]),n++})),console.log(o);var r=o.url;console.log("Opening popup"),window.open("about:blank",o.name,"width=300,height=300").document.write('<img src="'+r+'" alt="Camera" />')}},render:function(t,e,o,g,_,f){var m=(0,n.resolveComponent)("BIconArrowRightSquareFill"),v=(0,n.resolveComponent)("jet-button"),y=(0,n.resolveComponent)("app-layout");return(0,n.openBlock)(),(0,n.createBlock)(y,null,{header:(0,n.withCtx)((function(){return[r]})),default:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",i,[(0,n.createVNode)("div",s,[(0,n.createVNode)("div",a,[(0,n.createVNode)("div",null,[(0,n.createVNode)("div",l,[(0,n.createVNode)("table",c,[u,(0,n.createVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(o.cameras,(function(o){return(0,n.openBlock)(),(0,n.createBlock)("tr",{key:o.id},[(0,n.createVNode)("td",null,(0,n.toDisplayString)(o.id),1),(0,n.createVNode)("td",null,(0,n.toDisplayString)(o.name),1),(0,n.createVNode)("td",null,[(0,n.createVNode)(v,{onClick:function(t){return f.open_camera(o.id)}},{default:(0,n.withCtx)((function(){return[p,(0,n.createVNode)(m,{class:""})]})),_:2},1032,["onClick"]),(0,n.createVNode)("span",{onClick:e[1]||(e[1]=function(){return t.delete&&t.delete.apply(t,arguments)})},[h])])])})),128))]),d])])])])])])]})),_:1})}},T=y},6744:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>V});var n=o(8191),r=(0,n.createVNode)("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Programs ",-1),i={class:"py-12"},s={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},a={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg px-4 py-4"},l={key:0,class:"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md my-3",role:"alert"},c={class:"flex"},u={class:"text-sm"},p={class:"table-fixed w-full"},h=(0,n.createVNode)("thead",null,[(0,n.createVNode)("tr",{class:"bg-gray-100"},[(0,n.createVNode)("th",{class:"px-4 py-2 w-20"},"No."),(0,n.createVNode)("th",{class:"px-4 py-2"},"Title"),(0,n.createVNode)("th",{class:"px-4 py-2"},"Body"),(0,n.createVNode)("th",{class:"px-4 py-2"},"Action")])],-1),d={class:"border px-4 py-2"},g={class:"border px-4 py-2"},_={class:"border px-4 py-2"},f={class:"border px-4 py-2"},m={key:1,class:"fixed z-10 inset-0 overflow-y-auto ease-out duration-400"},v={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},y=(0,n.createVNode)("div",{class:"fixed inset-0 transition-opacity"},[(0,n.createVNode)("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1),T=(0,n.createVNode)("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},null,-1),b=(0,n.createTextVNode)("​ "),E={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},S={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},C={class:""},k={class:"mb-4"},R=(0,n.createVNode)("label",{for:"exampleFormControlInput1",class:"block text-gray-700 text-sm font-bold mb-2"},"Title:",-1),I={key:0,class:"text-red-500"},w={class:"mb-4"},N=(0,n.createVNode)("label",{for:"exampleFormControlInput2",class:"block text-gray-700 text-sm font-bold mb-2"},"Body:",-1),O={key:0,class:"text-red-500"},x={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},A={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},D={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},M={class:"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"};var L=o(7063),B=o(2159);o(4948),o(5466);const P={components:{AppLayout:L.Z,Welcome:B.Z},props:["data","errors"],data:function(){return{editMode:!1,isOpen:!1,form:{title:null,body:null}}},methods:{openModal:function(){this.isOpen=!0},closeModal:function(){this.isOpen=!1,this.reset(),this.editMode=!1},reset:function(){this.form={title:null,body:null}},save:function(t){this.$inertia.post("/posts",t),this.reset(),this.closeModal(),this.editMode=!1},edit:function(t){this.form=Object.assign({},t),this.editMode=!0,this.openModal()},update:function(t){t._method="PUT",this.$inertia.post("/posts/"+t.id,t),this.reset(),this.closeModal()},deleteRow:function(t){confirm("Are you sure want to remove?")&&(t._method="DELETE",this.$inertia.post("/posts/"+t.id,t),this.reset(),this.closeModal())}},render:function(t,e,o,L,B,P){var V=(0,n.resolveComponent)("app-layout");return(0,n.openBlock)(),(0,n.createBlock)(V,null,{header:(0,n.withCtx)((function(){return[r]})),default:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",i,[(0,n.createVNode)("div",s,[(0,n.createVNode)("div",a,[t.$page.flash.message?((0,n.openBlock)(),(0,n.createBlock)("div",l,[(0,n.createVNode)("div",c,[(0,n.createVNode)("div",null,[(0,n.createVNode)("p",u,(0,n.toDisplayString)(t.$page.flash.message),1)])])])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)("button",{onClick:e[1]||(e[1]=function(t){return P.openModal()}),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded my-3"},"Create New Post"),(0,n.createVNode)("table",p,[h,(0,n.createVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(o.data,(function(t){return(0,n.openBlock)(),(0,n.createBlock)("tr",null,[(0,n.createVNode)("td",d,(0,n.toDisplayString)(t.id),1),(0,n.createVNode)("td",g,(0,n.toDisplayString)(t.title),1),(0,n.createVNode)("td",_,(0,n.toDisplayString)(t.body),1),(0,n.createVNode)("td",f,[(0,n.createVNode)("button",{onClick:function(e){return P.edit(t)},class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"},"Edit",8,["onClick"]),(0,n.createVNode)("button",{onClick:function(e){return P.deleteRow(t)},class:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded"},"Delete",8,["onClick"])])])})),256))])]),B.isOpen?((0,n.openBlock)(),(0,n.createBlock)("div",m,[(0,n.createVNode)("div",v,[y,T,b,(0,n.createVNode)("div",E,[(0,n.createVNode)("form",null,[(0,n.createVNode)("div",S,[(0,n.createVNode)("div",C,[(0,n.createVNode)("div",k,[R,(0,n.withDirectives)((0,n.createVNode)("input",{type:"text",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"exampleFormControlInput1",placeholder:"Enter Title","onUpdate:modelValue":e[2]||(e[2]=function(t){return B.form.title=t})},null,512),[[n.vModelText,B.form.title]]),t.$page.errors.title?((0,n.openBlock)(),(0,n.createBlock)("div",I,(0,n.toDisplayString)(t.$page.errors.title[0]),1)):(0,n.createCommentVNode)("",!0)]),(0,n.createVNode)("div",w,[N,(0,n.withDirectives)((0,n.createVNode)("textarea",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"exampleFormControlInput2","onUpdate:modelValue":e[3]||(e[3]=function(t){return B.form.body=t}),placeholder:"Enter Body"},null,512),[[n.vModelText,B.form.body]]),t.$page.errors.body?((0,n.openBlock)(),(0,n.createBlock)("div",O,(0,n.toDisplayString)(t.$page.errors.body[0]),1)):(0,n.createCommentVNode)("",!0)])])]),(0,n.createVNode)("div",x,[(0,n.createVNode)("span",A,[(0,n.withDirectives)((0,n.createVNode)("button",{"wire:click.prevent":"store()",type:"button",class:"inline-flex justify-center w-full rounded-md border border-transparent px-4 py-2 bg-green-600 text-base leading-6 font-medium text-white shadow-sm hover:bg-green-500 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150 sm:text-sm sm:leading-5",onClick:e[4]||(e[4]=function(t){return P.save(B.form)})}," Save ",512),[[n.vShow,!B.editMode]])]),(0,n.createVNode)("span",D,[(0,n.withDirectives)((0,n.createVNode)("button",{"wire:click.prevent":"store()",type:"button",class:"inline-flex justify-center w-full rounded-md border border-transparent px-4 py-2 bg-green-600 text-base leading-6 font-medium text-white shadow-sm hover:bg-green-500 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150 sm:text-sm sm:leading-5",onClick:e[5]||(e[5]=function(t){return P.update(B.form)})}," Update ",512),[[n.vShow,B.editMode]])]),(0,n.createVNode)("span",M,[(0,n.createVNode)("button",{onClick:e[6]||(e[6]=function(t){return P.closeModal()}),type:"button",class:"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5"}," Cancel ")])])])])])])):(0,n.createCommentVNode)("",!0)])])])]})),_:1})}},V=P},6279:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>m});var n=o(8191),r={class:"font-semibold text-xl text-gray-800 leading-tight"},i={class:"py-12"},s={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},a={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},l=(0,n.createTextVNode)("Status: "),c={class:"flex items-center"},u=(0,n.createVNode)("span",{class:"ml-2 text-sm text-gray-600"},"Activate",-1),p={class:"flex items-center justify-end mt-4"},h=(0,n.createTextVNode)(" Save ");var d=o(7063),g=o(6245),_=o(344);const f={components:{AppLayout:d.Z,JetButton:g.Z,JetCheckbox:_.Z},props:{device:{type:Array,required:!0}},data:function(){},methods:{save:function(){this.send_data(this.device[0].id,this.device[0].mode,1==this.device[0].status?1:0)},send_data:function(t,e,o){axios.get("/api/device/js-api/"+t+"/"+e+"/"+o)}},render:function(t,e,o,d,g,_){var f=(0,n.resolveComponent)("jet-checkbox"),m=(0,n.resolveComponent)("jet-button"),v=(0,n.resolveComponent)("app-layout");return(0,n.openBlock)(),(0,n.createBlock)(v,null,{header:(0,n.withCtx)((function(){return[(0,n.createVNode)("h2",r," Device "+(0,n.toDisplayString)(o.device[0].name),1)]})),default:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",i,[(0,n.createVNode)("div",s,[(0,n.createVNode)("div",a,[(0,n.createVNode)("p",null,"Last online: "+(0,n.toDisplayString)(o.device[0].last_online),1),(0,n.createVNode)("p",null,"Mode: "+(0,n.toDisplayString)(o.device[0].mode),1),(0,n.createVNode)("p",null,[l,(0,n.createVNode)("label",c,[(0,n.createVNode)(f,{name:"remember",checked:o.device[0].status,"onUpdate:checked":e[1]||(e[1]=function(t){return o.device[0].status=t}),onChange:_.save},null,8,["checked","onChange"]),u])]),(0,n.createVNode)("div",p,[(0,n.createVNode)(m,{class:"ml-4",onClick:_.save},{default:(0,n.withCtx)((function(){return[h]})),_:1},8,["onClick"])])])])])]})),_:1})}},m=f},787:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>k});var n=o(8191),r=(0,n.createVNode)("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Devices ",-1),i={class:"py-12"},s={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},a={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},l={class:"bg-white shadow-md rounded my-6"},c={class:"min-w-max w-full table-auto"},u=(0,n.createVNode)("thead",null,[(0,n.createVNode)("tr",null,[(0,n.createVNode)("th",{class:"w-1/4 ..."},"#"),(0,n.createVNode)("th",{class:"w-1/3 ..."},"Name:"),(0,n.createVNode)("th",{class:"w-1/3 ..."},"Management")])],-1),p=(0,n.createTextVNode)("Manage your device "),h=(0,n.createVNode)("td",{class:"w-1/3 ..."},null,-1),d={class:"w-1/3 ..."},g={class:"w-1/5 ..."},_=(0,n.createTextVNode)(" Add Device ");var f=o(9680),m=o(9669),v=o.n(m),y=o(7063),T=(o(2159),o(3845)),b=o(6245),E=o(6824),S=o(5149);const C={props:{devices:{type:Array,required:!0}},data:function(){return{add_name:""}},mounted:function(){},components:{AppLayout:y.Z,JetButton:b.Z,JetInput:E.Z,JetLabel:T.Z,BIconGearFill:S.oqW},methods:{submit:function(){v().post("/add-user-device/",{dev_id:this.add_name}),f.Inertia.visit("/devices",{only:["devices"]})}},render:function(t,e,o,f,m,v){var y=(0,n.resolveComponent)("BIconGearFill"),T=(0,n.resolveComponent)("inertia-link"),b=(0,n.resolveComponent)("jet-label"),E=(0,n.resolveComponent)("jet-input"),S=(0,n.resolveComponent)("jet-button"),C=(0,n.resolveComponent)("app-layout");return(0,n.openBlock)(),(0,n.createBlock)(C,null,{header:(0,n.withCtx)((function(){return[r]})),default:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",i,[(0,n.createVNode)("div",s,[(0,n.createVNode)("div",a,[(0,n.createVNode)("div",null,[(0,n.createVNode)("div",l,[(0,n.createVNode)("table",c,[u,(0,n.createVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(o.devices,(function(t){return(0,n.openBlock)(),(0,n.createBlock)("tr",{key:t.id},[(0,n.createVNode)("td",null,(0,n.toDisplayString)(t.id),1),(0,n.createVNode)("td",null,(0,n.toDisplayString)(t.name),1),(0,n.createVNode)("td",null,[(0,n.createVNode)(T,{href:"/device/"+t.id},{default:(0,n.withCtx)((function(){return[p,(0,n.createVNode)(y)]})),_:2},1032,["href"])])])})),128))]),(0,n.createVNode)("tfoot",null,[(0,n.createVNode)("tr",null,[h,(0,n.createVNode)("td",d,[(0,n.createVNode)("div",null,[(0,n.createVNode)(b,{for:"name",value:"Enter your device id here..."}),(0,n.createVNode)(E,{"aria-placeholder":"Enter your device id here...",id:"name",type:"name",class:"mt-1 block w-full",modelValue:m.add_name,"onUpdate:modelValue":e[1]||(e[1]=function(t){return m.add_name=t}),required:"",autofocus:""},null,8,["modelValue"])])]),(0,n.createVNode)("td",g,[(0,n.createVNode)(S,{class:"ml-4",onClick:v.submit},{default:(0,n.withCtx)((function(){return[_]})),_:1},8,["onClick"])])])])])])])])])])]})),_:1})}},k=C},3717:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>p});var n=o(8191),r=(0,n.createVNode)("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Run ",-1),i=(0,n.createVNode)("div",{class:"py-12"},[(0,n.createVNode)("div",{class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},[(0,n.createVNode)("div",{class:"bg-white overflow-hidden shadow-xl sm:rounded-lg col-span-full md:col-span-4"},[(0,n.createVNode)("a",{class:"bg-green-500"},"Start")])])],-1);var s=o(7063),a=o(2159),l=o(4948),c=o.n(l);o(5466);const u={components:{AppLayout:s.Z,Welcome:a.Z,Blockly:c()},props:{run:{type:Array,required:!0}},render:function(t,e,o,s,a,l){var c=(0,n.resolveComponent)("app-layout");return(0,n.openBlock)(),(0,n.createBlock)(c,null,{header:(0,n.withCtx)((function(){return[r]})),default:(0,n.withCtx)((function(){return[i]})),_:1})}},p=u},252:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>gt});var n=o(8191),r={class:"font-semibold text-xl text-gray-800 leading-tight"},i={class:"py-12"},s={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},a={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},l={class:"col-span-6 sm:col-span-4"},c=(0,n.createVNode)("div",{id:"blocklyDiv",class:"mt-1 block w-full",style:{height:"480px"}},null,-1),u=(0,n.createTextVNode)(" Save ");var p=o(7063),h=o(2159),d=(0,n.createTextVNode)("10"),g=(0,n.createTextVNode)("1"),_=(0,n.createTextVNode)("10"),f=(0,n.createTextVNode)("1"),m=(0,n.createTextVNode)("123"),v=(0,n.createTextVNode)("1"),y=(0,n.createTextVNode)("1"),T=(0,n.createTextVNode)("9"),b=(0,n.createTextVNode)("45"),E=(0,n.createTextVNode)("0"),S=(0,n.createTextVNode)("3.1"),C=(0,n.createTextVNode)("64"),k=(0,n.createTextVNode)("10"),R=(0,n.createTextVNode)("50"),I=(0,n.createTextVNode)("1"),w=(0,n.createTextVNode)("100"),N=(0,n.createTextVNode)("1"),O=(0,n.createTextVNode)("100"),x=(0,n.createTextVNode)("1"),A=(0,n.createTextVNode)("1"),D=(0,n.createTextVNode)("abc"),M=(0,n.createTextVNode)("{textVariable}"),L=(0,n.createTextVNode)("abc"),B=(0,n.createTextVNode)("{textVariable}"),P=(0,n.createTextVNode)("{textVariable}"),V=(0,n.createTextVNode)("abc"),F=(0,n.createTextVNode)("abc"),U=(0,n.createTextVNode)("abc"),H=(0,n.createTextVNode)("abc"),G=(0,n.createTextVNode)("5"),W=(0,n.createTextVNode)("{listVariable}"),j=(0,n.createTextVNode)("{listVariable}"),X=(0,n.createTextVNode)("{listVariable}"),J=(0,n.createTextVNode)("{listVariable}"),Y=(0,n.createTextVNode)(","),K=(0,n.createTextVNode)("100"),z=(0,n.createTextVNode)("50"),Z=(0,n.createTextVNode)("0"),$=(0,n.createTextVNode)("#ff0000"),q=(0,n.createTextVNode)("#3333ff"),Q=(0,n.createTextVNode)("0.5");const tt={render:function(t,e){var o=(0,n.resolveComponent)("block"),r=(0,n.resolveComponent)("category"),i=(0,n.resolveComponent)("field"),s=(0,n.resolveComponent)("shadow"),a=(0,n.resolveComponent)("value"),l=(0,n.resolveComponent)("mutation"),c=(0,n.resolveComponent)("sep"),u=(0,n.resolveComponent)("xml");return(0,n.openBlock)(),(0,n.createBlock)(u,{xmlns:"https://developers.google.com/blockly/xml",id:"toolbox",style:{display:"none"}},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(r,{name:"Logics",colour:"%{BKY_LOGIC_HUE}"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(o,{type:"controls_if"}),(0,n.createVNode)(o,{type:"logic_compare"}),(0,n.createVNode)(o,{type:"logic_operation"}),(0,n.createVNode)(o,{type:"logic_negate"}),(0,n.createVNode)(o,{type:"logic_boolean"}),(0,n.createVNode)(o,{type:"logic_null"}),(0,n.createVNode)(o,{type:"logic_ternary"})]})),_:1}),(0,n.createVNode)(r,{name:"Loops",colour:"%{BKY_LOOPS_HUE}"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(o,{type:"controls_repeat_ext"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"TIMES"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"math_number"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"NUM"},{default:(0,n.withCtx)((function(){return[d]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"controls_whileUntil"}),(0,n.createVNode)(o,{type:"controls_for"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"FROM"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"math_number"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"NUM"},{default:(0,n.withCtx)((function(){return[g]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(a,{name:"TO"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"math_number"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"NUM"},{default:(0,n.withCtx)((function(){return[_]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(a,{name:"BY"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"math_number"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"NUM"},{default:(0,n.withCtx)((function(){return[f]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"controls_forEach"}),(0,n.createVNode)(o,{type:"controls_flow_statements"})]})),_:1}),(0,n.createVNode)(r,{name:"Maths",colour:"%{BKY_MATH_HUE}"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(o,{type:"math_number"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"NUM"},{default:(0,n.withCtx)((function(){return[m]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"math_arithmetic"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"A"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"math_number"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"NUM"},{default:(0,n.withCtx)((function(){return[v]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(a,{name:"B"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"math_number"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"NUM"},{default:(0,n.withCtx)((function(){return[y]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"math_single"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"NUM"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"math_number"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"NUM"},{default:(0,n.withCtx)((function(){return[T]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"math_trig"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"NUM"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"math_number"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"NUM"},{default:(0,n.withCtx)((function(){return[b]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"math_constant"}),(0,n.createVNode)(o,{type:"math_number_property"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"NUMBER_TO_CHECK"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"math_number"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"NUM"},{default:(0,n.withCtx)((function(){return[E]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"math_round"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"NUM"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"math_number"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"NUM"},{default:(0,n.withCtx)((function(){return[S]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"math_on_list"}),(0,n.createVNode)(o,{type:"math_modulo"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"DIVIDEND"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"math_number"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"NUM"},{default:(0,n.withCtx)((function(){return[C]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(a,{name:"DIVISOR"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"math_number"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"NUM"},{default:(0,n.withCtx)((function(){return[k]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"math_constrain"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"VALUE"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"math_number"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"NUM"},{default:(0,n.withCtx)((function(){return[R]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(a,{name:"LOW"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"math_number"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"NUM"},{default:(0,n.withCtx)((function(){return[I]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(a,{name:"HIGH"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"math_number"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"NUM"},{default:(0,n.withCtx)((function(){return[w]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"math_random_int"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"FROM"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"math_number"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"NUM"},{default:(0,n.withCtx)((function(){return[N]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(a,{name:"TO"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"math_number"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"NUM"},{default:(0,n.withCtx)((function(){return[O]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"math_random_float"}),(0,n.createVNode)(o,{type:"math_atan2"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"X"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"math_number"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"NUM"},{default:(0,n.withCtx)((function(){return[x]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(a,{name:"Y"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"math_number"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"NUM"},{default:(0,n.withCtx)((function(){return[A]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(r,{name:"Text",colour:"%{BKY_TEXTS_HUE}"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(o,{type:"text"}),(0,n.createVNode)(o,{type:"text_join"}),(0,n.createVNode)(o,{type:"text_append"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"TEXT"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"text"})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"text_length"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"VALUE"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"text"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"TEXT"},{default:(0,n.withCtx)((function(){return[D]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"text_isEmpty"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"VALUE"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"text"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"TEXT"})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"text_indexOf"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"VALUE"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(o,{type:"variables_get"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"VAR"},{default:(0,n.withCtx)((function(){return[M]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(a,{name:"FIND"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"text"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"TEXT"},{default:(0,n.withCtx)((function(){return[L]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"text_charAt"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"VALUE"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(o,{type:"variables_get"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"VAR"},{default:(0,n.withCtx)((function(){return[B]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"text_getSubstring"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"STRING"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(o,{type:"variables_get"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"VAR"},{default:(0,n.withCtx)((function(){return[P]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"text_changeCase"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"TEXT"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"text"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"TEXT"},{default:(0,n.withCtx)((function(){return[V]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"text_trim"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"TEXT"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"text"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"TEXT"},{default:(0,n.withCtx)((function(){return[F]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"text_print"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"TEXT"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"text"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"TEXT"},{default:(0,n.withCtx)((function(){return[U]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"text_prompt_ext"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"TEXT"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"text"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"TEXT"},{default:(0,n.withCtx)((function(){return[H]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(r,{name:"Lists",colour:"%{BKY_LISTS_HUE}"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(o,{type:"lists_create_with"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(l,{items:"0"})]})),_:1}),(0,n.createVNode)(o,{type:"lists_create_with"}),(0,n.createVNode)(o,{type:"lists_repeat"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"NUM"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"math_number"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"NUM"},{default:(0,n.withCtx)((function(){return[G]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"lists_length"}),(0,n.createVNode)(o,{type:"lists_isEmpty"}),(0,n.createVNode)(o,{type:"lists_indexOf"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"VALUE"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(o,{type:"variables_get"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"VAR"},{default:(0,n.withCtx)((function(){return[W]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"lists_getIndex"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"VALUE"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(o,{type:"variables_get"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"VAR"},{default:(0,n.withCtx)((function(){return[j]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"lists_setIndex"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"LIST"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(o,{type:"variables_get"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"VAR"},{default:(0,n.withCtx)((function(){return[X]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"lists_getSublist"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"LIST"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(o,{type:"variables_get"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"VAR"},{default:(0,n.withCtx)((function(){return[J]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"lists_split"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"DELIM"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"text"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"TEXT"},{default:(0,n.withCtx)((function(){return[Y]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"lists_sort"})]})),_:1}),(0,n.createVNode)(r,{name:"Color",colour:"%{BKY_COLOUR_HUE}"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(o,{type:"colour_picker"}),(0,n.createVNode)(o,{type:"colour_random"}),(0,n.createVNode)(o,{type:"colour_rgb"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"RED"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"math_number"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"NUM"},{default:(0,n.withCtx)((function(){return[K]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(a,{name:"GREEN"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"math_number"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"NUM"},{default:(0,n.withCtx)((function(){return[z]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(a,{name:"BLUE"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"math_number"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"NUM"},{default:(0,n.withCtx)((function(){return[Z]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(o,{type:"colour_blend"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(a,{name:"COLOUR1"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"colour_picker"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"COLOUR"},{default:(0,n.withCtx)((function(){return[$]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(a,{name:"COLOUR2"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"colour_picker"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"COLOUR"},{default:(0,n.withCtx)((function(){return[q]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(a,{name:"RATIO"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(s,{type:"math_number"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(i,{name:"NUM"},{default:(0,n.withCtx)((function(){return[Q]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,n.createVNode)(c),(0,n.createVNode)(r,{name:"Variables",colour:"%{BKY_VARIABLES_HUE}",custom:"VARIABLE"}),(0,n.createVNode)(r,{name:"Functions",colour:"%{BKY_PROCEDURES_HUE}",custom:"PROCEDURE"})]})),_:1})}},et=tt;o(7546);var ot=o(6245),nt=(o(9248),o(6824)),rt=o(8985),it=o(3845),st=o(9669),at=o.n(st),lt=o(4948),ct=o.n(lt),ut=o(9177),pt=o(5466),ht=o.n(pt);const dt={components:{AppLayout:p.Z,block_vue:et,Welcome:h.Z,JetButton:ot.Z,JetInput:nt.Z,JetInputError:rt.Z,JetLabel:it.Z,Blockly:ct()},data:function(){return{a_program_name:"",a_program_xml:"",a_program_javascript:""}},props:{program:{type:Array,required:!0}},methods:{myUpdateFunction:function(t){},save:function(){at().post("/api/update-program/"+this.program[0].id,{name:this.program[0].name,xml_block:this.program[0].xml_block,javascript_block:this.program[0].javascript_block})},auto_compile:function(t){console.log("im here"),this.program[0].javascript_block=ht().workspaceToCode(t);var e=ct().Xml.workspaceToDom(t);this.program[0].xml_block=e}},mounted:function(){var t=this,e=document.getElementById("blocklyDefault");ct().setLocale(ut);var o=ct().inject("blocklyDiv",{media:"/media/",toolbox:document.getElementById("toolbox")});o.addChangeListener((function(){t.auto_compile(o)})),ct().Xml.domToWorkspace(e,o)},render:function(t,e,o,p,h,d){var g=(0,n.resolveComponent)("jet-label"),_=(0,n.resolveComponent)("jet-input"),f=(0,n.resolveComponent)("jet-input-error"),m=(0,n.resolveComponent)("block_vue"),v=(0,n.resolveComponent)("xml"),y=(0,n.resolveComponent)("jet-button"),T=(0,n.resolveComponent)("app-layout");return(0,n.openBlock)(),(0,n.createBlock)(T,null,{header:(0,n.withCtx)((function(){return[(0,n.createVNode)("h2",r," Programming Interface "+(0,n.toDisplayString)(o.program[0].name),1)]})),default:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",i,[(0,n.createVNode)("div",s,[(0,n.createVNode)("div",a,[(0,n.createVNode)("div",l,[(0,n.createVNode)(g,{for:"program_name",value:"Program Name"}),(0,n.createVNode)(_,{id:"program_name",type:"text",class:"mt-1 block w-full",modelValue:o.program[0].name,"onUpdate:modelValue":e[1]||(e[1]=function(t){return o.program[0].name=t}),ref:"program_name",autocomplete:"program_name"},null,8,["modelValue"]),(0,n.createVNode)(f,{message:t.program_name,class:"mt-2"},null,8,["message"])]),c,(0,n.createVNode)(m),(0,n.createVNode)(v,{id:"blocklyDefault",modelValue:o.program[0].xml_block,"onUpdate:modelValue":e[2]||(e[2]=function(t){return o.program[0].xml_block=t}),style:{display:"none"}},null,8,["modelValue"]),(0,n.withDirectives)((0,n.createVNode)("textarea",{id:"program_javascript","onUpdate:modelValue":e[3]||(e[3]=function(t){return o.program[0].javascript_block=t}),class:"mt-1 block w-full",style:{display:"block"},name:"program_javascript"},null,512),[[n.vModelText,o.program[0].javascript_block]]),(0,n.withDirectives)((0,n.createVNode)("textarea",{id:"program_xml","onUpdate:modelValue":e[4]||(e[4]=function(t){return o.program[0].xml_block=t}),name:"program_xml",style:{display:"none"}},null,512),[[n.vModelText,o.program[0].xml_block]])]),(0,n.createVNode)(y,{onClick:d.save},{default:(0,n.withCtx)((function(){return[u]})),_:1},8,["onClick"])])])]})),_:1})}},gt=dt},4276:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>I});var n=o(8191),r=(0,n.createVNode)("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Programs ",-1),i={class:"py-12"},s={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},a={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},l={class:"bg-white shadow-md rounded my-6"},c={class:"table-auto min-w-max w-full "},u=(0,n.createVNode)("thead",null,[(0,n.createVNode)("tr",null,[(0,n.createVNode)("th",{class:"w-1/5 ..."},"#"),(0,n.createVNode)("th",{class:"w-1/5 ..."},"Program Name:"),(0,n.createVNode)("th",{class:"w-1/5 ..."},"Room:"),(0,n.createVNode)("th",{class:"w-1/5 ..."},"Active:"),(0,n.createVNode)("th",{class:"w-1/5 ..."},"Management")])],-1),p={class:"w-1/5 ..."},h={class:"w-1/5 ..."},d={class:"w-1/5 ..."},g={class:"w-1/5 ..."},_={key:0},f={class:"w-1/5 ..."},m=(0,n.createTextVNode)("Manage your Program ");var v=o(9680),y=o(9669),T=o.n(y),b=o(7063),E=o(3845),S=o(6245),C=o(6824),k=o(5149);const R={props:{programs:{type:Array,required:!0},rooms:{type:Array,required:!0}},data:function(){return{add_name:"",room:""}},mounted:function(){},components:{AppLayout:b.Z,JetButton:S.Z,JetInput:C.Z,JetLabel:E.Z,BIconGearFill:k.oqW,BIconCheck2Square:k.Rsn},methods:{submit:function(){T().post("/add-program/",{dev_id:this.add_name,room:this.room}),v.Inertia.visit("/programs",{only:["programs"]})}},render:function(t,e,o,v,y,T){var b=(0,n.resolveComponent)("BIconCheck2Square"),E=(0,n.resolveComponent)("BIconGearFill"),S=(0,n.resolveComponent)("inertia-link"),C=(0,n.resolveComponent)("app-layout");return(0,n.openBlock)(),(0,n.createBlock)(C,null,{header:(0,n.withCtx)((function(){return[r]})),default:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",i,[(0,n.createVNode)("div",s,[(0,n.createVNode)("div",a,[(0,n.createVNode)("div",null,[(0,n.createVNode)("div",l,[(0,n.createVNode)("table",c,[u,(0,n.createVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(o.programs,(function(t){return(0,n.openBlock)(),(0,n.createBlock)("tr",{key:t.id},[(0,n.createVNode)("td",p,(0,n.toDisplayString)(t.id),1),(0,n.createVNode)("td",h,(0,n.toDisplayString)(t.name),1),(0,n.createVNode)("td",d,(0,n.toDisplayString)(t.room_id),1),(0,n.createVNode)("td",g,["1"==t.active?((0,n.openBlock)(),(0,n.createBlock)("span",_,[(0,n.createVNode)(b,{class:"green-600 fill-current"})])):(0,n.createCommentVNode)("",!0)]),(0,n.createVNode)("td",f,[(0,n.createVNode)(S,{href:"/update-program/"+t.id},{default:(0,n.withCtx)((function(){return[m,(0,n.createVNode)(E)]})),_:2},1032,["href"])])])})),128))])])])])])])])]})),_:1})}},I=R},2948:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>I});var n=o(8191),r={class:"font-semibold text-xl text-gray-800 leading-tight"},i={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},s={class:"grid md:grid-cols-12 gap-3 md:bg-purple-300 md:p-5 md:py-20"},a={class:"col-span-full md:col-span-4"},l=(0,n.createVNode)("h1",{class:" inline text-xl text-white bg-purple-800 p-2 capitalize"},"Management Room",-1),c={class:"flex flex-col items-start justify-center bg-purple-100 p-6"},u=(0,n.createTextVNode)("Start"),p=(0,n.createTextVNode)("Add program"),h=(0,n.createVNode)("div",{class:"col-span-full md:col-span-8"},[(0,n.createVNode)("h1",{class:" inline text-xl text-white bg-purple-800 p-2 capitalize"},"Devices"),(0,n.createVNode)("div",{class:"flex flex-col items-start justify-center bg-purple-100 p-6"},[(0,n.createVNode)("h2",null," Assign devices to room"),(0,n.createVNode)("select",{name:"add-device"})])],-1),d={class:"col-span-full md:col-span-8"},g=(0,n.createVNode)("h1",{class:" inline text-xl text-white bg-purple-800 p-2 capitalize"},"Cameras",-1),_={class:"flex flex-col items-start justify-center bg-purple-100 p-6 "},f=(0,n.createVNode)("h2",null,"Assign cameras to room",-1),m=(0,n.createTextVNode)(" Add Camera "),v=(0,n.createTextVNode)(" Enter into lobby ");var y=o(7063),T=o(5149),b=o(9669),E=o.n(b),S=o(3845),C=o(6824),k=o(6245);const R={components:{AppLayout:y.Z,BIconArrowRightSquareFill:T.lzv,JetLabel:S.Z,JetInput:C.Z,JetButton:k.Z},data:function(){return{camera_name:"",camera_url:""}},props:{room:{type:Array,required:!0}},methods:{add_camera:function(){E().post("/add-camera-room/"+this.room[0].id,{camera_name:this.camera_name,camera_url:this.camera_url})}},render:function(t,e,o,y,T,b){var E=(0,n.resolveComponent)("inertia-link"),S=(0,n.resolveComponent)("jet-label"),C=(0,n.resolveComponent)("jet-input"),k=(0,n.resolveComponent)("jet-button"),R=(0,n.resolveComponent)("BIconArrowRightSquareFill"),I=(0,n.resolveComponent)("app-layout");return(0,n.openBlock)(),(0,n.createBlock)(I,null,{header:(0,n.withCtx)((function(){return[(0,n.createVNode)("h2",r," Room - "+(0,n.toDisplayString)(o.room[0].name),1)]})),default:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",i,[(0,n.createVNode)("div",s,[(0,n.createVNode)("div",a,[l,(0,n.createVNode)("div",c,[(0,n.createVNode)(E,{class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:shadow-outline-gray disabled:opacity-25 transition ease-in-out duration-150 ml-4",href:"/run/"+o.room[0].id},{default:(0,n.withCtx)((function(){return[u]})),_:1},8,["href"]),(0,n.createVNode)(E,{class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:shadow-outline-gray disabled:opacity-25 transition ease-in-out duration-150 ml-4",href:"/create-program/"+o.room[0].id},{default:(0,n.withCtx)((function(){return[p]})),_:1},8,["href"])])]),h,(0,n.createVNode)("div",d,[g,(0,n.createVNode)("div",_,[f,(0,n.createVNode)("div",null,[(0,n.createVNode)(S,{for:"camera_name",value:"Camera Name:"}),(0,n.createVNode)(C,{id:"camera_name",type:"text",class:"mt-1 block w-full",modelValue:T.camera_name,"onUpdate:modelValue":e[1]||(e[1]=function(t){return T.camera_name=t})},null,8,["modelValue"])]),(0,n.createVNode)("div",null,[(0,n.createVNode)(S,{for:"camera_url",value:"Camera Url:"}),(0,n.createVNode)(C,{id:"camera_url",type:"text",class:"mt-1 block w-full",modelValue:T.camera_url,"onUpdate:modelValue":e[2]||(e[2]=function(t){return T.camera_url=t})},null,8,["modelValue"])]),(0,n.createVNode)(k,{class:"ml-4",onClick:b.add_camera},{default:(0,n.withCtx)((function(){return[m]})),_:1},8,["onClick"])]),(0,n.createVNode)(E,{href:"/lobby/"+o.room[0].id},{default:(0,n.withCtx)((function(){return[v,(0,n.createVNode)(R,{class:"bg-green-500"})]})),_:1},8,["href"])])])])]})),_:1})}},I=R},8925:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>I});var n=o(8191),r=(0,n.createVNode)("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Rooms ",-1),i={class:"py-12"},s={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},a={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},l={class:"bg-white shadow-md rounded my-6"},c={class:"min-w-max w-full table-auto"},u=(0,n.createVNode)("thead",null,[(0,n.createVNode)("tr",null,[(0,n.createVNode)("th",{class:"w-1/4 ..."},"#"),(0,n.createVNode)("th",{class:"w-1/3 ..."},"Name:"),(0,n.createVNode)("th",{class:"w-1/3 ..."},"Management")])],-1),p=(0,n.createTextVNode)("Enter into room "),h=(0,n.createTextVNode)(),d=(0,n.createVNode)("i",{class:"bi bi-trash"},null,-1),g=(0,n.createVNode)("td",{class:"w-1/3 ..."},null,-1),_={class:"w-1/3 ..."},f={class:"w-1/5 ..."},m=(0,n.createTextVNode)(" Add Room ");var v=o(9680),y=o(9669),T=o.n(y),b=o(7063),E=(o(2159),o(3845)),S=o(6245),C=o(6824),k=o(5149);const R={props:{rooms:{type:Array,required:!0}},data:function(){return{add_name:""}},mounted:function(){},components:{Button:S.Z,AppLayout:b.Z,JetButton:S.Z,JetInput:C.Z,JetLabel:E.Z,BIconArrowRightSquareFill:k.lzv},methods:{submit:function(){T().post("/create-room",{name:this.add_name}),v.Inertia.visit("/rooms",{only:["rooms"]})}},render:function(t,e,o,v,y,T){var b=(0,n.resolveComponent)("BIconArrowRightSquareFill"),E=(0,n.resolveComponent)("inertia-link"),S=(0,n.resolveComponent)("jet-label"),C=(0,n.resolveComponent)("jet-input"),k=(0,n.resolveComponent)("jet-button"),R=(0,n.resolveComponent)("app-layout");return(0,n.openBlock)(),(0,n.createBlock)(R,null,{header:(0,n.withCtx)((function(){return[r]})),default:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",i,[(0,n.createVNode)("div",s,[(0,n.createVNode)("div",a,[(0,n.createVNode)("div",null,[(0,n.createVNode)("div",l,[(0,n.createVNode)("table",c,[u,(0,n.createVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(o.rooms,(function(o){return(0,n.openBlock)(),(0,n.createBlock)("tr",{key:o.id},[(0,n.createVNode)("td",null,(0,n.toDisplayString)(o.id),1),(0,n.createVNode)("td",null,(0,n.toDisplayString)(o.name),1),(0,n.createVNode)("td",null,[(0,n.createVNode)(E,{href:"/room/"+o.id},{default:(0,n.withCtx)((function(){return[p,(0,n.createVNode)(b,{class:"bg-green-500"})]})),_:2},1032,["href"]),h,(0,n.createVNode)("span",{onClick:e[1]||(e[1]=function(){return t.delete&&t.delete.apply(t,arguments)})},[d])])])})),128))]),(0,n.createVNode)("tfoot",null,[(0,n.createVNode)("tr",null,[g,(0,n.createVNode)("td",_,[(0,n.createVNode)("div",null,[(0,n.createVNode)(S,{for:"name",value:"Name of room"}),(0,n.createVNode)(C,{"aria-placeholder":"Enter room name...",id:"name",type:"name",class:"mt-1 block w-full",modelValue:y.add_name,"onUpdate:modelValue":e[2]||(e[2]=function(t){return y.add_name=t}),required:"",autofocus:""},null,8,["modelValue"])])]),(0,n.createVNode)("td",f,[(0,n.createVNode)(k,{class:"ml-4",onClick:T.submit},{default:(0,n.withCtx)((function(){return[m]})),_:1},8,["onClick"])])])])])])])])])])]})),_:1})}},I=R},8422:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>oe});var n=o(8191),r=(0,n.createVNode)("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Run ",-1),i={class:"py-12"},s={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},a={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg col-span-full md:col-span-4"},l=(0,n.createTextVNode)("Stop"),c={class:"bg-indigo-300 ..."},u=(0,n.createTextVNode)(" Send ");var p=o(7063),h=o(4948),d=o.n(h),g=o(6245),_=o(9669),f=o.n(_),m={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},v="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",y={5:v,"5module":v+" export import",6:v+" const class extends export import super"},T=/^in(stanceof)?$/,b="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࣇऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-鿼ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞿꟂ-ꟊꟵ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",E="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿᫀᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷹᷻-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿",S=new RegExp("["+b+"]"),C=new RegExp("["+b+E+"]");b=E=null;var k=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,107,20,28,22,13,52,76,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8952,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42717,35,4148,12,221,3,5761,15,7472,3104,541,1507,4938],R=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,4759,9,787719,239];function I(t,e){for(var o=65536,n=0;n<e.length;n+=2){if((o+=e[n])>t)return!1;if((o+=e[n+1])>=t)return!0}}function w(t,e){return t<65?36===t:t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&S.test(String.fromCharCode(t)):!1!==e&&I(t,k)))}function N(t,e){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&C.test(String.fromCharCode(t)):!1!==e&&(I(t,k)||I(t,R)))))}var O=function(t,e){void 0===e&&(e={}),this.label=t,this.keyword=e.keyword,this.beforeExpr=!!e.beforeExpr,this.startsExpr=!!e.startsExpr,this.isLoop=!!e.isLoop,this.isAssign=!!e.isAssign,this.prefix=!!e.prefix,this.postfix=!!e.postfix,this.binop=e.binop||null,this.updateContext=null};function x(t,e){return new O(t,{beforeExpr:!0,binop:e})}var A={beforeExpr:!0},D={startsExpr:!0},M={};function L(t,e){return void 0===e&&(e={}),e.keyword=t,M[t]=new O(t,e)}var B={num:new O("num",D),regexp:new O("regexp",D),string:new O("string",D),name:new O("name",D),privateId:new O("privateId",D),eof:new O("eof"),bracketL:new O("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new O("]"),braceL:new O("{",{beforeExpr:!0,startsExpr:!0}),braceR:new O("}"),parenL:new O("(",{beforeExpr:!0,startsExpr:!0}),parenR:new O(")"),comma:new O(",",A),semi:new O(";",A),colon:new O(":",A),dot:new O("."),question:new O("?",A),questionDot:new O("?."),arrow:new O("=>",A),template:new O("template"),invalidTemplate:new O("invalidTemplate"),ellipsis:new O("...",A),backQuote:new O("`",D),dollarBraceL:new O("${",{beforeExpr:!0,startsExpr:!0}),eq:new O("=",{beforeExpr:!0,isAssign:!0}),assign:new O("_=",{beforeExpr:!0,isAssign:!0}),incDec:new O("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new O("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:x("||",1),logicalAND:x("&&",2),bitwiseOR:x("|",3),bitwiseXOR:x("^",4),bitwiseAND:x("&",5),equality:x("==/!=/===/!==",6),relational:x("</>/<=/>=",7),bitShift:x("<</>>/>>>",8),plusMin:new O("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:x("%",10),star:x("*",10),slash:x("/",10),starstar:new O("**",{beforeExpr:!0}),coalesce:x("??",1),_break:L("break"),_case:L("case",A),_catch:L("catch"),_continue:L("continue"),_debugger:L("debugger"),_default:L("default",A),_do:L("do",{isLoop:!0,beforeExpr:!0}),_else:L("else",A),_finally:L("finally"),_for:L("for",{isLoop:!0}),_function:L("function",D),_if:L("if"),_return:L("return",A),_switch:L("switch"),_throw:L("throw",A),_try:L("try"),_var:L("var"),_const:L("const"),_while:L("while",{isLoop:!0}),_with:L("with"),_new:L("new",{beforeExpr:!0,startsExpr:!0}),_this:L("this",D),_super:L("super",D),_class:L("class",D),_extends:L("extends",A),_export:L("export"),_import:L("import",D),_null:L("null",D),_true:L("true",D),_false:L("false",D),_in:L("in",{beforeExpr:!0,binop:7}),_instanceof:L("instanceof",{beforeExpr:!0,binop:7}),_typeof:L("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:L("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:L("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},P=/\r\n?|\n|\u2028|\u2029/,V=new RegExp(P.source,"g");function F(t,e){return 10===t||13===t||!e&&(8232===t||8233===t)}var U=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,H=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,G=Object.prototype,W=G.hasOwnProperty,j=G.toString;function X(t,e){return W.call(t,e)}var J=Array.isArray||function(t){return"[object Array]"===j.call(t)};function Y(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}var K=function(t,e){this.line=t,this.column=e};K.prototype.offset=function(t){return new K(this.line,this.column+t)};var z=function(t,e,o){this.start=e,this.end=o,null!==t.sourceFile&&(this.source=t.sourceFile)};function Z(t,e){for(var o=1,n=0;;){V.lastIndex=n;var r=V.exec(t);if(!(r&&r.index<e))return new K(o,e-n);++o,n=r.index+r[0].length}}var $={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},q=!1;function Q(t){var e={};for(var o in $)e[o]=t&&X(t,o)?t[o]:$[o];if("latest"===e.ecmaVersion?e.ecmaVersion=1e8:null==e.ecmaVersion?(!q&&"object"==typeof console&&console.warn&&(q=!0,console.warn("Since Acorn 8.0.0, options.ecmaVersion is required.\nDefaulting to 2020, but this will stop working in the future.")),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),null==e.allowReserved&&(e.allowReserved=e.ecmaVersion<5),J(e.onToken)){var n=e.onToken;e.onToken=function(t){return n.push(t)}}return J(e.onComment)&&(e.onComment=function(t,e){return function(o,n,r,i,s,a){var l={type:o?"Block":"Line",value:n,start:r,end:i};t.locations&&(l.loc=new z(this,s,a)),t.ranges&&(l.range=[r,i]),e.push(l)}}(e,e.onComment)),e}function tt(t,e){return 2|(t?4:0)|(e?8:0)}var et=function(t,e,o){this.options=t=Q(t),this.sourceFile=t.sourceFile,this.keywords=Y(y[t.ecmaVersion>=6?6:"module"===t.sourceType?"5module":5]);var n="";!0!==t.allowReserved&&(n=m[t.ecmaVersion>=6?6:5===t.ecmaVersion?5:3],"module"===t.sourceType&&(n+=" await")),this.reservedWords=Y(n);var r=(n?n+" ":"")+m.strict;this.reservedWordsStrict=Y(r),this.reservedWordsStrictBind=Y(r+" "+m.strictBind),this.input=String(e),this.containsEsc=!1,o?(this.pos=o,this.lineStart=this.input.lastIndexOf("\n",o-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(P).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=B.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===t.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),0===this.pos&&t.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null,this.privateNameStack=[]},ot={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},inNonArrowFunction:{configurable:!0}};et.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)},ot.inFunction.get=function(){return(2&this.currentVarScope().flags)>0},ot.inGenerator.get=function(){return(8&this.currentVarScope().flags)>0&&!this.currentThisScope().inClassFieldInit},ot.inAsync.get=function(){return(4&this.currentVarScope().flags)>0&&!this.currentThisScope().inClassFieldInit},ot.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,o=t.inClassFieldInit;return(64&e)>0||o},ot.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},ot.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},ot.inNonArrowFunction.get=function(){var t=this.currentThisScope(),e=t.flags,o=t.inClassFieldInit;return(2&e)>0||o},et.extend=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var o=this,n=0;n<t.length;n++)o=t[n](o);return o},et.parse=function(t,e){return new this(e,t).parse()},et.parseExpressionAt=function(t,e,o){var n=new this(o,t,e);return n.nextToken(),n.parseExpression()},et.tokenizer=function(t,e){return new this(e,t)},Object.defineProperties(et.prototype,ot);var nt=et.prototype,rt=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;function it(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}nt.strictDirective=function(t){for(;;){H.lastIndex=t,t+=H.exec(this.input)[0].length;var e=rt.exec(this.input.slice(t));if(!e)return!1;if("use strict"===(e[1]||e[2])){H.lastIndex=t+e[0].length;var o=H.exec(this.input),n=o.index+o[0].length,r=this.input.charAt(n);return";"===r||"}"===r||P.test(o[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(r)||"!"===r&&"="===this.input.charAt(n+1))}t+=e[0].length,H.lastIndex=t,t+=H.exec(this.input)[0].length,";"===this.input[t]&&t++}},nt.eat=function(t){return this.type===t&&(this.next(),!0)},nt.isContextual=function(t){return this.type===B.name&&this.value===t&&!this.containsEsc},nt.eatContextual=function(t){return!!this.isContextual(t)&&(this.next(),!0)},nt.expectContextual=function(t){this.eatContextual(t)||this.unexpected()},nt.canInsertSemicolon=function(){return this.type===B.eof||this.type===B.braceR||P.test(this.input.slice(this.lastTokEnd,this.start))},nt.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},nt.semicolon=function(){this.eat(B.semi)||this.insertSemicolon()||this.unexpected()},nt.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0},nt.expect=function(t){this.eat(t)||this.unexpected()},nt.unexpected=function(t){this.raise(null!=t?t:this.start,"Unexpected token")},nt.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var o=e?t.parenthesizedAssign:t.parenthesizedBind;o>-1&&this.raiseRecoverable(o,"Parenthesized pattern")}},nt.checkExpressionErrors=function(t,e){if(!t)return!1;var o=t.shorthandAssign,n=t.doubleProto;if(!e)return o>=0||n>=0;o>=0&&this.raise(o,"Shorthand property assignments are valid only in destructuring patterns"),n>=0&&this.raiseRecoverable(n,"Redefinition of __proto__ property")},nt.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},nt.isSimpleAssignTarget=function(t){return"ParenthesizedExpression"===t.type?this.isSimpleAssignTarget(t.expression):"Identifier"===t.type||"MemberExpression"===t.type};var st=et.prototype;st.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==B.eof;){var o=this.parseStatement(null,!0,e);t.body.push(o)}if(this.inModule)for(var n=0,r=Object.keys(this.undefinedExports);n<r.length;n+=1){var i=r[n];this.raiseRecoverable(this.undefinedExports[i].start,"Export '"+i+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var at={kind:"loop"},lt={kind:"switch"};st.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;H.lastIndex=this.pos;var e=H.exec(this.input),o=this.pos+e[0].length,n=this.input.charCodeAt(o);if(91===n)return!0;if(t)return!1;if(123===n)return!0;if(w(n,!0)){for(var r=o+1;N(this.input.charCodeAt(r),!0);)++r;var i=this.input.slice(o,r);if(!T.test(i))return!0}return!1},st.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;H.lastIndex=this.pos;var t=H.exec(this.input),e=this.pos+t[0].length;return!(P.test(this.input.slice(this.pos,e))||"function"!==this.input.slice(e,e+8)||e+8!==this.input.length&&N(this.input.charAt(e+8)))},st.parseStatement=function(t,e,o){var n,r=this.type,i=this.startNode();switch(this.isLet(t)&&(r=B._var,n="let"),r){case B._break:case B._continue:return this.parseBreakContinueStatement(i,r.keyword);case B._debugger:return this.parseDebuggerStatement(i);case B._do:return this.parseDoStatement(i);case B._for:return this.parseForStatement(i);case B._function:return t&&(this.strict||"if"!==t&&"label"!==t)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!t);case B._class:return t&&this.unexpected(),this.parseClass(i,!0);case B._if:return this.parseIfStatement(i);case B._return:return this.parseReturnStatement(i);case B._switch:return this.parseSwitchStatement(i);case B._throw:return this.parseThrowStatement(i);case B._try:return this.parseTryStatement(i);case B._const:case B._var:return n=n||this.value,t&&"var"!==n&&this.unexpected(),this.parseVarStatement(i,n);case B._while:return this.parseWhileStatement(i);case B._with:return this.parseWithStatement(i);case B.braceL:return this.parseBlock(!0,i);case B.semi:return this.parseEmptyStatement(i);case B._export:case B._import:if(this.options.ecmaVersion>10&&r===B._import){H.lastIndex=this.pos;var s=H.exec(this.input),a=this.pos+s[0].length,l=this.input.charCodeAt(a);if(40===l||46===l)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===B._import?this.parseImport(i):this.parseExport(i,o);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!t);var c=this.value,u=this.parseExpression();return r===B.name&&"Identifier"===u.type&&this.eat(B.colon)?this.parseLabeledStatement(i,c,u,t):this.parseExpressionStatement(i,u)}},st.parseBreakContinueStatement=function(t,e){var o="break"===e;this.next(),this.eat(B.semi)||this.insertSemicolon()?t.label=null:this.type!==B.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var n=0;n<this.labels.length;++n){var r=this.labels[n];if(null==t.label||r.name===t.label.name){if(null!=r.kind&&(o||"loop"===r.kind))break;if(t.label&&o)break}}return n===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,o?"BreakStatement":"ContinueStatement")},st.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")},st.parseDoStatement=function(t){return this.next(),this.labels.push(at),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(B._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(B.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")},st.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(at),this.enterScope(0),this.expect(B.parenL),this.type===B.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var o=this.isLet();if(this.type===B._var||this.type===B._const||o){var n=this.startNode(),r=o?"let":this.value;return this.next(),this.parseVar(n,!0,r),this.finishNode(n,"VariableDeclaration"),(this.type===B._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===n.declarations.length?(this.options.ecmaVersion>=9&&(this.type===B._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,n)):(e>-1&&this.unexpected(e),this.parseFor(t,n))}var i=new it,s=this.parseExpression(!0,i);return this.type===B._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===B._in?e>-1&&this.unexpected(e):t.await=e>-1),this.toAssignable(s,!1,i),this.checkLValPattern(s),this.parseForIn(t,s)):(this.checkExpressionErrors(i,!0),e>-1&&this.unexpected(e),this.parseFor(t,s))},st.parseFunctionStatement=function(t,e,o){return this.next(),this.parseFunction(t,ut|(o?0:pt),!1,e)},st.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(B._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")},st.parseReturnStatement=function(t){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(B.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")},st.parseSwitchStatement=function(t){var e;this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(B.braceL),this.labels.push(lt),this.enterScope(0);for(var o=!1;this.type!==B.braceR;)if(this.type===B._case||this.type===B._default){var n=this.type===B._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),n?e.test=this.parseExpression():(o&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),o=!0,e.test=null),this.expect(B.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")},st.parseThrowStatement=function(t){return this.next(),P.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var ct=[];st.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===B._catch){var e=this.startNode();if(this.next(),this.eat(B.parenL)){e.param=this.parseBindingAtom();var o="Identifier"===e.param.type;this.enterScope(o?32:0),this.checkLValPattern(e.param,o?4:2),this.expect(B.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0);e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(B._finally)?this.parseBlock():null,t.handler||t.finalizer||this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")},st.parseVarStatement=function(t,e){return this.next(),this.parseVar(t,!1,e),this.semicolon(),this.finishNode(t,"VariableDeclaration")},st.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(at),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")},st.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")},st.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")},st.parseLabeledStatement=function(t,e,o,n){for(var r=0,i=this.labels;r<i.length;r+=1){i[r].name===e&&this.raise(o.start,"Label '"+e+"' is already declared")}for(var s=this.type.isLoop?"loop":this.type===B._switch?"switch":null,a=this.labels.length-1;a>=0;a--){var l=this.labels[a];if(l.statementStart!==t.start)break;l.statementStart=this.start,l.kind=s}return this.labels.push({name:e,kind:s,statementStart:this.start}),t.body=this.parseStatement(n?-1===n.indexOf("label")?n+"label":n:"label"),this.labels.pop(),t.label=o,this.finishNode(t,"LabeledStatement")},st.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")},st.parseBlock=function(t,e,o){for(void 0===t&&(t=!0),void 0===e&&(e=this.startNode()),e.body=[],this.expect(B.braceL),t&&this.enterScope(0);this.type!==B.braceR;){var n=this.parseStatement(null);e.body.push(n)}return o&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")},st.parseFor=function(t,e){return t.init=e,this.expect(B.semi),t.test=this.type===B.semi?null:this.parseExpression(),this.expect(B.semi),t.update=this.type===B.parenR?null:this.parseExpression(),this.expect(B.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")},st.parseForIn=function(t,e){var o=this.type===B._in;return this.next(),"VariableDeclaration"===e.type&&null!=e.declarations[0].init&&(!o||this.options.ecmaVersion<8||this.strict||"var"!==e.kind||"Identifier"!==e.declarations[0].id.type)&&this.raise(e.start,(o?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=o?this.parseExpression():this.parseMaybeAssign(),this.expect(B.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,o?"ForInStatement":"ForOfStatement")},st.parseVar=function(t,e,o){for(t.declarations=[],t.kind=o;;){var n=this.startNode();if(this.parseVarId(n,o),this.eat(B.eq)?n.init=this.parseMaybeAssign(e):"const"!==o||this.type===B._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===n.id.type||e&&(this.type===B._in||this.isContextual("of"))?n.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),t.declarations.push(this.finishNode(n,"VariableDeclarator")),!this.eat(B.comma))break}return t},st.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,"var"===e?1:2,!1)};var ut=1,pt=2;function ht(t,e){var o=e.key.name,n=t[o],r="true";return"MethodDefinition"!==e.type||"get"!==e.kind&&"set"!==e.kind||(r=(e.static?"s":"i")+e.kind),"iget"===n&&"iset"===r||"iset"===n&&"iget"===r||"sget"===n&&"sset"===r||"sset"===n&&"sget"===r?(t[o]="true",!1):!!n||(t[o]=r,!1)}function dt(t,e){var o=t.computed,n=t.key;return!o&&("Identifier"===n.type&&n.name===e||"Literal"===n.type&&n.value===e)}st.parseFunction=function(t,e,o,n){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!n)&&(this.type===B.star&&e&pt&&this.unexpected(),t.generator=this.eat(B.star)),this.options.ecmaVersion>=8&&(t.async=!!n),e&ut&&(t.id=4&e&&this.type!==B.name?null:this.parseIdent(),!t.id||e&pt||this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?1:2:3));var r=this.yieldPos,i=this.awaitPos,s=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(tt(t.async,t.generator)),e&ut||(t.id=this.type===B.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,o,!1),this.yieldPos=r,this.awaitPos=i,this.awaitIdentPos=s,this.finishNode(t,e&ut?"FunctionDeclaration":"FunctionExpression")},st.parseFunctionParams=function(t){this.expect(B.parenL),t.params=this.parseBindingList(B.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},st.parseClass=function(t,e){this.next();var o=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var n=this.enterClassBody(),r=this.startNode(),i=!1;for(r.body=[],this.expect(B.braceL);this.type!==B.braceR;){var s=this.parseClassElement(null!==t.superClass);s&&(r.body.push(s),"MethodDefinition"===s.type&&"constructor"===s.kind?(i&&this.raise(s.start,"Duplicate constructor in the same class"),i=!0):"PrivateIdentifier"===s.key.type&&ht(n,s)&&this.raiseRecoverable(s.key.start,"Identifier '#"+s.key.name+"' has already been declared"))}return this.strict=o,this.next(),t.body=this.finishNode(r,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")},st.parseClassElement=function(t){if(this.eat(B.semi))return null;var e=this.options.ecmaVersion,o=this.startNode(),n="",r=!1,i=!1,s="method";if(o.static=!1,this.eatContextual("static")&&(this.isClassElementNameStart()||this.type===B.star?o.static=!0:n="static"),!n&&e>=8&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.type!==B.star||this.canInsertSemicolon()?n="async":i=!0),!n&&(e>=9||!i)&&this.eat(B.star)&&(r=!0),!n&&!i&&!r){var a=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?s=a:n=a)}if(n?(o.computed=!1,o.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),o.key.name=n,this.finishNode(o.key,"Identifier")):this.parseClassElementName(o),e<13||this.type===B.parenL||"method"!==s||r||i){var l=!o.static&&dt(o,"constructor"),c=l&&t;l&&"method"!==s&&this.raise(o.key.start,"Constructor can't have get/set modifier"),o.kind=l?"constructor":s,this.parseClassMethod(o,r,i,c)}else this.parseClassField(o);return o},st.isClassElementNameStart=function(){return this.type===B.name||this.type===B.privateId||this.type===B.num||this.type===B.string||this.type===B.bracketL||this.type.keyword},st.parseClassElementName=function(t){this.type===B.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)},st.parseClassMethod=function(t,e,o,n){var r=t.key;"constructor"===t.kind?(e&&this.raise(r.start,"Constructor can't be a generator"),o&&this.raise(r.start,"Constructor can't be an async method")):t.static&&dt(t,"prototype")&&this.raise(r.start,"Classes may not have a static property named prototype");var i=t.value=this.parseMethod(e,o,n);return"get"===t.kind&&0!==i.params.length&&this.raiseRecoverable(i.start,"getter should have no params"),"set"===t.kind&&1!==i.params.length&&this.raiseRecoverable(i.start,"setter should have exactly one param"),"set"===t.kind&&"RestElement"===i.params[0].type&&this.raiseRecoverable(i.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")},st.parseClassField=function(t){if(dt(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&dt(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(B.eq)){var e=this.currentThisScope(),o=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=o}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")},st.parseClassId=function(t,e){this.type===B.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,2,!1)):(!0===e&&this.unexpected(),t.id=null)},st.parseClassSuper=function(t){t.superClass=this.eat(B._extends)?this.parseExprSubscripts():null},st.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared},st.exitClassBody=function(){for(var t=this.privateNameStack.pop(),e=t.declared,o=t.used,n=this.privateNameStack.length,r=0===n?null:this.privateNameStack[n-1],i=0;i<o.length;++i){var s=o[i];X(e,s.name)||(r?r.used.push(s):this.raiseRecoverable(s.start,"Private field '#"+s.name+"' must be declared in an enclosing class"))}},st.parseExport=function(t,e){if(this.next(),this.eat(B.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseIdent(!0),this.checkExport(e,t.exported.name,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==B.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration");if(this.eat(B._default)){var o;if(this.checkExport(e,"default",this.lastTokStart),this.type===B._function||(o=this.isAsyncFunction())){var n=this.startNode();this.next(),o&&this.next(),t.declaration=this.parseFunction(n,4|ut,!1,o)}else if(this.type===B._class){var r=this.startNode();t.declaration=this.parseClass(r,"nullableID")}else t.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(t,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())t.declaration=this.parseStatement(null),"VariableDeclaration"===t.declaration.type?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id.name,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==B.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,s=t.specifiers;i<s.length;i+=1){var a=s[i];this.checkUnreserved(a.local),this.checkLocalExport(a.local)}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")},st.checkExport=function(t,e,o){t&&(X(t,e)&&this.raiseRecoverable(o,"Duplicate export '"+e+"'"),t[e]=!0)},st.checkPatternExport=function(t,e){var o=e.type;if("Identifier"===o)this.checkExport(t,e.name,e.start);else if("ObjectPattern"===o)for(var n=0,r=e.properties;n<r.length;n+=1){var i=r[n];this.checkPatternExport(t,i)}else if("ArrayPattern"===o)for(var s=0,a=e.elements;s<a.length;s+=1){var l=a[s];l&&this.checkPatternExport(t,l)}else"Property"===o?this.checkPatternExport(t,e.value):"AssignmentPattern"===o?this.checkPatternExport(t,e.left):"RestElement"===o?this.checkPatternExport(t,e.argument):"ParenthesizedExpression"===o&&this.checkPatternExport(t,e.expression)},st.checkVariableExport=function(t,e){if(t)for(var o=0,n=e;o<n.length;o+=1){var r=n[o];this.checkPatternExport(t,r.id)}},st.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},st.parseExportSpecifiers=function(t){var e=[],o=!0;for(this.expect(B.braceL);!this.eat(B.braceR);){if(o)o=!1;else if(this.expect(B.comma),this.afterTrailingComma(B.braceR))break;var n=this.startNode();n.local=this.parseIdent(!0),n.exported=this.eatContextual("as")?this.parseIdent(!0):n.local,this.checkExport(t,n.exported.name,n.exported.start),e.push(this.finishNode(n,"ExportSpecifier"))}return e},st.parseImport=function(t){return this.next(),this.type===B.string?(t.specifiers=ct,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===B.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")},st.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===B.name){var o=this.startNode();if(o.local=this.parseIdent(),this.checkLValSimple(o.local,2),t.push(this.finishNode(o,"ImportDefaultSpecifier")),!this.eat(B.comma))return t}if(this.type===B.star){var n=this.startNode();return this.next(),this.expectContextual("as"),n.local=this.parseIdent(),this.checkLValSimple(n.local,2),t.push(this.finishNode(n,"ImportNamespaceSpecifier")),t}for(this.expect(B.braceL);!this.eat(B.braceR);){if(e)e=!1;else if(this.expect(B.comma),this.afterTrailingComma(B.braceR))break;var r=this.startNode();r.imported=this.parseIdent(!0),this.eatContextual("as")?r.local=this.parseIdent():(this.checkUnreserved(r.imported),r.local=r.imported),this.checkLValSimple(r.local,2),t.push(this.finishNode(r,"ImportSpecifier"))}return t},st.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)},st.isDirectiveCandidate=function(t){return"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"string"==typeof t.expression.value&&('"'===this.input[t.start]||"'"===this.input[t.start])};var gt=et.prototype;gt.toAssignable=function(t,e,o){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&"await"===t.name&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",o&&this.checkPatternErrors(o,!0);for(var n=0,r=t.properties;n<r.length;n+=1){var i=r[n];this.toAssignable(i,e),"RestElement"!==i.type||"ArrayPattern"!==i.argument.type&&"ObjectPattern"!==i.argument.type||this.raise(i.argument.start,"Unexpected token")}break;case"Property":"init"!==t.kind&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",o&&this.checkPatternErrors(o,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),"AssignmentPattern"===t.argument.type&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==t.operator&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,o);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else o&&this.checkPatternErrors(o,!0);return t},gt.toAssignableList=function(t,e){for(var o=t.length,n=0;n<o;n++){var r=t[n];r&&this.toAssignable(r,e)}if(o){var i=t[o-1];6===this.options.ecmaVersion&&e&&i&&"RestElement"===i.type&&"Identifier"!==i.argument.type&&this.unexpected(i.argument.start)}return t},gt.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")},gt.parseRestBinding=function(){var t=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==B.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")},gt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case B.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(B.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case B.braceL:return this.parseObj(!0)}return this.parseIdent()},gt.parseBindingList=function(t,e,o){for(var n=[],r=!0;!this.eat(t);)if(r?r=!1:this.expect(B.comma),e&&this.type===B.comma)n.push(null);else{if(o&&this.afterTrailingComma(t))break;if(this.type===B.ellipsis){var i=this.parseRestBinding();this.parseBindingListItem(i),n.push(i),this.type===B.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}var s=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(s),n.push(s)}return n},gt.parseBindingListItem=function(t){return t},gt.parseMaybeDefault=function(t,e,o){if(o=o||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(B.eq))return o;var n=this.startNodeAt(t,e);return n.left=o,n.right=this.parseMaybeAssign(),this.finishNode(n,"AssignmentPattern")},gt.checkLValSimple=function(t,e,o){void 0===e&&(e=0);var n=0!==e;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(n?"Binding ":"Assigning to ")+t.name+" in strict mode"),n&&(2===e&&"let"===t.name&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),o&&(X(o,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),o[t.name]=!0),5!==e&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":n&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return n&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,o);default:this.raise(t.start,(n?"Binding":"Assigning to")+" rvalue")}},gt.checkLValPattern=function(t,e,o){switch(void 0===e&&(e=0),t.type){case"ObjectPattern":for(var n=0,r=t.properties;n<r.length;n+=1){var i=r[n];this.checkLValInnerPattern(i,e,o)}break;case"ArrayPattern":for(var s=0,a=t.elements;s<a.length;s+=1){var l=a[s];l&&this.checkLValInnerPattern(l,e,o)}break;default:this.checkLValSimple(t,e,o)}},gt.checkLValInnerPattern=function(t,e,o){switch(void 0===e&&(e=0),t.type){case"Property":this.checkLValInnerPattern(t.value,e,o);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,o);break;case"RestElement":this.checkLValPattern(t.argument,e,o);break;default:this.checkLValPattern(t,e,o)}};var _t=et.prototype;function ft(t){return"MemberExpression"===t.type&&"PrivateIdentifier"===t.property.type||"ChainExpression"===t.type&&ft(t.expression)}_t.checkPropClash=function(t,e,o){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===t.type||this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var n,r=t.key;switch(r.type){case"Identifier":n=r.name;break;case"Literal":n=String(r.value);break;default:return}var i=t.kind;if(this.options.ecmaVersion>=6)"__proto__"===n&&"init"===i&&(e.proto&&(o?o.doubleProto<0&&(o.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),e.proto=!0);else{var s=e[n="$"+n];if(s)("init"===i?this.strict&&s.init||s.get||s.set:s.init||s[i])&&this.raiseRecoverable(r.start,"Redefinition of property");else s=e[n]={init:!1,get:!1,set:!1};s[i]=!0}}},_t.parseExpression=function(t,e){var o=this.start,n=this.startLoc,r=this.parseMaybeAssign(t,e);if(this.type===B.comma){var i=this.startNodeAt(o,n);for(i.expressions=[r];this.eat(B.comma);)i.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(i,"SequenceExpression")}return r},_t.parseMaybeAssign=function(t,e,o){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var n=!1,r=-1,i=-1;e?(r=e.parenthesizedAssign,i=e.trailingComma,e.parenthesizedAssign=e.trailingComma=-1):(e=new it,n=!0);var s=this.start,a=this.startLoc;this.type!==B.parenL&&this.type!==B.name||(this.potentialArrowAt=this.start);var l=this.parseMaybeConditional(t,e);if(o&&(l=o.call(this,l,s,a)),this.type.isAssign){var c=this.startNodeAt(s,a);return c.operator=this.value,this.type===B.eq&&(l=this.toAssignable(l,!1,e)),n||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=l.start&&(e.shorthandAssign=-1),this.type===B.eq?this.checkLValPattern(l):this.checkLValSimple(l),c.left=l,this.next(),c.right=this.parseMaybeAssign(t),this.finishNode(c,"AssignmentExpression")}return n&&this.checkExpressionErrors(e,!0),r>-1&&(e.parenthesizedAssign=r),i>-1&&(e.trailingComma=i),l},_t.parseMaybeConditional=function(t,e){var o=this.start,n=this.startLoc,r=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return r;if(this.eat(B.question)){var i=this.startNodeAt(o,n);return i.test=r,i.consequent=this.parseMaybeAssign(),this.expect(B.colon),i.alternate=this.parseMaybeAssign(t),this.finishNode(i,"ConditionalExpression")}return r},_t.parseExprOps=function(t,e){var o=this.start,n=this.startLoc,r=this.parseMaybeUnary(e,!1);return this.checkExpressionErrors(e)||r.start===o&&"ArrowFunctionExpression"===r.type?r:this.parseExprOp(r,o,n,-1,t)},_t.parseExprOp=function(t,e,o,n,r){var i=this.type.binop;if(null!=i&&(!r||this.type!==B._in)&&i>n){var s=this.type===B.logicalOR||this.type===B.logicalAND,a=this.type===B.coalesce;a&&(i=B.logicalAND.binop);var l=this.value;this.next();var c=this.start,u=this.startLoc,p=this.parseExprOp(this.parseMaybeUnary(null,!1),c,u,i,r),h=this.buildBinary(e,o,t,p,l,s||a);return(s&&this.type===B.coalesce||a&&(this.type===B.logicalOR||this.type===B.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(h,e,o,n,r)}return t},_t.buildBinary=function(t,e,o,n,r,i){var s=this.startNodeAt(t,e);return s.left=o,s.operator=r,s.right=n,this.finishNode(s,i?"LogicalExpression":"BinaryExpression")},_t.parseMaybeUnary=function(t,e){var o,n=this.start,r=this.startLoc;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))o=this.parseAwait(),e=!0;else if(this.type.prefix){var i=this.startNode(),s=this.type===B.incDec;i.operator=this.value,i.prefix=!0,this.next(),i.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(t,!0),s?this.checkLValSimple(i.argument):this.strict&&"delete"===i.operator&&"Identifier"===i.argument.type?this.raiseRecoverable(i.start,"Deleting local variable in strict mode"):"delete"===i.operator&&ft(i.argument)?this.raiseRecoverable(i.start,"Private fields can not be deleted"):e=!0,o=this.finishNode(i,s?"UpdateExpression":"UnaryExpression")}else{if(o=this.parseExprSubscripts(t),this.checkExpressionErrors(t))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var a=this.startNodeAt(n,r);a.operator=this.value,a.prefix=!1,a.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(a,"UpdateExpression")}}return!e&&this.eat(B.starstar)?this.buildBinary(n,r,o,this.parseMaybeUnary(null,!1),"**",!1):o},_t.parseExprSubscripts=function(t){var e=this.start,o=this.startLoc,n=this.parseExprAtom(t);if("ArrowFunctionExpression"===n.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return n;var r=this.parseSubscripts(n,e,o);return t&&"MemberExpression"===r.type&&(t.parenthesizedAssign>=r.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=r.start&&(t.parenthesizedBind=-1),t.trailingComma>=r.start&&(t.trailingComma=-1)),r},_t.parseSubscripts=function(t,e,o,n){for(var r=this.options.ecmaVersion>=8&&"Identifier"===t.type&&"async"===t.name&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start==5&&this.potentialArrowAt===t.start,i=!1;;){var s=this.parseSubscript(t,e,o,n,r,i);if(s.optional&&(i=!0),s===t||"ArrowFunctionExpression"===s.type){if(i){var a=this.startNodeAt(e,o);a.expression=s,s=this.finishNode(a,"ChainExpression")}return s}t=s}},_t.parseSubscript=function(t,e,o,n,r,i){var s=this.options.ecmaVersion>=11,a=s&&this.eat(B.questionDot);n&&a&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var l=this.eat(B.bracketL);if(l||a&&this.type!==B.parenL&&this.type!==B.backQuote||this.eat(B.dot)){var c=this.startNodeAt(e,o);c.object=t,l?(c.property=this.parseExpression(),this.expect(B.bracketR)):this.type===B.privateId&&"Super"!==t.type?c.property=this.parsePrivateIdent():c.property=this.parseIdent("never"!==this.options.allowReserved),c.computed=!!l,s&&(c.optional=a),t=this.finishNode(c,"MemberExpression")}else if(!n&&this.eat(B.parenL)){var u=new it,p=this.yieldPos,h=this.awaitPos,d=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var g=this.parseExprList(B.parenR,this.options.ecmaVersion>=8,!1,u);if(r&&!a&&!this.canInsertSemicolon()&&this.eat(B.arrow))return this.checkPatternErrors(u,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=p,this.awaitPos=h,this.awaitIdentPos=d,this.parseArrowExpression(this.startNodeAt(e,o),g,!0);this.checkExpressionErrors(u,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=h||this.awaitPos,this.awaitIdentPos=d||this.awaitIdentPos;var _=this.startNodeAt(e,o);_.callee=t,_.arguments=g,s&&(_.optional=a),t=this.finishNode(_,"CallExpression")}else if(this.type===B.backQuote){(a||i)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var f=this.startNodeAt(e,o);f.tag=t,f.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(f,"TaggedTemplateExpression")}return t},_t.parseExprAtom=function(t){this.type===B.slash&&this.readRegexp();var e,o=this.potentialArrowAt===this.start;switch(this.type){case B._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),e=this.startNode(),this.next(),this.type!==B.parenL||this.allowDirectSuper||this.raise(e.start,"super() call outside constructor of a subclass"),this.type!==B.dot&&this.type!==B.bracketL&&this.type!==B.parenL&&this.unexpected(),this.finishNode(e,"Super");case B._this:return e=this.startNode(),this.next(),this.finishNode(e,"ThisExpression");case B.name:var n=this.start,r=this.startLoc,i=this.containsEsc,s=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!i&&"async"===s.name&&!this.canInsertSemicolon()&&this.eat(B._function))return this.parseFunction(this.startNodeAt(n,r),0,!1,!0);if(o&&!this.canInsertSemicolon()){if(this.eat(B.arrow))return this.parseArrowExpression(this.startNodeAt(n,r),[s],!1);if(this.options.ecmaVersion>=8&&"async"===s.name&&this.type===B.name&&!i)return s=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(B.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(n,r),[s],!0)}return s;case B.regexp:var a=this.value;return(e=this.parseLiteral(a.value)).regex={pattern:a.pattern,flags:a.flags},e;case B.num:case B.string:return this.parseLiteral(this.value);case B._null:case B._true:case B._false:return(e=this.startNode()).value=this.type===B._null?null:this.type===B._true,e.raw=this.type.keyword,this.next(),this.finishNode(e,"Literal");case B.parenL:var l=this.start,c=this.parseParenAndDistinguishExpression(o);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(c)&&(t.parenthesizedAssign=l),t.parenthesizedBind<0&&(t.parenthesizedBind=l)),c;case B.bracketL:return e=this.startNode(),this.next(),e.elements=this.parseExprList(B.bracketR,!0,!0,t),this.finishNode(e,"ArrayExpression");case B.braceL:return this.parseObj(!1,t);case B._function:return e=this.startNode(),this.next(),this.parseFunction(e,0);case B._class:return this.parseClass(this.startNode(),!1);case B._new:return this.parseNew();case B.backQuote:return this.parseTemplate();case B._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},_t.parseExprImport=function(){var t=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var e=this.parseIdent(!0);switch(this.type){case B.parenL:return this.parseDynamicImport(t);case B.dot:return t.meta=e,this.parseImportMeta(t);default:this.unexpected()}},_t.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(B.parenR)){var e=this.start;this.eat(B.comma)&&this.eat(B.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")},_t.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),"meta"!==t.property.name&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),"module"===this.options.sourceType||this.options.allowImportExportEverywhere||this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")},_t.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),110===e.raw.charCodeAt(e.raw.length-1)&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")},_t.parseParenExpression=function(){this.expect(B.parenL);var t=this.parseExpression();return this.expect(B.parenR),t},_t.parseParenAndDistinguishExpression=function(t){var e,o=this.start,n=this.startLoc,r=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var i,s=this.start,a=this.startLoc,l=[],c=!0,u=!1,p=new it,h=this.yieldPos,d=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==B.parenR;){if(c?c=!1:this.expect(B.comma),r&&this.afterTrailingComma(B.parenR,!0)){u=!0;break}if(this.type===B.ellipsis){i=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===B.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}l.push(this.parseMaybeAssign(!1,p,this.parseParenItem))}var g=this.start,_=this.startLoc;if(this.expect(B.parenR),t&&!this.canInsertSemicolon()&&this.eat(B.arrow))return this.checkPatternErrors(p,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=h,this.awaitPos=d,this.parseParenArrowList(o,n,l);l.length&&!u||this.unexpected(this.lastTokStart),i&&this.unexpected(i),this.checkExpressionErrors(p,!0),this.yieldPos=h||this.yieldPos,this.awaitPos=d||this.awaitPos,l.length>1?((e=this.startNodeAt(s,a)).expressions=l,this.finishNodeAt(e,"SequenceExpression",g,_)):e=l[0]}else e=this.parseParenExpression();if(this.options.preserveParens){var f=this.startNodeAt(o,n);return f.expression=e,this.finishNode(f,"ParenthesizedExpression")}return e},_t.parseParenItem=function(t){return t},_t.parseParenArrowList=function(t,e,o){return this.parseArrowExpression(this.startNodeAt(t,e),o)};var mt=[];_t.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(B.dot)){t.meta=e;var o=this.containsEsc;return t.property=this.parseIdent(!0),"target"!==t.property.name&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),o&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.inNonArrowFunction||this.raiseRecoverable(t.start,"'new.target' can only be used in functions"),this.finishNode(t,"MetaProperty")}var n=this.start,r=this.startLoc,i=this.type===B._import;return t.callee=this.parseSubscripts(this.parseExprAtom(),n,r,!0),i&&"ImportExpression"===t.callee.type&&this.raise(n,"Cannot use new with import()"),this.eat(B.parenL)?t.arguments=this.parseExprList(B.parenR,this.options.ecmaVersion>=8,!1):t.arguments=mt,this.finishNode(t,"NewExpression")},_t.parseTemplateElement=function(t){var e=t.isTagged,o=this.startNode();return this.type===B.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),o.value={raw:this.value,cooked:null}):o.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),o.tail=this.type===B.backQuote,this.finishNode(o,"TemplateElement")},_t.parseTemplate=function(t){void 0===t&&(t={});var e=t.isTagged;void 0===e&&(e=!1);var o=this.startNode();this.next(),o.expressions=[];var n=this.parseTemplateElement({isTagged:e});for(o.quasis=[n];!n.tail;)this.type===B.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(B.dollarBraceL),o.expressions.push(this.parseExpression()),this.expect(B.braceR),o.quasis.push(n=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(o,"TemplateLiteral")},_t.isAsyncProp=function(t){return!t.computed&&"Identifier"===t.key.type&&"async"===t.key.name&&(this.type===B.name||this.type===B.num||this.type===B.string||this.type===B.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===B.star)&&!P.test(this.input.slice(this.lastTokEnd,this.start))},_t.parseObj=function(t,e){var o=this.startNode(),n=!0,r={};for(o.properties=[],this.next();!this.eat(B.braceR);){if(n)n=!1;else if(this.expect(B.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(B.braceR))break;var i=this.parseProperty(t,e);t||this.checkPropClash(i,r,e),o.properties.push(i)}return this.finishNode(o,t?"ObjectPattern":"ObjectExpression")},_t.parseProperty=function(t,e){var o,n,r,i,s=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(B.ellipsis))return t?(s.argument=this.parseIdent(!1),this.type===B.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(s,"RestElement")):(this.type===B.parenL&&e&&(e.parenthesizedAssign<0&&(e.parenthesizedAssign=this.start),e.parenthesizedBind<0&&(e.parenthesizedBind=this.start)),s.argument=this.parseMaybeAssign(!1,e),this.type===B.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(s,"SpreadElement"));this.options.ecmaVersion>=6&&(s.method=!1,s.shorthand=!1,(t||e)&&(r=this.start,i=this.startLoc),t||(o=this.eat(B.star)));var a=this.containsEsc;return this.parsePropertyName(s),!t&&!a&&this.options.ecmaVersion>=8&&!o&&this.isAsyncProp(s)?(n=!0,o=this.options.ecmaVersion>=9&&this.eat(B.star),this.parsePropertyName(s,e)):n=!1,this.parsePropertyValue(s,t,o,n,r,i,e,a),this.finishNode(s,"Property")},_t.parsePropertyValue=function(t,e,o,n,r,i,s,a){if((o||n)&&this.type===B.colon&&this.unexpected(),this.eat(B.colon))t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,s),t.kind="init";else if(this.options.ecmaVersion>=6&&this.type===B.parenL)e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(o,n);else if(e||a||!(this.options.ecmaVersion>=5)||t.computed||"Identifier"!==t.key.type||"get"!==t.key.name&&"set"!==t.key.name||this.type===B.comma||this.type===B.braceR||this.type===B.eq)this.options.ecmaVersion>=6&&!t.computed&&"Identifier"===t.key.type?((o||n)&&this.unexpected(),this.checkUnreserved(t.key),"await"!==t.key.name||this.awaitIdentPos||(this.awaitIdentPos=r),t.kind="init",e?t.value=this.parseMaybeDefault(r,i,this.copyNode(t.key)):this.type===B.eq&&s?(s.shorthandAssign<0&&(s.shorthandAssign=this.start),t.value=this.parseMaybeDefault(r,i,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected();else{(o||n)&&this.unexpected(),t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var l="get"===t.kind?0:1;if(t.value.params.length!==l){var c=t.value.start;"get"===t.kind?this.raiseRecoverable(c,"getter should have no params"):this.raiseRecoverable(c,"setter should have exactly one param")}else"set"===t.kind&&"RestElement"===t.value.params[0].type&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")}},_t.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(B.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(B.bracketR),t.key;t.computed=!1}return t.key=this.type===B.num||this.type===B.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},_t.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)},_t.parseMethod=function(t,e,o){var n=this.startNode(),r=this.yieldPos,i=this.awaitPos,s=this.awaitIdentPos;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=t),this.options.ecmaVersion>=8&&(n.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|tt(e,n.generator)|(o?128:0)),this.expect(B.parenL),n.params=this.parseBindingList(B.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1,!0),this.yieldPos=r,this.awaitPos=i,this.awaitIdentPos=s,this.finishNode(n,"FunctionExpression")},_t.parseArrowExpression=function(t,e,o){var n=this.yieldPos,r=this.awaitPos,i=this.awaitIdentPos;return this.enterScope(16|tt(o,!1)),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!o),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1),this.yieldPos=n,this.awaitPos=r,this.awaitIdentPos=i,this.finishNode(t,"ArrowFunctionExpression")},_t.parseFunctionBody=function(t,e,o){var n=e&&this.type!==B.braceL,r=this.strict,i=!1;if(n)t.body=this.parseMaybeAssign(),t.expression=!0,this.checkParams(t,!1);else{var s=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);r&&!s||(i=this.strictDirective(this.end))&&s&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list");var a=this.labels;this.labels=[],i&&(this.strict=!0),this.checkParams(t,!r&&!i&&!e&&!o&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,5),t.body=this.parseBlock(!1,void 0,i&&!r),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=a}this.exitScope()},_t.isSimpleParamList=function(t){for(var e=0,o=t;e<o.length;e+=1){if("Identifier"!==o[e].type)return!1}return!0},_t.checkParams=function(t,e){for(var o=Object.create(null),n=0,r=t.params;n<r.length;n+=1){var i=r[n];this.checkLValInnerPattern(i,1,e?null:o)}},_t.parseExprList=function(t,e,o,n){for(var r=[],i=!0;!this.eat(t);){if(i)i=!1;else if(this.expect(B.comma),e&&this.afterTrailingComma(t))break;var s=void 0;o&&this.type===B.comma?s=null:this.type===B.ellipsis?(s=this.parseSpread(n),n&&this.type===B.comma&&n.trailingComma<0&&(n.trailingComma=this.start)):s=this.parseMaybeAssign(!1,n),r.push(s)}return r},_t.checkUnreserved=function(t){var e=t.start,o=t.end,n=t.name;(this.inGenerator&&"yield"===n&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===n&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&"arguments"===n&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.keywords.test(n)&&this.raise(e,"Unexpected keyword '"+n+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(e,o).indexOf("\\"))||(this.strict?this.reservedWordsStrict:this.reservedWords).test(n)&&(this.inAsync||"await"!==n||this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+n+"' is reserved"))},_t.parseIdent=function(t,e){var o=this.startNode();return this.type===B.name?o.name=this.value:this.type.keyword?(o.name=this.type.keyword,"class"!==o.name&&"function"!==o.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(!!t),this.finishNode(o,"Identifier"),t||(this.checkUnreserved(o),"await"!==o.name||this.awaitIdentPos||(this.awaitIdentPos=o.start)),o},_t.parsePrivateIdent=function(){var t=this.startNode();return this.type===B.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),0===this.privateNameStack.length?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t),t},_t.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===B.semi||this.canInsertSemicolon()||this.type!==B.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(B.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")},_t.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0),this.finishNode(t,"AwaitExpression")};var vt=et.prototype;vt.raise=function(t,e){var o=Z(this.input,t);e+=" ("+o.line+":"+o.column+")";var n=new SyntaxError(e);throw n.pos=t,n.loc=o,n.raisedAt=this.pos,n},vt.raiseRecoverable=vt.raise,vt.curPosition=function(){if(this.options.locations)return new K(this.curLine,this.pos-this.lineStart)};var yt=et.prototype,Tt=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};yt.enterScope=function(t){this.scopeStack.push(new Tt(t))},yt.exitScope=function(){this.scopeStack.pop()},yt.treatFunctionsAsVarInScope=function(t){return 2&t.flags||!this.inModule&&1&t.flags},yt.declareName=function(t,e,o){var n=!1;if(2===e){var r=this.currentScope();n=r.lexical.indexOf(t)>-1||r.functions.indexOf(t)>-1||r.var.indexOf(t)>-1,r.lexical.push(t),this.inModule&&1&r.flags&&delete this.undefinedExports[t]}else if(4===e){this.currentScope().lexical.push(t)}else if(3===e){var i=this.currentScope();n=this.treatFunctionsAsVar?i.lexical.indexOf(t)>-1:i.lexical.indexOf(t)>-1||i.var.indexOf(t)>-1,i.functions.push(t)}else for(var s=this.scopeStack.length-1;s>=0;--s){var a=this.scopeStack[s];if(a.lexical.indexOf(t)>-1&&!(32&a.flags&&a.lexical[0]===t)||!this.treatFunctionsAsVarInScope(a)&&a.functions.indexOf(t)>-1){n=!0;break}if(a.var.push(t),this.inModule&&1&a.flags&&delete this.undefinedExports[t],3&a.flags)break}n&&this.raiseRecoverable(o,"Identifier '"+t+"' has already been declared")},yt.checkLocalExport=function(t){-1===this.scopeStack[0].lexical.indexOf(t.name)&&-1===this.scopeStack[0].var.indexOf(t.name)&&(this.undefinedExports[t.name]=t)},yt.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},yt.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(3&e.flags)return e}},yt.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(3&e.flags&&!(16&e.flags))return e}};var bt=function(t,e,o){this.type="",this.start=e,this.end=0,t.options.locations&&(this.loc=new z(t,o)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[e,0])},Et=et.prototype;function St(t,e,o,n){return t.type=e,t.end=o,this.options.locations&&(t.loc.end=n),this.options.ranges&&(t.range[1]=o),t}Et.startNode=function(){return new bt(this,this.start,this.startLoc)},Et.startNodeAt=function(t,e){return new bt(this,t,e)},Et.finishNode=function(t,e){return St.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)},Et.finishNodeAt=function(t,e,o,n){return St.call(this,t,e,o,n)},Et.copyNode=function(t){var e=new bt(this,t.start,this.startLoc);for(var o in t)e[o]=t[o];return e};var Ct=function(t,e,o,n,r){this.token=t,this.isExpr=!!e,this.preserveSpace=!!o,this.override=n,this.generator=!!r},kt={b_stat:new Ct("{",!1),b_expr:new Ct("{",!0),b_tmpl:new Ct("${",!1),p_stat:new Ct("(",!1),p_expr:new Ct("(",!0),q_tmpl:new Ct("`",!0,!0,(function(t){return t.tryReadTemplateToken()})),f_stat:new Ct("function",!1),f_expr:new Ct("function",!0),f_expr_gen:new Ct("function",!0,!1,null,!0),f_gen:new Ct("function",!1,!1,null,!0)},Rt=et.prototype;Rt.initialContext=function(){return[kt.b_stat]},Rt.braceIsBlock=function(t){var e=this.curContext();return e===kt.f_expr||e===kt.f_stat||(t!==B.colon||e!==kt.b_stat&&e!==kt.b_expr?t===B._return||t===B.name&&this.exprAllowed?P.test(this.input.slice(this.lastTokEnd,this.start)):t===B._else||t===B.semi||t===B.eof||t===B.parenR||t===B.arrow||(t===B.braceL?e===kt.b_stat:t!==B._var&&t!==B._const&&t!==B.name&&!this.exprAllowed):!e.isExpr)},Rt.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if("function"===e.token)return e.generator}return!1},Rt.updateContext=function(t){var e,o=this.type;o.keyword&&t===B.dot?this.exprAllowed=!1:(e=o.updateContext)?e.call(this,t):this.exprAllowed=o.beforeExpr},B.parenR.updateContext=B.braceR.updateContext=function(){if(1!==this.context.length){var t=this.context.pop();t===kt.b_stat&&"function"===this.curContext().token&&(t=this.context.pop()),this.exprAllowed=!t.isExpr}else this.exprAllowed=!0},B.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?kt.b_stat:kt.b_expr),this.exprAllowed=!0},B.dollarBraceL.updateContext=function(){this.context.push(kt.b_tmpl),this.exprAllowed=!0},B.parenL.updateContext=function(t){var e=t===B._if||t===B._for||t===B._with||t===B._while;this.context.push(e?kt.p_stat:kt.p_expr),this.exprAllowed=!0},B.incDec.updateContext=function(){},B._function.updateContext=B._class.updateContext=function(t){!t.beforeExpr||t===B._else||t===B.semi&&this.curContext()!==kt.p_stat||t===B._return&&P.test(this.input.slice(this.lastTokEnd,this.start))||(t===B.colon||t===B.braceL)&&this.curContext()===kt.b_stat?this.context.push(kt.f_stat):this.context.push(kt.f_expr),this.exprAllowed=!1},B.backQuote.updateContext=function(){this.curContext()===kt.q_tmpl?this.context.pop():this.context.push(kt.q_tmpl),this.exprAllowed=!1},B.star.updateContext=function(t){if(t===B._function){var e=this.context.length-1;this.context[e]===kt.f_expr?this.context[e]=kt.f_expr_gen:this.context[e]=kt.f_gen}this.exprAllowed=!0},B.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==B.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var It="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",wt=It+" Extended_Pictographic",Nt={9:It,10:wt,11:wt,12:"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS Extended_Pictographic EBase EComp EMod EPres ExtPict"},Ot="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",xt="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",At=xt+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Dt=At+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Mt={9:xt,10:At,11:Dt,12:"Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi"},Lt={};function Bt(t){var e=Lt[t]={binary:Y(Nt[t]+" "+Ot),nonBinary:{General_Category:Y(Ot),Script:Y(Mt[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}Bt(9),Bt(10),Bt(11),Bt(12);var Pt=et.prototype,Vt=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":""),this.unicodeProperties=Lt[t.options.ecmaVersion>=12?12:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function Ft(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function Ut(t){return 36===t||t>=40&&t<=43||46===t||63===t||t>=91&&t<=94||t>=123&&t<=125}function Ht(t){return t>=65&&t<=90||t>=97&&t<=122}function Gt(t){return Ht(t)||95===t}function Wt(t){return Gt(t)||jt(t)}function jt(t){return t>=48&&t<=57}function Xt(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function Jt(t){return t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:t-48}function Yt(t){return t>=48&&t<=55}Vt.prototype.reset=function(t,e,o){var n=-1!==o.indexOf("u");this.start=0|t,this.source=e+"",this.flags=o,this.switchU=n&&this.parser.options.ecmaVersion>=6,this.switchN=n&&this.parser.options.ecmaVersion>=9},Vt.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)},Vt.prototype.at=function(t,e){void 0===e&&(e=!1);var o=this.source,n=o.length;if(t>=n)return-1;var r=o.charCodeAt(t);if(!e&&!this.switchU||r<=55295||r>=57344||t+1>=n)return r;var i=o.charCodeAt(t+1);return i>=56320&&i<=57343?(r<<10)+i-56613888:r},Vt.prototype.nextIndex=function(t,e){void 0===e&&(e=!1);var o=this.source,n=o.length;if(t>=n)return n;var r,i=o.charCodeAt(t);return!e&&!this.switchU||i<=55295||i>=57344||t+1>=n||(r=o.charCodeAt(t+1))<56320||r>57343?t+1:t+2},Vt.prototype.current=function(t){return void 0===t&&(t=!1),this.at(this.pos,t)},Vt.prototype.lookahead=function(t){return void 0===t&&(t=!1),this.at(this.nextIndex(this.pos,t),t)},Vt.prototype.advance=function(t){void 0===t&&(t=!1),this.pos=this.nextIndex(this.pos,t)},Vt.prototype.eat=function(t,e){return void 0===e&&(e=!1),this.current(e)===t&&(this.advance(e),!0)},Pt.validateRegExpFlags=function(t){for(var e=t.validFlags,o=t.flags,n=0;n<o.length;n++){var r=o.charAt(n);-1===e.indexOf(r)&&this.raise(t.start,"Invalid regular expression flag"),o.indexOf(r,n+1)>-1&&this.raise(t.start,"Duplicate regular expression flag")}},Pt.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))},Pt.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,o=t.backReferenceNames;e<o.length;e+=1){var n=o[e];-1===t.groupNames.indexOf(n)&&t.raise("Invalid named capture referenced")}},Pt.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")},Pt.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););},Pt.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):!!(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))&&(this.regexp_eatQuantifier(t),!0)},Pt.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var o=!1;if(this.options.ecmaVersion>=9&&(o=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!o,!0}return t.pos=e,!1},Pt.regexp_eatQuantifier=function(t,e){return void 0===e&&(e=!1),!!this.regexp_eatQuantifierPrefix(t,e)&&(t.eat(63),!0)},Pt.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)},Pt.regexp_eatBracedQuantifier=function(t,e){var o=t.pos;if(t.eat(123)){var n=0,r=-1;if(this.regexp_eatDecimalDigits(t)&&(n=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue),t.eat(125)))return-1!==r&&r<n&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=o}return!1},Pt.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)},Pt.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1},Pt.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1},Pt.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):63===t.current()&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1},Pt.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)},Pt.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1},Pt.regexp_eatSyntaxCharacter=function(t){var e=t.current();return!!Ut(e)&&(t.lastIntValue=e,t.advance(),!0)},Pt.regexp_eatPatternCharacters=function(t){for(var e=t.pos,o=0;-1!==(o=t.current())&&!Ut(o);)t.advance();return t.pos!==e},Pt.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return!(-1===e||36===e||e>=40&&e<=43||46===e||63===e||91===e||94===e||124===e)&&(t.advance(),!0)},Pt.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t))return-1!==t.groupNames.indexOf(t.lastStringValue)&&t.raise("Duplicate capture group name"),void t.groupNames.push(t.lastStringValue);t.raise("Invalid group")}},Pt.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1},Pt.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Ft(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Ft(t.lastIntValue);return!0}return!1},Pt.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,o=this.options.ecmaVersion>=11,n=t.current(o);return t.advance(o),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(t,o)&&(n=t.lastIntValue),function(t){return w(t,!0)||36===t||95===t}(n)?(t.lastIntValue=n,!0):(t.pos=e,!1)},Pt.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,o=this.options.ecmaVersion>=11,n=t.current(o);return t.advance(o),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(t,o)&&(n=t.lastIntValue),function(t){return N(t,!0)||36===t||95===t||8204===t||8205===t}(n)?(t.lastIntValue=n,!0):(t.pos=e,!1)},Pt.regexp_eatAtomEscape=function(t){return!!(this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t))||(t.switchU&&(99===t.current()&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)},Pt.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var o=t.lastIntValue;if(t.switchU)return o>t.maxBackReference&&(t.maxBackReference=o),!0;if(o<=t.numCapturingParens)return!0;t.pos=e}return!1},Pt.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1},Pt.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)},Pt.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1},Pt.regexp_eatZero=function(t){return 48===t.current()&&!jt(t.lookahead())&&(t.lastIntValue=0,t.advance(),!0)},Pt.regexp_eatControlEscape=function(t){var e=t.current();return 116===e?(t.lastIntValue=9,t.advance(),!0):110===e?(t.lastIntValue=10,t.advance(),!0):118===e?(t.lastIntValue=11,t.advance(),!0):102===e?(t.lastIntValue=12,t.advance(),!0):114===e&&(t.lastIntValue=13,t.advance(),!0)},Pt.regexp_eatControlLetter=function(t){var e=t.current();return!!Ht(e)&&(t.lastIntValue=e%32,t.advance(),!0)},Pt.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){void 0===e&&(e=!1);var o,n=t.pos,r=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var i=t.lastIntValue;if(r&&i>=55296&&i<=56319){var s=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var a=t.lastIntValue;if(a>=56320&&a<=57343)return t.lastIntValue=1024*(i-55296)+(a-56320)+65536,!0}t.pos=s,t.lastIntValue=i}return!0}if(r&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&((o=t.lastIntValue)>=0&&o<=1114111))return!0;r&&t.raise("Invalid unicode escape"),t.pos=n}return!1},Pt.regexp_eatIdentityEscape=function(t){if(t.switchU)return!!this.regexp_eatSyntaxCharacter(t)||!!t.eat(47)&&(t.lastIntValue=47,!0);var e=t.current();return!(99===e||t.switchN&&107===e)&&(t.lastIntValue=e,t.advance(),!0)},Pt.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do{t.lastIntValue=10*t.lastIntValue+(e-48),t.advance()}while((e=t.current())>=48&&e<=57);return!0}return!1},Pt.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(function(t){return 100===t||68===t||115===t||83===t||119===t||87===t}(e))return t.lastIntValue=-1,t.advance(),!0;if(t.switchU&&this.options.ecmaVersion>=9&&(80===e||112===e)){if(t.lastIntValue=-1,t.advance(),t.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(t)&&t.eat(125))return!0;t.raise("Invalid property name")}return!1},Pt.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var o=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var n=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,o,n),!0}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,r),!0}return!1},Pt.regexp_validateUnicodePropertyNameAndValue=function(t,e,o){X(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(o)||t.raise("Invalid property value")},Pt.regexp_validateUnicodePropertyNameOrValue=function(t,e){t.unicodeProperties.binary.test(e)||t.raise("Invalid property name")},Pt.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";Gt(e=t.current());)t.lastStringValue+=Ft(e),t.advance();return""!==t.lastStringValue},Pt.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";Wt(e=t.current());)t.lastStringValue+=Ft(e),t.advance();return""!==t.lastStringValue},Pt.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)},Pt.regexp_eatCharacterClass=function(t){if(t.eat(91)){if(t.eat(94),this.regexp_classRanges(t),t.eat(93))return!0;t.raise("Unterminated character class")}return!1},Pt.regexp_classRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var o=t.lastIntValue;!t.switchU||-1!==e&&-1!==o||t.raise("Invalid character class"),-1!==e&&-1!==o&&e>o&&t.raise("Range out of order in character class")}}},Pt.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var o=t.current();(99===o||Yt(o))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var n=t.current();return 93!==n&&(t.lastIntValue=n,t.advance(),!0)},Pt.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)},Pt.regexp_eatClassControlLetter=function(t){var e=t.current();return!(!jt(e)&&95!==e)&&(t.lastIntValue=e%32,t.advance(),!0)},Pt.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1},Pt.regexp_eatDecimalDigits=function(t){var e=t.pos,o=0;for(t.lastIntValue=0;jt(o=t.current());)t.lastIntValue=10*t.lastIntValue+(o-48),t.advance();return t.pos!==e},Pt.regexp_eatHexDigits=function(t){var e=t.pos,o=0;for(t.lastIntValue=0;Xt(o=t.current());)t.lastIntValue=16*t.lastIntValue+Jt(o),t.advance();return t.pos!==e},Pt.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var o=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=64*e+8*o+t.lastIntValue:t.lastIntValue=8*e+o}else t.lastIntValue=e;return!0}return!1},Pt.regexp_eatOctalDigit=function(t){var e=t.current();return Yt(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)},Pt.regexp_eatFixedHexDigits=function(t,e){var o=t.pos;t.lastIntValue=0;for(var n=0;n<e;++n){var r=t.current();if(!Xt(r))return t.pos=o,!1;t.lastIntValue=16*t.lastIntValue+Jt(r),t.advance()}return!0};var Kt=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new z(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},zt=et.prototype;function Zt(t){return"function"!=typeof BigInt?null:BigInt(t.replace(/_/g,""))}function $t(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}zt.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Kt(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},zt.getToken=function(){return this.next(),new Kt(this)},"undefined"!=typeof Symbol&&(zt[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===B.eof,value:e}}}}),zt.curContext=function(){return this.context[this.context.length-1]},zt.nextToken=function(){var t=this.curContext();return t&&t.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(B.eof):t.override?t.override(this):void this.readToken(this.fullCharCodeAtPos())},zt.readToken=function(t){return w(t,this.options.ecmaVersion>=6)||92===t?this.readWord():this.getTokenFromCode(t)},zt.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);return t<=55295||t>=57344?t:(t<<10)+this.input.charCodeAt(this.pos+1)-56613888},zt.skipBlockComment=function(){var t,e=this.options.onComment&&this.curPosition(),o=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(-1===n&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(V.lastIndex=o;(t=V.exec(this.input))&&t.index<this.pos;)++this.curLine,this.lineStart=t.index+t[0].length;this.options.onComment&&this.options.onComment(!0,this.input.slice(o+2,n),o,this.pos,e,this.curPosition())},zt.skipLineComment=function(t){for(var e=this.pos,o=this.options.onComment&&this.curPosition(),n=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!F(n);)n=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,o,this.curPosition())},zt.skipSpace=function(){t:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(!(t>8&&t<14||t>=5760&&U.test(String.fromCharCode(t))))break t;++this.pos}}},zt.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var o=this.type;this.type=t,this.value=e,this.updateContext(o)},zt.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===t&&46===e?(this.pos+=3,this.finishToken(B.ellipsis)):(++this.pos,this.finishToken(B.dot))},zt.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===t?this.finishOp(B.assign,2):this.finishOp(B.slash,1)},zt.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),o=1,n=42===t?B.star:B.modulo;return this.options.ecmaVersion>=7&&42===t&&42===e&&(++o,n=B.starstar,e=this.input.charCodeAt(this.pos+2)),61===e?this.finishOp(B.assign,o+1):this.finishOp(n,o)},zt.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12)if(61===this.input.charCodeAt(this.pos+2))return this.finishOp(B.assign,3);return this.finishOp(124===t?B.logicalOR:B.logicalAND,2)}return 61===e?this.finishOp(B.assign,2):this.finishOp(124===t?B.bitwiseOR:B.bitwiseAND,1)},zt.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(B.assign,2):this.finishOp(B.bitwiseXOR,1)},zt.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?45!==e||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!P.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(B.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===e?this.finishOp(B.assign,2):this.finishOp(B.plusMin,1)},zt.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),o=1;return e===t?(o=62===t&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+o)?this.finishOp(B.assign,o+1):this.finishOp(B.bitShift,o)):33!==e||60!==t||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===e&&(o=2),this.finishOp(B.relational,o)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},zt.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(B.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===t&&62===e&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(B.arrow)):this.finishOp(61===t?B.eq:B.prefix,1)},zt.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(46===e){var o=this.input.charCodeAt(this.pos+2);if(o<48||o>57)return this.finishOp(B.questionDot,2)}if(63===e){if(t>=12)if(61===this.input.charCodeAt(this.pos+2))return this.finishOp(B.assign,3);return this.finishOp(B.coalesce,2)}}return this.finishOp(B.question,1)},zt.readToken_numberSign=function(){var t=35;if(this.options.ecmaVersion>=13&&(++this.pos,w(t=this.fullCharCodeAtPos(),!0)||92===t))return this.finishToken(B.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+$t(t)+"'")},zt.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(B.parenL);case 41:return++this.pos,this.finishToken(B.parenR);case 59:return++this.pos,this.finishToken(B.semi);case 44:return++this.pos,this.finishToken(B.comma);case 91:return++this.pos,this.finishToken(B.bracketL);case 93:return++this.pos,this.finishToken(B.bracketR);case 123:return++this.pos,this.finishToken(B.braceL);case 125:return++this.pos,this.finishToken(B.braceR);case 58:return++this.pos,this.finishToken(B.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(B.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(120===e||88===e)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===e||79===e)return this.readRadixNumber(8);if(98===e||66===e)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(B.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+$t(t)+"'")},zt.finishOp=function(t,e){var o=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,o)},zt.readRegexp=function(){for(var t,e,o=this.pos;;){this.pos>=this.input.length&&this.raise(o,"Unterminated regular expression");var n=this.input.charAt(this.pos);if(P.test(n)&&this.raise(o,"Unterminated regular expression"),t)t=!1;else{if("["===n)e=!0;else if("]"===n&&e)e=!1;else if("/"===n&&!e)break;t="\\"===n}++this.pos}var r=this.input.slice(o,this.pos);++this.pos;var i=this.pos,s=this.readWord1();this.containsEsc&&this.unexpected(i);var a=this.regexpState||(this.regexpState=new Vt(this));a.reset(o,r,s),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var l=null;try{l=new RegExp(r,s)}catch(t){}return this.finishToken(B.regexp,{pattern:r,flags:s,value:l})},zt.readInt=function(t,e,o){for(var n=this.options.ecmaVersion>=12&&void 0===e,r=o&&48===this.input.charCodeAt(this.pos),i=this.pos,s=0,a=0,l=0,c=null==e?1/0:e;l<c;++l,++this.pos){var u=this.input.charCodeAt(this.pos),p=void 0;if(n&&95===u)r&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===a&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===l&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=u;else{if((p=u>=97?u-97+10:u>=65?u-65+10:u>=48&&u<=57?u-48:1/0)>=t)break;a=u,s=s*t+p}}return n&&95===a&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===i||null!=e&&this.pos-i!==e?null:s},zt.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var o=this.readInt(t);return null==o&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(o=Zt(this.input.slice(e,this.pos)),++this.pos):w(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(B.num,o)},zt.readNumber=function(t){var e=this.pos;t||null!==this.readInt(10,void 0,!0)||this.raise(e,"Invalid number");var o=this.pos-e>=2&&48===this.input.charCodeAt(e);o&&this.strict&&this.raise(e,"Invalid number");var n=this.input.charCodeAt(this.pos);if(!o&&!t&&this.options.ecmaVersion>=11&&110===n){var r=Zt(this.input.slice(e,this.pos));return++this.pos,w(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(B.num,r)}o&&/[89]/.test(this.input.slice(e,this.pos))&&(o=!1),46!==n||o||(++this.pos,this.readInt(10),n=this.input.charCodeAt(this.pos)),69!==n&&101!==n||o||(43!==(n=this.input.charCodeAt(++this.pos))&&45!==n||++this.pos,null===this.readInt(10)&&this.raise(e,"Invalid number")),w(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var i,s=(i=this.input.slice(e,this.pos),o?parseInt(i,8):parseFloat(i.replace(/_/g,"")));return this.finishToken(B.num,s)},zt.readCodePoint=function(){var t;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var e=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(e,"Code point out of bounds")}else t=this.readHexChar(4);return t},zt.readString=function(t){for(var e="",o=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var n=this.input.charCodeAt(this.pos);if(n===t)break;92===n?(e+=this.input.slice(o,this.pos),e+=this.readEscapedChar(!1),o=this.pos):(F(n,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(o,this.pos++),this.finishToken(B.string,e)};var qt={};zt.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t!==qt)throw t;this.readInvalidTemplateToken()}this.inTemplateElement=!1},zt.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw qt;this.raise(t,e)},zt.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var o=this.input.charCodeAt(this.pos);if(96===o||36===o&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==B.template&&this.type!==B.invalidTemplate?(t+=this.input.slice(e,this.pos),this.finishToken(B.template,t)):36===o?(this.pos+=2,this.finishToken(B.dollarBraceL)):(++this.pos,this.finishToken(B.backQuote));if(92===o)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(F(o)){switch(t+=this.input.slice(e,this.pos),++this.pos,o){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:t+="\n";break;default:t+=String.fromCharCode(o)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}},zt.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(B.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},zt.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return $t(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var o=this.pos-1;return this.invalidStringToken(o,"Invalid escape sequence in template string"),null}default:if(e>=48&&e<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(n,8);return r>255&&(n=n.slice(0,-1),r=parseInt(n,8)),this.pos+=n.length-1,e=this.input.charCodeAt(this.pos),"0"===n&&56!==e&&57!==e||!this.strict&&!t||this.invalidStringToken(this.pos-1-n.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return F(e)?"":String.fromCharCode(e)}},zt.readHexChar=function(t){var e=this.pos,o=this.readInt(16,t);return null===o&&this.invalidStringToken(e,"Bad character escape sequence"),o},zt.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,o=this.pos,n=this.options.ecmaVersion>=6;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(N(r,n))this.pos+=r<=65535?1:2;else{if(92!==r)break;this.containsEsc=!0,t+=this.input.slice(o,this.pos);var i=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var s=this.readCodePoint();(e?w:N)(s,n)||this.invalidStringToken(i,"Invalid Unicode escape"),t+=$t(s),o=this.pos}e=!1}return t+this.input.slice(o,this.pos)},zt.readWord=function(){var t=this.readWord1(),e=B.name;return this.keywords.test(t)&&(e=M[t]),this.finishToken(e,t)};et.acorn={Parser:et,version:"8.2.1",defaultOptions:$,Position:K,SourceLocation:z,getLineInfo:Z,Node:bt,TokenType:O,tokTypes:B,keywordTypes:M,TokContext:Ct,tokContexts:kt,isIdentifierChar:N,isIdentifierStart:w,Token:Kt,isNewLine:F,lineBreak:P,lineBreakG:V,nonASCIIwhitespace:U};var Qt;o(9177),o(5466);function te(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}const ee={data:function(){return{console_log:[],log:""}},components:{AppLayout:p.Z,Blockly:d(),JetButton:g.Z},props:(Qt={run:{type:Array,required:!0},cameras:{type:Array,required:!0}},te(Qt,"run",{type:Array,required:!0}),te(Qt,"cameras",{type:Array,required:!0}),Qt),methods:{syntaxerror:function(){console_log.push("syntax_error")},add_to_console:function(t){console_log.push(console_in),"?"==t&&(console_log.push("device_id,mode,status"),console_log.push("example:1,relay,ON"));var e=t.split(","),o=e[0];if(!(0,h.isNumber)(o))return this.syntaxerror(),0;"ON"!=e[2]&&"OFF"!=e[2]||send_data(o,e[1],"ON"==e[2]?"1":"0")},send_data:function(t,e,o){f().get("/api/device/js-api/"+t+"/"+e+"/"+o)},executeBlockCode:function(){for(var t=programs[0].javascript_blocknp,e=new Interpreter(t,(function(t,e){t.setProperty(e,"alert",t.createNativeFunction((function(e){return e=e?e.toString():"",t.createPrimitive(alert(e))}))),t.setProperty(e,"send_console",t.createNativeFunction((function(e){return e=e?e.toString():"",t.createPrimitive(this.send_console(e))})));t.setProperty(e,"prompt",t.createNativeFunction((function(e){return e=e?e.toString():"",t.createPrimitive(prompt(e))})))})),o=1e4;e.step()&&o;)o--;if(!o)throw EvalError("Infinite loop.")}},mounted:function(){executeBlockCode()},render:function(t,e,o,p,h,d){var g=(0,n.resolveComponent)("intertia-link"),_=(0,n.resolveComponent)("jet-button"),f=(0,n.resolveComponent)("app-layout");return(0,n.openBlock)(),(0,n.createBlock)(f,null,{header:(0,n.withCtx)((function(){return[r]})),default:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",i,[(0,n.createVNode)("div",s,[(0,n.createVNode)("div",a,[(0,n.createVNode)("h3",null,"Status:"+(0,n.toDisplayString)(t.status)+"/"+(0,n.toDisplayString)(t.room_max),1),(0,n.createVNode)("h3",null,"Timer:"+(0,n.toDisplayString)(t.elapsed_time),1),(0,n.createVNode)("div",null,[(0,n.createVNode)(g,null,{default:(0,n.withCtx)((function(){return[l]})),_:1})]),(0,n.createVNode)("div",null,[(0,n.createVNode)(g)]),(0,n.createVNode)("div",c,[(0,n.createVNode)("img",{class:"object-contain h-48 w-full",src:t.getImgUrl(t.pic),alt:t.pic},null,8,["src","alt"])]),(0,n.createVNode)("div",{"v-for":h.log in h.console_log},[(0,n.createVNode)("p",null,(0,n.toDisplayString)(h.log),1)],8,["v-for"]),(0,n.withDirectives)((0,n.createVNode)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.console_in=e})},null,512),[[n.vModelText,t.console_in]]),(0,n.createVNode)(_,{class:"ml-4",onClick:d.add_to_console},{default:(0,n.withCtx)((function(){return[u]})),_:1},8,["onClick"])])])])]})),_:1})}},oe=ee},8008:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>p});var n=o(8191),r=(0,n.createVNode)("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Teams ",-1),i={class:"py-12"},s={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},a={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"};var l=o(7063),c=o(2159);const u={components:{AppLayout:l.Z,Welcome:c.Z},props:{team:{type:Array,required:!0}},render:function(t,e,o,l,c,u){var p=(0,n.resolveComponent)("welcome"),h=(0,n.resolveComponent)("app-layout");return(0,n.openBlock)(),(0,n.createBlock)(h,null,{header:(0,n.withCtx)((function(){return[r]})),default:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",i,[(0,n.createVNode)("div",s,[(0,n.createVNode)("div",a,[(0,n.createVNode)(p)])])])]})),_:1})}},p=u},3942:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>S});var n=o(8191),r=(0,n.createVNode)("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Teams ",-1),i={class:"py-12"},s={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},a={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},l={class:"bg-white shadow-md rounded my-6"},c={class:"min-w-max w-full table-auto"},u=(0,n.createVNode)("thead",null,[(0,n.createVNode)("tr",null,[(0,n.createVNode)("th",{class:"w-1/4 ..."},"#"),(0,n.createVNode)("th",{class:"w-1/3 ..."},"Team Names:"),(0,n.createVNode)("th",{class:"w-1/3 ..."},"Management")])],-1),p=(0,n.createTextVNode)("Show previous runs of team"),h=(0,n.createVNode)("td",{class:"w-1/3 ..."},null,-1),d={class:"w-1/3 ..."},g={class:"w-1/5 ..."},_=(0,n.createTextVNode)(" Add Team ");var f=o(9669),m=o.n(f),v=o(7063),y=(o(2159),o(3845)),T=o(6245),b=o(6824);const E={props:{teams:{type:Array,required:!0}},data:function(){return{add_name:""}},mounted:function(){},components:{AppLayout:v.Z,JetButton:T.Z,JetInput:b.Z,JetLabel:y.Z},methods:{submit:function(){m().post("/create-rteam",{name:this.add_name}),Inertia.visit("/teams",{only:["teams"]})}},render:function(t,e,o,f,m,v){var y=(0,n.resolveComponent)("inertia-link"),T=(0,n.resolveComponent)("jet-label"),b=(0,n.resolveComponent)("jet-input"),E=(0,n.resolveComponent)("jet-button"),S=(0,n.resolveComponent)("app-layout");return(0,n.openBlock)(),(0,n.createBlock)(S,null,{header:(0,n.withCtx)((function(){return[r]})),default:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",i,[(0,n.createVNode)("div",s,[(0,n.createVNode)("div",a,[(0,n.createVNode)("div",null,[(0,n.createVNode)("div",l,[(0,n.createVNode)("table",c,[u,(0,n.createVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(o.teams,(function(t){return(0,n.openBlock)(),(0,n.createBlock)("tr",{key:t.id},[(0,n.createVNode)("td",null,(0,n.toDisplayString)(t.id),1),(0,n.createVNode)("td",null,(0,n.toDisplayString)(t.name),1),(0,n.createVNode)("td",null,[(0,n.createVNode)(y,{href:"/team/"+t.id},{default:(0,n.withCtx)((function(){return[p]})),_:2},1032,["href"])])])})),128))]),(0,n.createVNode)("tfoot",null,[(0,n.createVNode)("tr",null,[h,(0,n.createVNode)("td",d,[(0,n.createVNode)("div",null,[(0,n.createVNode)(T,{for:"name",value:"Name of team"}),(0,n.createVNode)(b,{"aria-placeholder":"Enter team name...",id:"name",type:"name",class:"mt-1 block w-full",modelValue:m.add_name,"onUpdate:modelValue":e[1]||(e[1]=function(t){return m.add_name=t}),required:"",autofocus:""},null,8,["modelValue"])])]),(0,n.createVNode)("td",g,[(0,n.createVNode)(E,{class:"ml-4",onClick:v.submit},{default:(0,n.withCtx)((function(){return[_]})),_:1},8,["onClick"])])])])])])])])])])]})),_:1})}},S=E},8191:(t,e,o)=>{"use strict";o.r(e),o.d(e,{BaseTransition:()=>bn,Comment:()=>Er,Fragment:()=>Tr,KeepAlive:()=>Nn,Static:()=>Sr,Suspense:()=>Wo,Teleport:()=>hr,Text:()=>br,Transition:()=>xs,TransitionGroup:()=>Ys,callWithAsyncErrorHandling:()=>Je,callWithErrorHandling:()=>Xe,camelize:()=>xe,capitalize:()=>Me,cloneVNode:()=>Ur,compile:()=>ip,computed:()=>Ri,createApp:()=>Ca,createBlock:()=>xr,createCommentVNode:()=>Wr,createHydrationRenderer:()=>rr,createRenderer:()=>nr,createSSRApp:()=>ka,createSlots:()=>Bi,createStaticVNode:()=>Gr,createTextVNode:()=>Hr,createVNode:()=>Vr,customRef:()=>Yt,defineAsyncComponent:()=>qn,defineComponent:()=>$n,defineEmit:()=>wi,defineProps:()=>Ii,devtools:()=>mo,getCurrentInstance:()=>pi,getTransitionRawChildren:()=>In,h:()=>Oi,handleError:()=>Ye,hydrate:()=>Sa,initCustomFormatter:()=>Di,inject:()=>zr,isProxy:()=>Dt,isReactive:()=>xt,isReadonly:()=>At,isRef:()=>Pt,isRuntimeOnly:()=>mi,isVNode:()=>Ar,markRaw:()=>Lt,mergeProps:()=>Yr,nextTick:()=>ao,onActivated:()=>xn,onBeforeMount:()=>nn,onBeforeUnmount:()=>ln,onBeforeUpdate:()=>sn,onDeactivated:()=>An,onErrorCaptured:()=>hn,onMounted:()=>rn,onRenderTracked:()=>pn,onRenderTriggered:()=>un,onUnmounted:()=>cn,onUpdated:()=>an,openBlock:()=>Rr,popScopeId:()=>Mo,provide:()=>Kr,proxyRefs:()=>Xt,pushScopeId:()=>Do,queuePostFlushCb:()=>po,reactive:()=>Rt,readonly:()=>wt,ref:()=>Vt,registerRuntimeCompiler:()=>vi,render:()=>Ea,renderList:()=>Mi,renderSlot:()=>wo,resolveComponent:()=>gr,resolveDirective:()=>mr,resolveDynamicComponent:()=>fr,resolveTransitionHooks:()=>Sn,setBlockTracking:()=>Or,setDevtoolsHook:()=>vo,setTransitionHooks:()=>Rn,shallowReactive:()=>It,shallowReadonly:()=>Nt,shallowRef:()=>Ft,ssrContextKey:()=>xi,ssrUtils:()=>Vi,toDisplayString:()=>ie,toHandlerKey:()=>Le,toHandlers:()=>Li,toRaw:()=>Mt,toRef:()=>Zt,toRefs:()=>Kt,transformVNodeArgs:()=>Mr,triggerRef:()=>Gt,unref:()=>Wt,useContext:()=>Ni,useCssModule:()=>Rs,useCssVars:()=>Is,useSSRContext:()=>Ai,useTransitionState:()=>yn,vModelCheckbox:()=>ea,vModelDynamic:()=>la,vModelRadio:()=>na,vModelSelect:()=>ra,vModelText:()=>ta,vShow:()=>_a,version:()=>Pi,warn:()=>Ge,watch:()=>_n,watchEffect:()=>dn,withCtx:()=>Bo,withDirectives:()=>Gn,withKeys:()=>ga,withModifiers:()=>ha,withScopeId:()=>Lo});var n={};function r(t,e){const o=Object.create(null),n=t.split(",");for(let t=0;t<n.length;t++)o[n[t]]=!0;return e?t=>!!o[t.toLowerCase()]:t=>!!o[t]}o.r(n),o.d(n,{BaseTransition:()=>bn,Comment:()=>Er,Fragment:()=>Tr,KeepAlive:()=>Nn,Static:()=>Sr,Suspense:()=>Wo,Teleport:()=>hr,Text:()=>br,Transition:()=>xs,TransitionGroup:()=>Ys,callWithAsyncErrorHandling:()=>Je,callWithErrorHandling:()=>Xe,camelize:()=>xe,capitalize:()=>Me,cloneVNode:()=>Ur,computed:()=>Ri,createApp:()=>Ca,createBlock:()=>xr,createCommentVNode:()=>Wr,createHydrationRenderer:()=>rr,createRenderer:()=>nr,createSSRApp:()=>ka,createSlots:()=>Bi,createStaticVNode:()=>Gr,createTextVNode:()=>Hr,createVNode:()=>Vr,customRef:()=>Yt,defineAsyncComponent:()=>qn,defineComponent:()=>$n,defineEmit:()=>wi,defineProps:()=>Ii,devtools:()=>mo,getCurrentInstance:()=>pi,getTransitionRawChildren:()=>In,h:()=>Oi,handleError:()=>Ye,hydrate:()=>Sa,initCustomFormatter:()=>Di,inject:()=>zr,isProxy:()=>Dt,isReactive:()=>xt,isReadonly:()=>At,isRef:()=>Pt,isRuntimeOnly:()=>mi,isVNode:()=>Ar,markRaw:()=>Lt,mergeProps:()=>Yr,nextTick:()=>ao,onActivated:()=>xn,onBeforeMount:()=>nn,onBeforeUnmount:()=>ln,onBeforeUpdate:()=>sn,onDeactivated:()=>An,onErrorCaptured:()=>hn,onMounted:()=>rn,onRenderTracked:()=>pn,onRenderTriggered:()=>un,onUnmounted:()=>cn,onUpdated:()=>an,openBlock:()=>Rr,popScopeId:()=>Mo,provide:()=>Kr,proxyRefs:()=>Xt,pushScopeId:()=>Do,queuePostFlushCb:()=>po,reactive:()=>Rt,readonly:()=>wt,ref:()=>Vt,registerRuntimeCompiler:()=>vi,render:()=>Ea,renderList:()=>Mi,renderSlot:()=>wo,resolveComponent:()=>gr,resolveDirective:()=>mr,resolveDynamicComponent:()=>fr,resolveTransitionHooks:()=>Sn,setBlockTracking:()=>Or,setDevtoolsHook:()=>vo,setTransitionHooks:()=>Rn,shallowReactive:()=>It,shallowReadonly:()=>Nt,shallowRef:()=>Ft,ssrContextKey:()=>xi,ssrUtils:()=>Vi,toDisplayString:()=>ie,toHandlerKey:()=>Le,toHandlers:()=>Li,toRaw:()=>Mt,toRef:()=>Zt,toRefs:()=>Kt,transformVNodeArgs:()=>Mr,triggerRef:()=>Gt,unref:()=>Wt,useContext:()=>Ni,useCssModule:()=>Rs,useCssVars:()=>Is,useSSRContext:()=>Ai,useTransitionState:()=>yn,vModelCheckbox:()=>ea,vModelDynamic:()=>la,vModelRadio:()=>na,vModelSelect:()=>ra,vModelText:()=>ta,vShow:()=>_a,version:()=>Pi,warn:()=>Ge,watch:()=>_n,watchEffect:()=>dn,withCtx:()=>Bo,withDirectives:()=>Gn,withKeys:()=>ga,withModifiers:()=>ha,withScopeId:()=>Lo});const i={},s=()=>{},a=Object.assign,l=Object.prototype.hasOwnProperty,c=(t,e)=>l.call(t,e),u=Array.isArray,p=t=>"[object Map]"===m(t),h=t=>"function"==typeof t,d=t=>"string"==typeof t,g=t=>"symbol"==typeof t,_=t=>null!==t&&"object"==typeof t,f=Object.prototype.toString,m=t=>f.call(t),v=t=>d(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,y=t=>{const e=Object.create(null);return o=>e[o]||(e[o]=t(o))},T=/-(\w)/g,b=(y((t=>t.replace(T,((t,e)=>e?e.toUpperCase():"")))),/\B([A-Z])/g),E=(y((t=>t.replace(b,"-$1").toLowerCase())),y((t=>t.charAt(0).toUpperCase()+t.slice(1)))),S=(y((t=>t?`on${E(t)}`:"")),(t,e)=>t!==e&&(t==t||e==e));const C=new WeakMap,k=[];let R;const I=Symbol(""),w=Symbol("");function N(t,e=i){(function(t){return t&&!0===t._isEffect})(t)&&(t=t.raw);const o=function(t,e){const o=function(){if(!o.active)return e.scheduler?void 0:t();if(!k.includes(o)){A(o);try{return M.push(D),D=!0,k.push(o),R=o,t()}finally{k.pop(),B(),R=k[k.length-1]}}};return o.id=x++,o.allowRecurse=!!e.allowRecurse,o._isEffect=!0,o.active=!0,o.raw=t,o.deps=[],o.options=e,o}(t,e);return e.lazy||o(),o}function O(t){t.active&&(A(t),t.options.onStop&&t.options.onStop(),t.active=!1)}let x=0;function A(t){const{deps:e}=t;if(e.length){for(let o=0;o<e.length;o++)e[o].delete(t);e.length=0}}let D=!0;const M=[];function L(){M.push(D),D=!1}function B(){const t=M.pop();D=void 0===t||t}function P(t,e,o){if(!D||void 0===R)return;let n=C.get(t);n||C.set(t,n=new Map);let r=n.get(o);r||n.set(o,r=new Set),r.has(R)||(r.add(R),R.deps.push(r))}function V(t,e,o,n,r,i){const s=C.get(t);if(!s)return;const a=new Set,l=t=>{t&&t.forEach((t=>{(t!==R||t.allowRecurse)&&a.add(t)}))};if("clear"===e)s.forEach(l);else if("length"===o&&u(t))s.forEach(((t,e)=>{("length"===e||e>=n)&&l(t)}));else switch(void 0!==o&&l(s.get(o)),e){case"add":u(t)?v(o)&&l(s.get("length")):(l(s.get(I)),p(t)&&l(s.get(w)));break;case"delete":u(t)||(l(s.get(I)),p(t)&&l(s.get(w)));break;case"set":p(t)&&l(s.get(I))}a.forEach((t=>{t.options.scheduler?t.options.scheduler(t):t()}))}const F=r("__proto__,__v_isRef,__isVue"),U=new Set(Object.getOwnPropertyNames(Symbol).map((t=>Symbol[t])).filter(g)),H=J(),G=J(!1,!0),W=J(!0),j=J(!0,!0),X={};function J(t=!1,e=!1){return function(o,n,r){if("__v_isReactive"===n)return!t;if("__v_isReadonly"===n)return t;if("__v_raw"===n&&r===(t?e?Ct:St:e?Et:bt).get(o))return o;const i=u(o);if(!t&&i&&c(X,n))return Reflect.get(X,n,r);const s=Reflect.get(o,n,r);if(g(n)?U.has(n):F(n))return s;if(t||P(o,0,n),e)return s;if(Pt(s)){return!i||!v(n)?s.value:s}return _(s)?t?wt(s):Rt(s):s}}["includes","indexOf","lastIndexOf"].forEach((t=>{const e=Array.prototype[t];X[t]=function(...t){const o=Mt(this);for(let t=0,e=this.length;t<e;t++)P(o,0,t+"");const n=e.apply(o,t);return-1===n||!1===n?e.apply(o,t.map(Mt)):n}})),["push","pop","shift","unshift","splice"].forEach((t=>{const e=Array.prototype[t];X[t]=function(...t){L();const o=e.apply(this,t);return B(),o}}));function Y(t=!1){return function(e,o,n,r){let i=e[o];if(!t&&(n=Mt(n),i=Mt(i),!u(e)&&Pt(i)&&!Pt(n)))return i.value=n,!0;const s=u(e)&&v(o)?Number(o)<e.length:c(e,o),a=Reflect.set(e,o,n,r);return e===Mt(r)&&(s?S(n,i)&&V(e,"set",o,n):V(e,"add",o,n)),a}}const K={get:H,set:Y(),deleteProperty:function(t,e){const o=c(t,e),n=(t[e],Reflect.deleteProperty(t,e));return n&&o&&V(t,"delete",e,void 0),n},has:function(t,e){const o=Reflect.has(t,e);return g(e)&&U.has(e)||P(t,0,e),o},ownKeys:function(t){return P(t,0,u(t)?"length":I),Reflect.ownKeys(t)}},z={get:W,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},Z=a({},K,{get:G,set:Y(!0)}),$=a({},z,{get:j}),q=t=>_(t)?Rt(t):t,Q=t=>_(t)?wt(t):t,tt=t=>t,et=t=>Reflect.getPrototypeOf(t);function ot(t,e,o=!1,n=!1){const r=Mt(t=t.__v_raw),i=Mt(e);e!==i&&!o&&P(r,0,e),!o&&P(r,0,i);const{has:s}=et(r),a=n?tt:o?Q:q;return s.call(r,e)?a(t.get(e)):s.call(r,i)?a(t.get(i)):void 0}function nt(t,e=!1){const o=this.__v_raw,n=Mt(o),r=Mt(t);return t!==r&&!e&&P(n,0,t),!e&&P(n,0,r),t===r?o.has(t):o.has(t)||o.has(r)}function rt(t,e=!1){return t=t.__v_raw,!e&&P(Mt(t),0,I),Reflect.get(t,"size",t)}function it(t){t=Mt(t);const e=Mt(this);return et(e).has.call(e,t)||(e.add(t),V(e,"add",t,t)),this}function st(t,e){e=Mt(e);const o=Mt(this),{has:n,get:r}=et(o);let i=n.call(o,t);i||(t=Mt(t),i=n.call(o,t));const s=r.call(o,t);return o.set(t,e),i?S(e,s)&&V(o,"set",t,e):V(o,"add",t,e),this}function at(t){const e=Mt(this),{has:o,get:n}=et(e);let r=o.call(e,t);r||(t=Mt(t),r=o.call(e,t));n&&n.call(e,t);const i=e.delete(t);return r&&V(e,"delete",t,void 0),i}function lt(){const t=Mt(this),e=0!==t.size,o=t.clear();return e&&V(t,"clear",void 0,void 0),o}function ct(t,e){return function(o,n){const r=this,i=r.__v_raw,s=Mt(i),a=e?tt:t?Q:q;return!t&&P(s,0,I),i.forEach(((t,e)=>o.call(n,a(t),a(e),r)))}}function ut(t,e,o){return function(...n){const r=this.__v_raw,i=Mt(r),s=p(i),a="entries"===t||t===Symbol.iterator&&s,l="keys"===t&&s,c=r[t](...n),u=o?tt:e?Q:q;return!e&&P(i,0,l?w:I),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:a?[u(t[0]),u(t[1])]:u(t),done:e}},[Symbol.iterator](){return this}}}}function pt(t){return function(...e){return"delete"!==t&&this}}const ht={get(t){return ot(this,t)},get size(){return rt(this)},has:nt,add:it,set:st,delete:at,clear:lt,forEach:ct(!1,!1)},dt={get(t){return ot(this,t,!1,!0)},get size(){return rt(this)},has:nt,add:it,set:st,delete:at,clear:lt,forEach:ct(!1,!0)},gt={get(t){return ot(this,t,!0)},get size(){return rt(this,!0)},has(t){return nt.call(this,t,!0)},add:pt("add"),set:pt("set"),delete:pt("delete"),clear:pt("clear"),forEach:ct(!0,!1)},_t={get(t){return ot(this,t,!0,!0)},get size(){return rt(this,!0)},has(t){return nt.call(this,t,!0)},add:pt("add"),set:pt("set"),delete:pt("delete"),clear:pt("clear"),forEach:ct(!0,!0)};function ft(t,e){const o=e?t?_t:dt:t?gt:ht;return(e,n,r)=>"__v_isReactive"===n?!t:"__v_isReadonly"===n?t:"__v_raw"===n?e:Reflect.get(c(o,n)&&n in e?o:e,n,r)}["keys","values","entries",Symbol.iterator].forEach((t=>{ht[t]=ut(t,!1,!1),gt[t]=ut(t,!0,!1),dt[t]=ut(t,!1,!0),_t[t]=ut(t,!0,!0)}));const mt={get:ft(!1,!1)},vt={get:ft(!1,!0)},yt={get:ft(!0,!1)},Tt={get:ft(!0,!0)};const bt=new WeakMap,Et=new WeakMap,St=new WeakMap,Ct=new WeakMap;function kt(t){return t.__v_skip||!Object.isExtensible(t)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((t=>m(t).slice(8,-1))(t))}function Rt(t){return t&&t.__v_isReadonly?t:Ot(t,!1,K,mt,bt)}function It(t){return Ot(t,!1,Z,vt,Et)}function wt(t){return Ot(t,!0,z,yt,St)}function Nt(t){return Ot(t,!0,$,Tt,Ct)}function Ot(t,e,o,n,r){if(!_(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const s=kt(t);if(0===s)return t;const a=new Proxy(t,2===s?n:o);return r.set(t,a),a}function xt(t){return At(t)?xt(t.__v_raw):!(!t||!t.__v_isReactive)}function At(t){return!(!t||!t.__v_isReadonly)}function Dt(t){return xt(t)||At(t)}function Mt(t){return t&&Mt(t.__v_raw)||t}function Lt(t){return((t,e,o)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:o})})(t,"__v_skip",!0),t}const Bt=t=>_(t)?Rt(t):t;function Pt(t){return Boolean(t&&!0===t.__v_isRef)}function Vt(t){return Ht(t)}function Ft(t){return Ht(t,!0)}class Ut{constructor(t,e=!1){this._rawValue=t,this._shallow=e,this.__v_isRef=!0,this._value=e?t:Bt(t)}get value(){return P(Mt(this),0,"value"),this._value}set value(t){S(Mt(t),this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:Bt(t),V(Mt(this),"set","value",t))}}function Ht(t,e=!1){return Pt(t)?t:new Ut(t,e)}function Gt(t){V(Mt(t),"set","value",void 0)}function Wt(t){return Pt(t)?t.value:t}const jt={get:(t,e,o)=>Wt(Reflect.get(t,e,o)),set:(t,e,o,n)=>{const r=t[e];return Pt(r)&&!Pt(o)?(r.value=o,!0):Reflect.set(t,e,o,n)}};function Xt(t){return xt(t)?t:new Proxy(t,jt)}class Jt{constructor(t){this.__v_isRef=!0;const{get:e,set:o}=t((()=>P(this,0,"value")),(()=>V(this,"set","value")));this._get=e,this._set=o}get value(){return this._get()}set value(t){this._set(t)}}function Yt(t){return new Jt(t)}function Kt(t){const e=u(t)?new Array(t.length):{};for(const o in t)e[o]=Zt(t,o);return e}class zt{constructor(t,e){this._object=t,this._key=e,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(t){this._object[this._key]=t}}function Zt(t,e){return Pt(t[e])?t[e]:new zt(t,e)}class $t{constructor(t,e,o){this._setter=e,this._dirty=!0,this.__v_isRef=!0,this.effect=N(t,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,V(Mt(this),"set","value"))}}),this.__v_isReadonly=o}get value(){const t=Mt(this);return t._dirty&&(t._value=this.effect(),t._dirty=!1),P(t,0,"value"),t._value}set value(t){this._setter(t)}}function qt(t,e){const o=Object.create(null),n=t.split(",");for(let t=0;t<n.length;t++)o[n[t]]=!0;return e?t=>!!o[t.toLowerCase()]:t=>!!o[t]}const Qt=qt("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt");function te(t){if(ve(t)){const e={};for(let o=0;o<t.length;o++){const n=t[o],r=te(Ee(n)?ne(n):n);if(r)for(const t in r)e[t]=r[t]}return e}if(Se(t))return t}const ee=/;(?![^(]*\))/g,oe=/:(.+)/;function ne(t){const e={};return t.split(ee).forEach((t=>{if(t){const o=t.split(oe);o.length>1&&(e[o[0].trim()]=o[1].trim())}})),e}function re(t){let e="";if(Ee(t))e=t;else if(ve(t))for(let o=0;o<t.length;o++){const n=re(t[o]);n&&(e+=n+" ")}else if(Se(t))for(const o in t)t[o]&&(e+=o+" ");return e.trim()}const ie=t=>null==t?"":Se(t)?JSON.stringify(t,se,2):String(t),se=(t,e)=>ye(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,o])=>(t[`${e} =>`]=o,t)),{})}:Te(e)?{[`Set(${e.size})`]:[...e.values()]}:!Se(e)||ve(e)||Ie(e)?e:String(e),ae={},le=[],ce=()=>{},ue=()=>!1,pe=/^on[^a-z]/,he=t=>pe.test(t),de=t=>t.startsWith("onUpdate:"),ge=Object.assign,_e=(t,e)=>{const o=t.indexOf(e);o>-1&&t.splice(o,1)},fe=Object.prototype.hasOwnProperty,me=(t,e)=>fe.call(t,e),ve=Array.isArray,ye=t=>"[object Map]"===Re(t),Te=t=>"[object Set]"===Re(t),be=t=>"function"==typeof t,Ee=t=>"string"==typeof t,Se=t=>null!==t&&"object"==typeof t,Ce=t=>Se(t)&&be(t.then)&&be(t.catch),ke=Object.prototype.toString,Re=t=>ke.call(t),Ie=t=>"[object Object]"===Re(t),we=qt(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ne=t=>{const e=Object.create(null);return o=>e[o]||(e[o]=t(o))},Oe=/-(\w)/g,xe=Ne((t=>t.replace(Oe,((t,e)=>e?e.toUpperCase():"")))),Ae=/\B([A-Z])/g,De=Ne((t=>t.replace(Ae,"-$1").toLowerCase())),Me=Ne((t=>t.charAt(0).toUpperCase()+t.slice(1))),Le=Ne((t=>t?`on${Me(t)}`:"")),Be=(t,e)=>{for(let o=0;o<t.length;o++)t[o](e)},Pe=(t,e,o)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:o})},Ve=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Fe;const Ue=()=>Fe||(Fe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==o.g?o.g:{}),He=[];function Ge(t,...e){L();const o=He.length?He[He.length-1].component:null,n=o&&o.appContext.config.warnHandler,r=function(){let t=He[He.length-1];if(!t)return[];const e=[];for(;t;){const o=e[0];o&&o.vnode===t?o.recurseCount++:e.push({vnode:t,recurseCount:0});const n=t.component&&t.component.parent;t=n&&n.vnode}return e}();if(n)Xe(n,o,11,[t+e.join(""),o&&o.proxy,r.map((({vnode:t})=>`at <${Ci(o,t.type)}>`)).join("\n"),r]);else{const o=[`[Vue warn]: ${t}`,...e];r.length&&o.push("\n",...function(t){const e=[];return t.forEach(((t,o)=>{e.push(...0===o?[]:["\n"],...function({vnode:t,recurseCount:e}){const o=e>0?`... (${e} recursive calls)`:"",n=!!t.component&&null==t.component.parent,r=` at <${Ci(t.component,t.type,n)}`,i=">"+o;return t.props?[r,...We(t.props),i]:[r+i]}(t))})),e}(r)),console.warn(...o)}B()}function We(t){const e=[],o=Object.keys(t);return o.slice(0,3).forEach((o=>{e.push(...je(o,t[o]))})),o.length>3&&e.push(" ..."),e}function je(t,e,o){return Ee(e)?(e=JSON.stringify(e),o?e:[`${t}=${e}`]):"number"==typeof e||"boolean"==typeof e||null==e?o?e:[`${t}=${e}`]:Pt(e)?(e=je(t,Mt(e.value),!0),o?e:[`${t}=Ref<`,e,">"]):be(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Mt(e),o?e:[`${t}=`,e])}function Xe(t,e,o,n){let r;try{r=n?t(...n):t()}catch(t){Ye(t,e,o)}return r}function Je(t,e,o,n){if(be(t)){const r=Xe(t,e,o,n);return r&&Ce(r)&&r.catch((t=>{Ye(t,e,o)})),r}const r=[];for(let i=0;i<t.length;i++)r.push(Je(t[i],e,o,n));return r}function Ye(t,e,o,n=!0){e&&e.vnode;if(e){let n=e.parent;const r=e.proxy,i=o;for(;n;){const e=n.ec;if(e)for(let o=0;o<e.length;o++)if(!1===e[o](t,r,i))return;n=n.parent}const s=e.appContext.config.errorHandler;if(s)return void Xe(s,null,10,[t,r,i])}!function(t,e,o,n=!0){console.error(t)}(t,0,0,n)}let Ke=!1,ze=!1;const Ze=[];let $e=0;const qe=[];let Qe=null,to=0;const eo=[];let oo=null,no=0;const ro=Promise.resolve();let io=null,so=null;function ao(t){const e=io||ro;return t?e.then(this?t.bind(this):t):e}function lo(t){if(!(Ze.length&&Ze.includes(t,Ke&&t.allowRecurse?$e+1:$e)||t===so)){const e=function(t){let e=$e+1,o=Ze.length;const n=_o(t);for(;e<o;){const t=e+o>>>1;_o(Ze[t])<n?e=t+1:o=t}return e}(t);e>-1?Ze.splice(e,0,t):Ze.push(t),co()}}function co(){Ke||ze||(ze=!0,io=ro.then(fo))}function uo(t,e,o,n){ve(t)?o.push(...t):e&&e.includes(t,t.allowRecurse?n+1:n)||o.push(t),co()}function po(t){uo(t,oo,eo,no)}function ho(t,e=null){if(qe.length){for(so=e,Qe=[...new Set(qe)],qe.length=0,to=0;to<Qe.length;to++)Qe[to]();Qe=null,to=0,so=null,ho(t,e)}}function go(t){if(eo.length){const t=[...new Set(eo)];if(eo.length=0,oo)return void oo.push(...t);for(oo=t,oo.sort(((t,e)=>_o(t)-_o(e))),no=0;no<oo.length;no++)oo[no]();oo=null,no=0}}const _o=t=>null==t.id?1/0:t.id;function fo(t){ze=!1,Ke=!0,ho(t),Ze.sort(((t,e)=>_o(t)-_o(e)));try{for($e=0;$e<Ze.length;$e++){const t=Ze[$e];t&&Xe(t,null,14)}}finally{$e=0,Ze.length=0,go(),Ke=!1,io=null,(Ze.length||eo.length)&&fo(t)}}new Set;new Map;let mo;function vo(t){mo=t}const yo=Eo("component:added"),To=Eo("component:updated"),bo=Eo("component:removed");function Eo(t){return e=>{mo&&mo.emit(t,e.appContext.app,e.uid,e.parent?e.parent.uid:void 0,e)}}function So(t,e,...o){const n=t.vnode.props||ae;let r=o;const i=e.startsWith("update:"),s=i&&e.slice(7);if(s&&s in n){const t=`${"modelValue"===s?"model":s}Modifiers`,{number:e,trim:i}=n[t]||ae;i?r=o.map((t=>t.trim())):e&&(r=o.map(Ve))}let a;__VUE_PROD_DEVTOOLS__&&function(t,e,o){mo&&mo.emit("component:emit",t.appContext.app,t,e,o)}(t,e,r);let l=n[a=Le(e)]||n[a=Le(xe(e))];!l&&i&&(l=n[a=Le(De(e))]),l&&Je(l,t,6,r);const c=n[a+"Once"];if(c){if(t.emitted){if(t.emitted[a])return}else(t.emitted={})[a]=!0;Je(c,t,6,r)}}function Co(t,e,o=!1){if(!e.deopt&&void 0!==t.__emits)return t.__emits;const n=t.emits;let r={},i=!1;if(__VUE_OPTIONS_API__&&!be(t)){const n=t=>{const o=Co(t,e,!0);o&&(i=!0,ge(r,o))};!o&&e.mixins.length&&e.mixins.forEach(n),t.extends&&n(t.extends),t.mixins&&t.mixins.forEach(n)}return n||i?(ve(n)?n.forEach((t=>r[t]=null)):ge(r,n),t.__emits=r):t.__emits=null}function ko(t,e){return!(!t||!he(e))&&(e=e.slice(2).replace(/Once$/,""),me(t,e[0].toLowerCase()+e.slice(1))||me(t,De(e))||me(t,e))}let Ro=0;const Io=t=>Ro+=t;function wo(t,e,o={},n,r){let i=t[e];Ro++,Rr();const s=i&&No(i(o)),a=xr(Tr,{key:o.key||`_${e}`},s||(n?n():[]),s&&1===t._?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),Ro--,a}function No(t){return t.some((t=>!Ar(t)||t.type!==Er&&!(t.type===Tr&&!No(t.children))))?t:null}let Oo=null,xo=null;function Ao(t){const e=Oo;return Oo=t,xo=t&&t.type.__scopeId||null,e}function Do(t){xo=t}function Mo(){xo=null}const Lo=t=>Bo;function Bo(t,e=Oo){if(!e)return t;const o=(...o)=>{Ro||Rr(!0);const n=Ao(e),r=t(...o);return Ao(n),Ro||Ir(),r};return o._c=!0,o}function Po(t){const{type:e,vnode:o,proxy:n,withProxy:r,props:i,propsOptions:[s],slots:a,attrs:l,emit:c,render:u,renderCache:p,data:h,setupState:d,ctx:g}=t;let _;const f=Ao(t);try{let t;if(4&o.shapeFlag){const e=r||n;_=jr(u.call(e,e,p,i,d,h,g)),t=l}else{const o=e;0,_=jr(o.length>1?o(i,{attrs:l,slots:a,emit:c}):o(i,null)),t=e.props?l:Fo(l)}let f=_;if(!1!==e.inheritAttrs&&t){const e=Object.keys(t),{shapeFlag:o}=f;e.length&&(1&o||6&o)&&(s&&e.some(de)&&(t=Uo(t,s)),f=Ur(f,t))}o.dirs&&(f.dirs=f.dirs?f.dirs.concat(o.dirs):o.dirs),o.transition&&(f.transition=o.transition),_=f}catch(e){Cr.length=0,Ye(e,t,1),_=Vr(Er)}return Ao(f),_}function Vo(t){let e;for(let o=0;o<t.length;o++){const n=t[o];if(!Ar(n))return;if(n.type!==Er||"v-if"===n.children){if(e)return;e=n}}return e}const Fo=t=>{let e;for(const o in t)("class"===o||"style"===o||he(o))&&((e||(e={}))[o]=t[o]);return e},Uo=(t,e)=>{const o={};for(const n in t)de(n)&&n.slice(9)in e||(o[n]=t[n]);return o};function Ho(t,e,o){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(e[i]!==t[i]&&!ko(o,i))return!0}return!1}function Go({vnode:t,parent:e},o){for(;e&&e.subTree===t;)(t=e.vnode).el=o,e=e.parent}const Wo={name:"Suspense",__isSuspense:!0,process(t,e,o,n,r,i,s,a,l,c){null==t?function(t,e,o,n,r,i,s,a,l){const{p:c,o:{createElement:u}}=l,p=u("div"),h=t.suspense=jo(t,r,n,e,p,o,i,s,a,l);c(null,h.pendingBranch=t.ssContent,p,null,n,h,i,s),h.deps>0?(c(null,t.ssFallback,e,o,n,null,i,s),Yo(h,t.ssFallback)):h.resolve()}(e,o,n,r,i,s,a,l,c):function(t,e,o,n,r,i,s,a,{p:l,um:c,o:{createElement:u}}){const p=e.suspense=t.suspense;p.vnode=e,e.el=t.el;const h=e.ssContent,d=e.ssFallback,{activeBranch:g,pendingBranch:_,isInFallback:f,isHydrating:m}=p;if(_)p.pendingBranch=h,Dr(h,_)?(l(_,h,p.hiddenContainer,null,r,p,i,s,a),p.deps<=0?p.resolve():f&&(l(g,d,o,n,r,null,i,s,a),Yo(p,d))):(p.pendingId++,m?(p.isHydrating=!1,p.activeBranch=_):c(_,r,p),p.deps=0,p.effects.length=0,p.hiddenContainer=u("div"),f?(l(null,h,p.hiddenContainer,null,r,p,i,s,a),p.deps<=0?p.resolve():(l(g,d,o,n,r,null,i,s,a),Yo(p,d))):g&&Dr(h,g)?(l(g,h,o,n,r,p,i,s,a),p.resolve(!0)):(l(null,h,p.hiddenContainer,null,r,p,i,s,a),p.deps<=0&&p.resolve()));else if(g&&Dr(h,g))l(g,h,o,n,r,p,i,s,a),Yo(p,h);else{const t=e.props&&e.props.onPending;if(be(t)&&t(),p.pendingBranch=h,p.pendingId++,l(null,h,p.hiddenContainer,null,r,p,i,s,a),p.deps<=0)p.resolve();else{const{timeout:t,pendingId:e}=p;t>0?setTimeout((()=>{p.pendingId===e&&p.fallback(d)}),t):0===t&&p.fallback(d)}}}(t,e,o,n,r,s,a,l,c)},hydrate:function(t,e,o,n,r,i,s,a,l){const c=e.suspense=jo(e,n,o,t.parentNode,document.createElement("div"),null,r,i,s,a,!0),u=l(t,c.pendingBranch=e.ssContent,o,c,i,s);0===c.deps&&c.resolve();return u},create:jo};function jo(t,e,o,n,r,i,s,a,l,c,u=!1){const{p,m:h,um:d,n:g,o:{parentNode:_,remove:f}}=c,m=Ve(t.props&&t.props.timeout),v={vnode:t,parent:e,parentComponent:o,isSVG:s,container:n,hiddenContainer:r,anchor:i,deps:0,pendingId:0,timeout:"number"==typeof m?m:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:u,isUnmounted:!1,effects:[],resolve(t=!1){const{vnode:e,activeBranch:o,pendingBranch:n,pendingId:r,effects:i,parentComponent:s,container:a}=v;if(v.isHydrating)v.isHydrating=!1;else if(!t){const t=o&&n.transition&&"out-in"===n.transition.mode;t&&(o.transition.afterLeave=()=>{r===v.pendingId&&h(n,a,e,0)});let{anchor:e}=v;o&&(e=g(o),d(o,s,v,!0)),t||h(n,a,e,0)}Yo(v,n),v.pendingBranch=null,v.isInFallback=!1;let l=v.parent,c=!1;for(;l;){if(l.pendingBranch){l.effects.push(...i),c=!0;break}l=l.parent}c||po(i),v.effects=[];const u=e.props&&e.props.onResolve;be(u)&&u()},fallback(t){if(!v.pendingBranch)return;const{vnode:e,activeBranch:o,parentComponent:n,container:r,isSVG:i}=v,s=e.props&&e.props.onFallback;be(s)&&s();const c=g(o),u=()=>{v.isInFallback&&(p(null,t,r,c,n,null,i,a,l),Yo(v,t))},h=t.transition&&"out-in"===t.transition.mode;h&&(o.transition.afterLeave=u),d(o,n,null,!0),v.isInFallback=!0,h||u()},move(t,e,o){v.activeBranch&&h(v.activeBranch,t,e,o),v.container=t},next:()=>v.activeBranch&&g(v.activeBranch),registerDep(t,e){const o=!!v.pendingBranch;o&&v.deps++;const n=t.vnode.el;t.asyncDep.catch((e=>{Ye(e,t,0)})).then((r=>{if(t.isUnmounted||v.isUnmounted||v.pendingId!==t.suspenseId)return;t.asyncResolved=!0;const{vnode:i}=t;fi(t,r,!1),n&&(i.el=n);const a=!n&&t.subTree.el;e(t,i,_(n||t.subTree.el),n?null:g(t.subTree),v,s,l),a&&f(a),Go(t,i.el),o&&0==--v.deps&&v.resolve()}))},unmount(t,e){v.isUnmounted=!0,v.activeBranch&&d(v.activeBranch,o,t,e),v.pendingBranch&&d(v.pendingBranch,o,t,e)}};return v}function Xo(t){if(be(t)&&(t=t()),ve(t)){0,t=Vo(t)}return jr(t)}function Jo(t,e){e&&e.pendingBranch?ve(t)?e.effects.push(...t):e.effects.push(t):po(t)}function Yo(t,e){t.activeBranch=e;const{vnode:o,parentComponent:n}=t,r=o.el=e.el;n&&n.subTree===o&&(n.vnode.el=r,Go(n,r))}function Ko(t,e,o,n){const[r,i]=t.propsOptions;if(e)for(const i in e){const s=e[i];if(we(i))continue;let a;r&&me(r,a=xe(i))?o[a]=s:ko(t.emitsOptions,i)||(n[i]=s)}if(i){const e=Mt(o);for(let n=0;n<i.length;n++){const s=i[n];o[s]=zo(r,e,s,e[s],t)}}}function zo(t,e,o,n,r){const i=t[o];if(null!=i){const t=me(i,"default");if(t&&void 0===n){const t=i.default;if(i.type!==Function&&be(t)){const{propsDefaults:i}=r;o in i?n=i[o]:(hi(r),n=i[o]=t(e),hi(null))}else n=t}i[0]&&(me(e,o)||t?!i[1]||""!==n&&n!==De(o)||(n=!0):n=!1)}return n}function Zo(t,e,o=!1){if(!e.deopt&&t.__props)return t.__props;const n=t.props,r={},i=[];let s=!1;if(__VUE_OPTIONS_API__&&!be(t)){const n=t=>{s=!0;const[o,n]=Zo(t,e,!0);ge(r,o),n&&i.push(...n)};!o&&e.mixins.length&&e.mixins.forEach(n),t.extends&&n(t.extends),t.mixins&&t.mixins.forEach(n)}if(!n&&!s)return t.__props=le;if(ve(n))for(let t=0;t<n.length;t++){0;const e=xe(n[t]);$o(e)&&(r[e]=ae)}else if(n){0;for(const t in n){const e=xe(t);if($o(e)){const o=n[t],s=r[e]=ve(o)||be(o)?{type:o}:o;if(s){const t=tn(Boolean,s.type),o=tn(String,s.type);s[0]=t>-1,s[1]=o<0||t<o,(t>-1||me(s,"default"))&&i.push(e)}}}}return t.__props=[r,i]}function $o(t){return"$"!==t[0]}function qo(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Qo(t,e){return qo(t)===qo(e)}function tn(t,e){return ve(e)?e.findIndex((e=>Qo(e,t))):be(e)&&Qo(e,t)?0:-1}function en(t,e,o=ui,n=!1){if(o){const r=o[t]||(o[t]=[]),i=e.__weh||(e.__weh=(...n)=>{if(o.isUnmounted)return;L(),hi(o);const r=Je(e,o,t,n);return hi(null),B(),r});return n?r.unshift(i):r.push(i),i}}const on=t=>(e,o=ui)=>!_i&&en(t,e,o),nn=on("bm"),rn=on("m"),sn=on("bu"),an=on("u"),ln=on("bum"),cn=on("um"),un=on("rtg"),pn=on("rtc"),hn=(t,e=ui)=>{en("ec",t,e)};function dn(t,e){return fn(t,null,e)}const gn={};function _n(t,e,o){return fn(t,e,o)}function fn(t,e,{immediate:o,deep:n,flush:r,onTrack:i,onTrigger:s}=ae,a=ui){let l,c,u=!1;if(Pt(t)?(l=()=>t.value,u=!!t._shallow):xt(t)?(l=()=>t,n=!0):l=ve(t)?()=>t.map((t=>Pt(t)?t.value:xt(t)?vn(t):be(t)?Xe(t,a,2,[a&&a.proxy]):void 0)):be(t)?e?()=>Xe(t,a,2,[a&&a.proxy]):()=>{if(!a||!a.isUnmounted)return c&&c(),Je(t,a,3,[p])}:ce,e&&n){const t=l;l=()=>vn(t())}let p=t=>{c=_.options.onStop=()=>{Xe(t,a,4)}},h=ve(t)?[]:gn;const d=()=>{if(_.active)if(e){const t=_();(n||u||((t,e)=>t!==e&&(t==t||e==e))(t,h))&&(c&&c(),Je(e,a,3,[t,h===gn?void 0:h,p]),h=t)}else _()};let g;d.allowRecurse=!!e,g="sync"===r?d:"post"===r?()=>er(d,a&&a.suspense):()=>{!a||a.isMounted?function(t){uo(t,Qe,qe,to)}(d):d()};const _=N(l,{lazy:!0,onTrack:i,onTrigger:s,scheduler:g});return bi(_,a),e?o?d():h=_():"post"===r?er(_,a&&a.suspense):_(),()=>{O(_),a&&_e(a.effects,_)}}function mn(t,e,o){const n=this.proxy;return fn(Ee(t)?()=>n[t]:t.bind(n),e.bind(n),o,this)}function vn(t,e=new Set){if(!Se(t)||e.has(t))return t;if(e.add(t),Pt(t))vn(t.value,e);else if(ve(t))for(let o=0;o<t.length;o++)vn(t[o],e);else if(Te(t)||ye(t))t.forEach((t=>{vn(t,e)}));else for(const o in t)vn(t[o],e);return t}function yn(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return rn((()=>{t.isMounted=!0})),ln((()=>{t.isUnmounting=!0})),t}const Tn=[Function,Array],bn={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Tn,onEnter:Tn,onAfterEnter:Tn,onEnterCancelled:Tn,onBeforeLeave:Tn,onLeave:Tn,onAfterLeave:Tn,onLeaveCancelled:Tn,onBeforeAppear:Tn,onAppear:Tn,onAfterAppear:Tn,onAppearCancelled:Tn},setup(t,{slots:e}){const o=pi(),n=yn();let r;return()=>{const i=e.default&&In(e.default(),!0);if(!i||!i.length)return;const s=Mt(t),{mode:a}=s;const l=i[0];if(n.isLeaving)return Cn(l);const c=kn(l);if(!c)return Cn(l);const u=Sn(c,s,n,o);Rn(c,u);const p=o.subTree,h=p&&kn(p);let d=!1;const{getTransitionKey:g}=c.type;if(g){const t=g();void 0===r?r=t:t!==r&&(r=t,d=!0)}if(h&&h.type!==Er&&(!Dr(c,h)||d)){const t=Sn(h,s,n,o);if(Rn(h,t),"out-in"===a)return n.isLeaving=!0,t.afterLeave=()=>{n.isLeaving=!1,o.update()},Cn(l);"in-out"===a&&c.type!==Er&&(t.delayLeave=(t,e,o)=>{En(n,h)[String(h.key)]=h,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=o})}return l}}};function En(t,e){const{leavingVNodes:o}=t;let n=o.get(e.type);return n||(n=Object.create(null),o.set(e.type,n)),n}function Sn(t,e,o,n){const{appear:r,mode:i,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:p,onLeave:h,onAfterLeave:d,onLeaveCancelled:g,onBeforeAppear:_,onAppear:f,onAfterAppear:m,onAppearCancelled:v}=e,y=String(t.key),T=En(o,t),b=(t,e)=>{t&&Je(t,n,9,e)},E={mode:i,persisted:s,beforeEnter(e){let n=a;if(!o.isMounted){if(!r)return;n=_||a}e._leaveCb&&e._leaveCb(!0);const i=T[y];i&&Dr(t,i)&&i.el._leaveCb&&i.el._leaveCb(),b(n,[e])},enter(t){let e=l,n=c,i=u;if(!o.isMounted){if(!r)return;e=f||l,n=m||c,i=v||u}let s=!1;const a=t._enterCb=e=>{s||(s=!0,b(e?i:n,[t]),E.delayedLeave&&E.delayedLeave(),t._enterCb=void 0)};e?(e(t,a),e.length<=1&&a()):a()},leave(e,n){const r=String(t.key);if(e._enterCb&&e._enterCb(!0),o.isUnmounting)return n();b(p,[e]);let i=!1;const s=e._leaveCb=o=>{i||(i=!0,n(),b(o?g:d,[e]),e._leaveCb=void 0,T[r]===t&&delete T[r])};T[r]=t,h?(h(e,s),h.length<=1&&s()):s()},clone:t=>Sn(t,e,o,n)};return E}function Cn(t){if(wn(t))return(t=Ur(t)).children=null,t}function kn(t){return wn(t)?t.children?t.children[0]:void 0:t}function Rn(t,e){6&t.shapeFlag&&t.component?Rn(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function In(t,e=!1){let o=[],n=0;for(let r=0;r<t.length;r++){const i=t[r];i.type===Tr?(128&i.patchFlag&&n++,o=o.concat(In(i.children,e))):(e||i.type!==Er)&&o.push(i)}if(n>1)for(let t=0;t<o.length;t++)o[t].patchFlag=-2;return o}const wn=t=>t.type.__isKeepAlive,Nn={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const o=pi(),n=o.ctx;if(!n.renderer)return e.default;const r=new Map,i=new Set;let s=null;const a=o.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:p}}}=n,h=p("div");function d(t){Ln(t),u(t,o,a)}function g(t){r.forEach(((e,o)=>{const n=Si(e.type);!n||t&&t(n)||_(o)}))}function _(t){const e=r.get(t);s&&e.type===s.type?s&&Ln(s):d(e),r.delete(t),i.delete(t)}n.activate=(t,e,o,n,r)=>{const i=t.component;c(t,e,o,0,a),l(i.vnode,t,e,o,i,a,n,t.slotScopeIds,r),er((()=>{i.isDeactivated=!1,i.a&&Be(i.a);const e=t.props&&t.props.onVnodeMounted;e&&sr(e,i.parent,t)}),a)},n.deactivate=t=>{const e=t.component;c(t,h,null,1,a),er((()=>{e.da&&Be(e.da);const o=t.props&&t.props.onVnodeUnmounted;o&&sr(o,e.parent,t),e.isDeactivated=!0}),a)},_n((()=>[t.include,t.exclude]),(([t,e])=>{t&&g((e=>On(t,e))),e&&g((t=>!On(e,t)))}),{flush:"post",deep:!0});let f=null;const m=()=>{null!=f&&r.set(f,Bn(o.subTree))};return rn(m),an(m),ln((()=>{r.forEach((t=>{const{subTree:e,suspense:n}=o,r=Bn(e);if(t.type!==r.type)d(t);else{Ln(r);const t=r.component.da;t&&er(t,n)}}))})),()=>{if(f=null,!e.default)return null;const o=e.default(),n=o[0];if(o.length>1)return s=null,o;if(!(Ar(n)&&(4&n.shapeFlag||128&n.shapeFlag)))return s=null,n;let a=Bn(n);const l=a.type,c=Si(l),{include:u,exclude:p,max:h}=t;if(u&&(!c||!On(u,c))||p&&c&&On(p,c))return s=a,n;const d=null==a.key?l:a.key,g=r.get(d);return a.el&&(a=Ur(a),128&n.shapeFlag&&(n.ssContent=a)),f=d,g?(a.el=g.el,a.component=g.component,a.transition&&Rn(a,a.transition),a.shapeFlag|=512,i.delete(d),i.add(d)):(i.add(d),h&&i.size>parseInt(h,10)&&_(i.values().next().value)),a.shapeFlag|=256,s=a,n}}};function On(t,e){return ve(t)?t.some((t=>On(t,e))):Ee(t)?t.split(",").indexOf(e)>-1:!!t.test&&t.test(e)}function xn(t,e){Dn(t,"a",e)}function An(t,e){Dn(t,"da",e)}function Dn(t,e,o=ui){const n=t.__wdc||(t.__wdc=()=>{let e=o;for(;e;){if(e.isDeactivated)return;e=e.parent}t()});if(en(e,n,o),o){let t=o.parent;for(;t&&t.parent;)wn(t.parent.vnode)&&Mn(n,e,o,t),t=t.parent}}function Mn(t,e,o,n){const r=en(e,t,n,!0);cn((()=>{_e(n[e],r)}),o)}function Ln(t){let e=t.shapeFlag;256&e&&(e-=256),512&e&&(e-=512),t.shapeFlag=e}function Bn(t){return 128&t.shapeFlag?t.ssContent:t}const Pn=t=>"_"===t[0]||"$stable"===t,Vn=t=>ve(t)?t.map(jr):[jr(t)],Fn=(t,e,o)=>Bo((t=>Vn(e(t))),o),Un=(t,e)=>{const o=t._ctx;for(const n in t){if(Pn(n))continue;const r=t[n];if(be(r))e[n]=Fn(0,r,o);else if(null!=r){0;const t=Vn(r);e[n]=()=>t}}},Hn=(t,e)=>{const o=Vn(e);t.slots.default=()=>o};function Gn(t,e){if(null===Oo)return t;const o=Oo.proxy,n=t.dirs||(t.dirs=[]);for(let t=0;t<e.length;t++){let[r,i,s,a=ae]=e[t];be(r)&&(r={mounted:r,updated:r}),n.push({dir:r,instance:o,value:i,oldValue:void 0,arg:s,modifiers:a})}return t}function Wn(t,e,o,n){const r=t.dirs,i=e&&e.dirs;for(let s=0;s<r.length;s++){const a=r[s];i&&(a.oldValue=i[s].value);const l=a.dir[n];l&&Je(l,o,8,[t.el,a,t,e])}}function jn(){return{app:null,config:{isNativeTag:ue,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:ue,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}let Xn=0;function Jn(t,e){return function(o,n=null){null==n||Se(n)||(n=null);const r=jn(),i=new Set;let s=!1;const a=r.app={_uid:Xn++,_component:o,_props:n,_container:null,_context:r,version:Pi,get config(){return r.config},set config(t){0},use:(t,...e)=>(i.has(t)||(t&&be(t.install)?(i.add(t),t.install(a,...e)):be(t)&&(i.add(t),t(a,...e))),a),mixin:t=>(__VUE_OPTIONS_API__&&(r.mixins.includes(t)||(r.mixins.push(t),(t.props||t.emits)&&(r.deopt=!0))),a),component:(t,e)=>e?(r.components[t]=e,a):r.components[t],directive:(t,e)=>e?(r.directives[t]=e,a):r.directives[t],mount(i,l,c){if(!s){const u=Vr(o,n);return u.appContext=r,l&&e?e(u,i):t(u,i,c),s=!0,a._container=i,i.__vue_app__=a,__VUE_PROD_DEVTOOLS__&&function(t,e){mo&&mo.emit("app:init",t,e,{Fragment:Tr,Text:br,Comment:Er,Static:Sr})}(a,Pi),u.component.proxy}},unmount(){s&&(t(null,a._container),__VUE_PROD_DEVTOOLS__&&function(t){mo&&mo.emit("app:unmount",t)}(a),delete a._container.__vue_app__)},provide:(t,e)=>(r.provides[t]=e,a)};return a}}let Yn=!1;const Kn=t=>/svg/.test(t.namespaceURI)&&"foreignObject"!==t.tagName,zn=t=>8===t.nodeType;function Zn(t){const{mt:e,p:o,o:{patchProp:n,nextSibling:r,parentNode:i,remove:s,insert:a,createComment:l}}=t,c=(o,n,s,a,l,_=!1)=>{const f=zn(o)&&"["===o.data,m=()=>d(o,n,s,a,l,f),{type:v,ref:y,shapeFlag:T}=n,b=o.nodeType;n.el=o;let E=null;switch(v){case br:3!==b?E=m():(o.data!==n.children&&(Yn=!0,o.data=n.children),E=r(o));break;case Er:E=8!==b||f?m():r(o);break;case Sr:if(1===b){E=o;const t=!n.children.length;for(let e=0;e<n.staticCount;e++)t&&(n.children+=E.outerHTML),e===n.staticCount-1&&(n.anchor=E),E=r(E);return E}E=m();break;case Tr:E=f?h(o,n,s,a,l,_):m();break;default:if(1&T)E=1!==b||n.type.toLowerCase()!==o.tagName.toLowerCase()?m():u(o,n,s,a,l,_);else if(6&T){n.slotScopeIds=l;const t=i(o),c=()=>{e(n,t,null,s,a,Kn(t),_)},u=n.type.__asyncLoader;u?u().then(c):c(),E=f?g(o):r(o)}else 64&T?E=8!==b?m():n.type.hydrate(o,n,s,a,l,_,t,p):128&T&&(E=n.type.hydrate(o,n,s,a,Kn(i(o)),l,_,t,c))}return null!=y&&or(y,null,a,n),E},u=(t,e,o,r,i,a)=>{a=a||!!e.dynamicChildren;const{props:l,patchFlag:c,shapeFlag:u,dirs:h}=e;if(-1!==c){if(h&&Wn(e,null,o,"created"),l)if(!a||16&c||32&c)for(const e in l)!we(e)&&he(e)&&n(t,e,null,l[e]);else l.onClick&&n(t,"onClick",null,l.onClick);let d;if((d=l&&l.onVnodeBeforeMount)&&sr(d,o,e),h&&Wn(e,null,o,"beforeMount"),((d=l&&l.onVnodeMounted)||h)&&Jo((()=>{d&&sr(d,o,e),h&&Wn(e,null,o,"mounted")}),r),16&u&&(!l||!l.innerHTML&&!l.textContent)){let n=p(t.firstChild,e,t,o,r,i,a);for(;n;){Yn=!0;const t=n;n=n.nextSibling,s(t)}}else 8&u&&t.textContent!==e.children&&(Yn=!0,t.textContent=e.children)}return t.nextSibling},p=(t,e,n,r,i,s,a)=>{a=a||!!e.dynamicChildren;const l=e.children,u=l.length;for(let e=0;e<u;e++){const u=a?l[e]:l[e]=jr(l[e]);if(t)t=c(t,u,r,i,s,a);else{if(u.type===br&&!u.children)continue;Yn=!0,o(null,u,n,null,r,i,Kn(n),s)}}return t},h=(t,e,o,n,s,c)=>{const{slotScopeIds:u}=e;u&&(s=s?s.concat(u):u);const h=i(t),d=p(r(t),e,h,o,n,s,c);return d&&zn(d)&&"]"===d.data?r(e.anchor=d):(Yn=!0,a(e.anchor=l("]"),h,d),d)},d=(t,e,n,a,l,c)=>{if(Yn=!0,e.el=null,c){const e=g(t);for(;;){const o=r(t);if(!o||o===e)break;s(o)}}const u=r(t),p=i(t);return s(t),o(null,e,p,u,n,a,Kn(p),l),u},g=t=>{let e=0;for(;t;)if((t=r(t))&&zn(t)&&("["===t.data&&e++,"]"===t.data)){if(0===e)return r(t);e--}return t};return[(t,e)=>{Yn=!1,c(e.firstChild,t,null,null,null),go(),Yn&&console.error("Hydration completed but contains mismatches.")},c]}function $n(t){return be(t)?{setup:t,name:t.name}:t}function qn(t){be(t)&&(t={loader:t});const{loader:e,loadingComponent:o,errorComponent:n,delay:r=200,timeout:i,suspensible:s=!0,onError:a}=t;let l,c=null,u=0;const p=()=>{let t;return c||(t=c=e().catch((t=>{if(t=t instanceof Error?t:new Error(String(t)),a)return new Promise(((e,o)=>{a(t,(()=>e((u++,c=null,p()))),(()=>o(t)),u+1)}));throw t})).then((e=>t!==c&&c?c:(e&&(e.__esModule||"Module"===e[Symbol.toStringTag])&&(e=e.default),l=e,e))))};return $n({__asyncLoader:p,name:"AsyncComponentWrapper",setup(){const t=ui;if(l)return()=>Qn(l,t);const e=e=>{c=null,Ye(e,t,13,!n)};if(s&&t.suspense)return p().then((e=>()=>Qn(e,t))).catch((t=>(e(t),()=>n?Vr(n,{error:t}):null)));const a=Vt(!1),u=Vt(),h=Vt(!!r);return r&&setTimeout((()=>{h.value=!1}),r),null!=i&&setTimeout((()=>{if(!a.value&&!u.value){const t=new Error(`Async component timed out after ${i}ms.`);e(t),u.value=t}}),i),p().then((()=>{a.value=!0})).catch((t=>{e(t),u.value=t})),()=>a.value&&l?Qn(l,t):u.value&&n?Vr(n,{error:u.value}):o&&!h.value?Vr(o):void 0}})}function Qn(t,{vnode:{ref:e,props:o,children:n}}){const r=Vr(t,o,n);return r.ref=e,r}const tr={scheduler:lo,allowRecurse:!0};const er=Jo,or=(t,e,o,n)=>{if(ve(t))return void t.forEach(((t,r)=>or(t,e&&(ve(e)?e[r]:e),o,n)));let r;if(n){if(n.type.__asyncLoader)return;r=4&n.shapeFlag?n.component.exposed||n.component.proxy:n.el}else r=null;const{i,r:s}=t;const a=e&&e.r,l=i.refs===ae?i.refs={}:i.refs,c=i.setupState;if(null!=a&&a!==s&&(Ee(a)?(l[a]=null,me(c,a)&&(c[a]=null)):Pt(a)&&(a.value=null)),Ee(s)){const t=()=>{l[s]=r,me(c,s)&&(c[s]=r)};r?(t.id=-1,er(t,o)):t()}else if(Pt(s)){const t=()=>{s.value=r};r?(t.id=-1,er(t,o)):t()}else be(s)&&Xe(s,i,12,[r,l])};function nr(t){return ir(t)}function rr(t){return ir(t,Zn)}function ir(t,e){if(function(){let t=!1;"boolean"!=typeof __VUE_OPTIONS_API__&&(t=!0,Ue().__VUE_OPTIONS_API__=!0),"boolean"!=typeof __VUE_PROD_DEVTOOLS__&&(t=!0,Ue().__VUE_PROD_DEVTOOLS__=!1)}(),__VUE_PROD_DEVTOOLS__){const t=Ue();t.__VUE__=!0,vo(t.__VUE_DEVTOOLS_GLOBAL_HOOK__)}const{insert:o,remove:n,patchProp:r,forcePatchProp:i,createElement:s,createText:a,createComment:l,setText:c,setElementText:u,parentNode:p,nextSibling:h,setScopeId:d=ce,cloneNode:g,insertStaticContent:_}=t,f=(t,e,o,n=null,r=null,i=null,s=!1,a=null,l=!1)=>{t&&!Dr(t,e)&&(n=K(t),W(t,r,i,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:c,ref:u,shapeFlag:p}=e;switch(c){case br:m(t,e,o,n);break;case Er:v(t,e,o,n);break;case Sr:null==t&&y(e,o,n,s);break;case Tr:w(t,e,o,n,r,i,s,a,l);break;default:1&p?b(t,e,o,n,r,i,s,a,l):6&p?x(t,e,o,n,r,i,s,a,l):(64&p||128&p)&&c.process(t,e,o,n,r,i,s,a,l,Z)}null!=u&&r&&or(u,t&&t.ref,i,e)},m=(t,e,n,r)=>{if(null==t)o(e.el=a(e.children),n,r);else{const o=e.el=t.el;e.children!==t.children&&c(o,e.children)}},v=(t,e,n,r)=>{null==t?o(e.el=l(e.children||""),n,r):e.el=t.el},y=(t,e,o,n)=>{[t.el,t.anchor]=_(t.children,e,o,n)},T=({el:t,anchor:e})=>{let o;for(;t&&t!==e;)o=h(t),n(t),t=o;n(e)},b=(t,e,o,n,r,i,s,a,l)=>{s=s||"svg"===e.type,null==t?E(e,o,n,r,i,s,a,l):k(t,e,r,i,s,a,l)},E=(t,e,n,i,a,l,c,p)=>{let h,d;const{type:_,props:f,shapeFlag:m,transition:v,patchFlag:y,dirs:T}=t;if(t.el&&void 0!==g&&-1===y)h=t.el=g(t.el);else{if(h=t.el=s(t.type,l,f&&f.is,f),8&m?u(h,t.children):16&m&&C(t.children,h,null,i,a,l&&"foreignObject"!==_,c,p||!!t.dynamicChildren),T&&Wn(t,null,i,"created"),f){for(const e in f)we(e)||r(h,e,null,f[e],l,t.children,i,a,Y);(d=f.onVnodeBeforeMount)&&sr(d,i,t)}S(h,t,t.scopeId,c,i)}__VUE_PROD_DEVTOOLS__&&(Object.defineProperty(h,"__vnode",{value:t,enumerable:!1}),Object.defineProperty(h,"__vueParentComponent",{value:i,enumerable:!1})),T&&Wn(t,null,i,"beforeMount");const b=(!a||a&&!a.pendingBranch)&&v&&!v.persisted;b&&v.beforeEnter(h),o(h,e,n),((d=f&&f.onVnodeMounted)||b||T)&&er((()=>{d&&sr(d,i,t),b&&v.enter(h),T&&Wn(t,null,i,"mounted")}),a)},S=(t,e,o,n,r)=>{if(o&&d(t,o),n)for(let e=0;e<n.length;e++)d(t,n[e]);if(r){if(e===r.subTree){const e=r.vnode;S(t,e,e.scopeId,e.slotScopeIds,r.parent)}}},C=(t,e,o,n,r,i,s,a,l=0)=>{for(let c=l;c<t.length;c++){const l=t[c]=s?Xr(t[c]):jr(t[c]);f(null,l,e,o,n,r,i,s,a)}},k=(t,e,o,n,s,a,l)=>{const c=e.el=t.el;let{patchFlag:p,dynamicChildren:h,dirs:d}=e;p|=16&t.patchFlag;const g=t.props||ae,_=e.props||ae;let f;if((f=_.onVnodeBeforeUpdate)&&sr(f,o,e,t),d&&Wn(e,t,o,"beforeUpdate"),p>0){if(16&p)I(c,e,g,_,o,n,s);else if(2&p&&g.class!==_.class&&r(c,"class",null,_.class,s),4&p&&r(c,"style",g.style,_.style,s),8&p){const a=e.dynamicProps;for(let e=0;e<a.length;e++){const l=a[e],u=g[l],p=_[l];(p!==u||i&&i(c,l))&&r(c,l,u,p,s,t.children,o,n,Y)}}1&p&&t.children!==e.children&&u(c,e.children)}else l||null!=h||I(c,e,g,_,o,n,s);const m=s&&"foreignObject"!==e.type;h?R(t.dynamicChildren,h,c,o,n,m,a):l||F(t,e,c,null,o,n,m,a,!1),((f=_.onVnodeUpdated)||d)&&er((()=>{f&&sr(f,o,e,t),d&&Wn(e,t,o,"updated")}),n)},R=(t,e,o,n,r,i,s)=>{for(let a=0;a<e.length;a++){const l=t[a],c=e[a],u=l.type===Tr||!Dr(l,c)||6&l.shapeFlag||64&l.shapeFlag?p(l.el):o;f(l,c,u,null,n,r,i,s,!0)}},I=(t,e,o,n,s,a,l)=>{if(o!==n){for(const c in n){if(we(c))continue;const u=n[c],p=o[c];(u!==p||i&&i(t,c))&&r(t,c,p,u,l,e.children,s,a,Y)}if(o!==ae)for(const i in o)we(i)||i in n||r(t,i,o[i],null,l,e.children,s,a,Y)}},w=(t,e,n,r,i,s,l,c,u)=>{const p=e.el=t?t.el:a(""),h=e.anchor=t?t.anchor:a("");let{patchFlag:d,dynamicChildren:g,slotScopeIds:_}=e;d>0&&(u=!0),_&&(c=c?c.concat(_):_),null==t?(o(p,n,r),o(h,n,r),C(e.children,n,h,i,s,l,c,u)):d>0&&64&d&&g&&t.dynamicChildren?(R(t.dynamicChildren,g,n,i,s,l,c),(null!=e.key||i&&e===i.subTree)&&ar(t,e,!0)):F(t,e,n,h,i,s,l,c,u)},x=(t,e,o,n,r,i,s,a,l)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?r.ctx.activate(e,o,n,s,l):A(e,o,n,r,i,s,l):D(t,e,l)},A=(t,e,o,n,r,i,s)=>{const a=t.component=function(t,e,o){const n=t.type,r=(e?e.appContext:t.appContext)||li,i={uid:ci++,vnode:t,type:n,parent:e,appContext:r,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,withProxy:null,effects:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Zo(n,r),emitsOptions:Co(n,r),emit:null,emitted:null,propsDefaults:ae,ctx:ae,data:ae,props:ae,attrs:ae,slots:ae,refs:ae,setupState:ae,setupContext:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};i.ctx={_:i};return i.root=e?e.root:i,i.emit=So.bind(null,i),i}(t,n,r);if(wn(t)&&(a.ctx.renderer=Z),function(t,e=!1){_i=e;const{props:o,children:n}=t.vnode,r=di(t);(function(t,e,o,n=!1){const r={},i={};Pe(i,Lr,1),t.propsDefaults=Object.create(null),Ko(t,e,r,i),o?t.props=n?r:It(r):t.type.props?t.props=r:t.props=i,t.attrs=i})(t,o,r,e),((t,e)=>{if(32&t.vnode.shapeFlag){const o=e._;o?(t.slots=e,Pe(e,"_",o)):Un(e,t.slots={})}else t.slots={},e&&Hn(t,e);Pe(t.slots,Lr,1)})(t,n);const i=r?function(t,e){const o=t.type;0;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,si),!1;const{setup:n}=o;if(n){const o=t.setupContext=n.length>1?Ti(t):null;ui=t,L();const r=Xe(n,t,0,[t.props,o]);if(B(),ui=null,Ce(r)){if(e)return r.then((o=>{fi(t,o,e)})).catch((e=>{Ye(e,t,0)}));t.asyncDep=r}else fi(t,r,e)}else yi(t,e)}(t,e):void 0;_i=!1}(a),a.asyncDep){if(r&&r.registerDep(a,M),!t.el){const t=a.subTree=Vr(Er);v(null,t,e,o)}}else M(a,t,e,o,r,i,s)},D=(t,e,o)=>{const n=e.component=t.component;if(function(t,e,o){const{props:n,children:r,component:i}=t,{props:s,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(!(o&&l>=0))return!(!r&&!a||a&&a.$stable)||n!==s&&(n?!s||Ho(n,s,c):!!s);if(1024&l)return!0;if(16&l)return n?Ho(n,s,c):!!s;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const o=t[e];if(s[o]!==n[o]&&!ko(c,o))return!0}}return!1}(t,e,o)){if(n.asyncDep&&!n.asyncResolved)return void P(n,e,o);n.next=e,function(t){const e=Ze.indexOf(t);e>$e&&Ze.splice(e,1)}(n.update),n.update()}else e.component=t.component,e.el=t.el,n.vnode=e},M=(t,e,o,n,r,i,s)=>{t.update=N((function(){if(t.isMounted){let e,{next:o,bu:n,u:a,parent:l,vnode:c}=t,u=o;0,o?(o.el=c.el,P(t,o,s)):o=c,n&&Be(n),(e=o.props&&o.props.onVnodeBeforeUpdate)&&sr(e,l,o,c);const h=Po(t);0;const d=t.subTree;t.subTree=h,f(d,h,p(d.el),K(d),t,r,i),o.el=h.el,null===u&&Go(t,h.el),a&&er(a,r),(e=o.props&&o.props.onVnodeUpdated)&&er((()=>{sr(e,l,o,c)}),r),__VUE_PROD_DEVTOOLS__&&To(t)}else{let s;const{el:a,props:l}=e,{bm:c,m:u,parent:p}=t;c&&Be(c),(s=l&&l.onVnodeBeforeMount)&&sr(s,p,e);const h=t.subTree=Po(t);if(a&&q?q(e.el,h,t,r,null):(f(null,h,o,n,t,r,i),e.el=h.el),u&&er(u,r),s=l&&l.onVnodeMounted){const t=e;er((()=>{sr(s,p,t)}),r)}const{a:d}=t;d&&256&e.shapeFlag&&er(d,r),t.isMounted=!0,__VUE_PROD_DEVTOOLS__&&yo(t),e=o=n=null}}),tr)},P=(t,e,o)=>{e.component=t;const n=t.vnode.props;t.vnode=e,t.next=null,function(t,e,o,n){const{props:r,attrs:i,vnode:{patchFlag:s}}=t,a=Mt(r),[l]=t.propsOptions;if(!(n||s>0)||16&s){let n;Ko(t,e,r,i);for(const i in a)e&&(me(e,i)||(n=De(i))!==i&&me(e,n))||(l?!o||void 0===o[i]&&void 0===o[n]||(r[i]=zo(l,e||ae,i,void 0,t)):delete r[i]);if(i!==a)for(const t in i)e&&me(e,t)||delete i[t]}else if(8&s){const o=t.vnode.dynamicProps;for(let n=0;n<o.length;n++){const s=o[n],c=e[s];if(l)if(me(i,s))i[s]=c;else{const e=xe(s);r[e]=zo(l,a,e,c,t)}else i[s]=c}}V(t,"set","$attrs")}(t,e.props,n,o),((t,e,o)=>{const{vnode:n,slots:r}=t;let i=!0,s=ae;if(32&n.shapeFlag){const t=e._;t?o&&1===t?i=!1:(ge(r,e),o||1!==t||delete r._):(i=!e.$stable,Un(e,r)),s=e}else e&&(Hn(t,e),s={default:1});if(i)for(const t in r)Pn(t)||t in s||delete r[t]})(t,e.children,o),L(),ho(void 0,t.update),B()},F=(t,e,o,n,r,i,s,a,l=!1)=>{const c=t&&t.children,p=t?t.shapeFlag:0,h=e.children,{patchFlag:d,shapeFlag:g}=e;if(d>0){if(128&d)return void H(c,h,o,n,r,i,s,a,l);if(256&d)return void U(c,h,o,n,r,i,s,a,l)}8&g?(16&p&&Y(c,r,i),h!==c&&u(o,h)):16&p?16&g?H(c,h,o,n,r,i,s,a,l):Y(c,r,i,!0):(8&p&&u(o,""),16&g&&C(h,o,n,r,i,s,a,l))},U=(t,e,o,n,r,i,s,a,l)=>{e=e||le;const c=(t=t||le).length,u=e.length,p=Math.min(c,u);let h;for(h=0;h<p;h++){const n=e[h]=l?Xr(e[h]):jr(e[h]);f(t[h],n,o,null,r,i,s,a,l)}c>u?Y(t,r,i,!0,!1,p):C(e,o,n,r,i,s,a,l,p)},H=(t,e,o,n,r,i,s,a,l)=>{let c=0;const u=e.length;let p=t.length-1,h=u-1;for(;c<=p&&c<=h;){const n=t[c],u=e[c]=l?Xr(e[c]):jr(e[c]);if(!Dr(n,u))break;f(n,u,o,null,r,i,s,a,l),c++}for(;c<=p&&c<=h;){const n=t[p],c=e[h]=l?Xr(e[h]):jr(e[h]);if(!Dr(n,c))break;f(n,c,o,null,r,i,s,a,l),p--,h--}if(c>p){if(c<=h){const t=h+1,p=t<u?e[t].el:n;for(;c<=h;)f(null,e[c]=l?Xr(e[c]):jr(e[c]),o,p,r,i,s,a,l),c++}}else if(c>h)for(;c<=p;)W(t[c],r,i,!0),c++;else{const d=c,g=c,_=new Map;for(c=g;c<=h;c++){const t=e[c]=l?Xr(e[c]):jr(e[c]);null!=t.key&&_.set(t.key,c)}let m,v=0;const y=h-g+1;let T=!1,b=0;const E=new Array(y);for(c=0;c<y;c++)E[c]=0;for(c=d;c<=p;c++){const n=t[c];if(v>=y){W(n,r,i,!0);continue}let u;if(null!=n.key)u=_.get(n.key);else for(m=g;m<=h;m++)if(0===E[m-g]&&Dr(n,e[m])){u=m;break}void 0===u?W(n,r,i,!0):(E[u-g]=c+1,u>=b?b=u:T=!0,f(n,e[u],o,null,r,i,s,a,l),v++)}const S=T?function(t){const e=t.slice(),o=[0];let n,r,i,s,a;const l=t.length;for(n=0;n<l;n++){const l=t[n];if(0!==l){if(r=o[o.length-1],t[r]<l){e[n]=r,o.push(n);continue}for(i=0,s=o.length-1;i<s;)a=(i+s)/2|0,t[o[a]]<l?i=a+1:s=a;l<t[o[i]]&&(i>0&&(e[n]=o[i-1]),o[i]=n)}}i=o.length,s=o[i-1];for(;i-- >0;)o[i]=s,s=e[s];return o}(E):le;for(m=S.length-1,c=y-1;c>=0;c--){const t=g+c,p=e[t],h=t+1<u?e[t+1].el:n;0===E[c]?f(null,p,o,h,r,i,s,a,l):T&&(m<0||c!==S[m]?G(p,o,h,2):m--)}}},G=(t,e,n,r,i=null)=>{const{el:s,type:a,transition:l,children:c,shapeFlag:u}=t;if(6&u)return void G(t.component.subTree,e,n,r);if(128&u)return void t.suspense.move(e,n,r);if(64&u)return void a.move(t,e,n,Z);if(a===Tr){o(s,e,n);for(let t=0;t<c.length;t++)G(c[t],e,n,r);return void o(t.anchor,e,n)}if(a===Sr)return void(({el:t,anchor:e},n,r)=>{let i;for(;t&&t!==e;)i=h(t),o(t,n,r),t=i;o(e,n,r)})(t,e,n);if(2!==r&&1&u&&l)if(0===r)l.beforeEnter(s),o(s,e,n),er((()=>l.enter(s)),i);else{const{leave:t,delayLeave:r,afterLeave:i}=l,a=()=>o(s,e,n),c=()=>{t(s,(()=>{a(),i&&i()}))};r?r(s,a,c):c()}else o(s,e,n)},W=(t,e,o,n=!1,r=!1)=>{const{type:i,props:s,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:p,dirs:h}=t;if(null!=a&&or(a,null,o,null),256&u)return void e.ctx.deactivate(t);const d=1&u&&h;let g;if((g=s&&s.onVnodeBeforeUnmount)&&sr(g,e,t),6&u)J(t.component,o,n);else{if(128&u)return void t.suspense.unmount(o,n);d&&Wn(t,null,e,"beforeUnmount"),64&u?t.type.remove(t,e,o,r,Z,n):c&&(i!==Tr||p>0&&64&p)?Y(c,e,o,!1,!0):(i===Tr&&(128&p||256&p)||!r&&16&u)&&Y(l,e,o),n&&j(t)}((g=s&&s.onVnodeUnmounted)||d)&&er((()=>{g&&sr(g,e,t),d&&Wn(t,null,e,"unmounted")}),o)},j=t=>{const{type:e,el:o,anchor:r,transition:i}=t;if(e===Tr)return void X(o,r);if(e===Sr)return void T(t);const s=()=>{n(o),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&t.shapeFlag&&i&&!i.persisted){const{leave:e,delayLeave:n}=i,r=()=>e(o,s);n?n(t.el,s,r):r()}else s()},X=(t,e)=>{let o;for(;t!==e;)o=h(t),n(t),t=o;n(e)},J=(t,e,o)=>{const{bum:n,effects:r,update:i,subTree:s,um:a}=t;if(n&&Be(n),r)for(let t=0;t<r.length;t++)O(r[t]);i&&(O(i),W(s,t,e,o)),a&&er(a,e),er((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve()),__VUE_PROD_DEVTOOLS__&&bo(t)},Y=(t,e,o,n=!1,r=!1,i=0)=>{for(let s=i;s<t.length;s++)W(t[s],e,o,n,r)},K=t=>6&t.shapeFlag?K(t.component.subTree):128&t.shapeFlag?t.suspense.next():h(t.anchor||t.el),z=(t,e,o)=>{null==t?e._vnode&&W(e._vnode,null,null,!0):f(e._vnode||null,t,e,null,null,null,o),go(),e._vnode=t},Z={p:f,um:W,m:G,r:j,mt:A,mc:C,pc:F,pbc:R,n:K,o:t};let $,q;return e&&([$,q]=e(Z)),{render:z,hydrate:$,createApp:Jn(z,$)}}function sr(t,e,o,n=null){Je(t,e,7,[o,n])}function ar(t,e,o=!1){const n=t.children,r=e.children;if(ve(n)&&ve(r))for(let t=0;t<n.length;t++){const e=n[t];let i=r[t];1&i.shapeFlag&&!i.dynamicChildren&&((i.patchFlag<=0||32===i.patchFlag)&&(i=r[t]=Xr(r[t]),i.el=e.el),o||ar(e,i))}}const lr=t=>t&&(t.disabled||""===t.disabled),cr=t=>"undefined"!=typeof SVGElement&&t instanceof SVGElement,ur=(t,e)=>{const o=t&&t.to;if(Ee(o)){if(e){const t=e(o);return t}return null}return o};function pr(t,e,o,{o:{insert:n},m:r},i=2){0===i&&n(t.targetAnchor,e,o);const{el:s,anchor:a,shapeFlag:l,children:c,props:u}=t,p=2===i;if(p&&n(s,e,o),(!p||lr(u))&&16&l)for(let t=0;t<c.length;t++)r(c[t],e,o,2);p&&n(a,e,o)}const hr={__isTeleport:!0,process(t,e,o,n,r,i,s,a,l,c){const{mc:u,pc:p,pbc:h,o:{insert:d,querySelector:g,createText:_,createComment:f}}=c,m=lr(e.props),{shapeFlag:v,children:y}=e;if(null==t){const t=e.el=_(""),c=e.anchor=_("");d(t,o,n),d(c,o,n);const p=e.target=ur(e.props,g),h=e.targetAnchor=_("");p&&(d(h,p),s=s||cr(p));const f=(t,e)=>{16&v&&u(y,t,e,r,i,s,a,l)};m?f(o,c):p&&f(p,h)}else{e.el=t.el;const n=e.anchor=t.anchor,u=e.target=t.target,d=e.targetAnchor=t.targetAnchor,_=lr(t.props),f=_?o:u,v=_?n:d;if(s=s||cr(u),e.dynamicChildren?(h(t.dynamicChildren,e.dynamicChildren,f,r,i,s,a),ar(t,e,!0)):l||p(t,e,f,v,r,i,s,a,!1),m)_||pr(e,o,n,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const t=e.target=ur(e.props,g);t&&pr(e,t,null,c,0)}else _&&pr(e,u,d,c,1)}},remove(t,e,o,n,{um:r,o:{remove:i}},s){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:p,props:h}=t;if(p&&i(u),(s||!lr(h))&&(i(c),16&a))for(let t=0;t<l.length;t++)r(l[t],e,o,!0,n)},move:pr,hydrate:function(t,e,o,n,r,i,{o:{nextSibling:s,parentNode:a,querySelector:l}},c){const u=e.target=ur(e.props,l);if(u){const l=u._lpa||u.firstChild;16&e.shapeFlag&&(lr(e.props)?(e.anchor=c(s(t),e,a(t),o,n,r,i),e.targetAnchor=l):(e.anchor=s(t),e.targetAnchor=c(l,e,u,o,n,r,i)),u._lpa=e.targetAnchor&&s(e.targetAnchor))}return e.anchor&&s(e.anchor)}},dr="components";function gr(t,e){return vr(dr,t,!0,e)||t}const _r=Symbol();function fr(t){return Ee(t)?vr(dr,t,!1)||t:t||_r}function mr(t){return vr("directives",t)}function vr(t,e,o=!0,n=!1){const r=Oo||ui;if(r){const o=r.type;if(t===dr){const t=Si(o);if(t&&(t===e||t===xe(e)||t===Me(xe(e))))return o}const i=yr(r[t]||o[t],e)||yr(r.appContext[t],e);return!i&&n?o:i}}function yr(t,e){return t&&(t[e]||t[xe(e)]||t[Me(xe(e))])}const Tr=Symbol(void 0),br=Symbol(void 0),Er=Symbol(void 0),Sr=Symbol(void 0),Cr=[];let kr=null;function Rr(t=!1){Cr.push(kr=t?null:[])}function Ir(){Cr.pop(),kr=Cr[Cr.length-1]||null}let wr,Nr=1;function Or(t){Nr+=t}function xr(t,e,o,n,r){const i=Vr(t,e,o,n,r,!0);return i.dynamicChildren=kr||le,Ir(),Nr>0&&kr&&kr.push(i),i}function Ar(t){return!!t&&!0===t.__v_isVNode}function Dr(t,e){return t.type===e.type&&t.key===e.key}function Mr(t){wr=t}const Lr="__vInternal",Br=({key:t})=>null!=t?t:null,Pr=({ref:t})=>null!=t?Ee(t)||Pt(t)||be(t)?{i:Oo,r:t}:t:null,Vr=Fr;function Fr(t,e=null,o=null,n=0,r=null,i=!1){if(t&&t!==_r||(t=Er),Ar(t)){const n=Ur(t,e,!0);return o&&Jr(n,o),n}if(ki(t)&&(t=t.__vccOpts),e){(Dt(e)||Lr in e)&&(e=ge({},e));let{class:t,style:o}=e;t&&!Ee(t)&&(e.class=re(t)),Se(o)&&(Dt(o)&&!ve(o)&&(o=ge({},o)),e.style=te(o))}const s=Ee(t)?1:(t=>t.__isSuspense)(t)?128:(t=>t.__isTeleport)(t)?64:Se(t)?4:be(t)?2:0;const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Br(e),ref:e&&Pr(e),scopeId:xo,slotScopeIds:null,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null};if(Jr(a,o),128&s){const{content:t,fallback:e}=function(t){const{shapeFlag:e,children:o}=t;let n,r;return 32&e?(n=Xo(o.default),r=Xo(o.fallback)):(n=Xo(o),r=jr(null)),{content:n,fallback:r}}(a);a.ssContent=t,a.ssFallback=e}return Nr>0&&!i&&kr&&(n>0||6&s)&&32!==n&&kr.push(a),a}function Ur(t,e,o=!1){const{props:n,ref:r,patchFlag:i,children:s}=t,a=e?Yr(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Br(a),ref:e&&e.ref?o&&r?ve(r)?r.concat(Pr(e)):[r,Pr(e)]:Pr(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Tr?-1===i?16:16|i:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ur(t.ssContent),ssFallback:t.ssFallback&&Ur(t.ssFallback),el:t.el,anchor:t.anchor}}function Hr(t=" ",e=0){return Vr(br,null,t,e)}function Gr(t,e){const o=Vr(Sr,null,t);return o.staticCount=e,o}function Wr(t="",e=!1){return e?(Rr(),xr(Er,null,t)):Vr(Er,null,t)}function jr(t){return null==t||"boolean"==typeof t?Vr(Er):ve(t)?Vr(Tr,null,t):"object"==typeof t?null===t.el?t:Ur(t):Vr(br,null,String(t))}function Xr(t){return null===t.el?t:Ur(t)}function Jr(t,e){let o=0;const{shapeFlag:n}=t;if(null==e)e=null;else if(ve(e))o=16;else if("object"==typeof e){if(1&n||64&n){const o=e.default;return void(o&&(o._c&&Io(1),Jr(t,o()),o._c&&Io(-1)))}{o=32;const n=e._;n||Lr in e?3===n&&Oo&&(1024&Oo.vnode.patchFlag?(e._=2,t.patchFlag|=1024):e._=1):e._ctx=Oo}}else be(e)?(e={default:e,_ctx:Oo},o=32):(e=String(e),64&n?(o=16,e=[Hr(e)]):o=8);t.children=e,t.shapeFlag|=o}function Yr(...t){const e=ge({},t[0]);for(let o=1;o<t.length;o++){const n=t[o];for(const t in n)if("class"===t)e.class!==n.class&&(e.class=re([e.class,n.class]));else if("style"===t)e.style=te([e.style,n.style]);else if(he(t)){const o=e[t],r=n[t];o!==r&&(e[t]=o?[].concat(o,n[t]):r)}else""!==t&&(e[t]=n[t])}return e}function Kr(t,e){if(ui){let o=ui.provides;const n=ui.parent&&ui.parent.provides;n===o&&(o=ui.provides=Object.create(n)),o[t]=e}else 0}function zr(t,e,o=!1){const n=ui||Oo;if(n){const r=null==n.parent?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(r&&t in r)return r[t];if(arguments.length>1)return o&&be(e)?e():e}else 0}let Zr=!0;function $r(t,e,o=[],n=[],r=[],i=!1){const{mixins:s,extends:a,data:l,computed:c,methods:u,watch:p,provide:h,inject:d,components:g,directives:_,beforeMount:f,mounted:m,beforeUpdate:v,updated:y,activated:T,deactivated:b,beforeDestroy:E,beforeUnmount:S,destroyed:C,unmounted:k,render:R,renderTracked:I,renderTriggered:w,errorCaptured:N,expose:O}=e,x=t.proxy,A=t.ctx,D=t.appContext.mixins;i&&R&&t.render===ce&&(t.render=R),i||(Zr=!1,qr("beforeCreate","bc",e,t,D),Zr=!0,ti(t,D,o,n,r)),a&&$r(t,a,o,n,r,!0),s&&ti(t,s,o,n,r);if(d)if(ve(d))for(let t=0;t<d.length;t++){const e=d[t];A[e]=zr(e)}else for(const t in d){const e=d[t];Se(e)?A[t]=zr(e.from||t,e.default,!0):A[t]=zr(e)}if(u)for(const t in u){const e=u[t];be(e)&&(A[t]=e.bind(x))}if(i?l&&o.push(l):(o.length&&o.forEach((e=>ei(t,e,x))),l&&ei(t,l,x)),c)for(const t in c){const e=c[t];0;const o=Ri({get:be(e)?e.bind(x,x):be(e.get)?e.get.bind(x,x):ce,set:!be(e)&&be(e.set)?e.set.bind(x):ce});Object.defineProperty(A,t,{enumerable:!0,configurable:!0,get:()=>o.value,set:t=>o.value=t})}if(p&&n.push(p),!i&&n.length&&n.forEach((t=>{for(const e in t)oi(t[e],A,x,e)})),h&&r.push(h),!i&&r.length&&r.forEach((t=>{const e=be(t)?t.call(x):t;Reflect.ownKeys(e).forEach((t=>{Kr(t,e[t])}))})),i&&(g&&ge(t.components||(t.components=ge({},t.type.components)),g),_&&ge(t.directives||(t.directives=ge({},t.type.directives)),_)),i||qr("created","c",e,t,D),f&&nn(f.bind(x)),m&&rn(m.bind(x)),v&&sn(v.bind(x)),y&&an(y.bind(x)),T&&xn(T.bind(x)),b&&An(b.bind(x)),N&&hn(N.bind(x)),I&&pn(I.bind(x)),w&&un(w.bind(x)),S&&ln(S.bind(x)),k&&cn(k.bind(x)),ve(O))if(i)0;else if(O.length){const e=t.exposed||(t.exposed=Xt({}));O.forEach((t=>{e[t]=Zt(x,t)}))}else t.exposed||(t.exposed=ae)}function qr(t,e,o,n,r){for(let o=0;o<r.length;o++)Qr(t,e,r[o],n);Qr(t,e,o,n)}function Qr(t,e,o,n){const{extends:r,mixins:i}=o,s=o[t];if(r&&Qr(t,e,r,n),i)for(let o=0;o<i.length;o++)Qr(t,e,i[o],n);s&&Je(s.bind(n.proxy),n,e)}function ti(t,e,o,n,r){for(let i=0;i<e.length;i++)$r(t,e[i],o,n,r,!0)}function ei(t,e,o){Zr=!1;const n=e.call(o,o);Zr=!0,Se(n)&&(t.data===ae?t.data=Rt(n):ge(t.data,n))}function oi(t,e,o,n){const r=n.includes(".")?function(t,e){const o=e.split(".");return()=>{let e=t;for(let t=0;t<o.length&&e;t++)e=e[o[t]];return e}}(o,n):()=>o[n];if(Ee(t)){const o=e[t];be(o)&&_n(r,o)}else if(be(t))_n(r,t.bind(o));else if(Se(t))if(ve(t))t.forEach((t=>oi(t,e,o,n)));else{const n=be(t.handler)?t.handler.bind(o):e[t.handler];be(n)&&_n(r,n,t)}else 0}function ni(t,e,o){const n=o.appContext.config.optionMergeStrategies,{mixins:r,extends:i}=e;i&&ni(t,i,o),r&&r.forEach((e=>ni(t,e,o)));for(const r in e)n&&me(n,r)?t[r]=n[r](t[r],e[r],o.proxy,r):t[r]=e[r]}const ri=t=>t?di(t)?t.exposed?t.exposed:t.proxy:ri(t.parent):null,ii=ge(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ri(t.parent),$root:t=>ri(t.root),$emit:t=>t.emit,$options:t=>__VUE_OPTIONS_API__?function(t){const e=t.type,{__merged:o,mixins:n,extends:r}=e;if(o)return o;const i=t.appContext.mixins;if(!i.length&&!n&&!r)return e;const s={};return i.forEach((e=>ni(s,e,t))),ni(s,e,t),e.__merged=s}(t):t.type,$forceUpdate:t=>()=>lo(t.update),$nextTick:t=>ao.bind(t.proxy),$watch:t=>__VUE_OPTIONS_API__?mn.bind(t):ce}),si={get({_:t},e){const{ctx:o,setupState:n,data:r,props:i,accessCache:s,type:a,appContext:l}=t;if("__v_skip"===e)return!0;let c;if("$"!==e[0]){const a=s[e];if(void 0!==a)switch(a){case 0:return n[e];case 1:return r[e];case 3:return o[e];case 2:return i[e]}else{if(n!==ae&&me(n,e))return s[e]=0,n[e];if(r!==ae&&me(r,e))return s[e]=1,r[e];if((c=t.propsOptions[0])&&me(c,e))return s[e]=2,i[e];if(o!==ae&&me(o,e))return s[e]=3,o[e];__VUE_OPTIONS_API__&&!Zr||(s[e]=4)}}const u=ii[e];let p,h;return u?("$attrs"===e&&P(t,0,e),u(t)):(p=a.__cssModules)&&(p=p[e])?p:o!==ae&&me(o,e)?(s[e]=3,o[e]):(h=l.config.globalProperties,me(h,e)?h[e]:void 0)},set({_:t},e,o){const{data:n,setupState:r,ctx:i}=t;if(r!==ae&&me(r,e))r[e]=o;else if(n!==ae&&me(n,e))n[e]=o;else if(me(t.props,e))return!1;return("$"!==e[0]||!(e.slice(1)in t))&&(i[e]=o,!0)},has({_:{data:t,setupState:e,accessCache:o,ctx:n,appContext:r,propsOptions:i}},s){let a;return void 0!==o[s]||t!==ae&&me(t,s)||e!==ae&&me(e,s)||(a=i[0])&&me(a,s)||me(n,s)||me(ii,s)||me(r.config.globalProperties,s)}};const ai=ge({},si,{get(t,e){if(e!==Symbol.unscopables)return si.get(t,e,t)},has:(t,e)=>"_"!==e[0]&&!Qt(e)});const li=jn();let ci=0;let ui=null;const pi=()=>ui||Oo,hi=t=>{ui=t};function di(t){return 4&t.vnode.shapeFlag}let gi,_i=!1;function fi(t,e,o){be(e)?t.render=e:Se(e)&&(__VUE_PROD_DEVTOOLS__&&(t.devtoolsRawSetupState=e),t.setupState=Xt(e)),yi(t,o)}const mi=()=>!gi;function vi(t){gi=t}function yi(t,e){const o=t.type;t.render||(gi&&o.template&&!o.render&&(o.render=gi(o.template,{isCustomElement:t.appContext.config.isCustomElement,delimiters:o.delimiters})),t.render=o.render||ce,t.render._rc&&(t.withProxy=new Proxy(t.ctx,ai))),__VUE_OPTIONS_API__&&(ui=t,L(),$r(t,o),B(),ui=null)}function Ti(t){const e=e=>{t.exposed=Xt(e)};return{attrs:t.attrs,slots:t.slots,emit:t.emit,expose:e}}function bi(t,e=ui){e&&(e.effects||(e.effects=[])).push(t)}const Ei=/(?:^|[-_])(\w)/g;function Si(t){return be(t)&&t.displayName||t.name}function Ci(t,e,o=!1){let n=Si(e);if(!n&&e.__file){const t=e.__file.match(/([^/\\]+)\.\w+$/);t&&(n=t[1])}if(!n&&t&&t.parent){const o=t=>{for(const o in t)if(t[o]===e)return o};n=o(t.components||t.parent.type.components)||o(t.appContext.components)}return n?n.replace(Ei,(t=>t.toUpperCase())).replace(/[-_]/g,""):o?"App":"Anonymous"}function ki(t){return be(t)&&"__vccOpts"in t}function Ri(t){const e=function(t){let e,o;return h(t)?(e=t,o=s):(e=t.get,o=t.set),new $t(e,o,h(t)||!t.set)}(t);return bi(e.effect),e}function Ii(){return null}function wi(){return null}function Ni(){const t=pi();return t.setupContext||(t.setupContext=Ti(t))}function Oi(t,e,o){const n=arguments.length;return 2===n?Se(e)&&!ve(e)?Ar(e)?Vr(t,null,[e]):Vr(t,e):Vr(t,null,e):(n>3?o=Array.prototype.slice.call(arguments,2):3===n&&Ar(o)&&(o=[o]),Vr(t,e,o))}const xi=Symbol(""),Ai=()=>{{const t=zr(xi);return t||Ge("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),t}};function Di(){return void 0}function Mi(t,e){let o;if(ve(t)||Ee(t)){o=new Array(t.length);for(let n=0,r=t.length;n<r;n++)o[n]=e(t[n],n)}else if("number"==typeof t){0,o=new Array(t);for(let n=0;n<t;n++)o[n]=e(n+1,n)}else if(Se(t))if(t[Symbol.iterator])o=Array.from(t,e);else{const n=Object.keys(t);o=new Array(n.length);for(let r=0,i=n.length;r<i;r++){const i=n[r];o[r]=e(t[i],i,r)}}else o=[];return o}function Li(t){const e={};for(const o in t)e[Le(o)]=t[o];return e}function Bi(t,e){for(let o=0;o<e.length;o++){const n=e[o];if(ve(n))for(let e=0;e<n.length;e++)t[n[e].name]=n[e].fn;else n&&(t[n.name]=n.fn)}return t}const Pi="3.0.11",Vi=null;function Fi(t,e){const o=Object.create(null),n=t.split(",");for(let t=0;t<n.length;t++)o[n[t]]=!0;return e?t=>!!o[t.toLowerCase()]:t=>!!o[t]}const Ui="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Hi=Fi(Ui);function Gi(t,e){if(t===e)return!0;let o=zi(t),n=zi(e);if(o||n)return!(!o||!n)&&t.getTime()===e.getTime();if(o=Yi(t),n=Yi(e),o||n)return!(!o||!n)&&function(t,e){if(t.length!==e.length)return!1;let o=!0;for(let n=0;o&&n<t.length;n++)o=Gi(t[n],e[n]);return o}(t,e);if(o=qi(t),n=qi(e),o||n){if(!o||!n)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const o in t){const n=t.hasOwnProperty(o),r=e.hasOwnProperty(o);if(n&&!r||!n&&r||!Gi(t[o],e[o]))return!1}}return String(t)===String(e)}function Wi(t,e){return t.findIndex((t=>Gi(t,e)))}const ji={},Xi=/^on[^a-z]/,Ji=Object.assign,Yi=(Object.prototype.hasOwnProperty,Array.isArray),Ki=t=>"[object Set]"===ts(t),zi=t=>t instanceof Date,Zi=t=>"function"==typeof t,$i=t=>"string"==typeof t,qi=t=>null!==t&&"object"==typeof t,Qi=Object.prototype.toString,ts=t=>Qi.call(t),es=t=>{const e=Object.create(null);return o=>e[o]||(e[o]=t(o))},os=/-(\w)/g,ns=(es((t=>t.replace(os,((t,e)=>e?e.toUpperCase():"")))),/\B([A-Z])/g),rs=es((t=>t.replace(ns,"-$1").toLowerCase())),is=es((t=>t.charAt(0).toUpperCase()+t.slice(1))),ss=(es((t=>t?`on${is(t)}`:"")),t=>{const e=parseFloat(t);return isNaN(e)?t:e});const as="http://www.w3.org/2000/svg",ls="undefined"!=typeof document?document:null;let cs,us;const ps={insert:(t,e,o)=>{e.insertBefore(t,o||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,o,n)=>{const r=e?ls.createElementNS(as,t):ls.createElement(t,o?{is:o}:void 0);return"select"===t&&n&&null!=n.multiple&&r.setAttribute("multiple",n.multiple),r},createText:t=>ls.createTextNode(t),createComment:t=>ls.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ls.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,o,n){const r=n?us||(us=ls.createElementNS(as,"svg")):cs||(cs=ls.createElement("div"));r.innerHTML=t;const i=r.firstChild;let s=i,a=s;for(;s;)a=s,ps.insert(s,e,o),s=r.firstChild;return[i,a]}};const hs=/\s*!important$/;function ds(t,e,o){if(Yi(o))o.forEach((o=>ds(t,e,o)));else if(e.startsWith("--"))t.setProperty(e,o);else{const n=function(t,e){const o=_s[e];if(o)return o;let n=xe(e);if("filter"!==n&&n in t)return _s[e]=n;n=is(n);for(let o=0;o<gs.length;o++){const r=gs[o]+n;if(r in t)return _s[e]=r}return e}(t,e);hs.test(o)?t.setProperty(rs(n),o.replace(hs,""),"important"):t[n]=o}}const gs=["Webkit","Moz","ms"],_s={};const fs="http://www.w3.org/1999/xlink";let ms=Date.now,vs=!1;if("undefined"!=typeof window){ms()>document.createEvent("Event").timeStamp&&(ms=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);vs=!!(t&&Number(t[1])<=53)}let ys=0;const Ts=Promise.resolve(),bs=()=>{ys=0};function Es(t,e,o,n){t.addEventListener(e,o,n)}function Ss(t,e,o,n,r=null){const i=t._vei||(t._vei={}),s=i[e];if(n&&s)s.value=n;else{const[o,a]=function(t){let e;if(Cs.test(t)){let o;for(e={};o=t.match(Cs);)t=t.slice(0,t.length-o[0].length),e[o[0].toLowerCase()]=!0}return[rs(t.slice(2)),e]}(e);if(n){Es(t,o,i[e]=function(t,e){const o=t=>{const n=t.timeStamp||ms();(vs||n>=o.attached-1)&&Je(function(t,e){if(Yi(e)){const o=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{o.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t(e)))}return e}(t,o.value),e,5,[t])};return o.value=t,o.attached=(()=>ys||(Ts.then(bs),ys=ms()))(),o}(n,r),a)}else s&&(!function(t,e,o,n){t.removeEventListener(e,o,n)}(t,o,s,a),i[e]=void 0)}}const Cs=/(?:Once|Passive|Capture)$/;const ks=/^on[a-z]/;function Rs(t="$style"){{const e=pi();if(!e)return ji;const o=e.type.__cssModules;if(!o)return ji;const n=o[t];return n||ji}}function Is(t){const e=pi();if(!e)return;const o=()=>ws(e.subTree,t(e.proxy));rn((()=>dn(o,{flush:"post"}))),an(o)}function ws(t,e){if(128&t.shapeFlag){const o=t.suspense;t=o.activeBranch,o.pendingBranch&&!o.isHydrating&&o.effects.push((()=>{ws(o.activeBranch,e)}))}for(;t.component;)t=t.component.subTree;if(1&t.shapeFlag&&t.el){const o=t.el.style;for(const t in e)o.setProperty(`--${t}`,e[t])}else t.type===Tr&&t.children.forEach((t=>ws(t,e)))}const Ns="transition",Os="animation",xs=(t,{slots:e})=>Oi(bn,Ms(t),e);xs.displayName="Transition";const As={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ds=xs.props=Ji({},bn.props,As);function Ms(t){let{name:e="v",type:o,css:n=!0,duration:r,enterFromClass:i=`${e}-enter-from`,enterActiveClass:s=`${e}-enter-active`,enterToClass:a=`${e}-enter-to`,appearFromClass:l=i,appearActiveClass:c=s,appearToClass:u=a,leaveFromClass:p=`${e}-leave-from`,leaveActiveClass:h=`${e}-leave-active`,leaveToClass:d=`${e}-leave-to`}=t;const g={};for(const e in t)e in As||(g[e]=t[e]);if(!n)return g;const _=function(t){if(null==t)return null;if(qi(t))return[Ls(t.enter),Ls(t.leave)];{const e=Ls(t);return[e,e]}}(r),f=_&&_[0],m=_&&_[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:T,onLeave:b,onLeaveCancelled:E,onBeforeAppear:S=v,onAppear:C=y,onAppearCancelled:k=T}=g,R=(t,e,o)=>{Ps(t,e?u:a),Ps(t,e?c:s),o&&o()},I=(t,e)=>{Ps(t,d),Ps(t,h),e&&e()},w=t=>(e,n)=>{const r=t?C:y,s=()=>R(e,t,n);r&&r(e,s),Vs((()=>{Ps(e,t?l:i),Bs(e,t?u:a),r&&r.length>1||Us(e,o,f,s)}))};return Ji(g,{onBeforeEnter(t){v&&v(t),Bs(t,i),Bs(t,s)},onBeforeAppear(t){S&&S(t),Bs(t,l),Bs(t,c)},onEnter:w(!1),onAppear:w(!0),onLeave(t,e){const n=()=>I(t,e);Bs(t,p),js(),Bs(t,h),Vs((()=>{Ps(t,p),Bs(t,d),b&&b.length>1||Us(t,o,m,n)})),b&&b(t,n)},onEnterCancelled(t){R(t,!1),T&&T(t)},onAppearCancelled(t){R(t,!0),k&&k(t)},onLeaveCancelled(t){I(t),E&&E(t)}})}function Ls(t){return ss(t)}function Bs(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t._vtc||(t._vtc=new Set)).add(e)}function Ps(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const{_vtc:o}=t;o&&(o.delete(e),o.size||(t._vtc=void 0))}function Vs(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let Fs=0;function Us(t,e,o,n){const r=t._endId=++Fs,i=()=>{r===t._endId&&n()};if(o)return setTimeout(i,o);const{type:s,timeout:a,propCount:l}=Hs(t,e);if(!s)return n();const c=s+"end";let u=0;const p=()=>{t.removeEventListener(c,h),i()},h=e=>{e.target===t&&++u>=l&&p()};setTimeout((()=>{u<l&&p()}),a+1),t.addEventListener(c,h)}function Hs(t,e){const o=window.getComputedStyle(t),n=t=>(o[t]||"").split(", "),r=n("transitionDelay"),i=n("transitionDuration"),s=Gs(r,i),a=n("animationDelay"),l=n("animationDuration"),c=Gs(a,l);let u=null,p=0,h=0;e===Ns?s>0&&(u=Ns,p=s,h=i.length):e===Os?c>0&&(u=Os,p=c,h=l.length):(p=Math.max(s,c),u=p>0?s>c?Ns:Os:null,h=u?u===Ns?i.length:l.length:0);return{type:u,timeout:p,propCount:h,hasTransform:u===Ns&&/\b(transform|all)(,|$)/.test(o.transitionProperty)}}function Gs(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map(((e,o)=>Ws(e)+Ws(t[o]))))}function Ws(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function js(){return document.body.offsetHeight}const Xs=new WeakMap,Js=new WeakMap,Ys={name:"TransitionGroup",props:Ji({},Ds,{tag:String,moveClass:String}),setup(t,{slots:e}){const o=pi(),n=yn();let r,i;return an((()=>{if(!r.length)return;const e=t.moveClass||`${t.name||"v"}-move`;if(!function(t,e,o){const n=t.cloneNode();t._vtc&&t._vtc.forEach((t=>{t.split(/\s+/).forEach((t=>t&&n.classList.remove(t)))}));o.split(/\s+/).forEach((t=>t&&n.classList.add(t))),n.style.display="none";const r=1===e.nodeType?e:e.parentNode;r.appendChild(n);const{hasTransform:i}=Hs(n);return r.removeChild(n),i}(r[0].el,o.vnode.el,e))return;r.forEach(Ks),r.forEach(zs);const n=r.filter(Zs);js(),n.forEach((t=>{const o=t.el,n=o.style;Bs(o,e),n.transform=n.webkitTransform=n.transitionDuration="";const r=o._moveCb=t=>{t&&t.target!==o||t&&!/transform$/.test(t.propertyName)||(o.removeEventListener("transitionend",r),o._moveCb=null,Ps(o,e))};o.addEventListener("transitionend",r)}))})),()=>{const s=Mt(t),a=Ms(s),l=s.tag||Tr;r=i,i=e.default?In(e.default()):[];for(let t=0;t<i.length;t++){const e=i[t];null!=e.key&&Rn(e,Sn(e,a,n,o))}if(r)for(let t=0;t<r.length;t++){const e=r[t];Rn(e,Sn(e,a,n,o)),Xs.set(e,e.el.getBoundingClientRect())}return Vr(l,null,i)}}};function Ks(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function zs(t){Js.set(t,t.el.getBoundingClientRect())}function Zs(t){const e=Xs.get(t),o=Js.get(t),n=e.left-o.left,r=e.top-o.top;if(n||r){const e=t.el.style;return e.transform=e.webkitTransform=`translate(${n}px,${r}px)`,e.transitionDuration="0s",t}}const $s=t=>{const e=t.props["onUpdate:modelValue"];return Yi(e)?t=>((t,e)=>{for(let o=0;o<t.length;o++)t[o](e)})(e,t):e};function qs(t){t.target.composing=!0}function Qs(t){const e=t.target;e.composing&&(e.composing=!1,function(t,e){const o=document.createEvent("HTMLEvents");o.initEvent(e,!0,!0),t.dispatchEvent(o)}(e,"input"))}const ta={created(t,{modifiers:{lazy:e,trim:o,number:n}},r){t._assign=$s(r);const i=n||"number"===t.type;Es(t,e?"change":"input",(e=>{if(e.target.composing)return;let n=t.value;o?n=n.trim():i&&(n=ss(n)),t._assign(n)})),o&&Es(t,"change",(()=>{t.value=t.value.trim()})),e||(Es(t,"compositionstart",qs),Es(t,"compositionend",Qs),Es(t,"change",Qs))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{trim:o,number:n}},r){if(t._assign=$s(r),t.composing)return;if(document.activeElement===t){if(o&&t.value.trim()===e)return;if((n||"number"===t.type)&&ss(t.value)===e)return}const i=null==e?"":e;t.value!==i&&(t.value=i)}},ea={created(t,e,o){t._assign=$s(o),Es(t,"change",(()=>{const e=t._modelValue,o=sa(t),n=t.checked,r=t._assign;if(Yi(e)){const t=Wi(e,o),i=-1!==t;if(n&&!i)r(e.concat(o));else if(!n&&i){const o=[...e];o.splice(t,1),r(o)}}else if(Ki(e)){const t=new Set(e);n?t.add(o):t.delete(o),r(t)}else r(aa(t,n))}))},mounted:oa,beforeUpdate(t,e,o){t._assign=$s(o),oa(t,e,o)}};function oa(t,{value:e,oldValue:o},n){t._modelValue=e,Yi(e)?t.checked=Wi(e,n.props.value)>-1:Ki(e)?t.checked=e.has(n.props.value):e!==o&&(t.checked=Gi(e,aa(t,!0)))}const na={created(t,{value:e},o){t.checked=Gi(e,o.props.value),t._assign=$s(o),Es(t,"change",(()=>{t._assign(sa(t))}))},beforeUpdate(t,{value:e,oldValue:o},n){t._assign=$s(n),e!==o&&(t.checked=Gi(e,n.props.value))}},ra={created(t,{value:e,modifiers:{number:o}},n){const r=Ki(e);Es(t,"change",(()=>{const e=Array.prototype.filter.call(t.options,(t=>t.selected)).map((t=>o?ss(sa(t)):sa(t)));t._assign(t.multiple?r?new Set(e):e:e[0])})),t._assign=$s(n)},mounted(t,{value:e}){ia(t,e)},beforeUpdate(t,e,o){t._assign=$s(o)},updated(t,{value:e}){ia(t,e)}};function ia(t,e){const o=t.multiple;if(!o||Yi(e)||Ki(e)){for(let n=0,r=t.options.length;n<r;n++){const r=t.options[n],i=sa(r);if(o)Yi(e)?r.selected=Wi(e,i)>-1:r.selected=e.has(i);else if(Gi(sa(r),e))return void(t.selectedIndex=n)}o||(t.selectedIndex=-1)}}function sa(t){return"_value"in t?t._value:t.value}function aa(t,e){const o=e?"_trueValue":"_falseValue";return o in t?t[o]:e}const la={created(t,e,o){ca(t,e,o,null,"created")},mounted(t,e,o){ca(t,e,o,null,"mounted")},beforeUpdate(t,e,o,n){ca(t,e,o,n,"beforeUpdate")},updated(t,e,o,n){ca(t,e,o,n,"updated")}};function ca(t,e,o,n,r){let i;switch(t.tagName){case"SELECT":i=ra;break;case"TEXTAREA":i=ta;break;default:switch(o.props&&o.props.type){case"checkbox":i=ea;break;case"radio":i=na;break;default:i=ta}}const s=i[r];s&&s(t,e,o,n)}const ua=["ctrl","shift","alt","meta"],pa={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>ua.some((o=>t[`${o}Key`]&&!e.includes(o)))},ha=(t,e)=>(o,...n)=>{for(let t=0;t<e.length;t++){const n=pa[e[t]];if(n&&n(o,e))return}return t(o,...n)},da={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ga=(t,e)=>o=>{if(!("key"in o))return;const n=rs(o.key);return e.some((t=>t===n||da[t]===n))?t(o):void 0},_a={beforeMount(t,{value:e},{transition:o}){t._vod="none"===t.style.display?"":t.style.display,o&&e?o.beforeEnter(t):fa(t,e)},mounted(t,{value:e},{transition:o}){o&&e&&o.enter(t)},updated(t,{value:e,oldValue:o},{transition:n}){!e!=!o&&(n?e?(n.beforeEnter(t),fa(t,!0),n.enter(t)):n.leave(t,(()=>{fa(t,!1)})):fa(t,e))},beforeUnmount(t,{value:e}){fa(t,e)}};function fa(t,e){t.style.display=e?t._vod:"none"}const ma=Ji({patchProp:(t,e,o,n,r=!1,i,s,a,l)=>{switch(e){case"class":!function(t,e,o){if(null==e&&(e=""),o)t.setAttribute("class",e);else{const o=t._vtc;o&&(e=(e?[e,...o]:[...o]).join(" ")),t.className=e}}(t,n,r);break;case"style":!function(t,e,o){const n=t.style;if(o)if($i(o)){if(e!==o){const e=n.display;n.cssText=o,"_vod"in t&&(n.display=e)}}else{for(const t in o)ds(n,t,o[t]);if(e&&!$i(e))for(const t in e)null==o[t]&&ds(n,t,"")}else t.removeAttribute("style")}(t,o,n);break;default:(t=>Xi.test(t))(e)?(t=>t.startsWith("onUpdate:"))(e)||Ss(t,e,0,n,s):function(t,e,o,n){if(n)return"innerHTML"===e||!!(e in t&&ks.test(e)&&Zi(o));if("spellcheck"===e||"draggable"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if(ks.test(e)&&$i(o))return!1;return e in t}(t,e,n,r)?function(t,e,o,n,r,i,s){if("innerHTML"===e||"textContent"===e)return n&&s(n,r,i),void(t[e]=null==o?"":o);if("value"!==e||"PROGRESS"===t.tagName){if(""===o||null==o){const n=typeof t[e];if(""===o&&"boolean"===n)return void(t[e]=!0);if(null==o&&"string"===n)return t[e]="",void t.removeAttribute(e);if("number"===n)return t[e]=0,void t.removeAttribute(e)}try{t[e]=o}catch(t){}}else{t._value=o;const e=null==o?"":o;t.value!==e&&(t.value=e)}}(t,e,n,i,s,a,l):("true-value"===e?t._trueValue=n:"false-value"===e&&(t._falseValue=n),function(t,e,o,n){if(n&&e.startsWith("xlink:"))null==o?t.removeAttributeNS(fs,e.slice(6,e.length)):t.setAttributeNS(fs,e,o);else{const n=Hi(e);null==o||n&&!1===o?t.removeAttribute(e):t.setAttribute(e,n?"":o)}}(t,e,n,r))}},forcePatchProp:(t,e)=>"value"===e},ps);let va,ya=!1;function Ta(){return va||(va=nr(ma))}function ba(){return va=ya?va:rr(ma),ya=!0,va}const Ea=(...t)=>{Ta().render(...t)},Sa=(...t)=>{ba().hydrate(...t)},Ca=(...t)=>{const e=Ta().createApp(...t);const{mount:o}=e;return e.mount=t=>{const n=Ra(t);if(!n)return;const r=e._component;Zi(r)||r.render||r.template||(r.template=n.innerHTML),n.innerHTML="";const i=o(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),i},e},ka=(...t)=>{const e=ba().createApp(...t);const{mount:o}=e;return e.mount=t=>{const e=Ra(t);if(e)return o(e,!0,e instanceof SVGElement)},e};function Ra(t){if($i(t)){return document.querySelector(t)}return t}function Ia(t,e){const o=Object.create(null),n=t.split(",");for(let t=0;t<n.length;t++)o[n[t]]=!0;return e?t=>!!o[t.toLowerCase()]:t=>!!o[t]}const wa=/;(?![^(]*\))/g,Na=/:(.+)/;function Oa(t){const e={};return t.split(wa).forEach((t=>{if(t){const o=t.split(Na);o.length>1&&(e[o[0].trim()]=o[1].trim())}})),e}const xa=Ia("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot"),Aa=Ia("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view"),Da=Ia("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr");const Ma={},La=()=>{},Ba=()=>!1,Pa=/^on[^a-z]/,Va=Object.assign,Fa=(Object.prototype.hasOwnProperty,Array.isArray),Ua=t=>"string"==typeof t,Ha=t=>"symbol"==typeof t,Ga=t=>null!==t&&"object"==typeof t,Wa=(Object.prototype.toString,Ia(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted")),ja=t=>{const e=Object.create(null);return o=>e[o]||(e[o]=t(o))},Xa=/-(\w)/g,Ja=ja((t=>t.replace(Xa,((t,e)=>e?e.toUpperCase():"")))),Ya=/\B([A-Z])/g,Ka=ja((t=>t.replace(Ya,"-$1").toLowerCase())),za=ja((t=>t.charAt(0).toUpperCase()+t.slice(1))),Za=ja((t=>t?`on${za(t)}`:""));function $a(t){throw t}function qa(t,e,o,n){const r=new SyntaxError(String(t));return r.code=t,r.loc=e,r}const Qa=Symbol(""),tl=Symbol(""),el=Symbol(""),ol=Symbol(""),nl=Symbol(""),rl=Symbol(""),il=Symbol(""),sl=Symbol(""),al=Symbol(""),ll=Symbol(""),cl=Symbol(""),ul=Symbol(""),pl=Symbol(""),hl=Symbol(""),dl=Symbol(""),gl=Symbol(""),_l=Symbol(""),fl=Symbol(""),ml=Symbol(""),vl=Symbol(""),yl=Symbol(""),Tl=Symbol(""),bl=Symbol(""),El=Symbol(""),Sl=Symbol(""),Cl=Symbol(""),kl=Symbol(""),Rl=Symbol(""),Il=Symbol(""),wl=Symbol(""),Nl=Symbol(""),Ol={[Qa]:"Fragment",[tl]:"Teleport",[el]:"Suspense",[ol]:"KeepAlive",[nl]:"BaseTransition",[rl]:"openBlock",[il]:"createBlock",[sl]:"createVNode",[al]:"createCommentVNode",[ll]:"createTextVNode",[cl]:"createStaticVNode",[ul]:"resolveComponent",[pl]:"resolveDynamicComponent",[hl]:"resolveDirective",[dl]:"withDirectives",[gl]:"renderList",[_l]:"renderSlot",[fl]:"createSlots",[ml]:"toDisplayString",[vl]:"mergeProps",[yl]:"toHandlers",[Tl]:"camelize",[bl]:"capitalize",[El]:"toHandlerKey",[Sl]:"setBlockTracking",[Cl]:"pushScopeId",[kl]:"popScopeId",[Rl]:"withScopeId",[Il]:"withCtx",[wl]:"unref",[Nl]:"isRef"};const xl={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function Al(t,e,o,n,r,i,s,a=!1,l=!1,c=xl){return t&&(a?(t.helper(rl),t.helper(il)):t.helper(sl),s&&t.helper(dl)),{type:13,tag:e,props:o,children:n,patchFlag:r,dynamicProps:i,directives:s,isBlock:a,disableTracking:l,loc:c}}function Dl(t,e=xl){return{type:17,loc:e,elements:t}}function Ml(t,e=xl){return{type:15,loc:e,properties:t}}function Ll(t,e){return{type:16,loc:xl,key:Ua(t)?Bl(t,!0):t,value:e}}function Bl(t,e,o=xl,n=0){return{type:4,loc:o,content:t,isStatic:e,constType:e?3:n}}function Pl(t,e=xl){return{type:8,loc:e,children:t}}function Vl(t,e=[],o=xl){return{type:14,loc:o,callee:t,arguments:e}}function Fl(t,e,o=!1,n=!1,r=xl){return{type:18,params:t,returns:e,newline:o,isSlot:n,loc:r}}function Ul(t,e,o,n=!0){return{type:19,test:t,consequent:e,alternate:o,newline:n,loc:xl}}const Hl=t=>4===t.type&&t.isStatic,Gl=(t,e)=>t===e||t===Ka(e);function Wl(t){return Gl(t,"Teleport")?tl:Gl(t,"Suspense")?el:Gl(t,"KeepAlive")?ol:Gl(t,"BaseTransition")?nl:void 0}const jl=/^\d|[^\$\w]/,Xl=t=>!jl.test(t),Jl=/^[A-Za-z_$\xA0-\uFFFF][\w$\xA0-\uFFFF]*(?:\s*\.\s*[A-Za-z_$\xA0-\uFFFF][\w$\xA0-\uFFFF]*|\[[^\]]+\])*$/,Yl=t=>!!t&&Jl.test(t.trim());function Kl(t,e,o){const n={source:t.source.substr(e,o),start:zl(t.start,t.source,e),end:t.end};return null!=o&&(n.end=zl(t.start,t.source,e+o)),n}function zl(t,e,o=e.length){return Zl(Va({},t),e,o)}function Zl(t,e,o=e.length){let n=0,r=-1;for(let t=0;t<o;t++)10===e.charCodeAt(t)&&(n++,r=t);return t.offset+=o,t.line+=n,t.column=-1===r?t.column+o:o-r,t}function $l(t,e,o=!1){for(let n=0;n<t.props.length;n++){const r=t.props[n];if(7===r.type&&(o||r.exp)&&(Ua(e)?r.name===e:e.test(r.name)))return r}}function ql(t,e,o=!1,n=!1){for(let r=0;r<t.props.length;r++){const i=t.props[r];if(6===i.type){if(o)continue;if(i.name===e&&(i.value||n))return i}else if("bind"===i.name&&(i.exp||n)&&Ql(i.arg,e))return i}}function Ql(t,e){return!(!t||!Hl(t)||t.content!==e)}function tc(t){return 5===t.type||2===t.type}function ec(t){return 7===t.type&&"slot"===t.name}function oc(t){return 1===t.type&&3===t.tagType}function nc(t){return 1===t.type&&2===t.tagType}function rc(t,e,o){let n;const r=13===t.type?t.props:t.arguments[2];if(null==r||Ua(r))n=Ml([e]);else if(14===r.type){const t=r.arguments[0];Ua(t)||15!==t.type?r.callee===yl?n=Vl(o.helper(vl),[Ml([e]),r]):r.arguments.unshift(Ml([e])):t.properties.unshift(e),!n&&(n=r)}else if(15===r.type){let t=!1;if(4===e.key.type){const o=e.key.content;t=r.properties.some((t=>4===t.key.type&&t.key.content===o))}t||r.properties.unshift(e),n=r}else n=Vl(o.helper(vl),[Ml([e]),r]);13===t.type?t.props=n:t.arguments[2]=n}function ic(t,e){return`_${e}_${t.replace(/[^\w]/g,"_")}`}const sc=/&(gt|lt|amp|apos|quot);/g,ac={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},lc={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:Ba,isPreTag:Ba,isCustomElement:Ba,decodeEntities:t=>t.replace(sc,((t,e)=>ac[e])),onError:$a,comments:!1};function cc(t,e={}){const o=function(t,e){const o=Va({},lc);for(const t in e)o[t]=e[t]||lc[t];return{options:o,column:1,line:1,offset:0,originalSource:t,source:t,inPre:!1,inVPre:!1}}(t,e),n=Sc(o);return function(t,e=xl){return{type:0,children:t,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:e}}(uc(o,0,[]),Cc(o,n))}function uc(t,e,o){const n=kc(o),r=n?n.ns:0,i=[];for(;!xc(t,e,o);){const s=t.source;let a;if(0===e||1===e)if(!t.inVPre&&Rc(s,t.options.delimiters[0]))a=Tc(t,e);else if(0===e&&"<"===s[0])if(1===s.length)Oc(t,5,1);else if("!"===s[1])Rc(s,"\x3c!--")?a=dc(t):Rc(s,"<!DOCTYPE")?a=gc(t):Rc(s,"<![CDATA[")?0!==r?a=hc(t,o):(Oc(t,1),a=gc(t)):(Oc(t,11),a=gc(t));else if("/"===s[1])if(2===s.length)Oc(t,5,2);else{if(">"===s[2]){Oc(t,14,2),Ic(t,3);continue}if(/[a-z]/i.test(s[2])){Oc(t,23),mc(t,1,n);continue}Oc(t,12,2),a=gc(t)}else/[a-z]/i.test(s[1])?a=_c(t,o):"?"===s[1]?(Oc(t,21,1),a=gc(t)):Oc(t,12,1);if(a||(a=bc(t,e)),Fa(a))for(let t=0;t<a.length;t++)pc(i,a[t]);else pc(i,a)}let s=!1;if(2!==e&&1!==e){for(let e=0;e<i.length;e++){const o=i[e];if(!t.inPre&&2===o.type)if(/[^\t\r\n\f ]/.test(o.content))o.content=o.content.replace(/[\t\r\n\f ]+/g," ");else{const t=i[e-1],n=i[e+1];!t||!n||3===t.type||3===n.type||1===t.type&&1===n.type&&/[\r\n]/.test(o.content)?(s=!0,i[e]=null):o.content=" "}3!==o.type||t.options.comments||(s=!0,i[e]=null)}if(t.inPre&&n&&t.options.isPreTag(n.tag)){const t=i[0];t&&2===t.type&&(t.content=t.content.replace(/^\r?\n/,""))}}return s?i.filter(Boolean):i}function pc(t,e){if(2===e.type){const o=kc(t);if(o&&2===o.type&&o.loc.end.offset===e.loc.start.offset)return o.content+=e.content,o.loc.end=e.loc.end,void(o.loc.source+=e.loc.source)}t.push(e)}function hc(t,e){Ic(t,9);const o=uc(t,3,e);return 0===t.source.length?Oc(t,6):Ic(t,3),o}function dc(t){const e=Sc(t);let o;const n=/--(\!)?>/.exec(t.source);if(n){n.index<=3&&Oc(t,0),n[1]&&Oc(t,10),o=t.source.slice(4,n.index);const e=t.source.slice(0,n.index);let r=1,i=0;for(;-1!==(i=e.indexOf("\x3c!--",r));)Ic(t,i-r+1),i+4<e.length&&Oc(t,16),r=i+1;Ic(t,n.index+n[0].length-r+1)}else o=t.source.slice(4),Ic(t,t.source.length),Oc(t,7);return{type:3,content:o,loc:Cc(t,e)}}function gc(t){const e=Sc(t),o="?"===t.source[1]?1:2;let n;const r=t.source.indexOf(">");return-1===r?(n=t.source.slice(o),Ic(t,t.source.length)):(n=t.source.slice(o,r),Ic(t,r+1)),{type:3,content:n,loc:Cc(t,e)}}function _c(t,e){const o=t.inPre,n=t.inVPre,r=kc(e),i=mc(t,0,r),s=t.inPre&&!o,a=t.inVPre&&!n;if(i.isSelfClosing||t.options.isVoidTag(i.tag))return i;e.push(i);const l=t.options.getTextMode(i,r),c=uc(t,l,e);if(e.pop(),i.children=c,Ac(t.source,i.tag))mc(t,1,r);else if(Oc(t,24,0,i.loc.start),0===t.source.length&&"script"===i.tag.toLowerCase()){const e=c[0];e&&Rc(e.loc.source,"\x3c!--")&&Oc(t,8)}return i.loc=Cc(t,i.loc.start),s&&(t.inPre=!1),a&&(t.inVPre=!1),i}const fc=Ia("if,else,else-if,for,slot");function mc(t,e,o){const n=Sc(t),r=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(t.source),i=r[1],s=t.options.getNamespace(i,o);Ic(t,r[0].length),wc(t);const a=Sc(t),l=t.source;let c=vc(t,e);t.options.isPreTag(i)&&(t.inPre=!0),!t.inVPre&&c.some((t=>7===t.type&&"pre"===t.name))&&(t.inVPre=!0,Va(t,a),t.source=l,c=vc(t,e).filter((t=>"v-pre"!==t.name)));let u=!1;0===t.source.length?Oc(t,9):(u=Rc(t.source,"/>"),1===e&&u&&Oc(t,4),Ic(t,u?2:1));let p=0;const h=t.options;if(!t.inVPre&&!h.isCustomElement(i)){const t=c.some((t=>7===t.type&&"is"===t.name));h.isNativeTag&&!t?h.isNativeTag(i)||(p=1):(t||Wl(i)||h.isBuiltInComponent&&h.isBuiltInComponent(i)||/^[A-Z]/.test(i)||"component"===i)&&(p=1),"slot"===i?p=2:"template"===i&&c.some((t=>7===t.type&&fc(t.name)))&&(p=3)}return{type:1,ns:s,tag:i,tagType:p,props:c,isSelfClosing:u,children:[],loc:Cc(t,n),codegenNode:void 0}}function vc(t,e){const o=[],n=new Set;for(;t.source.length>0&&!Rc(t.source,">")&&!Rc(t.source,"/>");){if(Rc(t.source,"/")){Oc(t,22),Ic(t,1),wc(t);continue}1===e&&Oc(t,3);const r=yc(t,n);0===e&&o.push(r),/^[^\t\r\n\f />]/.test(t.source)&&Oc(t,15),wc(t)}return o}function yc(t,e){const o=Sc(t),n=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(t.source)[0];e.has(n)&&Oc(t,2),e.add(n),"="===n[0]&&Oc(t,19);{const e=/["'<]/g;let o;for(;o=e.exec(n);)Oc(t,17,o.index)}let r;Ic(t,n.length),/^[\t\r\n\f ]*=/.test(t.source)&&(wc(t),Ic(t,1),wc(t),r=function(t){const e=Sc(t);let o;const n=t.source[0],r='"'===n||"'"===n;if(r){Ic(t,1);const e=t.source.indexOf(n);-1===e?o=Ec(t,t.source.length,4):(o=Ec(t,e,4),Ic(t,1))}else{const e=/^[^\t\r\n\f >]+/.exec(t.source);if(!e)return;const n=/["'<=`]/g;let r;for(;r=n.exec(e[0]);)Oc(t,18,r.index);o=Ec(t,e[0].length,4)}return{content:o,isQuoted:r,loc:Cc(t,e)}}(t),r||Oc(t,13));const i=Cc(t,o);if(!t.inVPre&&/^(v-|:|@|#)/.test(n)){const e=/(?:^v-([a-z0-9-]+))?(?:(?::|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(n),s=e[1]||(Rc(n,":")?"bind":Rc(n,"@")?"on":"slot");let a;if(e[2]){const r="slot"===s,i=n.lastIndexOf(e[2]),l=Cc(t,Nc(t,o,i),Nc(t,o,i+e[2].length+(r&&e[3]||"").length));let c=e[2],u=!0;c.startsWith("[")?(u=!1,c.endsWith("]")||Oc(t,26),c=c.substr(1,c.length-2)):r&&(c+=e[3]||""),a={type:4,content:c,isStatic:u,constType:u?3:0,loc:l}}if(r&&r.isQuoted){const t=r.loc;t.start.offset++,t.start.column++,t.end=zl(t.start,r.content),t.source=t.source.slice(1,-1)}return{type:7,name:s,exp:r&&{type:4,content:r.content,isStatic:!1,constType:0,loc:r.loc},arg:a,modifiers:e[3]?e[3].substr(1).split("."):[],loc:i}}return{type:6,name:n,value:r&&{type:2,content:r.content,loc:r.loc},loc:i}}function Tc(t,e){const[o,n]=t.options.delimiters,r=t.source.indexOf(n,o.length);if(-1===r)return void Oc(t,25);const i=Sc(t);Ic(t,o.length);const s=Sc(t),a=Sc(t),l=r-o.length,c=t.source.slice(0,l),u=Ec(t,l,e),p=u.trim(),h=u.indexOf(p);h>0&&Zl(s,c,h);return Zl(a,c,l-(u.length-p.length-h)),Ic(t,n.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:p,loc:Cc(t,s,a)},loc:Cc(t,i)}}function bc(t,e){const o=["<",t.options.delimiters[0]];3===e&&o.push("]]>");let n=t.source.length;for(let e=0;e<o.length;e++){const r=t.source.indexOf(o[e],1);-1!==r&&n>r&&(n=r)}const r=Sc(t);return{type:2,content:Ec(t,n,e),loc:Cc(t,r)}}function Ec(t,e,o){const n=t.source.slice(0,e);return Ic(t,e),2===o||3===o||-1===n.indexOf("&")?n:t.options.decodeEntities(n,4===o)}function Sc(t){const{column:e,line:o,offset:n}=t;return{column:e,line:o,offset:n}}function Cc(t,e,o){return{start:e,end:o=o||Sc(t),source:t.originalSource.slice(e.offset,o.offset)}}function kc(t){return t[t.length-1]}function Rc(t,e){return t.startsWith(e)}function Ic(t,e){const{source:o}=t;Zl(t,o,e),t.source=o.slice(e)}function wc(t){const e=/^[\t\r\n\f ]+/.exec(t.source);e&&Ic(t,e[0].length)}function Nc(t,e,o){return zl(e,t.originalSource.slice(e.offset,o),o)}function Oc(t,e,o,n=Sc(t)){o&&(n.offset+=o,n.column+=o),t.options.onError(qa(e,{start:n,end:n,source:""}))}function xc(t,e,o){const n=t.source;switch(e){case 0:if(Rc(n,"</"))for(let t=o.length-1;t>=0;--t)if(Ac(n,o[t].tag))return!0;break;case 1:case 2:{const t=kc(o);if(t&&Ac(n,t.tag))return!0;break}case 3:if(Rc(n,"]]>"))return!0}return!n}function Ac(t,e){return Rc(t,"</")&&t.substr(2,e.length).toLowerCase()===e.toLowerCase()&&/[\t\r\n\f />]/.test(t[2+e.length]||">")}function Dc(t,e){Lc(t,e,Mc(t,t.children[0]))}function Mc(t,e){const{children:o}=t;return 1===o.length&&1===e.type&&!nc(e)}function Lc(t,e,o=!1){let n=!1,r=!0;const{children:i}=t;for(let t=0;t<i.length;t++){const s=i[t];if(1===s.type&&0===s.tagType){const t=o?0:Bc(s,e);if(t>0){if(t<3&&(r=!1),t>=2){s.codegenNode.patchFlag="-1",s.codegenNode=e.hoist(s.codegenNode),n=!0;continue}}else{const t=s.codegenNode;if(13===t.type){const o=Fc(t);if((!o||512===o||1===o)&&Pc(s,e)>=2){const o=Vc(s);o&&(t.props=e.hoist(o))}}}}else if(12===s.type){const t=Bc(s.content,e);t>0&&(t<3&&(r=!1),t>=2&&(s.codegenNode=e.hoist(s.codegenNode),n=!0))}if(1===s.type){const t=1===s.tagType;t&&e.scopes.vSlot++,Lc(s,e),t&&e.scopes.vSlot--}else if(11===s.type)Lc(s,e,1===s.children.length);else if(9===s.type)for(let t=0;t<s.branches.length;t++)Lc(s.branches[t],e,1===s.branches[t].children.length)}r&&n&&e.transformHoist&&e.transformHoist(i,e,t)}function Bc(t,e){const{constantCache:o}=e;switch(t.type){case 1:if(0!==t.tagType)return 0;const n=o.get(t);if(void 0!==n)return n;const r=t.codegenNode;if(13!==r.type)return 0;if(Fc(r))return o.set(t,0),0;{let n=3;const i=Pc(t,e);if(0===i)return o.set(t,0),0;i<n&&(n=i);for(let r=0;r<t.children.length;r++){const i=Bc(t.children[r],e);if(0===i)return o.set(t,0),0;i<n&&(n=i)}if(n>1)for(let r=0;r<t.props.length;r++){const i=t.props[r];if(7===i.type&&"bind"===i.name&&i.exp){const r=Bc(i.exp,e);if(0===r)return o.set(t,0),0;r<n&&(n=r)}}return r.isBlock&&(e.removeHelper(rl),e.removeHelper(il),r.isBlock=!1,e.helper(sl)),o.set(t,n),n}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Bc(t.content,e);case 4:return t.constType;case 8:let i=3;for(let o=0;o<t.children.length;o++){const n=t.children[o];if(Ua(n)||Ha(n))continue;const r=Bc(n,e);if(0===r)return 0;r<i&&(i=r)}return i;default:return 0}}function Pc(t,e){let o=3;const n=Vc(t);if(n&&15===n.type){const{properties:t}=n;for(let n=0;n<t.length;n++){const{key:r,value:i}=t[n],s=Bc(r,e);if(0===s)return s;if(s<o&&(o=s),4!==i.type)return 0;const a=Bc(i,e);if(0===a)return a;a<o&&(o=a)}}return o}function Vc(t){const e=t.codegenNode;if(13===e.type)return e.props}function Fc(t){const e=t.patchFlag;return e?parseInt(e,10):void 0}function Uc(t,{filename:e="",prefixIdentifiers:o=!1,hoistStatic:n=!1,cacheHandlers:r=!1,nodeTransforms:i=[],directiveTransforms:s={},transformHoist:a=null,isBuiltInComponent:l=La,isCustomElement:c=La,expressionPlugins:u=[],scopeId:p=null,slotted:h=!0,ssr:d=!1,ssrCssVars:g="",bindingMetadata:_=Ma,inline:f=!1,isTS:m=!1,onError:v=$a}){const y=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),T={selfName:y&&za(Ja(y[1])),prefixIdentifiers:o,hoistStatic:n,cacheHandlers:r,nodeTransforms:i,directiveTransforms:s,transformHoist:a,isBuiltInComponent:l,isCustomElement:c,expressionPlugins:u,scopeId:p,slotted:h,ssr:d,ssrCssVars:g,bindingMetadata:_,inline:f,isTS:m,onError:v,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:t,childIndex:0,helper(t){const e=T.helpers.get(t)||0;return T.helpers.set(t,e+1),t},removeHelper(t){const e=T.helpers.get(t);if(e){const o=e-1;o?T.helpers.set(t,o):T.helpers.delete(t)}},helperString:t=>`_${Ol[T.helper(t)]}`,replaceNode(t){T.parent.children[T.childIndex]=T.currentNode=t},removeNode(t){const e=T.parent.children,o=t?e.indexOf(t):T.currentNode?T.childIndex:-1;t&&t!==T.currentNode?T.childIndex>o&&(T.childIndex--,T.onNodeRemoved()):(T.currentNode=null,T.onNodeRemoved()),T.parent.children.splice(o,1)},onNodeRemoved:()=>{},addIdentifiers(t){},removeIdentifiers(t){},hoist(t){T.hoists.push(t);const e=Bl(`_hoisted_${T.hoists.length}`,!1,t.loc,2);return e.hoisted=t,e},cache:(t,e=!1)=>function(t,e,o=!1){return{type:20,index:t,value:e,isVNode:o,loc:xl}}(++T.cached,t,e)};return T}function Hc(t,e){const o=Uc(t,e);Gc(t,o),e.hoistStatic&&Dc(t,o),e.ssr||function(t,e){const{helper:o,removeHelper:n}=e,{children:r}=t;if(1===r.length){const e=r[0];if(Mc(t,e)&&e.codegenNode){const r=e.codegenNode;13===r.type&&(r.isBlock||(n(sl),r.isBlock=!0,o(rl),o(il))),t.codegenNode=r}else t.codegenNode=e}else if(r.length>1){let n=64;0,t.codegenNode=Al(e,o(Qa),void 0,t.children,n+"",void 0,void 0,!0)}}(t,o),t.helpers=[...o.helpers.keys()],t.components=[...o.components],t.directives=[...o.directives],t.imports=o.imports,t.hoists=o.hoists,t.temps=o.temps,t.cached=o.cached}function Gc(t,e){e.currentNode=t;const{nodeTransforms:o}=e,n=[];for(let r=0;r<o.length;r++){const i=o[r](t,e);if(i&&(Fa(i)?n.push(...i):n.push(i)),!e.currentNode)return;t=e.currentNode}switch(t.type){case 3:e.ssr||e.helper(al);break;case 5:e.ssr||e.helper(ml);break;case 9:for(let o=0;o<t.branches.length;o++)Gc(t.branches[o],e);break;case 10:case 11:case 1:case 0:!function(t,e){let o=0;const n=()=>{o--};for(;o<t.children.length;o++){const r=t.children[o];Ua(r)||(e.parent=t,e.childIndex=o,e.onNodeRemoved=n,Gc(r,e))}}(t,e)}e.currentNode=t;let r=n.length;for(;r--;)n[r]()}function Wc(t,e){const o=Ua(t)?e=>e===t:e=>t.test(e);return(t,n)=>{if(1===t.type){const{props:r}=t;if(3===t.tagType&&r.some(ec))return;const i=[];for(let s=0;s<r.length;s++){const a=r[s];if(7===a.type&&o(a.name)){r.splice(s,1),s--;const o=e(t,a,n);o&&i.push(o)}}return i}}}const jc="/*#__PURE__*/";function Xc(t,e={}){const o=function(t,{mode:e="function",prefixIdentifiers:o="module"===e,sourceMap:n=!1,filename:r="template.vue.html",scopeId:i=null,optimizeImports:s=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssr:c=!1}){const u={mode:e,prefixIdentifiers:o,sourceMap:n,filename:r,scopeId:i,optimizeImports:s,runtimeGlobalName:a,runtimeModuleName:l,ssr:c,source:t.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper:t=>`_${Ol[t]}`,push(t,e){u.code+=t},indent(){p(++u.indentLevel)},deindent(t=!1){t?--u.indentLevel:p(--u.indentLevel)},newline(){p(u.indentLevel)}};function p(t){u.push("\n"+"  ".repeat(t))}return u}(t,e);e.onContextCreated&&e.onContextCreated(o);const{mode:n,push:r,prefixIdentifiers:i,indent:s,deindent:a,newline:l,scopeId:c,ssr:u}=o,p=t.helpers.length>0,h=!i&&"module"!==n;!function(t,e){const{ssr:o,prefixIdentifiers:n,push:r,newline:i,runtimeModuleName:s,runtimeGlobalName:a}=e,l=a,c=t=>`${Ol[t]}: _${Ol[t]}`;if(t.helpers.length>0&&(r(`const _Vue = ${l}\n`),t.hoists.length)){r(`const { ${[sl,al,ll,cl].filter((e=>t.helpers.includes(e))).map(c).join(", ")} } = _Vue\n`)}(function(t,e){if(!t.length)return;e.pure=!0;const{push:o,newline:n,helper:r,scopeId:i,mode:s}=e;n(),t.forEach(((t,r)=>{t&&(o(`const _hoisted_${r+1} = `),zc(t,e),n())})),e.pure=!1})(t.hoists,e),i(),r("return ")}(t,o);if(r(`function ${u?"ssrRender":"render"}(${(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ")}) {`),s(),h&&(r("with (_ctx) {"),s(),p&&(r(`const { ${t.helpers.map((t=>`${Ol[t]}: _${Ol[t]}`)).join(", ")} } = _Vue`),r("\n"),l())),t.components.length&&(Jc(t.components,"component",o),(t.directives.length||t.temps>0)&&l()),t.directives.length&&(Jc(t.directives,"directive",o),t.temps>0&&l()),t.temps>0){r("let ");for(let e=0;e<t.temps;e++)r(`${e>0?", ":""}_temp${e}`)}return(t.components.length||t.directives.length||t.temps)&&(r("\n"),l()),u||r("return "),t.codegenNode?zc(t.codegenNode,o):r("null"),h&&(a(),r("}")),a(),r("}"),{ast:t,code:o.code,preamble:"",map:o.map?o.map.toJSON():void 0}}function Jc(t,e,{helper:o,push:n,newline:r}){const i=o("component"===e?ul:hl);for(let o=0;o<t.length;o++){let s=t[o];const a=s.endsWith("__self");a&&(s=s.slice(0,-6)),n(`const ${ic(s,e)} = ${i}(${JSON.stringify(s)}${a?", true":""})`),o<t.length-1&&r()}}function Yc(t,e){const o=t.length>3||!1;e.push("["),o&&e.indent(),Kc(t,e,o),o&&e.deindent(),e.push("]")}function Kc(t,e,o=!1,n=!0){const{push:r,newline:i}=e;for(let s=0;s<t.length;s++){const a=t[s];Ua(a)?r(a):Fa(a)?Yc(a,e):zc(a,e),s<t.length-1&&(o?(n&&r(","),i()):n&&r(", "))}}function zc(t,e){if(Ua(t))e.push(t);else if(Ha(t))e.push(e.helper(t));else switch(t.type){case 1:case 9:case 11:zc(t.codegenNode,e);break;case 2:!function(t,e){e.push(JSON.stringify(t.content),t)}(t,e);break;case 4:Zc(t,e);break;case 5:!function(t,e){const{push:o,helper:n,pure:r}=e;r&&o(jc);o(`${n(ml)}(`),zc(t.content,e),o(")")}(t,e);break;case 12:zc(t.codegenNode,e);break;case 8:$c(t,e);break;case 3:break;case 13:!function(t,e){const{push:o,helper:n,pure:r}=e,{tag:i,props:s,children:a,patchFlag:l,dynamicProps:c,directives:u,isBlock:p,disableTracking:h}=t;u&&o(n(dl)+"(");p&&o(`(${n(rl)}(${h?"true":""}), `);r&&o(jc);o(n(p?il:sl)+"(",t),Kc(function(t){let e=t.length;for(;e--&&null==t[e];);return t.slice(0,e+1).map((t=>t||"null"))}([i,s,a,l,c]),e),o(")"),p&&o(")");u&&(o(", "),zc(u,e),o(")"))}(t,e);break;case 14:!function(t,e){const{push:o,helper:n,pure:r}=e,i=Ua(t.callee)?t.callee:n(t.callee);r&&o(jc);o(i+"(",t),Kc(t.arguments,e),o(")")}(t,e);break;case 15:!function(t,e){const{push:o,indent:n,deindent:r,newline:i}=e,{properties:s}=t;if(!s.length)return void o("{}",t);const a=s.length>1||!1;o(a?"{":"{ "),a&&n();for(let t=0;t<s.length;t++){const{key:n,value:r}=s[t];qc(n,e),o(": "),zc(r,e),t<s.length-1&&(o(","),i())}a&&r(),o(a?"}":" }")}(t,e);break;case 17:!function(t,e){Yc(t.elements,e)}(t,e);break;case 18:!function(t,e){const{push:o,indent:n,deindent:r,scopeId:i,mode:s}=e,{params:a,returns:l,body:c,newline:u,isSlot:p}=t;p&&o(`_${Ol[Il]}(`);o("(",t),Fa(a)?Kc(a,e):a&&zc(a,e);o(") => "),(u||c)&&(o("{"),n());l?(u&&o("return "),Fa(l)?Yc(l,e):zc(l,e)):c&&zc(c,e);(u||c)&&(r(),o("}"));p&&o(")")}(t,e);break;case 19:!function(t,e){const{test:o,consequent:n,alternate:r,newline:i}=t,{push:s,indent:a,deindent:l,newline:c}=e;if(4===o.type){const t=!Xl(o.content);t&&s("("),Zc(o,e),t&&s(")")}else s("("),zc(o,e),s(")");i&&a(),e.indentLevel++,i||s(" "),s("? "),zc(n,e),e.indentLevel--,i&&c(),i||s(" "),s(": ");const u=19===r.type;u||e.indentLevel++;zc(r,e),u||e.indentLevel--;i&&l(!0)}(t,e);break;case 20:!function(t,e){const{push:o,helper:n,indent:r,deindent:i,newline:s}=e;o(`_cache[${t.index}] || (`),t.isVNode&&(r(),o(`${n(Sl)}(-1),`),s());o(`_cache[${t.index}] = `),zc(t.value,e),t.isVNode&&(o(","),s(),o(`${n(Sl)}(1),`),s(),o(`_cache[${t.index}]`),i());o(")")}(t,e);break;case 21:case 22:case 23:case 24:case 25:case 26:case 10:break;default:0}}function Zc(t,e){const{content:o,isStatic:n}=t;e.push(n?JSON.stringify(o):o,t)}function $c(t,e){for(let o=0;o<t.children.length;o++){const n=t.children[o];Ua(n)?e.push(n):zc(n,e)}}function qc(t,e){const{push:o}=e;if(8===t.type)o("["),$c(t,e),o("]");else if(t.isStatic){o(Xl(t.content)?t.content:JSON.stringify(t.content),t)}else o(`[${t.content}]`,t)}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const Qc=Wc(/^(if|else|else-if)$/,((t,e,o)=>function(t,e,o,n){if(!("else"===e.name||e.exp&&e.exp.content.trim())){const n=e.exp?e.exp.loc:t.loc;o.onError(qa(27,e.loc)),e.exp=Bl("true",!1,n)}0;if("if"===e.name){const r=tu(t,e),i={type:9,loc:t.loc,branches:[r]};if(o.replaceNode(i),n)return n(i,r,!0)}else{const r=o.parent.children;let i=r.indexOf(t);for(;i-- >=-1;){const s=r[i];if(!s||2!==s.type||s.content.trim().length){if(s&&9===s.type){o.removeNode();const r=tu(t,e);0,s.branches.push(r);const i=n&&n(s,r,!1);Gc(r,o),i&&i(),o.currentNode=null}else o.onError(qa(29,t.loc));break}o.removeNode(s)}}}(t,e,o,((t,e,n)=>{const r=o.parent.children;let i=r.indexOf(t),s=0;for(;i-- >=0;){const t=r[i];t&&9===t.type&&(s+=t.branches.length)}return()=>{if(n)t.codegenNode=eu(e,s,o);else{(function(t){for(;;)if(19===t.type){if(19!==t.alternate.type)return t;t=t.alternate}else 20===t.type&&(t=t.value)}(t.codegenNode)).alternate=eu(e,s+t.branches.length-1,o)}}}))));function tu(t,e){return{type:10,loc:t.loc,condition:"else"===e.name?void 0:e.exp,children:3!==t.tagType||$l(t,"for")?[t]:t.children,userKey:ql(t,"key")}}function eu(t,e,o){return t.condition?Ul(t.condition,ou(t,e,o),Vl(o.helper(al),['""',"true"])):ou(t,e,o)}function ou(t,e,o){const{helper:n,removeHelper:r}=o,i=Ll("key",Bl(`${e}`,!1,xl,2)),{children:s}=t,a=s[0];if(1!==s.length||1!==a.type){if(1===s.length&&11===a.type){const t=a.codegenNode;return rc(t,i,o),t}{let e=64;return Al(o,n(Qa),Ml([i]),s,e+"",void 0,void 0,!0,!1,t.loc)}}{const t=a.codegenNode;return 13!==t.type||t.isBlock||(r(sl),t.isBlock=!0,n(rl),n(il)),rc(t,i,o),t}}const nu=Wc("for",((t,e,o)=>{const{helper:n,removeHelper:r}=o;return function(t,e,o,n){if(!e.exp)return void o.onError(qa(30,e.loc));const r=au(e.exp,o);if(!r)return void o.onError(qa(31,e.loc));const{addIdentifiers:i,removeIdentifiers:s,scopes:a}=o,{source:l,value:c,key:u,index:p}=r,h={type:11,loc:e.loc,source:l,valueAlias:c,keyAlias:u,objectIndexAlias:p,parseResult:r,children:oc(t)?t.children:[t]};o.replaceNode(h),a.vFor++;const d=n&&n(h);return()=>{a.vFor--,d&&d()}}(t,e,o,(e=>{const i=Vl(n(gl),[e.source]),s=ql(t,"key"),a=s?Ll("key",6===s.type?Bl(s.value.content,!0):s.exp):null,l=4===e.source.type&&e.source.constType>0,c=l?64:s?128:256;return e.codegenNode=Al(o,n(Qa),void 0,i,c+"",void 0,void 0,!0,!l,t.loc),()=>{let s;const c=oc(t),{children:u}=e;const p=1!==u.length||1!==u[0].type,h=nc(t)?t:c&&1===t.children.length&&nc(t.children[0])?t.children[0]:null;h?(s=h.codegenNode,c&&a&&rc(s,a,o)):p?s=Al(o,n(Qa),a?Ml([a]):void 0,t.children,"64",void 0,void 0,!0):(s=u[0].codegenNode,c&&a&&rc(s,a,o),s.isBlock!==!l&&(s.isBlock?(r(rl),r(il)):r(sl)),s.isBlock=!l,s.isBlock?(n(rl),n(il)):n(sl)),i.arguments.push(Fl(cu(e.parseResult),s,!0))}}))}));const ru=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,iu=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,su=/^\(|\)$/g;function au(t,e){const o=t.loc,n=t.content,r=n.match(ru);if(!r)return;const[,i,s]=r,a={source:lu(o,s.trim(),n.indexOf(s,i.length)),value:void 0,key:void 0,index:void 0};let l=i.trim().replace(su,"").trim();const c=i.indexOf(l),u=l.match(iu);if(u){l=l.replace(iu,"").trim();const t=u[1].trim();let e;if(t&&(e=n.indexOf(t,c+l.length),a.key=lu(o,t,e)),u[2]){const r=u[2].trim();r&&(a.index=lu(o,r,n.indexOf(r,a.key?e+t.length:c+l.length)))}}return l&&(a.value=lu(o,l,c)),a}function lu(t,e,o){return Bl(e,!1,Kl(t,o,e.length))}function cu({value:t,key:e,index:o}){const n=[];return t&&n.push(t),e&&(t||n.push(Bl("_",!1)),n.push(e)),o&&(e||(t||n.push(Bl("_",!1)),n.push(Bl("__",!1))),n.push(o)),n}const uu=Bl("undefined",!1),pu=(t,e)=>{if(1===t.type&&(1===t.tagType||3===t.tagType)){const o=$l(t,"slot");if(o)return o.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},hu=(t,e,o)=>Fl(t,e,!1,!0,e.length?e[0].loc:o);function du(t,e,o=hu){e.helper(Il);const{children:n,loc:r}=t,i=[],s=[],a=(t,e)=>Ll("default",o(t,e,r));let l=e.scopes.vSlot>0||e.scopes.vFor>0;const c=$l(t,"slot",!0);if(c){const{arg:t,exp:e}=c;t&&!Hl(t)&&(l=!0),i.push(Ll(t||Bl("default",!0),o(e,n,r)))}let u=!1,p=!1;const h=[],d=new Set;for(let t=0;t<n.length;t++){const r=n[t];let a;if(!oc(r)||!(a=$l(r,"slot",!0))){3!==r.type&&h.push(r);continue}if(c){e.onError(qa(36,a.loc));break}u=!0;const{children:g,loc:_}=r,{arg:f=Bl("default",!0),exp:m,loc:v}=a;let y;Hl(f)?y=f?f.content:"default":l=!0;const T=o(m,g,_);let b,E,S;if(b=$l(r,"if"))l=!0,s.push(Ul(b.exp,gu(f,T),uu));else if(E=$l(r,/^else(-if)?$/,!0)){let o,r=t;for(;r--&&(o=n[r],3===o.type););if(o&&oc(o)&&$l(o,"if")){n.splice(t,1),t--;let e=s[s.length-1];for(;19===e.alternate.type;)e=e.alternate;e.alternate=E.exp?Ul(E.exp,gu(f,T),uu):gu(f,T)}else e.onError(qa(29,E.loc))}else if(S=$l(r,"for")){l=!0;const t=S.parseResult||au(S.exp);t?s.push(Vl(e.helper(gl),[t.source,Fl(cu(t),gu(f,T),!0)])):e.onError(qa(31,S.loc))}else{if(y){if(d.has(y)){e.onError(qa(37,v));continue}d.add(y),"default"===y&&(p=!0)}i.push(Ll(f,T))}}c||(u?h.length&&(p?e.onError(qa(38,h[0].loc)):i.push(a(void 0,h))):i.push(a(void 0,n)));const g=l?2:_u(t.children)?3:1;let _=Ml(i.concat(Ll("_",Bl(g+"",!1))),r);return s.length&&(_=Vl(e.helper(fl),[_,Dl(s)])),{slots:_,hasDynamicSlots:l}}function gu(t,e){return Ml([Ll("name",t),Ll("fn",e)])}function _u(t){for(let e=0;e<t.length;e++){const o=t[e];switch(o.type){case 1:if(2===o.tagType||0===o.tagType&&_u(o.children))return!0;break;case 9:if(_u(o.branches))return!0;break;case 10:case 11:if(_u(o.children))return!0}}return!1}const fu=new WeakMap,mu=(t,e)=>function(){if(1!==(t=e.currentNode).type||0!==t.tagType&&1!==t.tagType)return;const{tag:o,props:n}=t,r=1===t.tagType,i=r?function(t,e,o=!1){const{tag:n}=t,r=bu(n)?ql(t,"is"):$l(t,"is");if(r){const t=6===r.type?r.value&&Bl(r.value.content,!0):r.exp;if(t)return Vl(e.helper(pl),[t])}const i=Wl(n)||e.isBuiltInComponent(n);if(i)return o||e.helper(i),i;return e.helper(ul),e.components.add(n),ic(n,"component")}(t,e):`"${o}"`;let s,a,l,c,u,p,h=0,d=Ga(i)&&i.callee===pl||i===tl||i===el||!r&&("svg"===o||"foreignObject"===o||ql(t,"key",!0));if(n.length>0){const o=vu(t,e);s=o.props,h=o.patchFlag,u=o.dynamicPropNames;const n=o.directives;p=n&&n.length?Dl(n.map((t=>function(t,e){const o=[],n=fu.get(t);n?o.push(e.helperString(n)):(e.helper(hl),e.directives.add(t.name),o.push(ic(t.name,"directive")));const{loc:r}=t;t.exp&&o.push(t.exp);t.arg&&(t.exp||o.push("void 0"),o.push(t.arg));if(Object.keys(t.modifiers).length){t.arg||(t.exp||o.push("void 0"),o.push("void 0"));const e=Bl("true",!1,r);o.push(Ml(t.modifiers.map((t=>Ll(t,e))),r))}return Dl(o,t.loc)}(t,e)))):void 0}if(t.children.length>0){i===ol&&(d=!0,h|=1024);if(r&&i!==tl&&i!==ol){const{slots:o,hasDynamicSlots:n}=du(t,e);a=o,n&&(h|=1024)}else if(1===t.children.length&&i!==tl){const o=t.children[0],n=o.type,r=5===n||8===n;r&&0===Bc(o,e)&&(h|=1),a=r||2===n?o:t.children}else a=t.children}0!==h&&(l=String(h),u&&u.length&&(c=function(t){let e="[";for(let o=0,n=t.length;o<n;o++)e+=JSON.stringify(t[o]),o<n-1&&(e+=", ");return e+"]"}(u))),t.codegenNode=Al(e,i,s,a,l,c,p,!!d,!1,t.loc)};function vu(t,e,o=t.props,n=!1){const{tag:r,loc:i}=t,s=1===t.tagType;let a=[];const l=[],c=[];let u=0,p=!1,h=!1,d=!1,g=!1,_=!1,f=!1;const m=[],v=({key:t,value:o})=>{if(Hl(t)){const n=t.content,r=(t=>Pa.test(t))(n);if(s||!r||"onclick"===n.toLowerCase()||"onUpdate:modelValue"===n||Wa(n)||(g=!0),r&&Wa(n)&&(f=!0),20===o.type||(4===o.type||8===o.type)&&Bc(o,e)>0)return;"ref"===n?p=!0:"class"!==n||s?"style"!==n||s?"key"===n||m.includes(n)||m.push(n):d=!0:h=!0}else _=!0};for(let u=0;u<o.length;u++){const h=o[u];if(6===h.type){const{loc:t,name:e,value:o}=h;let n=!0;if("ref"===e&&(p=!0),"is"===e&&bu(r))continue;a.push(Ll(Bl(e,!0,Kl(t,0,e.length)),Bl(o?o.content:"",n,o?o.loc:t)))}else{const{name:o,arg:u,exp:p,loc:d}=h,g="bind"===o,f="on"===o;if("slot"===o){s||e.onError(qa(39,d));continue}if("once"===o)continue;if("is"===o||g&&bu(r)&&Ql(u,"is"))continue;if(f&&n)continue;if(!u&&(g||f)){_=!0,p?(a.length&&(l.push(Ml(yu(a),i)),a=[]),g?l.push(p):l.push({type:14,loc:d,callee:e.helper(yl),arguments:[p]})):e.onError(qa(g?33:34,d));continue}const m=e.directiveTransforms[o];if(m){const{props:o,needRuntime:r}=m(h,t,e);!n&&o.forEach(v),a.push(...o),r&&(c.push(h),Ha(r)&&fu.set(h,r))}else c.push(h)}}let y;return l.length?(a.length&&l.push(Ml(yu(a),i)),y=l.length>1?Vl(e.helper(vl),l,i):l[0]):a.length&&(y=Ml(yu(a),i)),_?u|=16:(h&&(u|=2),d&&(u|=4),m.length&&(u|=8),g&&(u|=32)),0!==u&&32!==u||!(p||f||c.length>0)||(u|=512),{props:y,directives:c,patchFlag:u,dynamicPropNames:m}}function yu(t){const e=new Map,o=[];for(let n=0;n<t.length;n++){const r=t[n];if(8===r.key.type||!r.key.isStatic){o.push(r);continue}const i=r.key.content,s=e.get(i);s?("style"===i||"class"===i||i.startsWith("on"))&&Tu(s,r):(e.set(i,r),o.push(r))}return o}function Tu(t,e){17===t.value.type?t.value.elements.push(e.value):t.value=Dl([t.value,e.value],t.loc)}function bu(t){return t[0].toLowerCase()+t.slice(1)==="component"}const Eu=/-(\w)/g,Su=(t=>{const e=Object.create(null);return o=>e[o]||(e[o]=t(o))})((t=>t.replace(Eu,((t,e)=>e?e.toUpperCase():"")))),Cu=(t,e)=>{if(nc(t)){const{children:o,loc:n}=t,{slotName:r,slotProps:i}=function(t,e){let o,n='"default"';const r=[];for(let e=0;e<t.props.length;e++){const o=t.props[e];6===o.type?o.value&&("name"===o.name?n=JSON.stringify(o.value.content):(o.name=Su(o.name),r.push(o))):"bind"===o.name&&Ql(o.arg,"name")?o.exp&&(n=o.exp):("bind"===o.name&&o.arg&&Hl(o.arg)&&(o.arg.content=Su(o.arg.content)),r.push(o))}if(r.length>0){const{props:n,directives:i}=vu(t,e,r);o=n,i.length&&e.onError(qa(35,i[0].loc))}return{slotName:n,slotProps:o}}(t,e),s=[e.prefixIdentifiers?"_ctx.$slots":"$slots",r];i&&s.push(i),o.length&&(i||s.push("{}"),s.push(Fl([],o,!1,!1,n))),e.scopeId&&!e.slotted&&(i||s.push("{}"),o.length||s.push("undefined"),s.push("true")),t.codegenNode=Vl(e.helper(_l),s,n)}};const ku=/^\s*([\w$_]+|\([^)]*?\))\s*=>|^\s*function(?:\s+[\w$]+)?\s*\(/,Ru=(t,e,o,n)=>{const{loc:r,modifiers:i,arg:s}=t;let a;if(t.exp||i.length||o.onError(qa(34,r)),4===s.type)if(s.isStatic){const t=s.content;a=Bl(Za(Ja(t)),!0,s.loc)}else a=Pl([`${o.helperString(El)}(`,s,")"]);else a=s,a.children.unshift(`${o.helperString(El)}(`),a.children.push(")");let l=t.exp;l&&!l.content.trim()&&(l=void 0);let c=o.cacheHandlers&&!l;if(l){const t=Yl(l.content),e=!(t||ku.test(l.content)),o=l.content.includes(";");0,(e||c&&t)&&(l=Pl([`${e?"$event":"(...args)"} => ${o?"{":"("}`,l,o?"}":")"]))}let u={props:[Ll(a,l||Bl("() => {}",!1,r))]};return n&&(u=n(u)),c&&(u.props[0].value=o.cache(u.props[0].value)),u},Iu=(t,e,o)=>{const{exp:n,modifiers:r,loc:i}=t,s=t.arg;return 4!==s.type?(s.children.unshift("("),s.children.push(') || ""')):s.isStatic||(s.content=`${s.content} || ""`),r.includes("camel")&&(4===s.type?s.isStatic?s.content=Ja(s.content):s.content=`${o.helperString(Tl)}(${s.content})`:(s.children.unshift(`${o.helperString(Tl)}(`),s.children.push(")"))),!n||4===n.type&&!n.content.trim()?(o.onError(qa(33,i)),{props:[Ll(s,Bl("",!0,i))]}):{props:[Ll(s,n)]}},wu=(t,e)=>{if(0===t.type||1===t.type||11===t.type||10===t.type)return()=>{const o=t.children;let n,r=!1;for(let t=0;t<o.length;t++){const e=o[t];if(tc(e)){r=!0;for(let r=t+1;r<o.length;r++){const i=o[r];if(!tc(i)){n=void 0;break}n||(n=o[t]={type:8,loc:e.loc,children:[e]}),n.children.push(" + ",i),o.splice(r,1),r--}}}if(r&&(1!==o.length||0!==t.type&&(1!==t.type||0!==t.tagType)))for(let t=0;t<o.length;t++){const n=o[t];if(tc(n)||8===n.type){const r=[];2===n.type&&" "===n.content||r.push(n),e.ssr||0!==Bc(n,e)||r.push("1"),o[t]={type:12,content:n,loc:n.loc,codegenNode:Vl(e.helper(ll),r)}}}}},Nu=new WeakSet,Ou=(t,e)=>{if(1===t.type&&$l(t,"once",!0)){if(Nu.has(t))return;return Nu.add(t),e.helper(Sl),()=>{const t=e.currentNode;t.codegenNode&&(t.codegenNode=e.cache(t.codegenNode,!0))}}},xu=(t,e,o)=>{const{exp:n,arg:r}=t;if(!n)return o.onError(qa(40,t.loc)),Au();const i=n.loc.source,s=4===n.type?n.content:i;o.bindingMetadata[i];if(!Yl(s))return o.onError(qa(41,n.loc)),Au();const a=r||Bl("modelValue",!0),l=r?Hl(r)?`onUpdate:${r.content}`:Pl(['"onUpdate:" + ',r]):"onUpdate:modelValue";let c;c=Pl([`${o.isTS?"($event: any)":"$event"} => (`,n," = $event)"]);const u=[Ll(a,t.exp),Ll(l,c)];if(t.modifiers.length&&1===e.tagType){const e=t.modifiers.map((t=>(Xl(t)?t:JSON.stringify(t))+": true")).join(", "),o=r?Hl(r)?`${r.content}Modifiers`:Pl([r,' + "Modifiers"']):"modelModifiers";u.push(Ll(o,Bl(`{ ${e} }`,!1,t.loc,2)))}return Au(u)};function Au(t=[]){return{props:t}}function Du(t,e={}){const o=e.onError||$a,n="module"===e.mode;!0===e.prefixIdentifiers?o(qa(45)):n&&o(qa(46));e.cacheHandlers&&o(qa(47)),e.scopeId&&!n&&o(qa(48));const r=Ua(t)?cc(t,e):t,[i,s]=[[Ou,Qc,nu,Cu,mu,pu,wu],{on:Ru,bind:Iu,model:xu}];return Hc(r,Va({},e,{prefixIdentifiers:false,nodeTransforms:[...i,...e.nodeTransforms||[]],directiveTransforms:Va({},s,e.directiveTransforms||{})})),Xc(r,Va({},e,{prefixIdentifiers:false}))}const Mu=Symbol(""),Lu=Symbol(""),Bu=Symbol(""),Pu=Symbol(""),Vu=Symbol(""),Fu=Symbol(""),Uu=Symbol(""),Hu=Symbol(""),Gu=Symbol(""),Wu=Symbol("");var ju;let Xu;ju={[Mu]:"vModelRadio",[Lu]:"vModelCheckbox",[Bu]:"vModelText",[Pu]:"vModelSelect",[Vu]:"vModelDynamic",[Fu]:"withModifiers",[Uu]:"withKeys",[Hu]:"vShow",[Gu]:"Transition",[Wu]:"TransitionGroup"},Object.getOwnPropertySymbols(ju).forEach((t=>{Ol[t]=ju[t]}));const Ju=Ia("style,iframe,script,noscript",!0),Yu={isVoidTag:Da,isNativeTag:t=>xa(t)||Aa(t),isPreTag:t=>"pre"===t,decodeEntities:function(t){return(Xu||(Xu=document.createElement("div"))).innerHTML=t,Xu.textContent},isBuiltInComponent:t=>Gl(t,"Transition")?Gu:Gl(t,"TransitionGroup")?Wu:void 0,getNamespace(t,e){let o=e?e.ns:0;if(e&&2===o)if("annotation-xml"===e.tag){if("svg"===t)return 1;e.props.some((t=>6===t.type&&"encoding"===t.name&&null!=t.value&&("text/html"===t.value.content||"application/xhtml+xml"===t.value.content)))&&(o=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&"mglyph"!==t&&"malignmark"!==t&&(o=0);else e&&1===o&&("foreignObject"!==e.tag&&"desc"!==e.tag&&"title"!==e.tag||(o=0));if(0===o){if("svg"===t)return 1;if("math"===t)return 2}return o},getTextMode({tag:t,ns:e}){if(0===e){if("textarea"===t||"title"===t)return 1;if(Ju(t))return 2}return 0}},Ku=(t,e)=>{const o=Oa(t);return Bl(JSON.stringify(o),!1,e,3)};function zu(t,e){return qa(t,e)}const Zu=Ia("passive,once,capture"),$u=Ia("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),qu=Ia("left,right"),Qu=Ia("onkeyup,onkeydown,onkeypress",!0),tp=(t,e)=>Hl(t)&&"onclick"===t.content.toLowerCase()?Bl(e,!0):4!==t.type?Pl(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t;const ep=(t,e)=>{1!==t.type||0!==t.tagType||"script"!==t.tag&&"style"!==t.tag||(e.onError(zu(59,t.loc)),e.removeNode())},op=[t=>{1===t.type&&t.props.forEach(((e,o)=>{6===e.type&&"style"===e.name&&e.value&&(t.props[o]={type:7,name:"bind",arg:Bl("style",!0,e.loc),exp:Ku(e.value.content,e.loc),modifiers:[],loc:e.loc})}))}],np={cloak:()=>({props:[]}),html:(t,e,o)=>{const{exp:n,loc:r}=t;return n||o.onError(zu(49,r)),e.children.length&&(o.onError(zu(50,r)),e.children.length=0),{props:[Ll(Bl("innerHTML",!0,r),n||Bl("",!0))]}},text:(t,e,o)=>{const{exp:n,loc:r}=t;return n||o.onError(zu(51,r)),e.children.length&&(o.onError(zu(52,r)),e.children.length=0),{props:[Ll(Bl("textContent",!0),n?Vl(o.helperString(ml),[n],r):Bl("",!0))]}},model:(t,e,o)=>{const n=xu(t,e,o);if(!n.props.length||1===e.tagType)return n;t.arg&&o.onError(zu(54,t.arg.loc));const{tag:r}=e,i=o.isCustomElement(r);if("input"===r||"textarea"===r||"select"===r||i){let s=Bu,a=!1;if("input"===r||i){const n=ql(e,"type");if(n){if(7===n.type)s=Vu;else if(n.value)switch(n.value.content){case"radio":s=Mu;break;case"checkbox":s=Lu;break;case"file":a=!0,o.onError(zu(55,t.loc))}}else(function(t){return t.props.some((t=>!(7!==t.type||"bind"!==t.name||t.arg&&4===t.arg.type&&t.arg.isStatic)))})(e)&&(s=Vu)}else"select"===r&&(s=Pu);a||(n.needRuntime=o.helper(s))}else o.onError(zu(53,t.loc));return n.props=n.props.filter((t=>!(4===t.key.type&&"modelValue"===t.key.content))),n},on:(t,e,o)=>Ru(t,0,o,(e=>{const{modifiers:n}=t;if(!n.length)return e;let{key:r,value:i}=e.props[0];const{keyModifiers:s,nonKeyModifiers:a,eventOptionModifiers:l}=((t,e)=>{const o=[],n=[],r=[];for(let i=0;i<e.length;i++){const s=e[i];Zu(s)?r.push(s):qu(s)?Hl(t)?Qu(t.content)?o.push(s):n.push(s):(o.push(s),n.push(s)):$u(s)?n.push(s):o.push(s)}return{keyModifiers:o,nonKeyModifiers:n,eventOptionModifiers:r}})(r,n);if(a.includes("right")&&(r=tp(r,"onContextmenu")),a.includes("middle")&&(r=tp(r,"onMouseup")),a.length&&(i=Vl(o.helper(Fu),[i,JSON.stringify(a)])),!s.length||Hl(r)&&!Qu(r.content)||(i=Vl(o.helper(Uu),[i,JSON.stringify(s)])),l.length){const t=l.map(za).join("");r=Hl(r)?Bl(`${r.content}${t}`,!0):Pl(["(",r,`) + "${t}"`])}return{props:[Ll(r,i)]}})),show:(t,e,o)=>{const{exp:n,loc:r}=t;return n||o.onError(zu(57,r)),{props:[],needRuntime:o.helper(Hu)}}};const rp=Object.create(null);function ip(t,e){if(!Ua(t)){if(!t.nodeType)return La;t=t.innerHTML}const o=t,r=rp[o];if(r)return r;if("#"===t[0]){const e=document.querySelector(t);0,t=e?e.innerHTML:""}const{code:i}=function(t,e={}){return Du(t,Va({},Yu,e,{nodeTransforms:[ep,...op,...e.nodeTransforms||[]],directiveTransforms:Va({},np,e.directiveTransforms||{}),transformHoist:null}))}(t,Va({hoistStatic:!0,onError(t){throw t}},e)),s=new Function("Vue",i)(n);return s._rc=!0,rp[o]=s}vi(ip)},3218:(t,e,o)=>{var n={"./API/ApiTokenManager":1605,"./API/ApiTokenManager.vue":1605,"./API/Index":1201,"./API/Index.vue":1201,"./Auth/ConfirmPassword":5362,"./Auth/ConfirmPassword.vue":5362,"./Auth/ForgotPassword":9195,"./Auth/ForgotPassword.vue":9195,"./Auth/Login":2436,"./Auth/Login.vue":2436,"./Auth/Register":3616,"./Auth/Register.vue":3616,"./Auth/ResetPassword":8957,"./Auth/ResetPassword.vue":8957,"./Auth/TwoFactorChallenge":2459,"./Auth/TwoFactorChallenge.vue":2459,"./Auth/VerifyEmail":8546,"./Auth/VerifyEmail.vue":8546,"./Dashboard":8305,"./Dashboard.vue":8305,"./PrivacyPolicy":3697,"./PrivacyPolicy.vue":3697,"./Profile/DeleteUserForm":9473,"./Profile/DeleteUserForm.vue":9473,"./Profile/LogoutOtherBrowserSessionsForm":9993,"./Profile/LogoutOtherBrowserSessionsForm.vue":9993,"./Profile/Show":9505,"./Profile/Show.vue":9505,"./Profile/TwoFactorAuthenticationForm":9430,"./Profile/TwoFactorAuthenticationForm.vue":9430,"./Profile/UpdatePasswordForm":5029,"./Profile/UpdatePasswordForm.vue":5029,"./Profile/UpdateProfileInformationForm":7580,"./Profile/UpdateProfileInformationForm.vue":7580,"./Teams/Create":6498,"./Teams/Create.vue":6498,"./Teams/CreateTeamForm":4570,"./Teams/CreateTeamForm.vue":4570,"./Teams/DeleteTeamForm":1578,"./Teams/DeleteTeamForm.vue":1578,"./Teams/Show":9657,"./Teams/Show.vue":9657,"./Teams/TeamMemberManager":2105,"./Teams/TeamMemberManager.vue":2105,"./Teams/UpdateTeamNameForm":2627,"./Teams/UpdateTeamNameForm.vue":2627,"./TermsOfService":9741,"./TermsOfService.vue":9741,"./Welcome":2538,"./Welcome.vue":2538,"./cameras":4460,"./cameras.vue":4460,"./cucc":6744,"./cucc.vue":6744,"./device":6279,"./device.vue":6279,"./devices":787,"./devices.vue":787,"./lobby":3717,"./lobby.vue":3717,"./program":252,"./program.vue":252,"./programs":4276,"./programs.vue":4276,"./room":2948,"./room.vue":2948,"./rooms":8925,"./rooms.vue":8925,"./run":8422,"./run.vue":8422,"./team":8008,"./team.vue":8008,"./teams":3942,"./teams.vue":3942};function r(t){var e=i(t);return o(e)}function i(t){if(!o.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=i,t.exports=r,r.id=3218},4654:()=>{}},o={};function n(t){var r=o[t];if(void 0!==r)return r.exports;var i=o[t]={id:t,loaded:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,t=[],n.O=(e,o,r,i)=>{if(!o){var s=1/0;for(c=0;c<t.length;c++){for(var[o,r,i]=t[c],a=!0,l=0;l<o.length;l++)(!1&i||s>=i)&&Object.keys(n.O).every((t=>n.O[t](o[l])))?o.splice(l--,1):(a=!1,i<s&&(s=i));a&&(t.splice(c--,1),e=r())}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[o,r,i]},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t={773:0,170:0};n.O.j=e=>0===t[e];var e=(e,o)=>{var r,i,[s,a,l]=o,c=0;for(r in a)n.o(a,r)&&(n.m[r]=a[r]);for(l&&l(n),e&&e(o);c<s.length;c++)i=s[c],n.o(t,i)&&t[i]&&t[i][0](),t[s[c]]=0;n.O()},o=self.webpackChunk=self.webpackChunk||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))})(),n.O(void 0,[170],(()=>n(7745)));var r=n.O(void 0,[170],(()=>n(2584)));r=n.O(r)})();